<!DOCTYPE html>
<html>
<head>
  <title>支付宝接口调试</title>
</head>
<body>

  <div id="payment-form"></div> <!-- 添加一个用于放置表单的容器 -->

  <script>
    const options = {method: 'POST'};

    fetch('https://gp.qutaojiao.com/api/pay.php', options)
      .then(response => response.json())
      .then(response => {
        // 将响应的HTML内容插入到页面中
        console.log(response);
        document.getElementById('payment-form').innerHTML = response;
        // 表单将自动提交
      })
      .catch(err => console.error(err));
  </script>
</body>
</html>

<!-- <!DOCTYPE html>
<html>
<head>
  <title>支付宝接口调试</title>
</head>
<body>


  <div id="alipay"></div>
  <button id="payButton">支付</button> 

  <script src="https://cdn.bootcdn.net/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>


  <script>
    document.getElementById('payButton').addEventListener('click', function() {
      const options = {method: 'POST'};
      const paymentWindow = window.open('', '_blank'); // 打开一个新窗口

      fetch('https://gp.qutaojiao.com/api/pay.php', options)
        .then(response => response.text())
        .then(response => {
          paymentWindow.document.write(response); // 在新窗口中写入响应
          paymentWindow.document.close(); // 关闭文档流

          const qrcode = new QRCode("alipay", {
            width: 200,
            height: 200,
            text: response,
          });
          qrcode.render();
        })
        .catch(err => {
          console.error(err);
          paymentWindow.close(); // 出错时关闭窗口
        });
    });

    
  </script>
</body>
</html>

 -->
