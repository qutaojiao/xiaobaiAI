"use strict";var __esbuild_esm_mermaid=(()=>{var uke=Object.create;var X0=Object.defineProperty;var fke=Object.getOwnPropertyDescriptor;var hke=Object.getOwnPropertyNames;var dke=Object.getPrototypeOf,pke=Object.prototype.hasOwnProperty;var a=(e,t)=>X0(e,"name",{value:t,configurable:!0}),ad=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var F=(e,t)=>()=>(e&&(t=e(e=0)),t);var fc=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ii=(e,t)=>{for(var r in t)X0(e,r,{get:t[r],enumerable:!0})},O7=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of hke(t))!pke.call(e,i)&&i!==r&&X0(e,i,{get:()=>t[i],enumerable:!(n=fke(t,i))||n.enumerable});return e};var go=(e,t,r)=>(r=e!=null?uke(dke(e)):{},O7(t||!e||!e.__esModule?X0(r,"default",{value:e,enumerable:!0}):r,e)),mke=e=>O7(X0({},"__esModule",{value:!0}),e);function Lb(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Array.from(typeof e=="string"?[e]:e);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var i=n.reduce(function(u,f){var p=f.match(/\n([\t ]+|(?!\s).)/g);return p?u.concat(p.map(function(g){var y,x;return(x=(y=g.match(/[\t ]/g))===null||y===void 0?void 0:y.length)!==null&&x!==void 0?x:0})):u},[]);if(i.length){var o=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");n=n.map(function(u){return u.replace(o,`
`)})}n[0]=n[0].replace(/^\r?\n/,"");var s=n[0];return t.forEach(function(u,f){var p=s.match(/(?:^|\n)( *)$/),g=p?p[1]:"",y=u;typeof u=="string"&&u.includes(`
`)&&(y=String(u).split(`
`).map(function(x,b){return b===0?x:""+g+x}).join(`
`)),s+=y+n[f+1]}),s}var CS=F(()=>{"use strict";a(Lb,"dedent")});var Ib=fc((SS,AS)=>{"use strict";(function(e,t){typeof SS=="object"&&typeof AS<"u"?AS.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).dayjs=t()})(SS,function(){"use strict";var e=1e3,t=6e4,r=36e5,n="millisecond",i="second",o="minute",s="hour",u="day",f="week",p="month",g="quarter",y="year",x="date",b="Invalid Date",E=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,A=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,O={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(D){var K=["th","st","nd","rd"],P=D%100;return"["+D+(K[(P-20)%10]||K[P]||K[0])+"]"}},N=a(function(D,K,P){var re=String(D);return!re||re.length>=K?D:""+Array(K+1-re.length).join(P)+D},"m"),I={s:N,z:function(D){var K=-D.utcOffset(),P=Math.abs(K),re=Math.floor(P/60),ce=P%60;return(K<=0?"+":"-")+N(re,2,"0")+":"+N(ce,2,"0")},m:a(function D(K,P){if(K.date()<P.date())return-D(P,K);var re=12*(P.year()-K.year())+(P.month()-K.month()),ce=K.clone().add(re,p),ee=P-ce<0,H=K.clone().add(re+(ee?-1:1),p);return+(-(re+(P-ce)/(ee?ce-H:H-ce))||0)},"t"),a:function(D){return D<0?Math.ceil(D)||0:Math.floor(D)},p:function(D){return{M:p,y,w:f,d:u,D:x,h:s,m:o,s:i,ms:n,Q:g}[D]||String(D||"").toLowerCase().replace(/s$/,"")},u:function(D){return D===void 0}},$="en",X={};X[$]=O;var q=a(function(D){return D instanceof U},"p"),M=a(function D(K,P,re){var ce;if(!K)return $;if(typeof K=="string"){var ee=K.toLowerCase();X[ee]&&(ce=ee),P&&(X[ee]=P,ce=ee);var H=K.split("-");if(!ce&&H.length>1)return D(H[0])}else{var te=K.name;X[te]=K,ce=te}return!re&&ce&&($=ce),ce||!re&&$},"t"),B=a(function(D,K){if(q(D))return D.clone();var P=typeof K=="object"?K:{};return P.date=D,P.args=arguments,new U(P)},"w"),G=I;G.l=M,G.i=q,G.w=function(D,K){return B(D,{locale:K.$L,utc:K.$u,x:K.$x,$offset:K.$offset})};var U=function(){function D(P){this.$L=M(P.locale,null,!0),this.parse(P)}a(D,"M");var K=D.prototype;return K.parse=function(P){this.$d=function(re){var ce=re.date,ee=re.utc;if(ce===null)return new Date(NaN);if(G.u(ce))return new Date;if(ce instanceof Date)return new Date(ce);if(typeof ce=="string"&&!/Z$/i.test(ce)){var H=ce.match(E);if(H){var te=H[2]-1||0,J=(H[7]||"0").substring(0,3);return ee?new Date(Date.UTC(H[1],te,H[3]||1,H[4]||0,H[5]||0,H[6]||0,J)):new Date(H[1],te,H[3]||1,H[4]||0,H[5]||0,H[6]||0,J)}}return new Date(ce)}(P),this.$x=P.x||{},this.init()},K.init=function(){var P=this.$d;this.$y=P.getFullYear(),this.$M=P.getMonth(),this.$D=P.getDate(),this.$W=P.getDay(),this.$H=P.getHours(),this.$m=P.getMinutes(),this.$s=P.getSeconds(),this.$ms=P.getMilliseconds()},K.$utils=function(){return G},K.isValid=function(){return this.$d.toString()!==b},K.isSame=function(P,re){var ce=B(P);return this.startOf(re)<=ce&&ce<=this.endOf(re)},K.isAfter=function(P,re){return B(P)<this.startOf(re)},K.isBefore=function(P,re){return this.endOf(re)<B(P)},K.$g=function(P,re,ce){return G.u(P)?this[re]:this.set(ce,P)},K.unix=function(){return Math.floor(this.valueOf()/1e3)},K.valueOf=function(){return this.$d.getTime()},K.startOf=function(P,re){var ce=this,ee=!!G.u(re)||re,H=G.p(P),te=a(function(_e,Ve){var Ye=G.w(ce.$u?Date.UTC(ce.$y,Ve,_e):new Date(ce.$y,Ve,_e),ce);return ee?Ye:Ye.endOf(u)},"l"),J=a(function(_e,Ve){return G.w(ce.toDate()[_e].apply(ce.toDate("s"),(ee?[0,0,0,0]:[23,59,59,999]).slice(Ve)),ce)},"$"),Y=this.$W,de=this.$M,Fe=this.$D,oe="set"+(this.$u?"UTC":"");switch(H){case y:return ee?te(1,0):te(31,11);case p:return ee?te(1,de):te(0,de+1);case f:var rt=this.$locale().weekStart||0,We=(Y<rt?Y+7:Y)-rt;return te(ee?Fe-We:Fe+(6-We),de);case u:case x:return J(oe+"Hours",0);case s:return J(oe+"Minutes",1);case o:return J(oe+"Seconds",2);case i:return J(oe+"Milliseconds",3);default:return this.clone()}},K.endOf=function(P){return this.startOf(P,!1)},K.$set=function(P,re){var ce,ee=G.p(P),H="set"+(this.$u?"UTC":""),te=(ce={},ce[u]=H+"Date",ce[x]=H+"Date",ce[p]=H+"Month",ce[y]=H+"FullYear",ce[s]=H+"Hours",ce[o]=H+"Minutes",ce[i]=H+"Seconds",ce[n]=H+"Milliseconds",ce)[ee],J=ee===u?this.$D+(re-this.$W):re;if(ee===p||ee===y){var Y=this.clone().set(x,1);Y.$d[te](J),Y.init(),this.$d=Y.set(x,Math.min(this.$D,Y.daysInMonth())).$d}else te&&this.$d[te](J);return this.init(),this},K.set=function(P,re){return this.clone().$set(P,re)},K.get=function(P){return this[G.p(P)]()},K.add=function(P,re){var ce,ee=this;P=Number(P);var H=G.p(re),te=a(function(de){var Fe=B(ee);return G.w(Fe.date(Fe.date()+Math.round(de*P)),ee)},"y");if(H===p)return this.set(p,this.$M+P);if(H===y)return this.set(y,this.$y+P);if(H===u)return te(1);if(H===f)return te(7);var J=(ce={},ce[o]=t,ce[s]=r,ce[i]=e,ce)[H]||1,Y=this.$d.getTime()+P*J;return G.w(Y,this)},K.subtract=function(P,re){return this.add(-1*P,re)},K.format=function(P){var re=this,ce=this.$locale();if(!this.isValid())return ce.invalidDate||b;var ee=P||"YYYY-MM-DDTHH:mm:ssZ",H=G.z(this),te=this.$H,J=this.$m,Y=this.$M,de=ce.weekdays,Fe=ce.months,oe=a(function(Ve,Ye,Le,fe){return Ve&&(Ve[Ye]||Ve(re,ee))||Le[Ye].slice(0,fe)},"h"),rt=a(function(Ve){return G.s(te%12||12,Ve,"0")},"c"),We=ce.meridiem||function(Ve,Ye,Le){var fe=Ve<12?"AM":"PM";return Le?fe.toLowerCase():fe},_e={YY:String(this.$y).slice(-2),YYYY:this.$y,M:Y+1,MM:G.s(Y+1,2,"0"),MMM:oe(ce.monthsShort,Y,Fe,3),MMMM:oe(Fe,Y),D:this.$D,DD:G.s(this.$D,2,"0"),d:String(this.$W),dd:oe(ce.weekdaysMin,this.$W,de,2),ddd:oe(ce.weekdaysShort,this.$W,de,3),dddd:de[this.$W],H:String(te),HH:G.s(te,2,"0"),h:rt(1),hh:rt(2),a:We(te,J,!0),A:We(te,J,!1),m:String(J),mm:G.s(J,2,"0"),s:String(this.$s),ss:G.s(this.$s,2,"0"),SSS:G.s(this.$ms,3,"0"),Z:H};return ee.replace(A,function(Ve,Ye){return Ye||_e[Ve]||H.replace(":","")})},K.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},K.diff=function(P,re,ce){var ee,H=G.p(re),te=B(P),J=(te.utcOffset()-this.utcOffset())*t,Y=this-te,de=G.m(this,te);return de=(ee={},ee[y]=de/12,ee[p]=de,ee[g]=de/3,ee[f]=(Y-J)/6048e5,ee[u]=(Y-J)/864e5,ee[s]=Y/r,ee[o]=Y/t,ee[i]=Y/e,ee)[H]||Y,ce?de:G.a(de)},K.daysInMonth=function(){return this.endOf(p).$D},K.$locale=function(){return X[this.$L]},K.locale=function(P,re){if(!P)return this.$L;var ce=this.clone(),ee=M(P,re,!0);return ee&&(ce.$L=ee),ce},K.clone=function(){return G.w(this.$d,this)},K.toDate=function(){return new Date(this.valueOf())},K.toJSON=function(){return this.isValid()?this.toISOString():null},K.toISOString=function(){return this.$d.toISOString()},K.toString=function(){return this.$d.toUTCString()},D}(),W=U.prototype;return B.prototype=W,[["$ms",n],["$s",i],["$m",o],["$H",s],["$W",u],["$M",p],["$y",y],["$D",x]].forEach(function(D){W[D[1]]=function(K){return this.$g(K,D[0],D[1])}}),B.extend=function(D,K){return D.$i||(D(K,U,B),D.$i=!0),B},B.locale=M,B.isDayjs=q,B.unix=function(D){return B(1e3*D)},B.en=X[$],B.Ls=X,B.p={},B})});var M7,nu,ye,K0,Os,br=F(()=>{"use strict";M7=go(Ib(),1),nu={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},ye={trace:(...e)=>{},debug:(...e)=>{},info:(...e)=>{},warn:(...e)=>{},error:(...e)=>{},fatal:(...e)=>{}},K0=a(function(e="fatal"){let t=nu.fatal;typeof e=="string"?(e=e.toLowerCase(),e in nu&&(t=nu[e])):typeof e=="number"&&(t=e),ye.trace=()=>{},ye.debug=()=>{},ye.info=()=>{},ye.warn=()=>{},ye.error=()=>{},ye.fatal=()=>{},t<=nu.fatal&&(ye.fatal=console.error?console.error.bind(console,Os("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",Os("FATAL"))),t<=nu.error&&(ye.error=console.error?console.error.bind(console,Os("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",Os("ERROR"))),t<=nu.warn&&(ye.warn=console.warn?console.warn.bind(console,Os("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",Os("WARN"))),t<=nu.info&&(ye.info=console.info?console.info.bind(console,Os("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",Os("INFO"))),t<=nu.debug&&(ye.debug=console.debug?console.debug.bind(console,Os("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Os("DEBUG"))),t<=nu.trace&&(ye.trace=console.debug?console.debug.bind(console,Os("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Os("TRACE")))},"setLogLevel"),Os=a(e=>`%c${(0,M7.default)().format("ss.SSS")} : ${e} : `,"format")});var om=fc(Nb=>{"use strict";Object.defineProperty(Nb,"__esModule",{value:!0});Nb.sanitizeUrl=void 0;var gke=/^([^\w]*)(javascript|data|vbscript)/im,yke=/&#(\w+)(^\w|;)?/g,vke=/&(newline|tab);/gi,xke=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,bke=/^.+(:|&colon;)/gim,Tke=[".","/"];function kke(e){return Tke.indexOf(e[0])>-1}a(kke,"isRelativeUrlWithoutProtocol");function _ke(e){return e.replace(yke,function(t,r){return String.fromCharCode(r)})}a(_ke,"decodeHtmlCharacters");function wke(e){var t=_ke(e||"").replace(vke,"").replace(xke,"").trim();if(!t)return"about:blank";if(kke(t))return t;var r=t.match(bke);if(!r)return t;var n=r[0];return gke.test(n)?"about:blank":t}a(wke,"sanitizeUrl");Nb.sanitizeUrl=wke});function od(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}var RS=F(()=>{"use strict";a(od,"ascending")});function DS(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}var F7=F(()=>{"use strict";a(DS,"descending")});function sd(e){let t,r,n;e.length!==2?(t=od,r=a((u,f)=>od(e(u),f),"compare2"),n=a((u,f)=>e(u)-f,"delta")):(t=e===od||e===DS?e:Eke,r=e,n=e);function i(u,f,p=0,g=u.length){if(p<g){if(t(f,f)!==0)return g;do{let y=p+g>>>1;r(u[y],f)<0?p=y+1:g=y}while(p<g)}return p}a(i,"left");function o(u,f,p=0,g=u.length){if(p<g){if(t(f,f)!==0)return g;do{let y=p+g>>>1;r(u[y],f)<=0?p=y+1:g=y}while(p<g)}return p}a(o,"right");function s(u,f,p=0,g=u.length){let y=i(u,f,p,g-1);return y>p&&n(u[y-1],f)>-n(u[y],f)?y-1:y}return a(s,"center"),{left:i,center:s,right:o}}function Eke(){return 0}var LS=F(()=>{"use strict";RS();F7();a(sd,"bisector");a(Eke,"zero")});function IS(e){return e===null?NaN:+e}var B7=F(()=>{"use strict";a(IS,"number")});var q7,z7,Cke,Ske,NS,U7=F(()=>{"use strict";RS();LS();B7();q7=sd(od),z7=q7.right,Cke=q7.left,Ske=sd(IS).center,NS=z7});function $7({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):r}function Ake({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Rke({_intern:e,_key:t},r){let n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Dke(e){return e!==null&&typeof e=="object"?e.valueOf():e}var sm,G7=F(()=>{"use strict";sm=class extends Map{static{a(this,"InternMap")}constructor(t,r=Dke){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(let[n,i]of t)this.set(n,i)}get(t){return super.get($7(this,t))}has(t){return super.has($7(this,t))}set(t,r){return super.set(Ake(this,t),r)}delete(t){return super.delete(Rke(this,t))}};a($7,"intern_get");a(Ake,"intern_set");a(Rke,"intern_delete");a(Dke,"keyof")});function Pb(e,t,r){let n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),s=o>=Lke?10:o>=Ike?5:o>=Nke?2:1,u,f,p;return i<0?(p=Math.pow(10,-i)/s,u=Math.round(e*p),f=Math.round(t*p),u/p<e&&++u,f/p>t&&--f,p=-p):(p=Math.pow(10,i)*s,u=Math.round(e/p),f=Math.round(t/p),u*p<e&&++u,f*p>t&&--f),f<u&&.5<=r&&r<2?Pb(e,t,r*2):[u,f,p]}function Ob(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];let n=t<e,[i,o,s]=n?Pb(t,e,r):Pb(e,t,r);if(!(o>=i))return[];let u=o-i+1,f=new Array(u);if(n)if(s<0)for(let p=0;p<u;++p)f[p]=(o-p)/-s;else for(let p=0;p<u;++p)f[p]=(o-p)*s;else if(s<0)for(let p=0;p<u;++p)f[p]=(i+p)/-s;else for(let p=0;p<u;++p)f[p]=(i+p)*s;return f}function Q0(e,t,r){return t=+t,e=+e,r=+r,Pb(e,t,r)[2]}function lm(e,t,r){t=+t,e=+e,r=+r;let n=t<e,i=n?Q0(t,e,r):Q0(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}var Lke,Ike,Nke,V7=F(()=>{"use strict";Lke=Math.sqrt(50),Ike=Math.sqrt(10),Nke=Math.sqrt(2);a(Pb,"tickSpec");a(Ob,"ticks");a(Q0,"tickIncrement");a(lm,"tickStep")});function Mb(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}var W7=F(()=>{"use strict";a(Mb,"max")});function Fb(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}var H7=F(()=>{"use strict";a(Fb,"min")});function Bb(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(i);++n<i;)o[n]=e+n*r;return o}var j7=F(()=>{"use strict";a(Bb,"range")});var iu=F(()=>{"use strict";U7();LS();W7();H7();j7();V7();G7()});function PS(e){return e}var Y7=F(()=>{"use strict";a(PS,"default")});function Pke(e){return"translate("+e+",0)"}function Oke(e){return"translate(0,"+e+")"}function Mke(e){return t=>+e(t)}function Fke(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),r=>+e(r)+t}function Bke(){return!this.__axis}function K7(e,t){var r=[],n=null,i=null,o=6,s=6,u=3,f=typeof window<"u"&&window.devicePixelRatio>1?0:.5,p=e===zb||e===qb?-1:1,g=e===qb||e===OS?"x":"y",y=e===zb||e===MS?Pke:Oke;function x(b){var E=n??(t.ticks?t.ticks.apply(t,r):t.domain()),A=i??(t.tickFormat?t.tickFormat.apply(t,r):PS),O=Math.max(o,0)+u,N=t.range(),I=+N[0]+f,$=+N[N.length-1]+f,X=(t.bandwidth?Fke:Mke)(t.copy(),f),q=b.selection?b.selection():b,M=q.selectAll(".domain").data([null]),B=q.selectAll(".tick").data(E,t).order(),G=B.exit(),U=B.enter().append("g").attr("class","tick"),W=B.select("line"),D=B.select("text");M=M.merge(M.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),B=B.merge(U),W=W.merge(U.append("line").attr("stroke","currentColor").attr(g+"2",p*o)),D=D.merge(U.append("text").attr("fill","currentColor").attr(g,p*O).attr("dy",e===zb?"0em":e===MS?"0.71em":"0.32em")),b!==q&&(M=M.transition(b),B=B.transition(b),W=W.transition(b),D=D.transition(b),G=G.transition(b).attr("opacity",X7).attr("transform",function(K){return isFinite(K=X(K))?y(K+f):this.getAttribute("transform")}),U.attr("opacity",X7).attr("transform",function(K){var P=this.parentNode.__axis;return y((P&&isFinite(P=P(K))?P:X(K))+f)})),G.remove(),M.attr("d",e===qb||e===OS?s?"M"+p*s+","+I+"H"+f+"V"+$+"H"+p*s:"M"+f+","+I+"V"+$:s?"M"+I+","+p*s+"V"+f+"H"+$+"V"+p*s:"M"+I+","+f+"H"+$),B.attr("opacity",1).attr("transform",function(K){return y(X(K)+f)}),W.attr(g+"2",p*o),D.attr(g,p*O).text(A),q.filter(Bke).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===OS?"start":e===qb?"end":"middle"),q.each(function(){this.__axis=X})}return a(x,"axis"),x.scale=function(b){return arguments.length?(t=b,x):t},x.ticks=function(){return r=Array.from(arguments),x},x.tickArguments=function(b){return arguments.length?(r=b==null?[]:Array.from(b),x):r.slice()},x.tickValues=function(b){return arguments.length?(n=b==null?null:Array.from(b),x):n&&n.slice()},x.tickFormat=function(b){return arguments.length?(i=b,x):i},x.tickSize=function(b){return arguments.length?(o=s=+b,x):o},x.tickSizeInner=function(b){return arguments.length?(o=+b,x):o},x.tickSizeOuter=function(b){return arguments.length?(s=+b,x):s},x.tickPadding=function(b){return arguments.length?(u=+b,x):u},x.offset=function(b){return arguments.length?(f=+b,x):f},x}function FS(e){return K7(zb,e)}function BS(e){return K7(MS,e)}var zb,OS,MS,qb,X7,Q7=F(()=>{"use strict";Y7();zb=1,OS=2,MS=3,qb=4,X7=1e-6;a(Pke,"translateX");a(Oke,"translateY");a(Mke,"number");a(Fke,"center");a(Bke,"entering");a(K7,"axis");a(FS,"axisTop");a(BS,"axisBottom")});var qS=F(()=>{"use strict";Q7()});function J7(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Ub(r)}function Ub(e){this._=e}function zke(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}function Uke(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function Z7(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=qke,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var qke,zS,eF=F(()=>{"use strict";qke={value:()=>{}};a(J7,"dispatch");a(Ub,"Dispatch");a(zke,"parseTypenames");Ub.prototype=J7.prototype={constructor:Ub,on:function(e,t){var r=this._,n=zke(e+"",r),i,o=-1,s=n.length;if(arguments.length<2){for(;++o<s;)if((i=(e=n[o]).type)&&(i=Uke(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=n[o]).type)r[i]=Z7(r[i],e.name,t);else if(t==null)for(i in r)r[i]=Z7(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Ub(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,o;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],n=0,i=o.length;n<i;++n)o[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,o=n.length;i<o;++i)n[i].value.apply(t,r)}};a(Uke,"get");a(Z7,"set");zS=J7});var $b=F(()=>{"use strict";eF()});var Gb,US,$S=F(()=>{"use strict";Gb="http://www.w3.org/1999/xhtml",US={svg:"http://www.w3.org/2000/svg",xhtml:Gb,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}});function hc(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),US.hasOwnProperty(t)?{space:US[t],local:e}:e}var Vb=F(()=>{"use strict";$S();a(hc,"default")});function $ke(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Gb&&t.documentElement.namespaceURI===Gb?t.createElement(e):t.createElementNS(r,e)}}function Gke(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Z0(e){var t=hc(e);return(t.local?Gke:$ke)(t)}var GS=F(()=>{"use strict";Vb();$S();a($ke,"creatorInherit");a(Gke,"creatorFixed");a(Z0,"default")});function Vke(){}function mf(e){return e==null?Vke:function(){return this.querySelector(e)}}var Wb=F(()=>{"use strict";a(Vke,"none");a(mf,"default")});function VS(e){typeof e!="function"&&(e=mf(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],s=o.length,u=n[i]=new Array(s),f,p,g=0;g<s;++g)(f=o[g])&&(p=e.call(f,f.__data__,g,o))&&("__data__"in f&&(p.__data__=f.__data__),u[g]=p);return new ai(n,this._parents)}var tF=F(()=>{"use strict";Ms();Wb();a(VS,"default")});function J0(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}var WS=F(()=>{"use strict";a(J0,"array")});function Wke(){return[]}function cm(e){return e==null?Wke:function(){return this.querySelectorAll(e)}}var HS=F(()=>{"use strict";a(Wke,"empty");a(cm,"default")});function Hke(e){return function(){return J0(e.apply(this,arguments))}}function jS(e){typeof e=="function"?e=Hke(e):e=cm(e);for(var t=this._groups,r=t.length,n=[],i=[],o=0;o<r;++o)for(var s=t[o],u=s.length,f,p=0;p<u;++p)(f=s[p])&&(n.push(e.call(f,f.__data__,p,s)),i.push(f));return new ai(n,i)}var rF=F(()=>{"use strict";Ms();WS();HS();a(Hke,"arrayAll");a(jS,"default")});function um(e){return function(){return this.matches(e)}}function Hb(e){return function(t){return t.matches(e)}}var ey=F(()=>{"use strict";a(um,"default");a(Hb,"childMatcher")});function Yke(e){return function(){return jke.call(this.children,e)}}function Xke(){return this.firstElementChild}function YS(e){return this.select(e==null?Xke:Yke(typeof e=="function"?e:Hb(e)))}var jke,nF=F(()=>{"use strict";ey();jke=Array.prototype.find;a(Yke,"childFind");a(Xke,"childFirst");a(YS,"default")});function Qke(){return Array.from(this.children)}function Zke(e){return function(){return Kke.call(this.children,e)}}function XS(e){return this.selectAll(e==null?Qke:Zke(typeof e=="function"?e:Hb(e)))}var Kke,iF=F(()=>{"use strict";ey();Kke=Array.prototype.filter;a(Qke,"children");a(Zke,"childrenFilter");a(XS,"default")});function KS(e){typeof e!="function"&&(e=um(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],s=o.length,u=n[i]=[],f,p=0;p<s;++p)(f=o[p])&&e.call(f,f.__data__,p,o)&&u.push(f);return new ai(n,this._parents)}var aF=F(()=>{"use strict";Ms();ey();a(KS,"default")});function ty(e){return new Array(e.length)}var QS=F(()=>{"use strict";a(ty,"default")});function ZS(){return new ai(this._enter||this._groups.map(ty),this._parents)}function ry(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}var JS=F(()=>{"use strict";QS();Ms();a(ZS,"default");a(ry,"EnterNode");ry.prototype={constructor:ry,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}}});function eA(e){return function(){return e}}var oF=F(()=>{"use strict";a(eA,"default")});function Jke(e,t,r,n,i,o){for(var s=0,u,f=t.length,p=o.length;s<p;++s)(u=t[s])?(u.__data__=o[s],n[s]=u):r[s]=new ry(e,o[s]);for(;s<f;++s)(u=t[s])&&(i[s]=u)}function e_e(e,t,r,n,i,o,s){var u,f,p=new Map,g=t.length,y=o.length,x=new Array(g),b;for(u=0;u<g;++u)(f=t[u])&&(x[u]=b=s.call(f,f.__data__,u,t)+"",p.has(b)?i[u]=f:p.set(b,f));for(u=0;u<y;++u)b=s.call(e,o[u],u,o)+"",(f=p.get(b))?(n[u]=f,f.__data__=o[u],p.delete(b)):r[u]=new ry(e,o[u]);for(u=0;u<g;++u)(f=t[u])&&p.get(x[u])===f&&(i[u]=f)}function t_e(e){return e.__data__}function tA(e,t){if(!arguments.length)return Array.from(this,t_e);var r=t?e_e:Jke,n=this._parents,i=this._groups;typeof e!="function"&&(e=eA(e));for(var o=i.length,s=new Array(o),u=new Array(o),f=new Array(o),p=0;p<o;++p){var g=n[p],y=i[p],x=y.length,b=r_e(e.call(g,g&&g.__data__,p,n)),E=b.length,A=u[p]=new Array(E),O=s[p]=new Array(E),N=f[p]=new Array(x);r(g,y,A,O,N,b,t);for(var I=0,$=0,X,q;I<E;++I)if(X=A[I]){for(I>=$&&($=I+1);!(q=O[$])&&++$<E;);X._next=q||null}}return s=new ai(s,n),s._enter=u,s._exit=f,s}function r_e(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}var sF=F(()=>{"use strict";Ms();JS();oF();a(Jke,"bindIndex");a(e_e,"bindKey");a(t_e,"datum");a(tA,"default");a(r_e,"arraylike")});function rA(){return new ai(this._exit||this._groups.map(ty),this._parents)}var lF=F(()=>{"use strict";QS();Ms();a(rA,"default")});function nA(e,t,r){var n=this.enter(),i=this,o=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?o.remove():r(o),n&&i?n.merge(i).order():i}var cF=F(()=>{"use strict";a(nA,"default")});function iA(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,o=n.length,s=Math.min(i,o),u=new Array(i),f=0;f<s;++f)for(var p=r[f],g=n[f],y=p.length,x=u[f]=new Array(y),b,E=0;E<y;++E)(b=p[E]||g[E])&&(x[E]=b);for(;f<i;++f)u[f]=r[f];return new ai(u,this._parents)}var uF=F(()=>{"use strict";Ms();a(iA,"default")});function aA(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,o=n[i],s;--i>=0;)(s=n[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}var fF=F(()=>{"use strict";a(aA,"default")});function oA(e){e||(e=n_e);function t(y,x){return y&&x?e(y.__data__,x.__data__):!y-!x}a(t,"compareNode");for(var r=this._groups,n=r.length,i=new Array(n),o=0;o<n;++o){for(var s=r[o],u=s.length,f=i[o]=new Array(u),p,g=0;g<u;++g)(p=s[g])&&(f[g]=p);f.sort(t)}return new ai(i,this._parents).order()}function n_e(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var hF=F(()=>{"use strict";Ms();a(oA,"default");a(n_e,"ascending")});function sA(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}var dF=F(()=>{"use strict";a(sA,"default")});function lA(){return Array.from(this)}var pF=F(()=>{"use strict";a(lA,"default")});function cA(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,o=n.length;i<o;++i){var s=n[i];if(s)return s}return null}var mF=F(()=>{"use strict";a(cA,"default")});function uA(){let e=0;for(let t of this)++e;return e}var gF=F(()=>{"use strict";a(uA,"default")});function fA(){return!this.node()}var yF=F(()=>{"use strict";a(fA,"default")});function hA(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],o=0,s=i.length,u;o<s;++o)(u=i[o])&&e.call(u,u.__data__,o,i);return this}var vF=F(()=>{"use strict";a(hA,"default")});function i_e(e){return function(){this.removeAttribute(e)}}function a_e(e){return function(){this.removeAttributeNS(e.space,e.local)}}function o_e(e,t){return function(){this.setAttribute(e,t)}}function s_e(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function l_e(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function c_e(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function dA(e,t){var r=hc(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?a_e:i_e:typeof t=="function"?r.local?c_e:l_e:r.local?s_e:o_e)(r,t))}var xF=F(()=>{"use strict";Vb();a(i_e,"attrRemove");a(a_e,"attrRemoveNS");a(o_e,"attrConstant");a(s_e,"attrConstantNS");a(l_e,"attrFunction");a(c_e,"attrFunctionNS");a(dA,"default")});function ny(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}var pA=F(()=>{"use strict";a(ny,"default")});function u_e(e){return function(){this.style.removeProperty(e)}}function f_e(e,t,r){return function(){this.style.setProperty(e,t,r)}}function h_e(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function mA(e,t,r){return arguments.length>1?this.each((t==null?u_e:typeof t=="function"?h_e:f_e)(e,t,r??"")):gf(this.node(),e)}function gf(e,t){return e.style.getPropertyValue(t)||ny(e).getComputedStyle(e,null).getPropertyValue(t)}var gA=F(()=>{"use strict";pA();a(u_e,"styleRemove");a(f_e,"styleConstant");a(h_e,"styleFunction");a(mA,"default");a(gf,"styleValue")});function d_e(e){return function(){delete this[e]}}function p_e(e,t){return function(){this[e]=t}}function m_e(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function yA(e,t){return arguments.length>1?this.each((t==null?d_e:typeof t=="function"?m_e:p_e)(e,t)):this.node()[e]}var bF=F(()=>{"use strict";a(d_e,"propertyRemove");a(p_e,"propertyConstant");a(m_e,"propertyFunction");a(yA,"default")});function TF(e){return e.trim().split(/^|\s+/)}function vA(e){return e.classList||new kF(e)}function kF(e){this._node=e,this._names=TF(e.getAttribute("class")||"")}function _F(e,t){for(var r=vA(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function wF(e,t){for(var r=vA(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function g_e(e){return function(){_F(this,e)}}function y_e(e){return function(){wF(this,e)}}function v_e(e,t){return function(){(t.apply(this,arguments)?_F:wF)(this,e)}}function xA(e,t){var r=TF(e+"");if(arguments.length<2){for(var n=vA(this.node()),i=-1,o=r.length;++i<o;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?v_e:t?g_e:y_e)(r,t))}var EF=F(()=>{"use strict";a(TF,"classArray");a(vA,"classList");a(kF,"ClassList");kF.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};a(_F,"classedAdd");a(wF,"classedRemove");a(g_e,"classedTrue");a(y_e,"classedFalse");a(v_e,"classedFunction");a(xA,"default")});function x_e(){this.textContent=""}function b_e(e){return function(){this.textContent=e}}function T_e(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function bA(e){return arguments.length?this.each(e==null?x_e:(typeof e=="function"?T_e:b_e)(e)):this.node().textContent}var CF=F(()=>{"use strict";a(x_e,"textRemove");a(b_e,"textConstant");a(T_e,"textFunction");a(bA,"default")});function k_e(){this.innerHTML=""}function __e(e){return function(){this.innerHTML=e}}function w_e(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function TA(e){return arguments.length?this.each(e==null?k_e:(typeof e=="function"?w_e:__e)(e)):this.node().innerHTML}var SF=F(()=>{"use strict";a(k_e,"htmlRemove");a(__e,"htmlConstant");a(w_e,"htmlFunction");a(TA,"default")});function E_e(){this.nextSibling&&this.parentNode.appendChild(this)}function kA(){return this.each(E_e)}var AF=F(()=>{"use strict";a(E_e,"raise");a(kA,"default")});function C_e(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _A(){return this.each(C_e)}var RF=F(()=>{"use strict";a(C_e,"lower");a(_A,"default")});function wA(e){var t=typeof e=="function"?e:Z0(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}var DF=F(()=>{"use strict";GS();a(wA,"default")});function S_e(){return null}function EA(e,t){var r=typeof e=="function"?e:Z0(e),n=t==null?S_e:typeof t=="function"?t:mf(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}var LF=F(()=>{"use strict";GS();Wb();a(S_e,"constantNull");a(EA,"default")});function A_e(){var e=this.parentNode;e&&e.removeChild(this)}function CA(){return this.each(A_e)}var IF=F(()=>{"use strict";a(A_e,"remove");a(CA,"default")});function R_e(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function D_e(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function SA(e){return this.select(e?D_e:R_e)}var NF=F(()=>{"use strict";a(R_e,"selection_cloneShallow");a(D_e,"selection_cloneDeep");a(SA,"default")});function AA(e){return arguments.length?this.property("__data__",e):this.node().__data__}var PF=F(()=>{"use strict";a(AA,"default")});function L_e(e){return function(t){e.call(this,t,this.__data__)}}function I_e(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function N_e(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,o;r<i;++r)o=t[r],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++n]=o;++n?t.length=n:delete this.__on}}}function P_e(e,t,r){return function(){var n=this.__on,i,o=L_e(t);if(n){for(var s=0,u=n.length;s<u;++s)if((i=n[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=r),i.value=t;return}}this.addEventListener(e.type,o,r),i={type:e.type,name:e.name,value:t,listener:o,options:r},n?n.push(i):this.__on=[i]}}function RA(e,t,r){var n=I_e(e+""),i,o=n.length,s;if(arguments.length<2){var u=this.node().__on;if(u){for(var f=0,p=u.length,g;f<p;++f)for(i=0,g=u[f];i<o;++i)if((s=n[i]).type===g.type&&s.name===g.name)return g.value}return}for(u=t?P_e:N_e,i=0;i<o;++i)this.each(u(n[i],t,r));return this}var OF=F(()=>{"use strict";a(L_e,"contextListener");a(I_e,"parseTypenames");a(N_e,"onRemove");a(P_e,"onAdd");a(RA,"default")});function MF(e,t,r){var n=ny(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function O_e(e,t){return function(){return MF(this,e,t)}}function M_e(e,t){return function(){return MF(this,e,t.apply(this,arguments))}}function DA(e,t){return this.each((typeof t=="function"?M_e:O_e)(e,t))}var FF=F(()=>{"use strict";pA();a(MF,"dispatchEvent");a(O_e,"dispatchConstant");a(M_e,"dispatchFunction");a(DA,"default")});function*LA(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,o=n.length,s;i<o;++i)(s=n[i])&&(yield s)}var BF=F(()=>{"use strict";a(LA,"default")});function ai(e,t){this._groups=e,this._parents=t}function qF(){return new ai([[document.documentElement]],iy)}function F_e(){return this}var iy,au,Ms=F(()=>{"use strict";tF();rF();nF();iF();aF();sF();JS();lF();cF();uF();fF();hF();dF();pF();mF();gF();yF();vF();xF();gA();bF();EF();CF();SF();AF();RF();DF();LF();IF();NF();PF();OF();FF();BF();iy=[null];a(ai,"Selection");a(qF,"selection");a(F_e,"selection_selection");ai.prototype=qF.prototype={constructor:ai,select:VS,selectAll:jS,selectChild:YS,selectChildren:XS,filter:KS,data:tA,enter:ZS,exit:rA,join:nA,merge:iA,selection:F_e,order:aA,sort:oA,call:sA,nodes:lA,node:cA,size:uA,empty:fA,each:hA,attr:dA,style:mA,property:yA,classed:xA,text:bA,html:TA,raise:kA,lower:_A,append:wA,insert:EA,remove:CA,clone:SA,datum:AA,on:RA,dispatch:DA,[Symbol.iterator]:LA};au=qF});function dt(e){return typeof e=="string"?new ai([[document.querySelector(e)]],[document.documentElement]):new ai([[e]],iy)}var zF=F(()=>{"use strict";Ms();a(dt,"default")});function fm(e){return typeof e=="string"?new ai([document.querySelectorAll(e)],[document.documentElement]):new ai([J0(e)],iy)}var UF=F(()=>{"use strict";WS();Ms();a(fm,"default")});var Fs=F(()=>{"use strict";ey();Vb();zF();UF();Ms();Wb();HS();gA()});var IA=F(()=>{"use strict"});function yf(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function hm(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}var NA=F(()=>{"use strict";a(yf,"default");a(hm,"extend")});function vf(){}function GF(){return this.rgb().formatHex()}function W_e(){return this.rgb().formatHex8()}function H_e(){return KF(this).formatHsl()}function VF(){return this.rgb().formatRgb()}function bl(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=B_e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?WF(t):r===3?new Fa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?jb(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?jb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=q_e.exec(e))?new Fa(t[1],t[2],t[3],1):(t=z_e.exec(e))?new Fa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=U_e.exec(e))?jb(t[1],t[2],t[3],t[4]):(t=$_e.exec(e))?jb(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=G_e.exec(e))?YF(t[1],t[2]/100,t[3]/100,1):(t=V_e.exec(e))?YF(t[1],t[2]/100,t[3]/100,t[4]):$F.hasOwnProperty(e)?WF($F[e]):e==="transparent"?new Fa(NaN,NaN,NaN,0):null}function WF(e){return new Fa(e>>16&255,e>>8&255,e&255,1)}function jb(e,t,r,n){return n<=0&&(e=t=r=NaN),new Fa(e,t,r,n)}function OA(e){return e instanceof vf||(e=bl(e)),e?(e=e.rgb(),new Fa(e.r,e.g,e.b,e.opacity)):new Fa}function pm(e,t,r,n){return arguments.length===1?OA(e):new Fa(e,t,r,n??1)}function Fa(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function HF(){return`#${ld(this.r)}${ld(this.g)}${ld(this.b)}`}function j_e(){return`#${ld(this.r)}${ld(this.g)}${ld(this.b)}${ld((isNaN(this.opacity)?1:this.opacity)*255)}`}function jF(){let e=Kb(this.opacity);return`${e===1?"rgb(":"rgba("}${cd(this.r)}, ${cd(this.g)}, ${cd(this.b)}${e===1?")":`, ${e})`}`}function Kb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function cd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ld(e){return e=cd(e),(e<16?"0":"")+e.toString(16)}function YF(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new xl(e,t,r,n)}function KF(e){if(e instanceof xl)return new xl(e.h,e.s,e.l,e.opacity);if(e instanceof vf||(e=bl(e)),!e)return new xl;if(e instanceof xl)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),o=Math.max(t,r,n),s=NaN,u=o-i,f=(o+i)/2;return u?(t===o?s=(r-n)/u+(r<n)*6:r===o?s=(n-t)/u+2:s=(t-r)/u+4,u/=f<.5?o+i:2-o-i,s*=60):u=f>0&&f<1?0:s,new xl(s,u,f,e.opacity)}function QF(e,t,r,n){return arguments.length===1?KF(e):new xl(e,t,r,n??1)}function xl(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function XF(e){return e=(e||0)%360,e<0?e+360:e}function Yb(e){return Math.max(0,Math.min(1,e||0))}function PA(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}var ay,Xb,dm,oy,dc,B_e,q_e,z_e,U_e,$_e,G_e,V_e,$F,MA=F(()=>{"use strict";NA();a(vf,"Color");ay=.7,Xb=1/ay,dm="\\s*([+-]?\\d+)\\s*",oy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",dc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",B_e=/^#([0-9a-f]{3,8})$/,q_e=new RegExp(`^rgb\\(${dm},${dm},${dm}\\)$`),z_e=new RegExp(`^rgb\\(${dc},${dc},${dc}\\)$`),U_e=new RegExp(`^rgba\\(${dm},${dm},${dm},${oy}\\)$`),$_e=new RegExp(`^rgba\\(${dc},${dc},${dc},${oy}\\)$`),G_e=new RegExp(`^hsl\\(${oy},${dc},${dc}\\)$`),V_e=new RegExp(`^hsla\\(${oy},${dc},${dc},${oy}\\)$`),$F={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yf(vf,bl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:GF,formatHex:GF,formatHex8:W_e,formatHsl:H_e,formatRgb:VF,toString:VF});a(GF,"color_formatHex");a(W_e,"color_formatHex8");a(H_e,"color_formatHsl");a(VF,"color_formatRgb");a(bl,"color");a(WF,"rgbn");a(jb,"rgba");a(OA,"rgbConvert");a(pm,"rgb");a(Fa,"Rgb");yf(Fa,pm,hm(vf,{brighter(e){return e=e==null?Xb:Math.pow(Xb,e),new Fa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ay:Math.pow(ay,e),new Fa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Fa(cd(this.r),cd(this.g),cd(this.b),Kb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:HF,formatHex:HF,formatHex8:j_e,formatRgb:jF,toString:jF}));a(HF,"rgb_formatHex");a(j_e,"rgb_formatHex8");a(jF,"rgb_formatRgb");a(Kb,"clampa");a(cd,"clampi");a(ld,"hex");a(YF,"hsla");a(KF,"hslConvert");a(QF,"hsl");a(xl,"Hsl");yf(xl,QF,hm(vf,{brighter(e){return e=e==null?Xb:Math.pow(Xb,e),new xl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ay:Math.pow(ay,e),new xl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Fa(PA(e>=240?e-240:e+120,i,n),PA(e,i,n),PA(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new xl(XF(this.h),Yb(this.s),Yb(this.l),Kb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=Kb(this.opacity);return`${e===1?"hsl(":"hsla("}${XF(this.h)}, ${Yb(this.s)*100}%, ${Yb(this.l)*100}%${e===1?")":`, ${e})`}`}}));a(XF,"clamph");a(Yb,"clampt");a(PA,"hsl2rgb")});var ZF,JF,eB=F(()=>{"use strict";ZF=Math.PI/180,JF=180/Math.PI});function oB(e){if(e instanceof pc)return new pc(e.l,e.a,e.b,e.opacity);if(e instanceof ou)return sB(e);e instanceof Fa||(e=OA(e));var t=zA(e.r),r=zA(e.g),n=zA(e.b),i=FA((.2225045*t+.7168786*r+.0606169*n)/rB),o,s;return t===r&&r===n?o=s=i:(o=FA((.4360747*t+.3850649*r+.1430804*n)/tB),s=FA((.0139322*t+.0971045*r+.7141733*n)/nB)),new pc(116*i-16,500*(o-i),200*(i-s),e.opacity)}function UA(e,t,r,n){return arguments.length===1?oB(e):new pc(e,t,r,n??1)}function pc(e,t,r,n){this.l=+e,this.a=+t,this.b=+r,this.opacity=+n}function FA(e){return e>Y_e?Math.pow(e,1/3):e/aB+iB}function BA(e){return e>mm?e*e*e:aB*(e-iB)}function qA(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function zA(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function X_e(e){if(e instanceof ou)return new ou(e.h,e.c,e.l,e.opacity);if(e instanceof pc||(e=oB(e)),e.a===0&&e.b===0)return new ou(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*JF;return new ou(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function sy(e,t,r,n){return arguments.length===1?X_e(e):new ou(e,t,r,n??1)}function ou(e,t,r,n){this.h=+e,this.c=+t,this.l=+r,this.opacity=+n}function sB(e){if(isNaN(e.h))return new pc(e.l,0,0,e.opacity);var t=e.h*ZF;return new pc(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}var Qb,tB,rB,nB,iB,mm,aB,Y_e,lB=F(()=>{"use strict";NA();MA();eB();Qb=18,tB=.96422,rB=1,nB=.82521,iB=4/29,mm=6/29,aB=3*mm*mm,Y_e=mm*mm*mm;a(oB,"labConvert");a(UA,"lab");a(pc,"Lab");yf(pc,UA,hm(vf,{brighter(e){return new pc(this.l+Qb*(e??1),this.a,this.b,this.opacity)},darker(e){return new pc(this.l-Qb*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return t=tB*BA(t),e=rB*BA(e),r=nB*BA(r),new Fa(qA(3.1338561*t-1.6168667*e-.4906146*r),qA(-.9787684*t+1.9161415*e+.033454*r),qA(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}}));a(FA,"xyz2lab");a(BA,"lab2xyz");a(qA,"lrgb2rgb");a(zA,"rgb2lrgb");a(X_e,"hclConvert");a(sy,"hcl");a(ou,"Hcl");a(sB,"hcl2lab");yf(ou,sy,hm(vf,{brighter(e){return new ou(this.h,this.c,this.l+Qb*(e??1),this.opacity)},darker(e){return new ou(this.h,this.c,this.l-Qb*(e??1),this.opacity)},rgb(){return sB(this).rgb()}}))});var ud=F(()=>{"use strict";MA();lB()});function $A(e,t,r,n,i){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*r+(1+3*e+3*o-3*s)*n+s*i)/6}function GA(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],o=e[n+1],s=n>0?e[n-1]:2*i-o,u=n<t-1?e[n+2]:2*o-i;return $A((r-n/t)*t,s,i,o,u)}}var VA=F(()=>{"use strict";a($A,"basis");a(GA,"default")});function WA(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),i=e[(n+t-1)%t],o=e[n%t],s=e[(n+1)%t],u=e[(n+2)%t];return $A((r-n/t)*t,i,o,s,u)}}var cB=F(()=>{"use strict";VA();a(WA,"default")});var gm,HA=F(()=>{"use strict";gm=a(e=>()=>e,"default")});function uB(e,t){return function(r){return e+r*t}}function K_e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function fB(e,t){var r=t-e;return r?uB(e,r>180||r<-180?r-360*Math.round(r/360):r):gm(isNaN(e)?t:e)}function hB(e){return(e=+e)==1?su:function(t,r){return r-t?K_e(t,r,e):gm(isNaN(t)?r:t)}}function su(e,t){var r=t-e;return r?uB(e,r):gm(isNaN(e)?t:e)}var jA=F(()=>{"use strict";HA();a(uB,"linear");a(K_e,"exponential");a(fB,"hue");a(hB,"gamma");a(su,"nogamma")});function dB(e){return function(t){var r=t.length,n=new Array(r),i=new Array(r),o=new Array(r),s,u;for(s=0;s<r;++s)u=pm(t[s]),n[s]=u.r||0,i[s]=u.g||0,o[s]=u.b||0;return n=e(n),i=e(i),o=e(o),u.opacity=1,function(f){return u.r=n(f),u.g=i(f),u.b=o(f),u+""}}}var fd,Q_e,Z_e,YA=F(()=>{"use strict";ud();VA();cB();jA();fd=a(function e(t){var r=hB(t);function n(i,o){var s=r((i=pm(i)).r,(o=pm(o)).r),u=r(i.g,o.g),f=r(i.b,o.b),p=su(i.opacity,o.opacity);return function(g){return i.r=s(g),i.g=u(g),i.b=f(g),i.opacity=p(g),i+""}}return a(n,"rgb"),n.gamma=e,n},"rgbGamma")(1);a(dB,"rgbSpline");Q_e=dB(GA),Z_e=dB(WA)});function XA(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=e[i]*(1-o)+t[i]*o;return n}}function pB(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}var mB=F(()=>{"use strict";a(XA,"default");a(pB,"isNumberArray")});function gB(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),o=new Array(r),s;for(s=0;s<n;++s)i[s]=xf(e[s],t[s]);for(;s<r;++s)o[s]=t[s];return function(u){for(s=0;s<n;++s)o[s]=i[s](u);return o}}var yB=F(()=>{"use strict";Zb();a(gB,"genericArray")});function KA(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}var vB=F(()=>{"use strict";a(KA,"default")});function ya(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var ly=F(()=>{"use strict";a(ya,"default")});function QA(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=xf(e[i],t[i]):n[i]=t[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var xB=F(()=>{"use strict";Zb();a(QA,"default")});function J_e(e){return function(){return e}}function ewe(e){return function(t){return e(t)+""}}function ym(e,t){var r=JA.lastIndex=ZA.lastIndex=0,n,i,o,s=-1,u=[],f=[];for(e=e+"",t=t+"";(n=JA.exec(e))&&(i=ZA.exec(t));)(o=i.index)>r&&(o=t.slice(r,o),u[s]?u[s]+=o:u[++s]=o),(n=n[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,f.push({i:s,x:ya(n,i)})),r=ZA.lastIndex;return r<t.length&&(o=t.slice(r),u[s]?u[s]+=o:u[++s]=o),u.length<2?f[0]?ewe(f[0].x):J_e(t):(t=f.length,function(p){for(var g=0,y;g<t;++g)u[(y=f[g]).i]=y.x(p);return u.join("")})}var JA,ZA,e3=F(()=>{"use strict";ly();JA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ZA=new RegExp(JA.source,"g");a(J_e,"zero");a(ewe,"one");a(ym,"default")});function xf(e,t){var r=typeof t,n;return t==null||r==="boolean"?gm(t):(r==="number"?ya:r==="string"?(n=bl(t))?(t=n,fd):ym:t instanceof bl?fd:t instanceof Date?KA:pB(t)?XA:Array.isArray(t)?gB:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?QA:ya)(e,t)}var Zb=F(()=>{"use strict";ud();YA();yB();vB();ly();xB();e3();HA();mB();a(xf,"default")});function Jb(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var bB=F(()=>{"use strict";a(Jb,"default")});function t2(e,t,r,n,i,o){var s,u,f;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(f=e*r+t*n)&&(r-=e*f,n-=t*f),(u=Math.sqrt(r*r+n*n))&&(r/=u,n/=u,f/=u),e*n<t*r&&(e=-e,t=-t,f=-f,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*TB,skewX:Math.atan(f)*TB,scaleX:s,scaleY:u}}var TB,e2,kB=F(()=>{"use strict";TB=180/Math.PI,e2={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};a(t2,"default")});function _B(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?e2:t2(t.a,t.b,t.c,t.d,t.e,t.f)}function wB(e){return e==null?e2:(r2||(r2=document.createElementNS("http://www.w3.org/2000/svg","g")),r2.setAttribute("transform",e),(e=r2.transform.baseVal.consolidate())?(e=e.matrix,t2(e.a,e.b,e.c,e.d,e.e,e.f)):e2)}var r2,EB=F(()=>{"use strict";kB();a(_B,"parseCss");a(wB,"parseSvg")});function CB(e,t,r,n){function i(p){return p.length?p.pop()+" ":""}a(i,"pop");function o(p,g,y,x,b,E){if(p!==y||g!==x){var A=b.push("translate(",null,t,null,r);E.push({i:A-4,x:ya(p,y)},{i:A-2,x:ya(g,x)})}else(y||x)&&b.push("translate("+y+t+x+r)}a(o,"translate");function s(p,g,y,x){p!==g?(p-g>180?g+=360:g-p>180&&(p+=360),x.push({i:y.push(i(y)+"rotate(",null,n)-2,x:ya(p,g)})):g&&y.push(i(y)+"rotate("+g+n)}a(s,"rotate");function u(p,g,y,x){p!==g?x.push({i:y.push(i(y)+"skewX(",null,n)-2,x:ya(p,g)}):g&&y.push(i(y)+"skewX("+g+n)}a(u,"skewX");function f(p,g,y,x,b,E){if(p!==y||g!==x){var A=b.push(i(b)+"scale(",null,",",null,")");E.push({i:A-4,x:ya(p,y)},{i:A-2,x:ya(g,x)})}else(y!==1||x!==1)&&b.push(i(b)+"scale("+y+","+x+")")}return a(f,"scale"),function(p,g){var y=[],x=[];return p=e(p),g=e(g),o(p.translateX,p.translateY,g.translateX,g.translateY,y,x),s(p.rotate,g.rotate,y,x),u(p.skewX,g.skewX,y,x),f(p.scaleX,p.scaleY,g.scaleX,g.scaleY,y,x),p=g=null,function(b){for(var E=-1,A=x.length,O;++E<A;)y[(O=x[E]).i]=O.x(b);return y.join("")}}}var t3,r3,SB=F(()=>{"use strict";ly();EB();a(CB,"interpolateTransform");t3=CB(_B,"px, ","px)","deg)"),r3=CB(wB,", ",")",")")});function AB(e){return function(t,r){var n=e((t=sy(t)).h,(r=sy(r)).h),i=su(t.c,r.c),o=su(t.l,r.l),s=su(t.opacity,r.opacity);return function(u){return t.h=n(u),t.c=i(u),t.l=o(u),t.opacity=s(u),t+""}}}var n3,twe,RB=F(()=>{"use strict";ud();jA();a(AB,"hcl");n3=AB(fB),twe=AB(su)});var hd=F(()=>{"use strict";Zb();ly();bB();e3();SB();YA();RB()});function py(){return dd||(IB(rwe),dd=hy.now()+a2)}function rwe(){dd=0}function dy(){this._call=this._time=this._next=null}function o2(e,t,r){var n=new dy;return n.restart(e,t,r),n}function NB(){py(),++vm;for(var e=n2,t;e;)(t=dd-e._time)>=0&&e._call.call(void 0,t),e=e._next;--vm}function DB(){dd=(i2=hy.now())+a2,vm=uy=0;try{NB()}finally{vm=0,iwe(),dd=0}}function nwe(){var e=hy.now(),t=e-i2;t>LB&&(a2-=t,i2=e)}function iwe(){for(var e,t=n2,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:n2=r);fy=e,i3(n)}function i3(e){if(!vm){uy&&(uy=clearTimeout(uy));var t=e-dd;t>24?(e<1/0&&(uy=setTimeout(DB,e-hy.now()-a2)),cy&&(cy=clearInterval(cy))):(cy||(i2=hy.now(),cy=setInterval(nwe,LB)),vm=1,IB(DB))}}var vm,uy,cy,LB,n2,fy,i2,dd,a2,hy,IB,a3=F(()=>{"use strict";vm=0,uy=0,cy=0,LB=1e3,i2=0,dd=0,a2=0,hy=typeof performance=="object"&&performance.now?performance:Date,IB=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};a(py,"now");a(rwe,"clearNow");a(dy,"Timer");dy.prototype=o2.prototype={constructor:dy,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?py():+r)+(t==null?0:+t),!this._next&&fy!==this&&(fy?fy._next=this:n2=this,fy=this),this._call=e,this._time=r,i3()},stop:function(){this._call&&(this._call=null,this._time=1/0,i3())}};a(o2,"timer");a(NB,"timerFlush");a(DB,"wake");a(nwe,"poke");a(iwe,"nap");a(i3,"sleep")});function my(e,t,r){var n=new dy;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}var PB=F(()=>{"use strict";a3();a(my,"default")});var gy=F(()=>{"use strict";a3();PB()});function lu(e,t,r,n,i,o){var s=e.__transition;if(!s)e.__transition={};else if(r in s)return;swe(e,r,{name:t,index:n,group:i,on:awe,tween:owe,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:FB})}function vy(e,t){var r=ta(e,t);if(r.state>FB)throw new Error("too late; already scheduled");return r}function Ba(e,t){var r=ta(e,t);if(r.state>s2)throw new Error("too late; already running");return r}function ta(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function swe(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=o2(o,0,r.time);function o(p){r.state=OB,r.timer.restart(s,r.delay,r.time),r.delay<=p&&s(p-r.delay)}a(o,"schedule");function s(p){var g,y,x,b;if(r.state!==OB)return f();for(g in n)if(b=n[g],b.name===r.name){if(b.state===s2)return my(s);b.state===MB?(b.state=yy,b.timer.stop(),b.on.call("interrupt",e,e.__data__,b.index,b.group),delete n[g]):+g<t&&(b.state=yy,b.timer.stop(),b.on.call("cancel",e,e.__data__,b.index,b.group),delete n[g])}if(my(function(){r.state===s2&&(r.state=MB,r.timer.restart(u,r.delay,r.time),u(p))}),r.state=l2,r.on.call("start",e,e.__data__,r.index,r.group),r.state===l2){for(r.state=s2,i=new Array(x=r.tween.length),g=0,y=-1;g<x;++g)(b=r.tween[g].value.call(e,e.__data__,r.index,r.group))&&(i[++y]=b);i.length=y+1}}a(s,"start");function u(p){for(var g=p<r.duration?r.ease.call(null,p/r.duration):(r.timer.restart(f),r.state=c2,1),y=-1,x=i.length;++y<x;)i[y].call(e,g);r.state===c2&&(r.on.call("end",e,e.__data__,r.index,r.group),f())}a(u,"tick");function f(){r.state=yy,r.timer.stop(),delete n[t];for(var p in n)return;delete e.__transition}a(f,"stop")}var awe,owe,FB,OB,l2,s2,MB,c2,yy,qo=F(()=>{"use strict";$b();gy();awe=zS("start","end","cancel","interrupt"),owe=[],FB=0,OB=1,l2=2,s2=3,MB=4,c2=5,yy=6;a(lu,"default");a(vy,"init");a(Ba,"set");a(ta,"get");a(swe,"create")});function xy(e,t){var r=e.__transition,n,i,o=!0,s;if(r){t=t==null?null:t+"";for(s in r){if((n=r[s]).name!==t){o=!1;continue}i=n.state>l2&&n.state<c2,n.state=yy,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[s]}o&&delete e.__transition}}var BB=F(()=>{"use strict";qo();a(xy,"default")});function o3(e){return this.each(function(){xy(this,e)})}var qB=F(()=>{"use strict";BB();a(o3,"default")});function lwe(e,t){var r,n;return function(){var i=Ba(this,e),o=i.tween;if(o!==r){n=r=o;for(var s=0,u=n.length;s<u;++s)if(n[s].name===t){n=n.slice(),n.splice(s,1);break}}i.tween=n}}function cwe(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var o=Ba(this,e),s=o.tween;if(s!==n){i=(n=s).slice();for(var u={name:t,value:r},f=0,p=i.length;f<p;++f)if(i[f].name===t){i[f]=u;break}f===p&&i.push(u)}o.tween=i}}function s3(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=ta(this.node(),r).tween,i=0,o=n.length,s;i<o;++i)if((s=n[i]).name===e)return s.value;return null}return this.each((t==null?lwe:cwe)(r,e,t))}function xm(e,t,r){var n=e._id;return e.each(function(){var i=Ba(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return ta(i,n).value[t]}}var by=F(()=>{"use strict";qo();a(lwe,"tweenRemove");a(cwe,"tweenFunction");a(s3,"default");a(xm,"tweenValue")});function Ty(e,t){var r;return(typeof t=="number"?ya:t instanceof bl?fd:(r=bl(t))?(t=r,fd):ym)(e,t)}var l3=F(()=>{"use strict";ud();hd();a(Ty,"default")});function uwe(e){return function(){this.removeAttribute(e)}}function fwe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function hwe(e,t,r){var n,i=r+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===n?o:o=t(n=s,r)}}function dwe(e,t,r){var n,i=r+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===n?o:o=t(n=s,r)}}function pwe(e,t,r){var n,i,o;return function(){var s,u=r(this),f;return u==null?void this.removeAttribute(e):(s=this.getAttribute(e),f=u+"",s===f?null:s===n&&f===i?o:(i=f,o=t(n=s,u)))}}function mwe(e,t,r){var n,i,o;return function(){var s,u=r(this),f;return u==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),f=u+"",s===f?null:s===n&&f===i?o:(i=f,o=t(n=s,u)))}}function c3(e,t){var r=hc(e),n=r==="transform"?r3:Ty;return this.attrTween(e,typeof t=="function"?(r.local?mwe:pwe)(r,n,xm(this,"attr."+e,t)):t==null?(r.local?fwe:uwe)(r):(r.local?dwe:hwe)(r,n,t))}var zB=F(()=>{"use strict";hd();Fs();by();l3();a(uwe,"attrRemove");a(fwe,"attrRemoveNS");a(hwe,"attrConstant");a(dwe,"attrConstantNS");a(pwe,"attrFunction");a(mwe,"attrFunctionNS");a(c3,"default")});function gwe(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function ywe(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function vwe(e,t){var r,n;function i(){var o=t.apply(this,arguments);return o!==n&&(r=(n=o)&&ywe(e,o)),r}return a(i,"tween"),i._value=t,i}function xwe(e,t){var r,n;function i(){var o=t.apply(this,arguments);return o!==n&&(r=(n=o)&&gwe(e,o)),r}return a(i,"tween"),i._value=t,i}function u3(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=hc(e);return this.tween(r,(n.local?vwe:xwe)(n,t))}var UB=F(()=>{"use strict";Fs();a(gwe,"attrInterpolate");a(ywe,"attrInterpolateNS");a(vwe,"attrTweenNS");a(xwe,"attrTween");a(u3,"default")});function bwe(e,t){return function(){vy(this,e).delay=+t.apply(this,arguments)}}function Twe(e,t){return t=+t,function(){vy(this,e).delay=t}}function f3(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?bwe:Twe)(t,e)):ta(this.node(),t).delay}var $B=F(()=>{"use strict";qo();a(bwe,"delayFunction");a(Twe,"delayConstant");a(f3,"default")});function kwe(e,t){return function(){Ba(this,e).duration=+t.apply(this,arguments)}}function _we(e,t){return t=+t,function(){Ba(this,e).duration=t}}function h3(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?kwe:_we)(t,e)):ta(this.node(),t).duration}var GB=F(()=>{"use strict";qo();a(kwe,"durationFunction");a(_we,"durationConstant");a(h3,"default")});function wwe(e,t){if(typeof t!="function")throw new Error;return function(){Ba(this,e).ease=t}}function d3(e){var t=this._id;return arguments.length?this.each(wwe(t,e)):ta(this.node(),t).ease}var VB=F(()=>{"use strict";qo();a(wwe,"easeConstant");a(d3,"default")});function Ewe(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Ba(this,e).ease=r}}function p3(e){if(typeof e!="function")throw new Error;return this.each(Ewe(this._id,e))}var WB=F(()=>{"use strict";qo();a(Ewe,"easeVarying");a(p3,"default")});function m3(e){typeof e!="function"&&(e=um(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],s=o.length,u=n[i]=[],f,p=0;p<s;++p)(f=o[p])&&e.call(f,f.__data__,p,o)&&u.push(f);return new yo(n,this._parents,this._name,this._id)}var HB=F(()=>{"use strict";Fs();pd();a(m3,"default")});function g3(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,o=Math.min(n,i),s=new Array(n),u=0;u<o;++u)for(var f=t[u],p=r[u],g=f.length,y=s[u]=new Array(g),x,b=0;b<g;++b)(x=f[b]||p[b])&&(y[b]=x);for(;u<n;++u)s[u]=t[u];return new yo(s,this._parents,this._name,this._id)}var jB=F(()=>{"use strict";pd();a(g3,"default")});function Cwe(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function Swe(e,t,r){var n,i,o=Cwe(t)?vy:Ba;return function(){var s=o(this,e),u=s.on;u!==n&&(i=(n=u).copy()).on(t,r),s.on=i}}function y3(e,t){var r=this._id;return arguments.length<2?ta(this.node(),r).on.on(e):this.each(Swe(r,e,t))}var YB=F(()=>{"use strict";qo();a(Cwe,"start");a(Swe,"onFunction");a(y3,"default")});function Awe(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function v3(){return this.on("end.remove",Awe(this._id))}var XB=F(()=>{"use strict";a(Awe,"removeFunction");a(v3,"default")});function x3(e){var t=this._name,r=this._id;typeof e!="function"&&(e=mf(e));for(var n=this._groups,i=n.length,o=new Array(i),s=0;s<i;++s)for(var u=n[s],f=u.length,p=o[s]=new Array(f),g,y,x=0;x<f;++x)(g=u[x])&&(y=e.call(g,g.__data__,x,u))&&("__data__"in g&&(y.__data__=g.__data__),p[x]=y,lu(p[x],t,r,x,p,ta(g,r)));return new yo(o,this._parents,t,r)}var KB=F(()=>{"use strict";Fs();pd();qo();a(x3,"default")});function b3(e){var t=this._name,r=this._id;typeof e!="function"&&(e=cm(e));for(var n=this._groups,i=n.length,o=[],s=[],u=0;u<i;++u)for(var f=n[u],p=f.length,g,y=0;y<p;++y)if(g=f[y]){for(var x=e.call(g,g.__data__,y,f),b,E=ta(g,r),A=0,O=x.length;A<O;++A)(b=x[A])&&lu(b,t,r,A,x,E);o.push(x),s.push(g)}return new yo(o,s,t,r)}var QB=F(()=>{"use strict";Fs();pd();qo();a(b3,"default")});function T3(){return new Rwe(this._groups,this._parents)}var Rwe,ZB=F(()=>{"use strict";Fs();Rwe=au.prototype.constructor;a(T3,"default")});function Dwe(e,t){var r,n,i;return function(){var o=gf(this,e),s=(this.style.removeProperty(e),gf(this,e));return o===s?null:o===r&&s===n?i:i=t(r=o,n=s)}}function JB(e){return function(){this.style.removeProperty(e)}}function Lwe(e,t,r){var n,i=r+"",o;return function(){var s=gf(this,e);return s===i?null:s===n?o:o=t(n=s,r)}}function Iwe(e,t,r){var n,i,o;return function(){var s=gf(this,e),u=r(this),f=u+"";return u==null&&(f=u=(this.style.removeProperty(e),gf(this,e))),s===f?null:s===n&&f===i?o:(i=f,o=t(n=s,u))}}function Nwe(e,t){var r,n,i,o="style."+t,s="end."+o,u;return function(){var f=Ba(this,e),p=f.on,g=f.value[o]==null?u||(u=JB(t)):void 0;(p!==r||i!==g)&&(n=(r=p).copy()).on(s,i=g),f.on=n}}function k3(e,t,r){var n=(e+="")=="transform"?t3:Ty;return t==null?this.styleTween(e,Dwe(e,n)).on("end.style."+e,JB(e)):typeof t=="function"?this.styleTween(e,Iwe(e,n,xm(this,"style."+e,t))).each(Nwe(this._id,e)):this.styleTween(e,Lwe(e,n,t),r).on("end.style."+e,null)}var e9=F(()=>{"use strict";hd();Fs();qo();by();l3();a(Dwe,"styleNull");a(JB,"styleRemove");a(Lwe,"styleConstant");a(Iwe,"styleFunction");a(Nwe,"styleMaybeRemove");a(k3,"default")});function Pwe(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function Owe(e,t,r){var n,i;function o(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&Pwe(e,s,r)),n}return a(o,"tween"),o._value=t,o}function _3(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Owe(e,t,r??""))}var t9=F(()=>{"use strict";a(Pwe,"styleInterpolate");a(Owe,"styleTween");a(_3,"default")});function Mwe(e){return function(){this.textContent=e}}function Fwe(e){return function(){var t=e(this);this.textContent=t??""}}function w3(e){return this.tween("text",typeof e=="function"?Fwe(xm(this,"text",e)):Mwe(e==null?"":e+""))}var r9=F(()=>{"use strict";by();a(Mwe,"textConstant");a(Fwe,"textFunction");a(w3,"default")});function Bwe(e){return function(t){this.textContent=e.call(this,t)}}function qwe(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&Bwe(i)),t}return a(n,"tween"),n._value=e,n}function E3(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,qwe(e))}var n9=F(()=>{"use strict";a(Bwe,"textInterpolate");a(qwe,"textTween");a(E3,"default")});function C3(){for(var e=this._name,t=this._id,r=u2(),n=this._groups,i=n.length,o=0;o<i;++o)for(var s=n[o],u=s.length,f,p=0;p<u;++p)if(f=s[p]){var g=ta(f,t);lu(f,e,r,p,s,{time:g.time+g.delay+g.duration,delay:0,duration:g.duration,ease:g.ease})}return new yo(n,this._parents,e,r)}var i9=F(()=>{"use strict";pd();qo();a(C3,"default")});function S3(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(o,s){var u={value:s},f={value:function(){--i===0&&o()}};r.each(function(){var p=Ba(this,n),g=p.on;g!==e&&(t=(e=g).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(f)),p.on=t}),i===0&&o()})}var a9=F(()=>{"use strict";qo();a(S3,"default")});function yo(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function o9(e){return au().transition(e)}function u2(){return++zwe}var zwe,cu,pd=F(()=>{"use strict";Fs();zB();UB();$B();GB();VB();WB();HB();jB();YB();XB();KB();QB();ZB();e9();t9();r9();n9();i9();by();a9();zwe=0;a(yo,"Transition");a(o9,"transition");a(u2,"newId");cu=au.prototype;yo.prototype=o9.prototype={constructor:yo,select:x3,selectAll:b3,selectChild:cu.selectChild,selectChildren:cu.selectChildren,filter:m3,merge:g3,selection:T3,transition:C3,call:cu.call,nodes:cu.nodes,node:cu.node,size:cu.size,empty:cu.empty,each:cu.each,on:y3,attr:c3,attrTween:u3,style:k3,styleTween:_3,text:w3,textTween:E3,remove:v3,tween:s3,delay:f3,duration:h3,ease:d3,easeVarying:p3,end:S3,[Symbol.iterator]:cu[Symbol.iterator]}});function f2(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var s9=F(()=>{"use strict";a(f2,"cubicInOut")});var h2=F(()=>{"use strict";s9()});function $we(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function A3(e){var t,r;e instanceof yo?(t=e._id,e=e._name):(t=u2(),(r=Uwe).time=py(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,o=0;o<i;++o)for(var s=n[o],u=s.length,f,p=0;p<u;++p)(f=s[p])&&lu(f,e,t,p,s,r||$we(f,t));return new yo(n,this._parents,e,t)}var Uwe,l9=F(()=>{"use strict";pd();qo();h2();gy();Uwe={time:null,delay:0,duration:250,ease:f2};a($we,"inherit");a(A3,"default")});var c9=F(()=>{"use strict";Fs();qB();l9();au.prototype.interrupt=o3;au.prototype.transition=A3});var ky=F(()=>{"use strict";c9()});var u9=F(()=>{"use strict"});var f9=F(()=>{"use strict"});var h9=F(()=>{"use strict"});function d9(e){return[+e[0],+e[1]]}function Gwe(e){return[d9(e[0]),d9(e[1])]}function R3(e){return{type:e}}var Rft,Dft,Lft,Ift,Nft,Pft,p9=F(()=>{"use strict";ky();u9();f9();h9();({abs:Rft,max:Dft,min:Lft}=Math);a(d9,"number1");a(Gwe,"number2");Ift={name:"x",handles:["w","e"].map(R3),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Nft={name:"y",handles:["n","s"].map(R3),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},Pft={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(R3),input:function(e){return e==null?null:Gwe(e)},output:function(e){return e}};a(R3,"type")});var D3=F(()=>{"use strict";p9()});function m9(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Wwe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return m9;let r=10**t;return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}function g9(){return new gd}var L3,I3,md,Vwe,gd,y9=F(()=>{"use strict";L3=Math.PI,I3=2*L3,md=1e-6,Vwe=I3-md;a(m9,"append");a(Wwe,"appendRound");gd=class{static{a(this,"Path")}constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?m9:Wwe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,o,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,r,n,i,o){if(t=+t,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,u=this._y1,f=n-t,p=i-r,g=s-t,y=u-r,x=g*g+y*y;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(x>md)if(!(Math.abs(y*f-p*g)>md)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let b=n-s,E=i-u,A=f*f+p*p,O=b*b+E*E,N=Math.sqrt(A),I=Math.sqrt(x),$=o*Math.tan((L3-Math.acos((A+x-O)/(2*N*I)))/2),X=$/I,q=$/N;Math.abs(X-1)>md&&this._append`L${t+X*g},${r+X*y}`,this._append`A${o},${o},0,0,${+(y*b>g*E)},${this._x1=t+q*f},${this._y1=r+q*p}`}}arc(t,r,n,i,o,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),f=n*Math.sin(i),p=t+u,g=r+f,y=1^s,x=s?i-o:o-i;this._x1===null?this._append`M${p},${g}`:(Math.abs(this._x1-p)>md||Math.abs(this._y1-g)>md)&&this._append`L${p},${g}`,n&&(x<0&&(x=x%I3+I3),x>Vwe?this._append`A${n},${n},0,1,${y},${t-u},${r-f}A${n},${n},0,1,${y},${this._x1=p},${this._y1=g}`:x>md&&this._append`A${n},${n},0,${+(x>=L3)},${y},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}};a(g9,"path");g9.prototype=gd.prototype});var d2=F(()=>{"use strict";y9()});var N3=F(()=>{"use strict"});var v9=F(()=>{"use strict"});var P3=F(()=>{"use strict"});var O3=F(()=>{"use strict"});function Hwe(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function M3(e,t){return fetch(e,t).then(Hwe)}var x9=F(()=>{"use strict";a(Hwe,"responseText");a(M3,"default")});function F3(e){return(t,r)=>M3(t,r).then(n=>new DOMParser().parseFromString(n,e))}var jwe,Ywe,B3,b9=F(()=>{"use strict";x9();a(F3,"parser");jwe=F3("application/xml"),Ywe=F3("text/html"),B3=F3("image/svg+xml")});var q3=F(()=>{"use strict";b9()});var z3=F(()=>{"use strict"});var U3=F(()=>{"use strict"});function $3(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function yd(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}var _y=F(()=>{"use strict";a($3,"default");a(yd,"formatDecimalParts")});function Tl(e){return e=yd(Math.abs(e)),e?e[1]:NaN}var wy=F(()=>{"use strict";_y();a(Tl,"default")});function G3(e,t){return function(r,n){for(var i=r.length,o=[],s=0,u=e[0],f=0;i>0&&u>0&&(f+u+1>n&&(u=Math.max(1,n-f)),o.push(r.substring(i-=u,i+u)),!((f+=u+1)>n));)u=e[s=(s+1)%e.length];return o.reverse().join(t)}}var T9=F(()=>{"use strict";a(G3,"default")});function V3(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var k9=F(()=>{"use strict";a(V3,"default")});function bf(e){if(!(t=Xwe.exec(e)))throw new Error("invalid format: "+e);var t;return new p2({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function p2(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}var Xwe,W3=F(()=>{"use strict";Xwe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;a(bf,"formatSpecifier");bf.prototype=p2.prototype;a(p2,"FormatSpecifier");p2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type}});function H3(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var _9=F(()=>{"use strict";a(H3,"default")});function Y3(e,t){var r=yd(e,t);if(!r)return e+"";var n=r[0],i=r[1],o=i-(j3=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return o===s?n:o>s?n+new Array(o-s+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+yd(e,Math.max(0,t+o-1))[0]}var j3,X3=F(()=>{"use strict";_y();a(Y3,"default")});function m2(e,t){var r=yd(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}var w9=F(()=>{"use strict";_y();a(m2,"default")});var K3,E9=F(()=>{"use strict";_y();X3();w9();K3={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:$3,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>m2(e*100,t),r:m2,s:Y3,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)}});function g2(e){return e}var C9=F(()=>{"use strict";a(g2,"default")});function Q3(e){var t=e.grouping===void 0||e.thousands===void 0?g2:G3(S9.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?g2:V3(S9.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"\u2212":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function p(y){y=bf(y);var x=y.fill,b=y.align,E=y.sign,A=y.symbol,O=y.zero,N=y.width,I=y.comma,$=y.precision,X=y.trim,q=y.type;q==="n"?(I=!0,q="g"):K3[q]||($===void 0&&($=12),X=!0,q="g"),(O||x==="0"&&b==="=")&&(O=!0,x="0",b="=");var M=A==="$"?r:A==="#"&&/[boxX]/.test(q)?"0"+q.toLowerCase():"",B=A==="$"?n:/[%p]/.test(q)?s:"",G=K3[q],U=/[defgprs%]/.test(q);$=$===void 0?6:/[gprs]/.test(q)?Math.max(1,Math.min(21,$)):Math.max(0,Math.min(20,$));function W(D){var K=M,P=B,re,ce,ee;if(q==="c")P=G(D)+P,D="";else{D=+D;var H=D<0||1/D<0;if(D=isNaN(D)?f:G(Math.abs(D),$),X&&(D=H3(D)),H&&+D==0&&E!=="+"&&(H=!1),K=(H?E==="("?E:u:E==="-"||E==="("?"":E)+K,P=(q==="s"?A9[8+j3/3]:"")+P+(H&&E==="("?")":""),U){for(re=-1,ce=D.length;++re<ce;)if(ee=D.charCodeAt(re),48>ee||ee>57){P=(ee===46?i+D.slice(re+1):D.slice(re))+P,D=D.slice(0,re);break}}}I&&!O&&(D=t(D,1/0));var te=K.length+D.length+P.length,J=te<N?new Array(N-te+1).join(x):"";switch(I&&O&&(D=t(J+D,J.length?N-P.length:1/0),J=""),b){case"<":D=K+D+P+J;break;case"=":D=K+J+D+P;break;case"^":D=J.slice(0,te=J.length>>1)+K+D+P+J.slice(te);break;default:D=J+K+D+P;break}return o(D)}return a(W,"format"),W.toString=function(){return y+""},W}a(p,"newFormat");function g(y,x){var b=p((y=bf(y),y.type="f",y)),E=Math.max(-8,Math.min(8,Math.floor(Tl(x)/3)))*3,A=Math.pow(10,-E),O=A9[8+E/3];return function(N){return b(A*N)+O}}return a(g,"formatPrefix"),{format:p,formatPrefix:g}}var S9,A9,R9=F(()=>{"use strict";wy();T9();k9();W3();_9();E9();X3();C9();S9=Array.prototype.map,A9=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];a(Q3,"default")});function Z3(e){return y2=Q3(e),v2=y2.format,x2=y2.formatPrefix,y2}var y2,v2,x2,D9=F(()=>{"use strict";R9();Z3({thousands:",",grouping:[3],currency:["$",""]});a(Z3,"defaultLocale")});function b2(e){return Math.max(0,-Tl(Math.abs(e)))}var L9=F(()=>{"use strict";wy();a(b2,"default")});function T2(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Tl(t)/3)))*3-Tl(Math.abs(e)))}var I9=F(()=>{"use strict";wy();a(T2,"default")});function k2(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Tl(t)-Tl(e))+1}var N9=F(()=>{"use strict";wy();a(k2,"default")});var _2=F(()=>{"use strict";D9();W3();L9();I9();N9()});var J3=F(()=>{"use strict"});var e4=F(()=>{"use strict"});var t4=F(()=>{"use strict"});var r4=F(()=>{"use strict"});function Tf(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}var Ey=F(()=>{"use strict";a(Tf,"initRange")});function uu(){var e=new sm,t=[],r=[],n=n4;function i(o){let s=e.get(o);if(s===void 0){if(n!==n4)return n;e.set(o,s=t.push(o)-1)}return r[s%r.length]}return a(i,"scale"),i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new sm;for(let s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return uu(t,r).unknown(n)},Tf.apply(i,arguments),i}var n4,i4=F(()=>{"use strict";iu();Ey();n4=Symbol("implicit");a(uu,"ordinal")});function bm(){var e=uu().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,o,s,u=!1,f=0,p=0,g=.5;delete e.unknown;function y(){var x=t().length,b=i<n,E=b?i:n,A=b?n:i;o=(A-E)/Math.max(1,x-f+p*2),u&&(o=Math.floor(o)),E+=(A-E-o*(x-f))*g,s=o*(1-f),u&&(E=Math.round(E),s=Math.round(s));var O=Bb(x).map(function(N){return E+o*N});return r(b?O.reverse():O)}return a(y,"rescale"),e.domain=function(x){return arguments.length?(t(x),y()):t()},e.range=function(x){return arguments.length?([n,i]=x,n=+n,i=+i,y()):[n,i]},e.rangeRound=function(x){return[n,i]=x,n=+n,i=+i,u=!0,y()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(x){return arguments.length?(u=!!x,y()):u},e.padding=function(x){return arguments.length?(f=Math.min(1,p=+x),y()):f},e.paddingInner=function(x){return arguments.length?(f=Math.min(1,x),y()):f},e.paddingOuter=function(x){return arguments.length?(p=+x,y()):p},e.align=function(x){return arguments.length?(g=Math.max(0,Math.min(1,x)),y()):g},e.copy=function(){return bm(t(),[n,i]).round(u).paddingInner(f).paddingOuter(p).align(g)},Tf.apply(y(),arguments)}var P9=F(()=>{"use strict";iu();Ey();i4();a(bm,"band")});function a4(e){return function(){return e}}var O9=F(()=>{"use strict";a(a4,"constants")});function o4(e){return+e}var M9=F(()=>{"use strict";a(o4,"number")});function Tm(e){return e}function s4(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:a4(isNaN(t)?NaN:.5)}function Kwe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Qwe(e,t,r){var n=e[0],i=e[1],o=t[0],s=t[1];return i<n?(n=s4(i,n),o=r(s,o)):(n=s4(n,i),o=r(o,s)),function(u){return o(n(u))}}function Zwe(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),o=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=s4(e[s],e[s+1]),o[s]=r(t[s],t[s+1]);return function(u){var f=NS(e,u,1,n)-1;return o[f](i[f](u))}}function w2(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Jwe(){var e=F9,t=F9,r=xf,n,i,o,s=Tm,u,f,p;function g(){var x=Math.min(e.length,t.length);return s!==Tm&&(s=Kwe(e[0],e[x-1])),u=x>2?Zwe:Qwe,f=p=null,y}a(g,"rescale");function y(x){return x==null||isNaN(x=+x)?o:(f||(f=u(e.map(n),t,r)))(n(s(x)))}return a(y,"scale"),y.invert=function(x){return s(i((p||(p=u(t,e.map(n),ya)))(x)))},y.domain=function(x){return arguments.length?(e=Array.from(x,o4),g()):e.slice()},y.range=function(x){return arguments.length?(t=Array.from(x),g()):t.slice()},y.rangeRound=function(x){return t=Array.from(x),r=Jb,g()},y.clamp=function(x){return arguments.length?(s=x?!0:Tm,g()):s!==Tm},y.interpolate=function(x){return arguments.length?(r=x,g()):r},y.unknown=function(x){return arguments.length?(o=x,y):o},function(x,b){return n=x,i=b,g()}}function Cy(){return Jwe()(Tm,Tm)}var F9,l4=F(()=>{"use strict";iu();hd();O9();M9();F9=[0,1];a(Tm,"identity");a(s4,"normalize");a(Kwe,"clamper");a(Qwe,"bimap");a(Zwe,"polymap");a(w2,"copy");a(Jwe,"transformer");a(Cy,"continuous")});function c4(e,t,r,n){var i=lm(e,t,r),o;switch(n=bf(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=T2(i,s))&&(n.precision=o),x2(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=k2(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=b2(i))&&(n.precision=o-(n.type==="%")*2);break}}return v2(n)}var B9=F(()=>{"use strict";iu();_2();a(c4,"tickFormat")});function eEe(e){var t=e.domain;return e.ticks=function(r){var n=t();return Ob(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return c4(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,o=n.length-1,s=n[i],u=n[o],f,p,g=10;for(u<s&&(p=s,s=u,u=p,p=i,i=o,o=p);g-- >0;){if(p=Q0(s,u,r),p===f)return n[i]=s,n[o]=u,t(n);if(p>0)s=Math.floor(s/p)*p,u=Math.ceil(u/p)*p;else if(p<0)s=Math.ceil(s*p)/p,u=Math.floor(u*p)/p;else break;f=p}return e},e}function kl(){var e=Cy();return e.copy=function(){return w2(e,kl())},Tf.apply(e,arguments),eEe(e)}var q9=F(()=>{"use strict";iu();l4();Ey();B9();a(eEe,"linearish");a(kl,"linear")});function u4(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],o=e[n],s;return o<i&&(s=r,r=n,n=s,s=i,i=o,o=s),e[r]=t.floor(i),e[n]=t.ceil(o),e}var z9=F(()=>{"use strict";a(u4,"nice")});function Hn(e,t,r,n){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a(i,"interval"),i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{let s=i(o),u=i.ceil(o);return o-s<u-o?s:u},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,u)=>{let f=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<s)||!(u>0))return f;let p;do f.push(p=new Date(+o)),t(o,u),e(o);while(p<o&&o<s);return f},i.filter=o=>Hn(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,u)=>{if(s>=s)if(u<0)for(;++u<=0;)for(;t(s,-1),!o(s););else for(;--u>=0;)for(;t(s,1),!o(s););}),r&&(i.count=(o,s)=>(f4.setTime(+o),h4.setTime(+s),e(f4),e(h4),Math.floor(r(f4,h4))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?s=>n(s)%o===0:s=>i.count(0,s)%o===0):i)),i}var f4,h4,fu=F(()=>{"use strict";f4=new Date,h4=new Date;a(Hn,"timeInterval")});var mc,U9,d4=F(()=>{"use strict";fu();mc=Hn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);mc.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Hn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):mc);U9=mc.range});var ss,$9,p4=F(()=>{"use strict";fu();ss=Hn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*1e3)},(e,t)=>(t-e)/1e3,e=>e.getUTCSeconds()),$9=ss.range});var hu,tEe,E2,rEe,m4=F(()=>{"use strict";fu();hu=Hn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getMinutes()),tEe=hu.range,E2=Hn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getUTCMinutes()),rEe=E2.range});var du,nEe,C2,iEe,g4=F(()=>{"use strict";fu();du=Hn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3-e.getMinutes()*6e4)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getHours()),nEe=du.range,C2=Hn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getUTCHours()),iEe=C2.range});var Bs,aEe,Ay,oEe,S2,sEe,y4=F(()=>{"use strict";fu();Bs=Hn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1),aEe=Bs.range,Ay=Hn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>e.getUTCDate()-1),oEe=Ay.range,S2=Hn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>Math.floor(e/864e5)),sEe=S2.range});function bd(e){return Hn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5)}function Td(e){return Hn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/6048e5)}var _l,kf,A2,R2,yc,D2,L2,V9,lEe,cEe,uEe,fEe,hEe,dEe,kd,km,W9,H9,_f,j9,Y9,X9,pEe,mEe,gEe,yEe,vEe,xEe,v4=F(()=>{"use strict";fu();a(bd,"timeWeekday");_l=bd(0),kf=bd(1),A2=bd(2),R2=bd(3),yc=bd(4),D2=bd(5),L2=bd(6),V9=_l.range,lEe=kf.range,cEe=A2.range,uEe=R2.range,fEe=yc.range,hEe=D2.range,dEe=L2.range;a(Td,"utcWeekday");kd=Td(0),km=Td(1),W9=Td(2),H9=Td(3),_f=Td(4),j9=Td(5),Y9=Td(6),X9=kd.range,pEe=km.range,mEe=W9.range,gEe=H9.range,yEe=_f.range,vEe=j9.range,xEe=Y9.range});var pu,bEe,I2,TEe,x4=F(()=>{"use strict";fu();pu=Hn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth()),bEe=pu.range,I2=Hn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth()),TEe=I2.range});var ls,kEe,wl,_Ee,b4=F(()=>{"use strict";fu();ls=Hn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ls.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Hn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});kEe=ls.range,wl=Hn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());wl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Hn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});_Ee=wl.range});function Q9(e,t,r,n,i,o){let s=[[ss,1,1e3],[ss,5,5*1e3],[ss,15,15*1e3],[ss,30,30*1e3],[o,1,6e4],[o,5,5*6e4],[o,15,15*6e4],[o,30,30*6e4],[i,1,36e5],[i,3,3*36e5],[i,6,6*36e5],[i,12,12*36e5],[n,1,864e5],[n,2,2*864e5],[r,1,6048e5],[t,1,2592e6],[t,3,3*2592e6],[e,1,31536e6]];function u(p,g,y){let x=g<p;x&&([p,g]=[g,p]);let b=y&&typeof y.range=="function"?y:f(p,g,y),E=b?b.range(p,+g+1):[];return x?E.reverse():E}a(u,"ticks");function f(p,g,y){let x=Math.abs(g-p)/y,b=sd(([,,O])=>O).right(s,x);if(b===s.length)return e.every(lm(p/31536e6,g/31536e6,y));if(b===0)return mc.every(Math.max(lm(p,g,y),1));let[E,A]=s[x/s[b-1][2]<s[b][2]/x?b-1:b];return E.every(A)}return a(f,"tickInterval"),[u,f]}var EEe,CEe,T4,k4,Z9=F(()=>{"use strict";iu();d4();p4();m4();g4();y4();v4();x4();b4();a(Q9,"ticker");[EEe,CEe]=Q9(wl,I2,kd,S2,C2,E2),[T4,k4]=Q9(ls,pu,_l,Bs,du,hu)});var Ry=F(()=>{"use strict";d4();p4();m4();g4();y4();v4();x4();b4();Z9()});function _4(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function w4(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Dy(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function E4(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,o=e.days,s=e.shortDays,u=e.months,f=e.shortMonths,p=Ly(i),g=Iy(i),y=Ly(o),x=Iy(o),b=Ly(s),E=Iy(s),A=Ly(u),O=Iy(u),N=Ly(f),I=Iy(f),$={a:H,A:te,b:J,B:Y,c:null,d:iq,e:iq,f:XEe,g:aCe,G:sCe,H:HEe,I:jEe,j:YEe,L:cq,m:KEe,M:QEe,p:de,q:Fe,Q:sq,s:lq,S:ZEe,u:JEe,U:eCe,V:tCe,w:rCe,W:nCe,x:null,X:null,y:iCe,Y:oCe,Z:lCe,"%":oq},X={a:oe,A:rt,b:We,B:_e,c:null,d:aq,e:aq,f:hCe,g:kCe,G:wCe,H:cCe,I:uCe,j:fCe,L:fq,m:dCe,M:pCe,p:Ve,q:Ye,Q:sq,s:lq,S:mCe,u:gCe,U:yCe,V:vCe,w:xCe,W:bCe,x:null,X:null,y:TCe,Y:_Ce,Z:ECe,"%":oq},q={a:W,A:D,b:K,B:P,c:re,d:rq,e:rq,f:$Ee,g:tq,G:eq,H:nq,I:nq,j:BEe,L:UEe,m:FEe,M:qEe,p:U,q:MEe,Q:VEe,s:WEe,S:zEe,u:LEe,U:IEe,V:NEe,w:DEe,W:PEe,x:ce,X:ee,y:tq,Y:eq,Z:OEe,"%":GEe};$.x=M(r,$),$.X=M(n,$),$.c=M(t,$),X.x=M(r,X),X.X=M(n,X),X.c=M(t,X);function M(Le,fe){return function(le){var he=[],xe=-1,ke=0,pe=Le.length,Ce,Ue,He;for(le instanceof Date||(le=new Date(+le));++xe<pe;)Le.charCodeAt(xe)===37&&(he.push(Le.slice(ke,xe)),(Ue=J9[Ce=Le.charAt(++xe)])!=null?Ce=Le.charAt(++xe):Ue=Ce==="e"?" ":"0",(He=fe[Ce])&&(Ce=He(le,Ue)),he.push(Ce),ke=xe+1);return he.push(Le.slice(ke,xe)),he.join("")}}a(M,"newFormat");function B(Le,fe){return function(le){var he=Dy(1900,void 0,1),xe=G(he,Le,le+="",0),ke,pe;if(xe!=le.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(fe&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(ke=w4(Dy(he.y,0,1)),pe=ke.getUTCDay(),ke=pe>4||pe===0?km.ceil(ke):km(ke),ke=Ay.offset(ke,(he.V-1)*7),he.y=ke.getUTCFullYear(),he.m=ke.getUTCMonth(),he.d=ke.getUTCDate()+(he.w+6)%7):(ke=_4(Dy(he.y,0,1)),pe=ke.getDay(),ke=pe>4||pe===0?kf.ceil(ke):kf(ke),ke=Bs.offset(ke,(he.V-1)*7),he.y=ke.getFullYear(),he.m=ke.getMonth(),he.d=ke.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),pe="Z"in he?w4(Dy(he.y,0,1)).getUTCDay():_4(Dy(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(pe+5)%7:he.w+he.U*7-(pe+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,w4(he)):_4(he)}}a(B,"newParse");function G(Le,fe,le,he){for(var xe=0,ke=fe.length,pe=le.length,Ce,Ue;xe<ke;){if(he>=pe)return-1;if(Ce=fe.charCodeAt(xe++),Ce===37){if(Ce=fe.charAt(xe++),Ue=q[Ce in J9?fe.charAt(xe++):Ce],!Ue||(he=Ue(Le,le,he))<0)return-1}else if(Ce!=le.charCodeAt(he++))return-1}return he}a(G,"parseSpecifier");function U(Le,fe,le){var he=p.exec(fe.slice(le));return he?(Le.p=g.get(he[0].toLowerCase()),le+he[0].length):-1}a(U,"parsePeriod");function W(Le,fe,le){var he=b.exec(fe.slice(le));return he?(Le.w=E.get(he[0].toLowerCase()),le+he[0].length):-1}a(W,"parseShortWeekday");function D(Le,fe,le){var he=y.exec(fe.slice(le));return he?(Le.w=x.get(he[0].toLowerCase()),le+he[0].length):-1}a(D,"parseWeekday");function K(Le,fe,le){var he=N.exec(fe.slice(le));return he?(Le.m=I.get(he[0].toLowerCase()),le+he[0].length):-1}a(K,"parseShortMonth");function P(Le,fe,le){var he=A.exec(fe.slice(le));return he?(Le.m=O.get(he[0].toLowerCase()),le+he[0].length):-1}a(P,"parseMonth");function re(Le,fe,le){return G(Le,t,fe,le)}a(re,"parseLocaleDateTime");function ce(Le,fe,le){return G(Le,r,fe,le)}a(ce,"parseLocaleDate");function ee(Le,fe,le){return G(Le,n,fe,le)}a(ee,"parseLocaleTime");function H(Le){return s[Le.getDay()]}a(H,"formatShortWeekday");function te(Le){return o[Le.getDay()]}a(te,"formatWeekday");function J(Le){return f[Le.getMonth()]}a(J,"formatShortMonth");function Y(Le){return u[Le.getMonth()]}a(Y,"formatMonth");function de(Le){return i[+(Le.getHours()>=12)]}a(de,"formatPeriod");function Fe(Le){return 1+~~(Le.getMonth()/3)}a(Fe,"formatQuarter");function oe(Le){return s[Le.getUTCDay()]}a(oe,"formatUTCShortWeekday");function rt(Le){return o[Le.getUTCDay()]}a(rt,"formatUTCWeekday");function We(Le){return f[Le.getUTCMonth()]}a(We,"formatUTCShortMonth");function _e(Le){return u[Le.getUTCMonth()]}a(_e,"formatUTCMonth");function Ve(Le){return i[+(Le.getUTCHours()>=12)]}a(Ve,"formatUTCPeriod");function Ye(Le){return 1+~~(Le.getUTCMonth()/3)}return a(Ye,"formatUTCQuarter"),{format:function(Le){var fe=M(Le+="",$);return fe.toString=function(){return Le},fe},parse:function(Le){var fe=B(Le+="",!1);return fe.toString=function(){return Le},fe},utcFormat:function(Le){var fe=M(Le+="",X);return fe.toString=function(){return Le},fe},utcParse:function(Le){var fe=B(Le+="",!0);return fe.toString=function(){return Le},fe}}}function Tn(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(t)+i:i)}function REe(e){return e.replace(AEe,"\\$&")}function Ly(e){return new RegExp("^(?:"+e.map(REe).join("|")+")","i")}function Iy(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function DEe(e,t,r){var n=va.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function LEe(e,t,r){var n=va.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function IEe(e,t,r){var n=va.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function NEe(e,t,r){var n=va.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function PEe(e,t,r){var n=va.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function eq(e,t,r){var n=va.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function tq(e,t,r){var n=va.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function OEe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function MEe(e,t,r){var n=va.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function FEe(e,t,r){var n=va.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function rq(e,t,r){var n=va.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function BEe(e,t,r){var n=va.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function nq(e,t,r){var n=va.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function qEe(e,t,r){var n=va.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function zEe(e,t,r){var n=va.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function UEe(e,t,r){var n=va.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function $Ee(e,t,r){var n=va.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function GEe(e,t,r){var n=SEe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function VEe(e,t,r){var n=va.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function WEe(e,t,r){var n=va.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function iq(e,t){return Tn(e.getDate(),t,2)}function HEe(e,t){return Tn(e.getHours(),t,2)}function jEe(e,t){return Tn(e.getHours()%12||12,t,2)}function YEe(e,t){return Tn(1+Bs.count(ls(e),e),t,3)}function cq(e,t){return Tn(e.getMilliseconds(),t,3)}function XEe(e,t){return cq(e,t)+"000"}function KEe(e,t){return Tn(e.getMonth()+1,t,2)}function QEe(e,t){return Tn(e.getMinutes(),t,2)}function ZEe(e,t){return Tn(e.getSeconds(),t,2)}function JEe(e){var t=e.getDay();return t===0?7:t}function eCe(e,t){return Tn(_l.count(ls(e)-1,e),t,2)}function uq(e){var t=e.getDay();return t>=4||t===0?yc(e):yc.ceil(e)}function tCe(e,t){return e=uq(e),Tn(yc.count(ls(e),e)+(ls(e).getDay()===4),t,2)}function rCe(e){return e.getDay()}function nCe(e,t){return Tn(kf.count(ls(e)-1,e),t,2)}function iCe(e,t){return Tn(e.getFullYear()%100,t,2)}function aCe(e,t){return e=uq(e),Tn(e.getFullYear()%100,t,2)}function oCe(e,t){return Tn(e.getFullYear()%1e4,t,4)}function sCe(e,t){var r=e.getDay();return e=r>=4||r===0?yc(e):yc.ceil(e),Tn(e.getFullYear()%1e4,t,4)}function lCe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Tn(t/60|0,"0",2)+Tn(t%60,"0",2)}function aq(e,t){return Tn(e.getUTCDate(),t,2)}function cCe(e,t){return Tn(e.getUTCHours(),t,2)}function uCe(e,t){return Tn(e.getUTCHours()%12||12,t,2)}function fCe(e,t){return Tn(1+Ay.count(wl(e),e),t,3)}function fq(e,t){return Tn(e.getUTCMilliseconds(),t,3)}function hCe(e,t){return fq(e,t)+"000"}function dCe(e,t){return Tn(e.getUTCMonth()+1,t,2)}function pCe(e,t){return Tn(e.getUTCMinutes(),t,2)}function mCe(e,t){return Tn(e.getUTCSeconds(),t,2)}function gCe(e){var t=e.getUTCDay();return t===0?7:t}function yCe(e,t){return Tn(kd.count(wl(e)-1,e),t,2)}function hq(e){var t=e.getUTCDay();return t>=4||t===0?_f(e):_f.ceil(e)}function vCe(e,t){return e=hq(e),Tn(_f.count(wl(e),e)+(wl(e).getUTCDay()===4),t,2)}function xCe(e){return e.getUTCDay()}function bCe(e,t){return Tn(km.count(wl(e)-1,e),t,2)}function TCe(e,t){return Tn(e.getUTCFullYear()%100,t,2)}function kCe(e,t){return e=hq(e),Tn(e.getUTCFullYear()%100,t,2)}function _Ce(e,t){return Tn(e.getUTCFullYear()%1e4,t,4)}function wCe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?_f(e):_f.ceil(e),Tn(e.getUTCFullYear()%1e4,t,4)}function ECe(){return"+0000"}function oq(){return"%"}function sq(e){return+e}function lq(e){return Math.floor(+e/1e3)}var J9,va,SEe,AEe,dq=F(()=>{"use strict";Ry();a(_4,"localDate");a(w4,"utcDate");a(Dy,"newDate");a(E4,"formatLocale");J9={"-":"",_:" ",0:"0"},va=/^\s*\d+/,SEe=/^%/,AEe=/[\\^$*+?|[\]().{}]/g;a(Tn,"pad");a(REe,"requote");a(Ly,"formatRe");a(Iy,"formatLookup");a(DEe,"parseWeekdayNumberSunday");a(LEe,"parseWeekdayNumberMonday");a(IEe,"parseWeekNumberSunday");a(NEe,"parseWeekNumberISO");a(PEe,"parseWeekNumberMonday");a(eq,"parseFullYear");a(tq,"parseYear");a(OEe,"parseZone");a(MEe,"parseQuarter");a(FEe,"parseMonthNumber");a(rq,"parseDayOfMonth");a(BEe,"parseDayOfYear");a(nq,"parseHour24");a(qEe,"parseMinutes");a(zEe,"parseSeconds");a(UEe,"parseMilliseconds");a($Ee,"parseMicroseconds");a(GEe,"parseLiteralPercent");a(VEe,"parseUnixTimestamp");a(WEe,"parseUnixTimestampSeconds");a(iq,"formatDayOfMonth");a(HEe,"formatHour24");a(jEe,"formatHour12");a(YEe,"formatDayOfYear");a(cq,"formatMilliseconds");a(XEe,"formatMicroseconds");a(KEe,"formatMonthNumber");a(QEe,"formatMinutes");a(ZEe,"formatSeconds");a(JEe,"formatWeekdayNumberMonday");a(eCe,"formatWeekNumberSunday");a(uq,"dISO");a(tCe,"formatWeekNumberISO");a(rCe,"formatWeekdayNumberSunday");a(nCe,"formatWeekNumberMonday");a(iCe,"formatYear");a(aCe,"formatYearISO");a(oCe,"formatFullYear");a(sCe,"formatFullYearISO");a(lCe,"formatZone");a(aq,"formatUTCDayOfMonth");a(cCe,"formatUTCHour24");a(uCe,"formatUTCHour12");a(fCe,"formatUTCDayOfYear");a(fq,"formatUTCMilliseconds");a(hCe,"formatUTCMicroseconds");a(dCe,"formatUTCMonthNumber");a(pCe,"formatUTCMinutes");a(mCe,"formatUTCSeconds");a(gCe,"formatUTCWeekdayNumberMonday");a(yCe,"formatUTCWeekNumberSunday");a(hq,"UTCdISO");a(vCe,"formatUTCWeekNumberISO");a(xCe,"formatUTCWeekdayNumberSunday");a(bCe,"formatUTCWeekNumberMonday");a(TCe,"formatUTCYear");a(kCe,"formatUTCYearISO");a(_Ce,"formatUTCFullYear");a(wCe,"formatUTCFullYearISO");a(ECe,"formatUTCZone");a(oq,"formatLiteralPercent");a(sq,"formatUnixTimestamp");a(lq,"formatUnixTimestampSeconds")});function C4(e){return _m=E4(e),_d=_m.format,pq=_m.parse,mq=_m.utcFormat,gq=_m.utcParse,_m}var _m,_d,pq,mq,gq,yq=F(()=>{"use strict";dq();C4({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});a(C4,"defaultLocale")});var N2=F(()=>{"use strict";yq()});function CCe(e){return new Date(e)}function SCe(e){return e instanceof Date?+e:+new Date(+e)}function vq(e,t,r,n,i,o,s,u,f,p){var g=Cy(),y=g.invert,x=g.domain,b=p(".%L"),E=p(":%S"),A=p("%I:%M"),O=p("%I %p"),N=p("%a %d"),I=p("%b %d"),$=p("%B"),X=p("%Y");function q(M){return(f(M)<M?b:u(M)<M?E:s(M)<M?A:o(M)<M?O:n(M)<M?i(M)<M?N:I:r(M)<M?$:X)(M)}return a(q,"tickFormat"),g.invert=function(M){return new Date(y(M))},g.domain=function(M){return arguments.length?x(Array.from(M,SCe)):x().map(CCe)},g.ticks=function(M){var B=x();return e(B[0],B[B.length-1],M??10)},g.tickFormat=function(M,B){return B==null?q:p(B)},g.nice=function(M){var B=x();return(!M||typeof M.range!="function")&&(M=t(B[0],B[B.length-1],M??10)),M?x(u4(B,M)):g},g.copy=function(){return w2(g,vq(e,t,r,n,i,o,s,u,f,p))},g}function P2(){return Tf.apply(vq(T4,k4,ls,pu,_l,Bs,du,hu,ss,_d).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var xq=F(()=>{"use strict";Ry();N2();l4();Ey();z9();a(CCe,"date");a(SCe,"number");a(vq,"calendar");a(P2,"time")});var S4=F(()=>{"use strict";P9();q9();i4();xq()});function A4(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(n*6,++n*6);return r}var bq=F(()=>{"use strict";a(A4,"default")});var R4,Tq=F(()=>{"use strict";bq();R4=A4("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab")});var D4=F(()=>{"use strict";Tq()});function oi(e){return a(function(){return e},"constant")}var O2=F(()=>{"use strict";a(oi,"default")});function _q(e){return e>1?0:e<-1?wm:Math.acos(e)}function I4(e){return e>=1?Ny:e<=-1?-Ny:Math.asin(e)}var L4,qa,wf,kq,M2,El,wd,xa,wm,Ny,Em,F2=F(()=>{"use strict";L4=Math.abs,qa=Math.atan2,wf=Math.cos,kq=Math.max,M2=Math.min,El=Math.sin,wd=Math.sqrt,xa=1e-12,wm=Math.PI,Ny=wm/2,Em=2*wm;a(_q,"acos");a(I4,"asin")});function B2(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{let n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new gd(t)}var N4=F(()=>{"use strict";d2();a(B2,"withPath")});function ACe(e){return e.innerRadius}function RCe(e){return e.outerRadius}function DCe(e){return e.startAngle}function LCe(e){return e.endAngle}function ICe(e){return e&&e.padAngle}function NCe(e,t,r,n,i,o,s,u){var f=r-e,p=n-t,g=s-i,y=u-o,x=y*f-g*p;if(!(x*x<xa))return x=(g*(t-o)-y*(e-i))/x,[e+x*f,t+x*p]}function q2(e,t,r,n,i,o,s){var u=e-r,f=t-n,p=(s?o:-o)/wd(u*u+f*f),g=p*f,y=-p*u,x=e+g,b=t+y,E=r+g,A=n+y,O=(x+E)/2,N=(b+A)/2,I=E-x,$=A-b,X=I*I+$*$,q=i-o,M=x*A-E*b,B=($<0?-1:1)*wd(kq(0,q*q*X-M*M)),G=(M*$-I*B)/X,U=(-M*I-$*B)/X,W=(M*$+I*B)/X,D=(-M*I+$*B)/X,K=G-O,P=U-N,re=W-O,ce=D-N;return K*K+P*P>re*re+ce*ce&&(G=W,U=D),{cx:G,cy:U,x01:-g,y01:-y,x11:G*(i/q-1),y11:U*(i/q-1)}}function Cl(){var e=ACe,t=RCe,r=oi(0),n=null,i=DCe,o=LCe,s=ICe,u=null,f=B2(p);function p(){var g,y,x=+e.apply(this,arguments),b=+t.apply(this,arguments),E=i.apply(this,arguments)-Ny,A=o.apply(this,arguments)-Ny,O=L4(A-E),N=A>E;if(u||(u=g=f()),b<x&&(y=b,b=x,x=y),!(b>xa))u.moveTo(0,0);else if(O>Em-xa)u.moveTo(b*wf(E),b*El(E)),u.arc(0,0,b,E,A,!N),x>xa&&(u.moveTo(x*wf(A),x*El(A)),u.arc(0,0,x,A,E,N));else{var I=E,$=A,X=E,q=A,M=O,B=O,G=s.apply(this,arguments)/2,U=G>xa&&(n?+n.apply(this,arguments):wd(x*x+b*b)),W=M2(L4(b-x)/2,+r.apply(this,arguments)),D=W,K=W,P,re;if(U>xa){var ce=I4(U/x*El(G)),ee=I4(U/b*El(G));(M-=ce*2)>xa?(ce*=N?1:-1,X+=ce,q-=ce):(M=0,X=q=(E+A)/2),(B-=ee*2)>xa?(ee*=N?1:-1,I+=ee,$-=ee):(B=0,I=$=(E+A)/2)}var H=b*wf(I),te=b*El(I),J=x*wf(q),Y=x*El(q);if(W>xa){var de=b*wf($),Fe=b*El($),oe=x*wf(X),rt=x*El(X),We;if(O<wm)if(We=NCe(H,te,oe,rt,de,Fe,J,Y)){var _e=H-We[0],Ve=te-We[1],Ye=de-We[0],Le=Fe-We[1],fe=1/El(_q((_e*Ye+Ve*Le)/(wd(_e*_e+Ve*Ve)*wd(Ye*Ye+Le*Le)))/2),le=wd(We[0]*We[0]+We[1]*We[1]);D=M2(W,(x-le)/(fe-1)),K=M2(W,(b-le)/(fe+1))}else D=K=0}B>xa?K>xa?(P=q2(oe,rt,H,te,b,K,N),re=q2(de,Fe,J,Y,b,K,N),u.moveTo(P.cx+P.x01,P.cy+P.y01),K<W?u.arc(P.cx,P.cy,K,qa(P.y01,P.x01),qa(re.y01,re.x01),!N):(u.arc(P.cx,P.cy,K,qa(P.y01,P.x01),qa(P.y11,P.x11),!N),u.arc(0,0,b,qa(P.cy+P.y11,P.cx+P.x11),qa(re.cy+re.y11,re.cx+re.x11),!N),u.arc(re.cx,re.cy,K,qa(re.y11,re.x11),qa(re.y01,re.x01),!N))):(u.moveTo(H,te),u.arc(0,0,b,I,$,!N)):u.moveTo(H,te),!(x>xa)||!(M>xa)?u.lineTo(J,Y):D>xa?(P=q2(J,Y,de,Fe,x,-D,N),re=q2(H,te,oe,rt,x,-D,N),u.lineTo(P.cx+P.x01,P.cy+P.y01),D<W?u.arc(P.cx,P.cy,D,qa(P.y01,P.x01),qa(re.y01,re.x01),!N):(u.arc(P.cx,P.cy,D,qa(P.y01,P.x01),qa(P.y11,P.x11),!N),u.arc(0,0,x,qa(P.cy+P.y11,P.cx+P.x11),qa(re.cy+re.y11,re.cx+re.x11),N),u.arc(re.cx,re.cy,D,qa(re.y11,re.x11),qa(re.y01,re.x01),!N))):u.arc(0,0,x,q,X,N)}if(u.closePath(),g)return u=null,g+""||null}return a(p,"arc"),p.centroid=function(){var g=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,y=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-wm/2;return[wf(y)*g,El(y)*g]},p.innerRadius=function(g){return arguments.length?(e=typeof g=="function"?g:oi(+g),p):e},p.outerRadius=function(g){return arguments.length?(t=typeof g=="function"?g:oi(+g),p):t},p.cornerRadius=function(g){return arguments.length?(r=typeof g=="function"?g:oi(+g),p):r},p.padRadius=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:oi(+g),p):n},p.startAngle=function(g){return arguments.length?(i=typeof g=="function"?g:oi(+g),p):i},p.endAngle=function(g){return arguments.length?(o=typeof g=="function"?g:oi(+g),p):o},p.padAngle=function(g){return arguments.length?(s=typeof g=="function"?g:oi(+g),p):s},p.context=function(g){return arguments.length?(u=g??null,p):u},p}var wq=F(()=>{"use strict";O2();F2();N4();a(ACe,"arcInnerRadius");a(RCe,"arcOuterRadius");a(DCe,"arcStartAngle");a(LCe,"arcEndAngle");a(ICe,"arcPadAngle");a(NCe,"intersect");a(q2,"cornerTangents");a(Cl,"default")});function Py(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}var pmt,P4=F(()=>{"use strict";pmt=Array.prototype.slice;a(Py,"default")});function Eq(e){this._context=e}function ra(e){return new Eq(e)}var O4=F(()=>{"use strict";a(Eq,"Linear");Eq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};a(ra,"default")});function Cq(e){return e[0]}function Sq(e){return e[1]}var Aq=F(()=>{"use strict";a(Cq,"x");a(Sq,"y")});function za(e,t){var r=oi(!0),n=null,i=ra,o=null,s=B2(u);e=typeof e=="function"?e:e===void 0?Cq:oi(e),t=typeof t=="function"?t:t===void 0?Sq:oi(t);function u(f){var p,g=(f=Py(f)).length,y,x=!1,b;for(n==null&&(o=i(b=s())),p=0;p<=g;++p)!(p<g&&r(y=f[p],p,f))===x&&((x=!x)?o.lineStart():o.lineEnd()),x&&o.point(+e(y,p,f),+t(y,p,f));if(b)return o=null,b+""||null}return a(u,"line"),u.x=function(f){return arguments.length?(e=typeof f=="function"?f:oi(+f),u):e},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:oi(+f),u):t},u.defined=function(f){return arguments.length?(r=typeof f=="function"?f:oi(!!f),u):r},u.curve=function(f){return arguments.length?(i=f,n!=null&&(o=i(n)),u):i},u.context=function(f){return arguments.length?(f==null?n=o=null:o=i(n=f),u):n},u}var Rq=F(()=>{"use strict";P4();O2();O4();N4();Aq();a(za,"default")});function M4(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}var Dq=F(()=>{"use strict";a(M4,"default")});function F4(e){return e}var Lq=F(()=>{"use strict";a(F4,"default")});function z2(){var e=F4,t=M4,r=null,n=oi(0),i=oi(Em),o=oi(0);function s(u){var f,p=(u=Py(u)).length,g,y,x=0,b=new Array(p),E=new Array(p),A=+n.apply(this,arguments),O=Math.min(Em,Math.max(-Em,i.apply(this,arguments)-A)),N,I=Math.min(Math.abs(O)/p,o.apply(this,arguments)),$=I*(O<0?-1:1),X;for(f=0;f<p;++f)(X=E[b[f]=f]=+e(u[f],f,u))>0&&(x+=X);for(t!=null?b.sort(function(q,M){return t(E[q],E[M])}):r!=null&&b.sort(function(q,M){return r(u[q],u[M])}),f=0,y=x?(O-p*$)/x:0;f<p;++f,A=N)g=b[f],X=E[g],N=A+(X>0?X*y:0)+$,E[g]={data:u[g],index:f,value:X,startAngle:A,endAngle:N,padAngle:I};return E}return a(s,"pie"),s.value=function(u){return arguments.length?(e=typeof u=="function"?u:oi(+u),s):e},s.sortValues=function(u){return arguments.length?(t=u,r=null,s):t},s.sort=function(u){return arguments.length?(r=u,t=null,s):r},s.startAngle=function(u){return arguments.length?(n=typeof u=="function"?u:oi(+u),s):n},s.endAngle=function(u){return arguments.length?(i=typeof u=="function"?u:oi(+u),s):i},s.padAngle=function(u){return arguments.length?(o=typeof u=="function"?u:oi(+u),s):o},s}var Iq=F(()=>{"use strict";P4();O2();Dq();Lq();F2();a(z2,"default")});function B4(e){return new U2(e,!0)}function q4(e){return new U2(e,!1)}var U2,Nq=F(()=>{"use strict";U2=class{static{a(this,"Bump")}constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}};a(B4,"bumpX");a(q4,"bumpY")});function cs(){}var Oy=F(()=>{"use strict";a(cs,"default")});function Cm(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function My(e){this._context=e}function qs(e){return new My(e)}var Fy=F(()=>{"use strict";a(Cm,"point");a(My,"Basis");My.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Cm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Cm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};a(qs,"default")});function Pq(e){this._context=e}function $2(e){return new Pq(e)}var Oq=F(()=>{"use strict";Oy();Fy();a(Pq,"BasisClosed");Pq.prototype={areaStart:cs,areaEnd:cs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Cm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};a($2,"default")});function Mq(e){this._context=e}function G2(e){return new Mq(e)}var Fq=F(()=>{"use strict";Fy();a(Mq,"BasisOpen");Mq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Cm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};a(G2,"default")});function Bq(e,t){this._basis=new My(e),this._beta=t}var z4,qq=F(()=>{"use strict";Fy();a(Bq,"Bundle");Bq.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var n=e[0],i=t[0],o=e[r]-n,s=t[r]-i,u=-1,f;++u<=r;)f=u/r,this._basis.point(this._beta*e[u]+(1-this._beta)*(n+f*o),this._beta*t[u]+(1-this._beta)*(i+f*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};z4=a(function e(t){function r(n){return t===1?new My(n):new Bq(n,t)}return a(r,"bundle"),r.beta=function(n){return e(+n)},r},"custom")(.85)});function Sm(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function V2(e,t){this._context=e,this._k=(1-t)/6}var U4,By=F(()=>{"use strict";a(Sm,"point");a(V2,"Cardinal");V2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Sm(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Sm(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};U4=a(function e(t){function r(n){return new V2(n,t)}return a(r,"cardinal"),r.tension=function(n){return e(+n)},r},"custom")(0)});function W2(e,t){this._context=e,this._k=(1-t)/6}var $4,G4=F(()=>{"use strict";Oy();By();a(W2,"CardinalClosed");W2.prototype={areaStart:cs,areaEnd:cs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Sm(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};$4=a(function e(t){function r(n){return new W2(n,t)}return a(r,"cardinal"),r.tension=function(n){return e(+n)},r},"custom")(0)});function H2(e,t){this._context=e,this._k=(1-t)/6}var V4,W4=F(()=>{"use strict";By();a(H2,"CardinalOpen");H2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Sm(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};V4=a(function e(t){function r(n){return new H2(n,t)}return a(r,"cardinal"),r.tension=function(n){return e(+n)},r},"custom")(0)});function qy(e,t,r){var n=e._x1,i=e._y1,o=e._x2,s=e._y2;if(e._l01_a>xa){var u=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,f=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*u-e._x0*e._l12_2a+e._x2*e._l01_2a)/f,i=(i*u-e._y0*e._l12_2a+e._y2*e._l01_2a)/f}if(e._l23_a>xa){var p=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,g=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*p+e._x1*e._l23_2a-t*e._l12_2a)/g,s=(s*p+e._y1*e._l23_2a-r*e._l12_2a)/g}e._context.bezierCurveTo(n,i,o,s,e._x2,e._y2)}function zq(e,t){this._context=e,this._alpha=t}var H4,j2=F(()=>{"use strict";F2();By();a(qy,"point");a(zq,"CatmullRom");zq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:qy(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};H4=a(function e(t){function r(n){return t?new zq(n,t):new V2(n,0)}return a(r,"catmullRom"),r.alpha=function(n){return e(+n)},r},"custom")(.5)});function Uq(e,t){this._context=e,this._alpha=t}var j4,$q=F(()=>{"use strict";G4();Oy();j2();a(Uq,"CatmullRomClosed");Uq.prototype={areaStart:cs,areaEnd:cs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:qy(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};j4=a(function e(t){function r(n){return t?new Uq(n,t):new W2(n,0)}return a(r,"catmullRom"),r.alpha=function(n){return e(+n)},r},"custom")(.5)});function Gq(e,t){this._context=e,this._alpha=t}var Y4,Vq=F(()=>{"use strict";W4();j2();a(Gq,"CatmullRomOpen");Gq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:qy(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};Y4=a(function e(t){function r(n){return t?new Gq(n,t):new H2(n,0)}return a(r,"catmullRom"),r.alpha=function(n){return e(+n)},r},"custom")(.5)});function Wq(e){this._context=e}function Y2(e){return new Wq(e)}var Hq=F(()=>{"use strict";Oy();a(Wq,"LinearClosed");Wq.prototype={areaStart:cs,areaEnd:cs,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};a(Y2,"default")});function jq(e){return e<0?-1:1}function Yq(e,t,r){var n=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),u=(o*i+s*n)/(n+i);return(jq(o)+jq(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(u))||0}function Xq(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function X4(e,t,r){var n=e._x0,i=e._y0,o=e._x1,s=e._y1,u=(o-n)/3;e._context.bezierCurveTo(n+u,i+u*t,o-u,s-u*r,o,s)}function X2(e){this._context=e}function Kq(e){this._context=new Qq(e)}function Qq(e){this._context=e}function K4(e){return new X2(e)}function Q4(e){return new Kq(e)}var Zq=F(()=>{"use strict";a(jq,"sign");a(Yq,"slope3");a(Xq,"slope2");a(X4,"point");a(X2,"MonotoneX");X2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:X4(this,this._t0,Xq(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,X4(this,Xq(this,r=Yq(this,e,t)),r);break;default:X4(this,this._t0,r=Yq(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};a(Kq,"MonotoneY");(Kq.prototype=Object.create(X2.prototype)).point=function(e,t){X2.prototype.point.call(this,t,e)};a(Qq,"ReflectContext");Qq.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,o){this._context.bezierCurveTo(t,e,n,r,o,i)}};a(K4,"monotoneX");a(Q4,"monotoneY")});function ez(e){this._context=e}function Jq(e){var t,r=e.length-1,n,i=new Array(r),o=new Array(r),s=new Array(r);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function K2(e){return new ez(e)}var tz=F(()=>{"use strict";a(ez,"Natural");ez.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Jq(e),i=Jq(t),o=0,s=1;s<r;++o,++s)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};a(Jq,"controlPoints");a(K2,"default")});function Q2(e,t){this._context=e,this._t=t}function Z2(e){return new Q2(e,.5)}function Z4(e){return new Q2(e,0)}function J4(e){return new Q2(e,1)}var rz=F(()=>{"use strict";a(Q2,"Step");Q2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};a(Z2,"default");a(Z4,"stepBefore");a(J4,"stepAfter")});var eR=F(()=>{"use strict";wq();Rq();Iq();Oq();Fq();Fy();Nq();qq();G4();W4();By();$q();Vq();j2();Hq();O4();Zq();tz();rz()});var nz=F(()=>{"use strict"});var iz=F(()=>{"use strict"});function Ef(e,t,r){this.k=e,this.x=t,this.y=r}function rR(e){for(;!e.__zoom;)if(!(e=e.parentNode))return tR;return e.__zoom}var tR,nR=F(()=>{"use strict";a(Ef,"Transform");Ef.prototype={constructor:Ef,scale:function(e){return e===1?this:new Ef(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ef(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};tR=new Ef(1,0,0);rR.prototype=Ef.prototype;a(rR,"transform")});var az=F(()=>{"use strict"});var oz=F(()=>{"use strict";ky();nz();iz();nR();az()});var iR=F(()=>{"use strict";oz();nR()});var Zr=F(()=>{"use strict";iu();qS();D3();N3();ud();v9();P3();$b();IA();O3();h2();q3();U3();_2();J3();e4();hd();d2();t4();z3();r4();S4();D4();Fs();eR();Ry();N2();gy();ky();iR()});var sR=fc((aR,oR)=>{"use strict";(function(e,t){typeof aR=="object"&&typeof oR<"u"?oR.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self,e.DOMPurify=t())})(aR,function(){"use strict";let{entries:e,setPrototypeOf:t,isFrozen:r,getPrototypeOf:n,getOwnPropertyDescriptor:i}=Object,{freeze:o,seal:s,create:u}=Object,{apply:f,construct:p}=typeof Reflect<"u"&&Reflect;f||(f=a(function(Ce,Ue,He){return Ce.apply(Ue,He)},"apply")),o||(o=a(function(Ce){return Ce},"freeze")),s||(s=a(function(Ce){return Ce},"seal")),p||(p=a(function(Ce,Ue){return new Ce(...Ue)},"construct"));let g=q(Array.prototype.forEach),y=q(Array.prototype.pop),x=q(Array.prototype.push),b=q(String.prototype.toLowerCase),E=q(String.prototype.toString),A=q(String.prototype.match),O=q(String.prototype.replace),N=q(String.prototype.indexOf),I=q(String.prototype.trim),$=q(RegExp.prototype.test),X=M(TypeError);function q(pe){return function(Ce){for(var Ue=arguments.length,He=new Array(Ue>1?Ue-1:0),Pt=1;Pt<Ue;Pt++)He[Pt-1]=arguments[Pt];return f(pe,Ce,He)}}a(q,"unapply");function M(pe){return function(){for(var Ce=arguments.length,Ue=new Array(Ce),He=0;He<Ce;He++)Ue[He]=arguments[He];return p(pe,Ue)}}a(M,"unconstruct");function B(pe,Ce,Ue){var He;Ue=(He=Ue)!==null&&He!==void 0?He:b,t&&t(pe,null);let Pt=Ce.length;for(;Pt--;){let Lt=Ce[Pt];if(typeof Lt=="string"){let Xt=Ue(Lt);Xt!==Lt&&(r(Ce)||(Ce[Pt]=Xt),Lt=Xt)}pe[Lt]=!0}return pe}a(B,"addToSet");function G(pe){let Ce=u(null);for(let[Ue,He]of e(pe))Ce[Ue]=He;return Ce}a(G,"clone");function U(pe,Ce){for(;pe!==null;){let He=i(pe,Ce);if(He){if(He.get)return q(He.get);if(typeof He.value=="function")return q(He.value)}pe=n(pe)}function Ue(He){return console.warn("fallback value for",He),null}return a(Ue,"fallbackValue"),Ue}a(U,"lookupGetter");let W=o(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),D=o(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),K=o(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),P=o(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),re=o(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),ce=o(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ee=o(["#text"]),H=o(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),te=o(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),J=o(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Y=o(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),de=s(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Fe=s(/<%[\w\W]*|[\w\W]*%>/gm),oe=s(/\${[\w\W]*}/gm),rt=s(/^data-[\-\w.\u00B7-\uFFFF]/),We=s(/^aria-[\-\w]+$/),_e=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ve=s(/^(?:\w+script|data):/i),Ye=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Le=s(/^html$/i);var fe=Object.freeze({__proto__:null,MUSTACHE_EXPR:de,ERB_EXPR:Fe,TMPLIT_EXPR:oe,DATA_ATTR:rt,ARIA_ATTR:We,IS_ALLOWED_URI:_e,IS_SCRIPT_OR_DATA:Ve,ATTR_WHITESPACE:Ye,DOCTYPE_NAME:Le});let le=a(()=>typeof window>"u"?null:window,"getGlobal"),he=a(function(Ce,Ue){if(typeof Ce!="object"||typeof Ce.createPolicy!="function")return null;let He=null,Pt="data-tt-policy-suffix";Ue&&Ue.hasAttribute(Pt)&&(He=Ue.getAttribute(Pt));let Lt="dompurify"+(He?"#"+He:"");try{return Ce.createPolicy(Lt,{createHTML(Xt){return Xt},createScriptURL(Xt){return Xt}})}catch{return console.warn("TrustedTypes policy "+Lt+" could not be created."),null}},"_createTrustedTypesPolicy");function xe(){let pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:le(),Ce=a(gr=>xe(gr),"DOMPurify");if(Ce.version="3.0.5",Ce.removed=[],!pe||!pe.document||pe.document.nodeType!==9)return Ce.isSupported=!1,Ce;let Ue=pe.document,He=Ue.currentScript,{document:Pt}=pe,{DocumentFragment:Lt,HTMLTemplateElement:Xt,Node:Kt,Element:kr,NodeFilter:bt,NamedNodeMap:gt=pe.NamedNodeMap||pe.MozNamedAttrMap,HTMLFormElement:qt,DOMParser:ze,trustedTypes:$e}=pe,Te=kr.prototype,pt=U(Te,"cloneNode"),it=U(Te,"nextSibling"),Qt=U(Te,"childNodes"),_r=U(Te,"parentNode");if(typeof Xt=="function"){let gr=Pt.createElement("template");gr.content&&gr.content.ownerDocument&&(Pt=gr.content.ownerDocument)}let Zt,mr="",{implementation:sn,createNodeIterator:ir,createDocumentFragment:xr,getElementsByTagName:Yt}=Pt,{importNode:hn}=Ue,dn={};Ce.isSupported=typeof e=="function"&&typeof _r=="function"&&sn&&sn.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:pn,ERB_EXPR:tn,TMPLIT_EXPR:rn,DATA_ATTR:Qe,ARIA_ATTR:ge,IS_SCRIPT_OR_DATA:Re,ATTR_WHITESPACE:Pe}=fe,{IS_ALLOWED_URI:Ee}=fe,se=null,Ze=B({},[...W,...D,...K,...re,...ee]),ue=null,Ot=B({},[...H,...te,...J,...Y]),Ae=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),et=null,vt=null,It=!0,Cr=!0,jt=!1,Or=!0,$r=!1,hr=!1,Vr=!1,Nr=!1,ln=!1,di=!1,ri=!1,Da=!0,Vh=!1,Wh="user-content-",Io=!0,ar=!1,dr={},Er=null,Ut=B({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),vn=null,Ge=B({},["audio","video","img","source","image","track"]),No=null,je=B({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),pi="http://www.w3.org/1998/Math/MathML",nc="http://www.w3.org/2000/svg",ma="http://www.w3.org/1999/xhtml",ul=ma,Rs=!1,fl=null,ki=B({},[pi,nc,ma],E),mi,ic=["application/xhtml+xml","text/html"],Hh="text/html",Bn,ac=null,b0=Pt.createElement("form"),Oi=a(function(tt){return tt instanceof RegExp||tt instanceof Function},"isRegexOrFunction"),Kc=a(function(tt){if(!(ac&&ac===tt)){if((!tt||typeof tt!="object")&&(tt={}),tt=G(tt),mi=ic.indexOf(tt.PARSER_MEDIA_TYPE)===-1?mi=Hh:mi=tt.PARSER_MEDIA_TYPE,Bn=mi==="application/xhtml+xml"?E:b,se="ALLOWED_TAGS"in tt?B({},tt.ALLOWED_TAGS,Bn):Ze,ue="ALLOWED_ATTR"in tt?B({},tt.ALLOWED_ATTR,Bn):Ot,fl="ALLOWED_NAMESPACES"in tt?B({},tt.ALLOWED_NAMESPACES,E):ki,No="ADD_URI_SAFE_ATTR"in tt?B(G(je),tt.ADD_URI_SAFE_ATTR,Bn):je,vn="ADD_DATA_URI_TAGS"in tt?B(G(Ge),tt.ADD_DATA_URI_TAGS,Bn):Ge,Er="FORBID_CONTENTS"in tt?B({},tt.FORBID_CONTENTS,Bn):Ut,et="FORBID_TAGS"in tt?B({},tt.FORBID_TAGS,Bn):{},vt="FORBID_ATTR"in tt?B({},tt.FORBID_ATTR,Bn):{},dr="USE_PROFILES"in tt?tt.USE_PROFILES:!1,It=tt.ALLOW_ARIA_ATTR!==!1,Cr=tt.ALLOW_DATA_ATTR!==!1,jt=tt.ALLOW_UNKNOWN_PROTOCOLS||!1,Or=tt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,$r=tt.SAFE_FOR_TEMPLATES||!1,hr=tt.WHOLE_DOCUMENT||!1,ln=tt.RETURN_DOM||!1,di=tt.RETURN_DOM_FRAGMENT||!1,ri=tt.RETURN_TRUSTED_TYPE||!1,Nr=tt.FORCE_BODY||!1,Da=tt.SANITIZE_DOM!==!1,Vh=tt.SANITIZE_NAMED_PROPS||!1,Io=tt.KEEP_CONTENT!==!1,ar=tt.IN_PLACE||!1,Ee=tt.ALLOWED_URI_REGEXP||_e,ul=tt.NAMESPACE||ma,Ae=tt.CUSTOM_ELEMENT_HANDLING||{},tt.CUSTOM_ELEMENT_HANDLING&&Oi(tt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ae.tagNameCheck=tt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),tt.CUSTOM_ELEMENT_HANDLING&&Oi(tt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ae.attributeNameCheck=tt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),tt.CUSTOM_ELEMENT_HANDLING&&typeof tt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ae.allowCustomizedBuiltInElements=tt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),$r&&(Cr=!1),di&&(ln=!0),dr&&(se=B({},[...ee]),ue=[],dr.html===!0&&(B(se,W),B(ue,H)),dr.svg===!0&&(B(se,D),B(ue,te),B(ue,Y)),dr.svgFilters===!0&&(B(se,K),B(ue,te),B(ue,Y)),dr.mathMl===!0&&(B(se,re),B(ue,J),B(ue,Y))),tt.ADD_TAGS&&(se===Ze&&(se=G(se)),B(se,tt.ADD_TAGS,Bn)),tt.ADD_ATTR&&(ue===Ot&&(ue=G(ue)),B(ue,tt.ADD_ATTR,Bn)),tt.ADD_URI_SAFE_ATTR&&B(No,tt.ADD_URI_SAFE_ATTR,Bn),tt.FORBID_CONTENTS&&(Er===Ut&&(Er=G(Er)),B(Er,tt.FORBID_CONTENTS,Bn)),Io&&(se["#text"]=!0),hr&&B(se,["html","head","body"]),se.table&&(B(se,["tbody"]),delete et.tbody),tt.TRUSTED_TYPES_POLICY){if(typeof tt.TRUSTED_TYPES_POLICY.createHTML!="function")throw X('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof tt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw X('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Zt=tt.TRUSTED_TYPES_POLICY,mr=Zt.createHTML("")}else Zt===void 0&&(Zt=he($e,He)),Zt!==null&&typeof mr=="string"&&(mr=Zt.createHTML(""));o&&o(tt),ac=tt}},"_parseConfig"),Ds=B({},["mi","mo","mn","ms","mtext"]),Ji=B({},["foreignobject","desc","title","annotation-xml"]),T0=B({},["title","style","font","a","script"]),is=B({},D);B(is,K),B(is,P);let as=B({},re);B(as,ce);let oc=a(function(tt){let Mt=_r(tt);(!Mt||!Mt.tagName)&&(Mt={namespaceURI:ul,tagName:"template"});let Jt=b(tt.tagName),Xr=b(Mt.tagName);return fl[tt.namespaceURI]?tt.namespaceURI===nc?Mt.namespaceURI===ma?Jt==="svg":Mt.namespaceURI===pi?Jt==="svg"&&(Xr==="annotation-xml"||Ds[Xr]):!!is[Jt]:tt.namespaceURI===pi?Mt.namespaceURI===ma?Jt==="math":Mt.namespaceURI===nc?Jt==="math"&&Ji[Xr]:!!as[Jt]:tt.namespaceURI===ma?Mt.namespaceURI===nc&&!Ji[Xr]||Mt.namespaceURI===pi&&!Ds[Xr]?!1:!as[Jt]&&(T0[Jt]||!is[Jt]):!!(mi==="application/xhtml+xml"&&fl[tt.namespaceURI]):!1},"_checkValidNamespace"),Wr=a(function(tt){x(Ce.removed,{element:tt});try{tt.parentNode.removeChild(tt)}catch{tt.remove()}},"_forceRemove"),Qc=a(function(tt,Mt){try{x(Ce.removed,{attribute:Mt.getAttributeNode(tt),from:Mt})}catch{x(Ce.removed,{attribute:null,from:Mt})}if(Mt.removeAttribute(tt),tt==="is"&&!ue[tt])if(ln||di)try{Wr(Mt)}catch{}else try{Mt.setAttribute(tt,"")}catch{}},"_removeAttribute"),Kr=a(function(tt){let Mt,Jt;if(Nr)tt="<remove></remove>"+tt;else{let Po=A(tt,/^[\r\n\t ]+/);Jt=Po&&Po[0]}mi==="application/xhtml+xml"&&ul===ma&&(tt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+tt+"</body></html>");let Xr=Zt?Zt.createHTML(tt):tt;if(ul===ma)try{Mt=new ze().parseFromString(Xr,mi)}catch{}if(!Mt||!Mt.documentElement){Mt=sn.createDocument(ul,"template",null);try{Mt.documentElement.innerHTML=Rs?mr:Xr}catch{}}let Wi=Mt.body||Mt.documentElement;return tt&&Jt&&Wi.insertBefore(Pt.createTextNode(Jt),Wi.childNodes[0]||null),ul===ma?Yt.call(Mt,hr?"html":"body")[0]:hr?Mt.documentElement:Wi},"_initDocument"),rf=a(function(tt){return ir.call(tt.ownerDocument||tt,tt,bt.SHOW_ELEMENT|bt.SHOW_COMMENT|bt.SHOW_TEXT,null,!1)},"_createIterator"),Qn=a(function(tt){return tt instanceof qt&&(typeof tt.nodeName!="string"||typeof tt.textContent!="string"||typeof tt.removeChild!="function"||!(tt.attributes instanceof gt)||typeof tt.removeAttribute!="function"||typeof tt.setAttribute!="function"||typeof tt.namespaceURI!="string"||typeof tt.insertBefore!="function"||typeof tt.hasChildNodes!="function")},"_isClobbered"),Np=a(function(tt){return typeof Kt=="object"?tt instanceof Kt:tt&&typeof tt=="object"&&typeof tt.nodeType=="number"&&typeof tt.nodeName=="string"},"_isNode"),Ls=a(function(tt,Mt,Jt){dn[tt]&&g(dn[tt],Xr=>{Xr.call(Ce,Mt,Jt,ac)})},"_executeHook"),Vx=a(function(tt){let Mt;if(Ls("beforeSanitizeElements",tt,null),Qn(tt))return Wr(tt),!0;let Jt=Bn(tt.nodeName);if(Ls("uponSanitizeElement",tt,{tagName:Jt,allowedTags:se}),tt.hasChildNodes()&&!Np(tt.firstElementChild)&&(!Np(tt.content)||!Np(tt.content.firstElementChild))&&$(/<[/\w]/g,tt.innerHTML)&&$(/<[/\w]/g,tt.textContent))return Wr(tt),!0;if(!se[Jt]||et[Jt]){if(!et[Jt]&&Vi(Jt)&&(Ae.tagNameCheck instanceof RegExp&&$(Ae.tagNameCheck,Jt)||Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(Jt)))return!1;if(Io&&!Er[Jt]){let Xr=_r(tt)||tt.parentNode,Wi=Qt(tt)||tt.childNodes;if(Wi&&Xr){let Po=Wi.length;for(let Cn=Po-1;Cn>=0;--Cn)Xr.insertBefore(pt(Wi[Cn],!0),it(tt))}}return Wr(tt),!0}return tt instanceof kr&&!oc(tt)||(Jt==="noscript"||Jt==="noembed"||Jt==="noframes")&&$(/<\/no(script|embed|frames)/i,tt.innerHTML)?(Wr(tt),!0):($r&&tt.nodeType===3&&(Mt=tt.textContent,Mt=O(Mt,pn," "),Mt=O(Mt,tn," "),Mt=O(Mt,rn," "),tt.textContent!==Mt&&(x(Ce.removed,{element:tt.cloneNode()}),tt.textContent=Mt)),Ls("afterSanitizeElements",tt,null),!1)},"_sanitizeElements"),k0=a(function(tt,Mt,Jt){if(Da&&(Mt==="id"||Mt==="name")&&(Jt in Pt||Jt in b0))return!1;if(!(Cr&&!vt[Mt]&&$(Qe,Mt))){if(!(It&&$(ge,Mt))){if(!ue[Mt]||vt[Mt]){if(!(Vi(tt)&&(Ae.tagNameCheck instanceof RegExp&&$(Ae.tagNameCheck,tt)||Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(tt))&&(Ae.attributeNameCheck instanceof RegExp&&$(Ae.attributeNameCheck,Mt)||Ae.attributeNameCheck instanceof Function&&Ae.attributeNameCheck(Mt))||Mt==="is"&&Ae.allowCustomizedBuiltInElements&&(Ae.tagNameCheck instanceof RegExp&&$(Ae.tagNameCheck,Jt)||Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(Jt))))return!1}else if(!No[Mt]){if(!$(Ee,O(Jt,Pe,""))){if(!((Mt==="src"||Mt==="xlink:href"||Mt==="href")&&tt!=="script"&&N(Jt,"data:")===0&&vn[tt])){if(!(jt&&!$(Re,O(Jt,Pe,"")))){if(Jt)return!1}}}}}}return!0},"_isValidAttribute"),Vi=a(function(tt){return tt.indexOf("-")>0},"_basicCustomElementTest"),hl=a(function(tt){let Mt,Jt,Xr,Wi;Ls("beforeSanitizeAttributes",tt,null);let{attributes:Po}=tt;if(!Po)return;let Cn={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ue};for(Wi=Po.length;Wi--;){Mt=Po[Wi];let{name:fo,namespaceURI:Pp}=Mt;if(Jt=fo==="value"?Mt.value:I(Mt.value),Xr=Bn(fo),Cn.attrName=Xr,Cn.attrValue=Jt,Cn.keepAttr=!0,Cn.forceKeepAttr=void 0,Ls("uponSanitizeAttribute",tt,Cn),Jt=Cn.attrValue,Cn.forceKeepAttr||(Qc(fo,tt),!Cn.keepAttr))continue;if(!Or&&$(/\/>/i,Jt)){Qc(fo,tt);continue}$r&&(Jt=O(Jt,pn," "),Jt=O(Jt,tn," "),Jt=O(Jt,rn," "));let nf=Bn(tt.nodeName);if(k0(nf,Xr,Jt)){if(Vh&&(Xr==="id"||Xr==="name")&&(Qc(fo,tt),Jt=Wh+Jt),Zt&&typeof $e=="object"&&typeof $e.getAttributeType=="function"&&!Pp)switch($e.getAttributeType(nf,Xr)){case"TrustedHTML":{Jt=Zt.createHTML(Jt);break}case"TrustedScriptURL":{Jt=Zt.createScriptURL(Jt);break}}try{Pp?tt.setAttributeNS(Pp,fo,Jt):tt.setAttribute(fo,Jt),y(Ce.removed)}catch{}}}Ls("afterSanitizeAttributes",tt,null)},"_sanitizeAttributes"),_0=a(function gr(tt){let Mt,Jt=rf(tt);for(Ls("beforeSanitizeShadowDOM",tt,null);Mt=Jt.nextNode();)Ls("uponSanitizeShadowNode",Mt,null),!Vx(Mt)&&(Mt.content instanceof Lt&&gr(Mt.content),hl(Mt));Ls("afterSanitizeShadowDOM",tt,null)},"_sanitizeShadowDOM");return Ce.sanitize=function(gr){let tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Mt,Jt,Xr,Wi;if(Rs=!gr,Rs&&(gr="<!-->"),typeof gr!="string"&&!Np(gr))if(typeof gr.toString=="function"){if(gr=gr.toString(),typeof gr!="string")throw X("dirty is not a string, aborting")}else throw X("toString is not a function");if(!Ce.isSupported)return gr;if(Vr||Kc(tt),Ce.removed=[],typeof gr=="string"&&(ar=!1),ar){if(gr.nodeName){let fo=Bn(gr.nodeName);if(!se[fo]||et[fo])throw X("root node is forbidden and cannot be sanitized in-place")}}else if(gr instanceof Kt)Mt=Kr("<!---->"),Jt=Mt.ownerDocument.importNode(gr,!0),Jt.nodeType===1&&Jt.nodeName==="BODY"||Jt.nodeName==="HTML"?Mt=Jt:Mt.appendChild(Jt);else{if(!ln&&!$r&&!hr&&gr.indexOf("<")===-1)return Zt&&ri?Zt.createHTML(gr):gr;if(Mt=Kr(gr),!Mt)return ln?null:ri?mr:""}Mt&&Nr&&Wr(Mt.firstChild);let Po=rf(ar?gr:Mt);for(;Xr=Po.nextNode();)Vx(Xr)||(Xr.content instanceof Lt&&_0(Xr.content),hl(Xr));if(ar)return gr;if(ln){if(di)for(Wi=xr.call(Mt.ownerDocument);Mt.firstChild;)Wi.appendChild(Mt.firstChild);else Wi=Mt;return(ue.shadowroot||ue.shadowrootmode)&&(Wi=hn.call(Ue,Wi,!0)),Wi}let Cn=hr?Mt.outerHTML:Mt.innerHTML;return hr&&se["!doctype"]&&Mt.ownerDocument&&Mt.ownerDocument.doctype&&Mt.ownerDocument.doctype.name&&$(Le,Mt.ownerDocument.doctype.name)&&(Cn="<!DOCTYPE "+Mt.ownerDocument.doctype.name+`>
`+Cn),$r&&(Cn=O(Cn,pn," "),Cn=O(Cn,tn," "),Cn=O(Cn,rn," ")),Zt&&ri?Zt.createHTML(Cn):Cn},Ce.setConfig=function(gr){Kc(gr),Vr=!0},Ce.clearConfig=function(){ac=null,Vr=!1},Ce.isValidAttribute=function(gr,tt,Mt){ac||Kc({});let Jt=Bn(gr),Xr=Bn(tt);return k0(Jt,Xr,Mt)},Ce.addHook=function(gr,tt){typeof tt=="function"&&(dn[gr]=dn[gr]||[],x(dn[gr],tt))},Ce.removeHook=function(gr){if(dn[gr])return y(dn[gr])},Ce.removeHooks=function(gr){dn[gr]&&(dn[gr]=[])},Ce.removeAllHooks=function(){dn={}},Ce}a(xe,"createDOMPurify");var ke=xe();return ke})});var Am,Rm,PCe,lz,sz,zn,OCe,MCe,FCe,BCe,cz,qCe,jn,zCe,UCe,Cf,lR,$Ce,GCe,Et,en=F(()=>{"use strict";Am=go(sR(),1),Rm=/<br\s*\/?>/gi,PCe=a(e=>e?cz(e).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),lz=a(e=>{let t="data-temp-href-target";Am.default.addHook("beforeSanitizeAttributes",n=>{n.tagName==="A"&&n.hasAttribute("target")&&n.setAttribute(t,n.getAttribute("target")||"")});let r=Am.default.sanitize(e);return Am.default.addHook("afterSanitizeAttributes",n=>{n.tagName==="A"&&n.hasAttribute(t)&&(n.setAttribute("target",n.getAttribute(t)||""),n.removeAttribute(t),n.getAttribute("target")==="_blank"&&n.setAttribute("rel","noopener"))}),r},"removeScript"),sz=a((e,t)=>{if(t.flowchart?.htmlLabels!==!1){let r=t.securityLevel;r==="antiscript"||r==="strict"?e=lz(e):r!=="loose"&&(e=cz(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=BCe(e))}return e},"sanitizeMore"),zn=a((e,t)=>e&&(t.dompurifyConfig?e=Am.default.sanitize(sz(e,t),t.dompurifyConfig).toString():e=Am.default.sanitize(sz(e,t),{FORBID_TAGS:["style"]}).toString(),e),"sanitizeText"),OCe=a((e,t)=>typeof e=="string"?zn(e,t):e.flat().map(r=>zn(r,t)),"sanitizeTextOrArray"),MCe=a(e=>Rm.test(e),"hasBreaks"),FCe=a(e=>e.split(Rm),"splitBreaks"),BCe=a(e=>e.replace(/#br#/g,"<br/>"),"placeholderToBreak"),cz=a(e=>e.replace(Rm,"#br#"),"breakToPlaceholder"),qCe=a(e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=t.replaceAll(/\(/g,"\\("),t=t.replaceAll(/\)/g,"\\)")),t},"getUrl"),jn=a(e=>!(e===!1||["false","null","0"].includes(String(e).trim().toLowerCase())),"evaluate"),zCe=a(function(...e){let t=e.filter(r=>!isNaN(r));return Math.max(...t)},"getMax"),UCe=a(function(...e){let t=e.filter(r=>!isNaN(r));return Math.min(...t)},"getMin"),Cf=a(function(e){let t=e.split(/(,)/),r=[];for(let n=0;n<t.length;n++){let i=t[n];if(i===","&&n>0&&n+1<t.length){let o=t[n-1],s=t[n+1];$Ce(o,s)&&(i=o+","+s,n++,r.pop())}r.push(GCe(i))}return r.join("")},"parseGenericTypes"),lR=a((e,t)=>Math.max(0,e.split(t).length-1),"countOccurrence"),$Ce=a((e,t)=>{let r=lR(e,"~"),n=lR(t,"~");return r===1&&n===1},"shouldCombineSets"),GCe=a(e=>{let t=lR(e,"~"),r=!1;if(t<=1)return e;t%2!==0&&e.startsWith("~")&&(e=e.substring(1),r=!0);let n=[...e],i=n.indexOf("~"),o=n.lastIndexOf("~");for(;i!==-1&&o!==-1&&i!==o;)n[i]="<",n[o]=">",i=n.indexOf("~"),o=n.lastIndexOf("~");return r&&n.unshift("~"),n.join("")},"processSet"),Et={getRows:PCe,sanitizeText:zn,sanitizeTextOrArray:OCe,hasBreaks:MCe,splitBreaks:FCe,lineBreakRegex:Rm,removeScript:lz,getUrl:qCe,evaluate:jn,getMax:zCe,getMin:UCe}});var J2,uz,fz=F(()=>{"use strict";J2={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{let t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<.16666666666666666?e+(t-e)*6*r:r<.5?t:r<.6666666666666666?e+(t-e)*(.6666666666666666-r)*6:e),hsl2rgb:({h:e,s:t,l:r},n)=>{if(!t)return r*2.55;e/=360,t/=100,r/=100;let i=r<.5?r*(1+t):r+t-r*t,o=2*r-i;switch(n){case"r":return J2.hue2rgb(o,i,e+.3333333333333333)*255;case"g":return J2.hue2rgb(o,i,e)*255;case"b":return J2.hue2rgb(o,i,e-.3333333333333333)*255}},rgb2hsl:({r:e,g:t,b:r},n)=>{e/=255,t/=255,r/=255;let i=Math.max(e,t,r),o=Math.min(e,t,r),s=(i+o)/2;if(n==="l")return s*100;if(i===o)return 0;let u=i-o,f=s>.5?u/(2-i-o):u/(i+o);if(n==="s")return f*100;switch(i){case e:return((t-r)/u+(t<r?6:0))*60;case t:return((r-e)/u+2)*60;case r:return((e-t)/u+4)*60;default:return-1}}},uz=J2});var VCe,hz,dz=F(()=>{"use strict";VCe={clamp:(e,t,r)=>t>r?Math.min(t,Math.max(r,e)):Math.min(r,Math.max(t,e)),round:e=>Math.round(e*1e10)/1e10},hz=VCe});var WCe,pz,mz=F(()=>{"use strict";WCe={dec2hex:e=>{let t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}},pz=WCe});var HCe,vr,vc=F(()=>{"use strict";fz();dz();mz();HCe={channel:uz,lang:hz,unit:pz},vr=HCe});var mu,na,zy=F(()=>{"use strict";vc();mu={};for(let e=0;e<=255;e++)mu[e]=vr.unit.dec2hex(e);na={ALL:0,RGB:1,HSL:2}});var cR,gz,yz=F(()=>{"use strict";zy();cR=class{static{a(this,"Type")}constructor(){this.type=na.ALL}get(){return this.type}set(t){if(this.type&&this.type!==t)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=t}reset(){this.type=na.ALL}is(t){return this.type===t}},gz=cR});var uR,vz,xz=F(()=>{"use strict";vc();yz();zy();uR=class{static{a(this,"Channels")}constructor(t,r){this.color=r,this.changed=!1,this.data=t,this.type=new gz}set(t,r){return this.color=r,this.changed=!1,this.data=t,this.type.type=na.ALL,this}_ensureHSL(){let t=this.data,{h:r,s:n,l:i}=t;r===void 0&&(t.h=vr.channel.rgb2hsl(t,"h")),n===void 0&&(t.s=vr.channel.rgb2hsl(t,"s")),i===void 0&&(t.l=vr.channel.rgb2hsl(t,"l"))}_ensureRGB(){let t=this.data,{r,g:n,b:i}=t;r===void 0&&(t.r=vr.channel.hsl2rgb(t,"r")),n===void 0&&(t.g=vr.channel.hsl2rgb(t,"g")),i===void 0&&(t.b=vr.channel.hsl2rgb(t,"b"))}get r(){let t=this.data,r=t.r;return!this.type.is(na.HSL)&&r!==void 0?r:(this._ensureHSL(),vr.channel.hsl2rgb(t,"r"))}get g(){let t=this.data,r=t.g;return!this.type.is(na.HSL)&&r!==void 0?r:(this._ensureHSL(),vr.channel.hsl2rgb(t,"g"))}get b(){let t=this.data,r=t.b;return!this.type.is(na.HSL)&&r!==void 0?r:(this._ensureHSL(),vr.channel.hsl2rgb(t,"b"))}get h(){let t=this.data,r=t.h;return!this.type.is(na.RGB)&&r!==void 0?r:(this._ensureRGB(),vr.channel.rgb2hsl(t,"h"))}get s(){let t=this.data,r=t.s;return!this.type.is(na.RGB)&&r!==void 0?r:(this._ensureRGB(),vr.channel.rgb2hsl(t,"s"))}get l(){let t=this.data,r=t.l;return!this.type.is(na.RGB)&&r!==void 0?r:(this._ensureRGB(),vr.channel.rgb2hsl(t,"l"))}get a(){return this.data.a}set r(t){this.type.set(na.RGB),this.changed=!0,this.data.r=t}set g(t){this.type.set(na.RGB),this.changed=!0,this.data.g=t}set b(t){this.type.set(na.RGB),this.changed=!0,this.data.b=t}set h(t){this.type.set(na.HSL),this.changed=!0,this.data.h=t}set s(t){this.type.set(na.HSL),this.changed=!0,this.data.s=t}set l(t){this.type.set(na.HSL),this.changed=!0,this.data.l=t}set a(t){this.changed=!0,this.data.a=t}},vz=uR});var jCe,Sf,Uy=F(()=>{"use strict";xz();jCe=new vz({r:0,g:0,b:0,a:0},"transparent"),Sf=jCe});var bz,Ed,fR=F(()=>{"use strict";Uy();zy();bz={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(e.charCodeAt(0)!==35)return;let t=e.match(bz.re);if(!t)return;let r=t[1],n=parseInt(r,16),i=r.length,o=i%4===0,s=i>4,u=s?1:17,f=s?8:4,p=o?0:-1,g=s?255:15;return Sf.set({r:(n>>f*(p+3)&g)*u,g:(n>>f*(p+2)&g)*u,b:(n>>f*(p+1)&g)*u,a:o?(n&g)*u/255:1},e)},stringify:e=>{let{r:t,g:r,b:n,a:i}=e;return i<1?`#${mu[Math.round(t)]}${mu[Math.round(r)]}${mu[Math.round(n)]}${mu[Math.round(i*255)]}`:`#${mu[Math.round(t)]}${mu[Math.round(r)]}${mu[Math.round(n)]}`}},Ed=bz});var eT,$y,Tz=F(()=>{"use strict";vc();Uy();eT={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{let t=e.match(eT.hueRe);if(t){let[,r,n]=t;switch(n){case"grad":return vr.channel.clamp.h(parseFloat(r)*.9);case"rad":return vr.channel.clamp.h(parseFloat(r)*180/Math.PI);case"turn":return vr.channel.clamp.h(parseFloat(r)*360)}}return vr.channel.clamp.h(parseFloat(e))},parse:e=>{let t=e.charCodeAt(0);if(t!==104&&t!==72)return;let r=e.match(eT.re);if(!r)return;let[,n,i,o,s,u]=r;return Sf.set({h:eT._hue2deg(n),s:vr.channel.clamp.s(parseFloat(i)),l:vr.channel.clamp.l(parseFloat(o)),a:s?vr.channel.clamp.a(u?parseFloat(s)/100:parseFloat(s)):1},e)},stringify:e=>{let{h:t,s:r,l:n,a:i}=e;return i<1?`hsla(${vr.lang.round(t)}, ${vr.lang.round(r)}%, ${vr.lang.round(n)}%, ${i})`:`hsl(${vr.lang.round(t)}, ${vr.lang.round(r)}%, ${vr.lang.round(n)}%)`}},$y=eT});var tT,hR,kz=F(()=>{"use strict";fR();tT={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();let t=tT.colors[e];if(t)return Ed.parse(t)},stringify:e=>{let t=Ed.stringify(e);for(let r in tT.colors)if(tT.colors[r]===t)return r}},hR=tT});var _z,Gy,wz=F(()=>{"use strict";vc();Uy();_z={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{let t=e.charCodeAt(0);if(t!==114&&t!==82)return;let r=e.match(_z.re);if(!r)return;let[,n,i,o,s,u,f,p,g]=r;return Sf.set({r:vr.channel.clamp.r(i?parseFloat(n)*2.55:parseFloat(n)),g:vr.channel.clamp.g(s?parseFloat(o)*2.55:parseFloat(o)),b:vr.channel.clamp.b(f?parseFloat(u)*2.55:parseFloat(u)),a:p?vr.channel.clamp.a(g?parseFloat(p)/100:parseFloat(p)):1},e)},stringify:e=>{let{r:t,g:r,b:n,a:i}=e;return i<1?`rgba(${vr.lang.round(t)}, ${vr.lang.round(r)}, ${vr.lang.round(n)}, ${vr.lang.round(i)})`:`rgb(${vr.lang.round(t)}, ${vr.lang.round(r)}, ${vr.lang.round(n)})`}},Gy=_z});var YCe,ia,gu=F(()=>{"use strict";fR();Tz();kz();wz();zy();YCe={format:{keyword:hR,hex:Ed,rgb:Gy,rgba:Gy,hsl:$y,hsla:$y},parse:e=>{if(typeof e!="string")return e;let t=Ed.parse(e)||Gy.parse(e)||$y.parse(e)||hR.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},stringify:e=>!e.changed&&e.color?e.color:e.type.is(na.HSL)||e.data.r===void 0?$y.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?Gy.stringify(e):Ed.stringify(e)},ia=YCe});var XCe,rT,dR=F(()=>{"use strict";vc();gu();XCe=a((e,t)=>{let r=ia.parse(e);for(let n in t)r[n]=vr.channel.clamp[n](t[n]);return ia.stringify(r)},"change"),rT=XCe});var KCe,Sl,pR=F(()=>{"use strict";vc();Uy();gu();dR();KCe=a((e,t,r=0,n=1)=>{if(typeof e!="number")return rT(e,{a:t});let i=Sf.set({r:vr.channel.clamp.r(e),g:vr.channel.clamp.g(t),b:vr.channel.clamp.b(r),a:vr.channel.clamp.a(n)});return ia.stringify(i)},"rgba"),Sl=KCe});var QCe,mR,Ez=F(()=>{"use strict";vc();gu();QCe=a((e,t)=>vr.lang.round(ia.parse(e)[t]),"channel"),mR=QCe});var ZCe,Cz,Sz=F(()=>{"use strict";vc();gu();ZCe=a(e=>{let{r:t,g:r,b:n}=ia.parse(e),i=.2126*vr.channel.toLinear(t)+.7152*vr.channel.toLinear(r)+.0722*vr.channel.toLinear(n);return vr.lang.round(i)},"luminance"),Cz=ZCe});var JCe,Az,Rz=F(()=>{"use strict";Sz();JCe=a(e=>Cz(e)>=.5,"isLight"),Az=JCe});var eSe,vo,Dz=F(()=>{"use strict";Rz();eSe=a(e=>!Az(e),"isDark"),vo=eSe});var tSe,nT,gR=F(()=>{"use strict";vc();gu();tSe=a((e,t,r)=>{let n=ia.parse(e),i=n[t],o=vr.channel.clamp[t](i+r);return i!==o&&(n[t]=o),ia.stringify(n)},"adjustChannel"),nT=tSe});var rSe,tr,Lz=F(()=>{"use strict";gR();rSe=a((e,t)=>nT(e,"l",t),"lighten"),tr=rSe});var nSe,ur,Iz=F(()=>{"use strict";gR();nSe=a((e,t)=>nT(e,"l",-t),"darken"),ur=nSe});var iSe,at,Nz=F(()=>{"use strict";gu();dR();iSe=a((e,t)=>{let r=ia.parse(e),n={};for(let i in t)t[i]&&(n[i]=r[i]+t[i]);return rT(e,n)},"adjust"),at=iSe});var aSe,Pz,Oz=F(()=>{"use strict";gu();pR();aSe=a((e,t,r=50)=>{let{r:n,g:i,b:o,a:s}=ia.parse(e),{r:u,g:f,b:p,a:g}=ia.parse(t),y=r/100,x=y*2-1,b=s-g,A=((x*b===-1?x:(x+b)/(1+x*b))+1)/2,O=1-A,N=n*A+u*O,I=i*A+f*O,$=o*A+p*O,X=s*y+g*(1-y);return Sl(N,I,$,X)},"mix"),Pz=aSe});var oSe,Gt,Mz=F(()=>{"use strict";gu();Oz();oSe=a((e,t=100)=>{let r=ia.parse(e);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,Pz(r,e,t)},"invert"),Gt=oSe});var Fz=F(()=>{"use strict";pR();Ez();Dz();Lz();Iz();Nz();Mz()});var xc=F(()=>{"use strict";Fz()});var Hi,Dm=F(()=>{"use strict";xc();Hi=a((e,t)=>t?at(e,{s:-40,l:10}):at(e,{s:-40,l:-10}),"mkBorder")});var Af,Rf,Vy=F(()=>{"use strict";Af="#ffffff",Rf="#f2f2f2"});var yR,Bz,qz=F(()=>{"use strict";xc();Dm();Vy();yR=class{static{a(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||at(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||at(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||Hi(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||Hi(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||Hi(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||Hi(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||Gt(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||Gt(this.tertiaryColor),this.lineColor=this.lineColor||Gt(this.background),this.arrowheadColor=this.arrowheadColor||Gt(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?ur(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||ur(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||Gt(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||tr(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||at(this.primaryColor,{h:30}),this.cScale4=this.cScale4||at(this.primaryColor,{h:60}),this.cScale5=this.cScale5||at(this.primaryColor,{h:90}),this.cScale6=this.cScale6||at(this.primaryColor,{h:120}),this.cScale7=this.cScale7||at(this.primaryColor,{h:150}),this.cScale8=this.cScale8||at(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||at(this.primaryColor,{h:270}),this.cScale10=this.cScale10||at(this.primaryColor,{h:300}),this.cScale11=this.cScale11||at(this.primaryColor,{h:330}),this.darkMode)for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScale"+r]=ur(this["cScale"+r],75);else for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScale"+r]=ur(this["cScale"+r],25);for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScaleInv"+r]=this["cScaleInv"+r]||Gt(this["cScale"+r]);for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this.darkMode?this["cScalePeer"+r]=this["cScalePeer"+r]||tr(this["cScale"+r],10):this["cScalePeer"+r]=this["cScalePeer"+r]||ur(this["cScale"+r],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScaleLabel"+r]=this["cScaleLabel"+r]||this.scaleLabelColor;let t=this.darkMode?-4:-1;for(let r=0;r<5;r++)this["surface"+r]=this["surface"+r]||at(this.mainBkg,{h:180,s:-15,l:t*(5+r*3)}),this["surfacePeer"+r]=this["surfacePeer"+r]||at(this.mainBkg,{h:180,s:-15,l:t*(8+r*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||at(this.primaryColor,{h:64}),this.fillType3=this.fillType3||at(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||at(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||at(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||at(this.primaryColor,{h:128}),this.fillType7=this.fillType7||at(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||at(this.primaryColor,{l:-10}),this.pie5=this.pie5||at(this.secondaryColor,{l:-10}),this.pie6=this.pie6||at(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||at(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||at(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||at(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||at(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||at(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||at(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||at(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||at(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||at(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||at(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||at(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||at(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||vo(this.quadrant1Fill)?tr(this.quadrant1Fill):ur(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?ur(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||at(this.primaryColor,{h:-30}),this.git4=this.git4||at(this.primaryColor,{h:-60}),this.git5=this.git5||at(this.primaryColor,{h:-90}),this.git6=this.git6||at(this.primaryColor,{h:60}),this.git7=this.git7||at(this.primaryColor,{h:120}),this.darkMode?(this.git0=tr(this.git0,25),this.git1=tr(this.git1,25),this.git2=tr(this.git2,25),this.git3=tr(this.git3,25),this.git4=tr(this.git4,25),this.git5=tr(this.git5,25),this.git6=tr(this.git6,25),this.git7=tr(this.git7,25)):(this.git0=ur(this.git0,25),this.git1=ur(this.git1,25),this.git2=ur(this.git2,25),this.git3=ur(this.git3,25),this.git4=ur(this.git4,25),this.git5=ur(this.git5,25),this.git6=ur(this.git6,25),this.git7=ur(this.git7,25)),this.gitInv0=this.gitInv0||Gt(this.git0),this.gitInv1=this.gitInv1||Gt(this.git1),this.gitInv2=this.gitInv2||Gt(this.git2),this.gitInv3=this.gitInv3||Gt(this.git3),this.gitInv4=this.gitInv4||Gt(this.git4),this.gitInv5=this.gitInv5||Gt(this.git5),this.gitInv6=this.gitInv6||Gt(this.git6),this.gitInv7=this.gitInv7||Gt(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Af,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Rf}calculate(t){if(typeof t!="object"){this.updateColors();return}let r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},Bz=a(e=>{let t=new yR;return t.calculate(e),t},"getThemeVariables")});var vR,zz,Uz=F(()=>{"use strict";xc();Dm();vR=class{static{a(this,"Theme")}constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=tr(this.primaryColor,16),this.tertiaryColor=at(this.primaryColor,{h:-160}),this.primaryBorderColor=Gt(this.background),this.secondaryBorderColor=Hi(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Hi(this.tertiaryColor,this.darkMode),this.primaryTextColor=Gt(this.primaryColor),this.secondaryTextColor=Gt(this.secondaryColor),this.tertiaryTextColor=Gt(this.tertiaryColor),this.lineColor=Gt(this.background),this.textColor=Gt(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=tr(Gt("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=Sl(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=ur("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=ur(this.sectionBkgColor,10),this.taskBorderColor=Sl(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=Sl(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=tr(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=tr(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=tr(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=at(this.primaryColor,{h:64}),this.fillType3=at(this.secondaryColor,{h:64}),this.fillType4=at(this.primaryColor,{h:-64}),this.fillType5=at(this.secondaryColor,{h:-64}),this.fillType6=at(this.primaryColor,{h:128}),this.fillType7=at(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||at(this.primaryColor,{h:30}),this.cScale4=this.cScale4||at(this.primaryColor,{h:60}),this.cScale5=this.cScale5||at(this.primaryColor,{h:90}),this.cScale6=this.cScale6||at(this.primaryColor,{h:120}),this.cScale7=this.cScale7||at(this.primaryColor,{h:150}),this.cScale8=this.cScale8||at(this.primaryColor,{h:210}),this.cScale9=this.cScale9||at(this.primaryColor,{h:270}),this.cScale10=this.cScale10||at(this.primaryColor,{h:300}),this.cScale11=this.cScale11||at(this.primaryColor,{h:330});for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||Gt(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScalePeer"+t]=this["cScalePeer"+t]||tr(this["cScale"+t],10);for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||at(this.mainBkg,{h:30,s:-30,l:-(-10+t*4)}),this["surfacePeer"+t]=this["surfacePeer"+t]||at(this.mainBkg,{h:30,s:-30,l:-(-7+t*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["pie"+t]=this["cScale"+t];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||at(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||at(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||at(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||at(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||at(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||at(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||vo(this.quadrant1Fill)?tr(this.quadrant1Fill):ur(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?ur(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=tr(this.secondaryColor,20),this.git1=tr(this.pie2||this.secondaryColor,20),this.git2=tr(this.pie3||this.tertiaryColor,20),this.git3=tr(this.pie4||at(this.primaryColor,{h:-30}),20),this.git4=tr(this.pie5||at(this.primaryColor,{h:-60}),20),this.git5=tr(this.pie6||at(this.primaryColor,{h:-90}),10),this.git6=tr(this.pie7||at(this.primaryColor,{h:60}),10),this.git7=tr(this.pie8||at(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||Gt(this.git0),this.gitInv1=this.gitInv1||Gt(this.git1),this.gitInv2=this.gitInv2||Gt(this.git2),this.gitInv3=this.gitInv3||Gt(this.git3),this.gitInv4=this.gitInv4||Gt(this.git4),this.gitInv5=this.gitInv5||Gt(this.git5),this.gitInv6=this.gitInv6||Gt(this.git6),this.gitInv7=this.gitInv7||Gt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Gt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Gt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||tr(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||tr(this.background,2)}calculate(t){if(typeof t!="object"){this.updateColors();return}let r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},zz=a(e=>{let t=new vR;return t.calculate(e),t},"getThemeVariables")});var xR,Lm,iT=F(()=>{"use strict";xc();Dm();Vy();xR=class{static{a(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=at(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=at(this.primaryColor,{h:-160}),this.primaryBorderColor=Hi(this.primaryColor,this.darkMode),this.secondaryBorderColor=Hi(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Hi(this.tertiaryColor,this.darkMode),this.primaryTextColor=Gt(this.primaryColor),this.secondaryTextColor=Gt(this.secondaryColor),this.tertiaryTextColor=Gt(this.tertiaryColor),this.lineColor=Gt(this.background),this.textColor=Gt(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=Sl(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||at(this.primaryColor,{h:30}),this.cScale4=this.cScale4||at(this.primaryColor,{h:60}),this.cScale5=this.cScale5||at(this.primaryColor,{h:90}),this.cScale6=this.cScale6||at(this.primaryColor,{h:120}),this.cScale7=this.cScale7||at(this.primaryColor,{h:150}),this.cScale8=this.cScale8||at(this.primaryColor,{h:210}),this.cScale9=this.cScale9||at(this.primaryColor,{h:270}),this.cScale10=this.cScale10||at(this.primaryColor,{h:300}),this.cScale11=this.cScale11||at(this.primaryColor,{h:330}),this["cScalePeer1"]=this["cScalePeer1"]||ur(this.secondaryColor,45),this["cScalePeer2"]=this["cScalePeer2"]||ur(this.tertiaryColor,40);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=ur(this["cScale"+t],10),this["cScalePeer"+t]=this["cScalePeer"+t]||ur(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||at(this["cScale"+t],{h:180});for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||at(this.mainBkg,{h:30,l:-(5+t*5)}),this["surfacePeer"+t]=this["surfacePeer"+t]||at(this.mainBkg,{h:30,l:-(7+t*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||Gt(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||Gt(this.labelTextColor);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=tr(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=at(this.primaryColor,{h:64}),this.fillType3=at(this.secondaryColor,{h:64}),this.fillType4=at(this.primaryColor,{h:-64}),this.fillType5=at(this.secondaryColor,{h:-64}),this.fillType6=at(this.primaryColor,{h:128}),this.fillType7=at(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||at(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||at(this.primaryColor,{l:-10}),this.pie5=this.pie5||at(this.secondaryColor,{l:-30}),this.pie6=this.pie6||at(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||at(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||at(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||at(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||at(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||at(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||at(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||at(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||at(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||at(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||at(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||at(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||at(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||vo(this.quadrant1Fill)?tr(this.quadrant1Fill):ur(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||at(this.primaryColor,{h:-30}),this.git4=this.git4||at(this.primaryColor,{h:-60}),this.git5=this.git5||at(this.primaryColor,{h:-90}),this.git6=this.git6||at(this.primaryColor,{h:60}),this.git7=this.git7||at(this.primaryColor,{h:120}),this.darkMode?(this.git0=tr(this.git0,25),this.git1=tr(this.git1,25),this.git2=tr(this.git2,25),this.git3=tr(this.git3,25),this.git4=tr(this.git4,25),this.git5=tr(this.git5,25),this.git6=tr(this.git6,25),this.git7=tr(this.git7,25)):(this.git0=ur(this.git0,25),this.git1=ur(this.git1,25),this.git2=ur(this.git2,25),this.git3=ur(this.git3,25),this.git4=ur(this.git4,25),this.git5=ur(this.git5,25),this.git6=ur(this.git6,25),this.git7=ur(this.git7,25)),this.gitInv0=this.gitInv0||ur(Gt(this.git0),25),this.gitInv1=this.gitInv1||Gt(this.git1),this.gitInv2=this.gitInv2||Gt(this.git2),this.gitInv3=this.gitInv3||Gt(this.git3),this.gitInv4=this.gitInv4||Gt(this.git4),this.gitInv5=this.gitInv5||Gt(this.git5),this.gitInv6=this.gitInv6||Gt(this.git6),this.gitInv7=this.gitInv7||Gt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Gt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Gt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Af,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Rf}calculate(t){if(typeof t!="object"){this.updateColors();return}let r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},Lm=a(e=>{let t=new xR;return t.calculate(e),t},"getThemeVariables")});var bR,$z,Gz=F(()=>{"use strict";xc();Dm();Vy();bR=class{static{a(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=tr("#cde498",10),this.primaryBorderColor=Hi(this.primaryColor,this.darkMode),this.secondaryBorderColor=Hi(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Hi(this.tertiaryColor,this.darkMode),this.primaryTextColor=Gt(this.primaryColor),this.secondaryTextColor=Gt(this.secondaryColor),this.tertiaryTextColor=Gt(this.primaryColor),this.lineColor=Gt(this.background),this.textColor=Gt(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=ur(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||at(this.primaryColor,{h:30}),this.cScale4=this.cScale4||at(this.primaryColor,{h:60}),this.cScale5=this.cScale5||at(this.primaryColor,{h:90}),this.cScale6=this.cScale6||at(this.primaryColor,{h:120}),this.cScale7=this.cScale7||at(this.primaryColor,{h:150}),this.cScale8=this.cScale8||at(this.primaryColor,{h:210}),this.cScale9=this.cScale9||at(this.primaryColor,{h:270}),this.cScale10=this.cScale10||at(this.primaryColor,{h:300}),this.cScale11=this.cScale11||at(this.primaryColor,{h:330}),this["cScalePeer1"]=this["cScalePeer1"]||ur(this.secondaryColor,45),this["cScalePeer2"]=this["cScalePeer2"]||ur(this.tertiaryColor,40);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=ur(this["cScale"+t],10),this["cScalePeer"+t]=this["cScalePeer"+t]||ur(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||at(this["cScale"+t],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||at(this.mainBkg,{h:30,s:-30,l:-(5+t*5)}),this["surfacePeer"+t]=this["surfacePeer"+t]||at(this.mainBkg,{h:30,s:-30,l:-(8+t*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=at(this.primaryColor,{h:64}),this.fillType3=at(this.secondaryColor,{h:64}),this.fillType4=at(this.primaryColor,{h:-64}),this.fillType5=at(this.secondaryColor,{h:-64}),this.fillType6=at(this.primaryColor,{h:128}),this.fillType7=at(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||at(this.primaryColor,{l:-30}),this.pie5=this.pie5||at(this.secondaryColor,{l:-30}),this.pie6=this.pie6||at(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||at(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||at(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||at(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||at(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||at(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||at(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||at(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||at(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||at(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||at(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||at(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||at(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||vo(this.quadrant1Fill)?tr(this.quadrant1Fill):ur(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||at(this.primaryColor,{h:-30}),this.git4=this.git4||at(this.primaryColor,{h:-60}),this.git5=this.git5||at(this.primaryColor,{h:-90}),this.git6=this.git6||at(this.primaryColor,{h:60}),this.git7=this.git7||at(this.primaryColor,{h:120}),this.darkMode?(this.git0=tr(this.git0,25),this.git1=tr(this.git1,25),this.git2=tr(this.git2,25),this.git3=tr(this.git3,25),this.git4=tr(this.git4,25),this.git5=tr(this.git5,25),this.git6=tr(this.git6,25),this.git7=tr(this.git7,25)):(this.git0=ur(this.git0,25),this.git1=ur(this.git1,25),this.git2=ur(this.git2,25),this.git3=ur(this.git3,25),this.git4=ur(this.git4,25),this.git5=ur(this.git5,25),this.git6=ur(this.git6,25),this.git7=ur(this.git7,25)),this.gitInv0=this.gitInv0||Gt(this.git0),this.gitInv1=this.gitInv1||Gt(this.git1),this.gitInv2=this.gitInv2||Gt(this.git2),this.gitInv3=this.gitInv3||Gt(this.git3),this.gitInv4=this.gitInv4||Gt(this.git4),this.gitInv5=this.gitInv5||Gt(this.git5),this.gitInv6=this.gitInv6||Gt(this.git6),this.gitInv7=this.gitInv7||Gt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Gt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Gt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Af,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Rf}calculate(t){if(typeof t!="object"){this.updateColors();return}let r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},$z=a(e=>{let t=new bR;return t.calculate(e),t},"getThemeVariables")});var TR,Vz,Wz=F(()=>{"use strict";xc();Dm();Vy();TR=class{static{a(this,"Theme")}constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=tr(this.contrast,55),this.background="#ffffff",this.tertiaryColor=at(this.primaryColor,{h:-160}),this.primaryBorderColor=Hi(this.primaryColor,this.darkMode),this.secondaryBorderColor=Hi(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Hi(this.tertiaryColor,this.darkMode),this.primaryTextColor=Gt(this.primaryColor),this.secondaryTextColor=Gt(this.secondaryColor),this.tertiaryTextColor=Gt(this.tertiaryColor),this.lineColor=Gt(this.background),this.textColor=Gt(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=tr(this.contrast,55),this.border2=this.contrast,this.actorBorder=tr(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||Gt(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this.darkMode?this["cScalePeer"+t]=this["cScalePeer"+t]||tr(this["cScale"+t],10):this["cScalePeer"+t]=this["cScalePeer"+t]||ur(this["cScale"+t],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||at(this.mainBkg,{l:-(5+t*5)}),this["surfacePeer"+t]=this["surfacePeer"+t]||at(this.mainBkg,{l:-(8+t*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=tr(this.contrast,30),this.sectionBkgColor2=tr(this.contrast,30),this.taskBorderColor=ur(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=tr(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=ur(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=at(this.primaryColor,{h:64}),this.fillType3=at(this.secondaryColor,{h:64}),this.fillType4=at(this.primaryColor,{h:-64}),this.fillType5=at(this.secondaryColor,{h:-64}),this.fillType6=at(this.primaryColor,{h:128}),this.fillType7=at(this.secondaryColor,{h:128});for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["pie"+t]=this["cScale"+t];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||at(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||at(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||at(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||at(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||at(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||at(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||vo(this.quadrant1Fill)?tr(this.quadrant1Fill):ur(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=ur(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||at(this.primaryColor,{h:-30}),this.git4=this.pie5||at(this.primaryColor,{h:-60}),this.git5=this.pie6||at(this.primaryColor,{h:-90}),this.git6=this.pie7||at(this.primaryColor,{h:60}),this.git7=this.pie8||at(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||Gt(this.git0),this.gitInv1=this.gitInv1||Gt(this.git1),this.gitInv2=this.gitInv2||Gt(this.git2),this.gitInv3=this.gitInv3||Gt(this.git3),this.gitInv4=this.gitInv4||Gt(this.git4),this.gitInv5=this.gitInv5||Gt(this.git5),this.gitInv6=this.gitInv6||Gt(this.git6),this.gitInv7=this.gitInv7||Gt(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Af,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Rf}calculate(t){if(typeof t!="object"){this.updateColors();return}let r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},Vz=a(e=>{let t=new TR;return t.calculate(e),t},"getThemeVariables")});var zs,aT=F(()=>{"use strict";qz();Uz();iT();Gz();Wz();zs={base:{getThemeVariables:Bz},dark:{getThemeVariables:zz},default:{getThemeVariables:Lm},forest:{getThemeVariables:$z},neutral:{getThemeVariables:Vz}}});var bc,Hz=F(()=>{"use strict";bc={flowchart:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},theme:"default",maxTextSize:5e4,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize"],deterministicIds:!1,fontSize:16}});var jz,Yz,Xz,si,Im=F(()=>{"use strict";aT();Hz();jz={...bc,deterministicIDSeed:void 0,themeCSS:void 0,themeVariables:zs.default.getThemeVariables(),sequence:{...bc.sequence,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{...bc.gantt,tickInterval:void 0,useWidth:void 0},c4:{...bc.c4,useWidth:void 0,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}}},pie:{...bc.pie,useWidth:984},xyChart:{...bc.xyChart,useWidth:void 0},requirement:{...bc.requirement,useWidth:void 0},gitGraph:{...bc.gitGraph,useMaxWidth:!1},sankey:{...bc.sankey,useMaxWidth:!1}},Yz=a((e,t="")=>Object.keys(e).reduce((r,n)=>Array.isArray(e[n])?r:typeof e[n]=="object"&&e[n]!==null?[...r,t+n,...Yz(e[n],"")]:[...r,t+n],[]),"keyify"),Xz=new Set(Yz(jz,"")),si=jz});var Nm,lSe,kR=F(()=>{"use strict";Im();br();Nm=a(e=>{if(ye.debug("sanitizeDirective called with",e),!(typeof e!="object"||e==null)){if(Array.isArray(e)){e.forEach(t=>Nm(t));return}for(let t of Object.keys(e)){if(ye.debug("Checking key",t),t.startsWith("__")||t.includes("proto")||t.includes("constr")||!Xz.has(t)||e[t]==null){ye.debug("sanitize deleting key: ",t),delete e[t];continue}if(typeof e[t]=="object"){ye.debug("sanitizing object",t),Nm(e[t]);continue}let r=["themeCSS","fontFamily","altFontFamily"];for(let n of r)t.includes(n)&&(ye.debug("sanitizing css option",t),e[t]=lSe(e[t]))}if(e.themeVariables)for(let t of Object.keys(e.themeVariables)){let r=e.themeVariables[t];r?.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}ye.debug("After sanitization",e)}},"sanitizeDirective"),lSe=a(e=>{let t=0,r=0;for(let n of e){if(t<r)return"{ /* ERROR: Unbalanced CSS */ }";n==="{"?t++:n==="}"&&r++}return t!==r?"{ /* ERROR: Unbalanced CSS */ }":e},"sanitizeCss")});var oT,Cd,Kz,sT=F(()=>{"use strict";oT=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,Cd=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,Kz=/\s*%%.*\n/gm});var Pm,_R=F(()=>{"use strict";Pm=class extends Error{static{a(this,"UnknownDiagramError")}constructor(t){super(t),this.name="UnknownDiagramError"}}});var Sd,Ad,lT,wR,Qz,Rd=F(()=>{"use strict";br();sT();_R();Sd={},Ad=a(function(e,t){e=e.replace(oT,"").replace(Cd,"").replace(Kz,`
`);for(let[r,{detector:n}]of Object.entries(Sd))if(n(e,t))return r;throw new Pm(`No diagram type detected matching given configuration for text: ${e}`)},"detectType"),lT=a((...e)=>{for(let{id:t,detector:r,loader:n}of e)wR(t,r,n)},"registerLazyLoadedDiagrams"),wR=a((e,t,r)=>{Sd[e]&&ye.warn(`Detector with key ${e} already exists. Overwriting.`),Sd[e]={detector:t,loader:r},ye.debug(`Detector with key ${e} added${r?" with loader":""}`)},"addDetector"),Qz=a(e=>Sd[e].loader,"getDiagramLoader")});var ER,Ei,Wy=F(()=>{"use strict";ER=a((e,t,{depth:r=2,clobber:n=!1}={})=>{let i={depth:r,clobber:n};return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(o=>ER(e,o,i)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(o=>{e.includes(o)||e.push(o)}),e):e===void 0||r<=0?e!=null&&typeof e=="object"&&typeof t=="object"?Object.assign(e,t):t:(t!==void 0&&typeof e=="object"&&typeof t=="object"&&Object.keys(t).forEach(o=>{typeof t[o]=="object"&&(e[o]===void 0||typeof e[o]=="object")?(e[o]===void 0&&(e[o]=Array.isArray(t[o])?[]:{}),e[o]=ER(e[o],t[o],{depth:r-1,clobber:n})):(n||typeof e[o]!="object"&&typeof t[o]!="object")&&(e[o]=t[o])}),e)},"assignWithDepth"),Ei=ER});var cSe,cT,CR=F(()=>{"use strict";cSe=typeof global=="object"&&global&&global.Object===Object&&global,cT=cSe});var uSe,fSe,Ci,Us=F(()=>{"use strict";CR();uSe=typeof self=="object"&&self&&self.Object===Object&&self,fSe=cT||uSe||Function("return this")(),Ci=fSe});var hSe,ba,Dd=F(()=>{"use strict";Us();hSe=Ci.Symbol,ba=hSe});function mSe(e){var t=dSe.call(e,Hy),r=e[Hy];try{e[Hy]=void 0;var n=!0}catch{}var i=pSe.call(e);return n&&(t?e[Hy]=r:delete e[Hy]),i}var Zz,dSe,pSe,Hy,Jz,eU=F(()=>{"use strict";Dd();Zz=Object.prototype,dSe=Zz.hasOwnProperty,pSe=Zz.toString,Hy=ba?ba.toStringTag:void 0;a(mSe,"getRawTag");Jz=mSe});function vSe(e){return ySe.call(e)}var gSe,ySe,tU,rU=F(()=>{"use strict";gSe=Object.prototype,ySe=gSe.toString;a(vSe,"objectToString");tU=vSe});function TSe(e){return e==null?e===void 0?bSe:xSe:nU&&nU in Object(e)?Jz(e):tU(e)}var xSe,bSe,nU,xo,Df=F(()=>{"use strict";Dd();eU();rU();xSe="[object Null]",bSe="[object Undefined]",nU=ba?ba.toStringTag:void 0;a(TSe,"baseGetTag");xo=TSe});function kSe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var gi,$s=F(()=>{"use strict";a(kSe,"isObject");gi=kSe});function SSe(e){if(!gi(e))return!1;var t=xo(e);return t==wSe||t==ESe||t==_Se||t==CSe}var _Se,wSe,ESe,CSe,Gs,jy=F(()=>{"use strict";Df();$s();_Se="[object AsyncFunction]",wSe="[object Function]",ESe="[object GeneratorFunction]",CSe="[object Proxy]";a(SSe,"isFunction");Gs=SSe});var ASe,uT,iU=F(()=>{"use strict";Us();ASe=Ci["__core-js_shared__"],uT=ASe});function RSe(e){return!!aU&&aU in e}var aU,oU,sU=F(()=>{"use strict";iU();aU=function(){var e=/[^.]+$/.exec(uT&&uT.keys&&uT.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();a(RSe,"isMasked");oU=RSe});function ISe(e){if(e!=null){try{return LSe.call(e)}catch{}try{return e+""}catch{}}return""}var DSe,LSe,yu,SR=F(()=>{"use strict";DSe=Function.prototype,LSe=DSe.toString;a(ISe,"toSource");yu=ISe});function zSe(e){if(!gi(e)||oU(e))return!1;var t=Gs(e)?qSe:PSe;return t.test(yu(e))}var NSe,PSe,OSe,MSe,FSe,BSe,qSe,lU,cU=F(()=>{"use strict";jy();sU();$s();SR();NSe=/[\\^$.*+?()[\]{}|]/g,PSe=/^\[object .+?Constructor\]$/,OSe=Function.prototype,MSe=Object.prototype,FSe=OSe.toString,BSe=MSe.hasOwnProperty,qSe=RegExp("^"+FSe.call(BSe).replace(NSe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");a(zSe,"baseIsNative");lU=zSe});function USe(e,t){return e?.[t]}var uU,fU=F(()=>{"use strict";a(USe,"getValue");uU=USe});function $Se(e,t){var r=uU(e,t);return lU(r)?r:void 0}var zo,Lf=F(()=>{"use strict";cU();fU();a($Se,"getNative");zo=$Se});var GSe,vu,Yy=F(()=>{"use strict";Lf();GSe=zo(Object,"create"),vu=GSe});function VSe(){this.__data__=vu?vu(null):{},this.size=0}var hU,dU=F(()=>{"use strict";Yy();a(VSe,"hashClear");hU=VSe});function WSe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var pU,mU=F(()=>{"use strict";a(WSe,"hashDelete");pU=WSe});function XSe(e){var t=this.__data__;if(vu){var r=t[e];return r===HSe?void 0:r}return YSe.call(t,e)?t[e]:void 0}var HSe,jSe,YSe,gU,yU=F(()=>{"use strict";Yy();HSe="__lodash_hash_undefined__",jSe=Object.prototype,YSe=jSe.hasOwnProperty;a(XSe,"hashGet");gU=XSe});function ZSe(e){var t=this.__data__;return vu?t[e]!==void 0:QSe.call(t,e)}var KSe,QSe,vU,xU=F(()=>{"use strict";Yy();KSe=Object.prototype,QSe=KSe.hasOwnProperty;a(ZSe,"hashHas");vU=ZSe});function eAe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=vu&&t===void 0?JSe:t,this}var JSe,bU,TU=F(()=>{"use strict";Yy();JSe="__lodash_hash_undefined__";a(eAe,"hashSet");bU=eAe});function Om(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}var AR,kU=F(()=>{"use strict";dU();mU();yU();xU();TU();a(Om,"Hash");Om.prototype.clear=hU;Om.prototype.delete=pU;Om.prototype.get=gU;Om.prototype.has=vU;Om.prototype.set=bU;AR=Om});function tAe(){this.__data__=[],this.size=0}var _U,wU=F(()=>{"use strict";a(tAe,"listCacheClear");_U=tAe});function rAe(e,t){return e===t||e!==e&&t!==t}var Vs,Ld=F(()=>{"use strict";a(rAe,"eq");Vs=rAe});function nAe(e,t){for(var r=e.length;r--;)if(Vs(e[r][0],t))return r;return-1}var If,Xy=F(()=>{"use strict";Ld();a(nAe,"assocIndexOf");If=nAe});function oAe(e){var t=this.__data__,r=If(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():aAe.call(t,r,1),--this.size,!0}var iAe,aAe,EU,CU=F(()=>{"use strict";Xy();iAe=Array.prototype,aAe=iAe.splice;a(oAe,"listCacheDelete");EU=oAe});function sAe(e){var t=this.__data__,r=If(t,e);return r<0?void 0:t[r][1]}var SU,AU=F(()=>{"use strict";Xy();a(sAe,"listCacheGet");SU=sAe});function lAe(e){return If(this.__data__,e)>-1}var RU,DU=F(()=>{"use strict";Xy();a(lAe,"listCacheHas");RU=lAe});function cAe(e,t){var r=this.__data__,n=If(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var LU,IU=F(()=>{"use strict";Xy();a(cAe,"listCacheSet");LU=cAe});function Mm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}var Nf,Ky=F(()=>{"use strict";wU();CU();AU();DU();IU();a(Mm,"ListCache");Mm.prototype.clear=_U;Mm.prototype.delete=EU;Mm.prototype.get=SU;Mm.prototype.has=RU;Mm.prototype.set=LU;Nf=Mm});var uAe,Pf,fT=F(()=>{"use strict";Lf();Us();uAe=zo(Ci,"Map"),Pf=uAe});function fAe(){this.size=0,this.__data__={hash:new AR,map:new(Pf||Nf),string:new AR}}var NU,PU=F(()=>{"use strict";kU();Ky();fT();a(fAe,"mapCacheClear");NU=fAe});function hAe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var OU,MU=F(()=>{"use strict";a(hAe,"isKeyable");OU=hAe});function dAe(e,t){var r=e.__data__;return OU(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Of,Qy=F(()=>{"use strict";MU();a(dAe,"getMapData");Of=dAe});function pAe(e){var t=Of(this,e).delete(e);return this.size-=t?1:0,t}var FU,BU=F(()=>{"use strict";Qy();a(pAe,"mapCacheDelete");FU=pAe});function mAe(e){return Of(this,e).get(e)}var qU,zU=F(()=>{"use strict";Qy();a(mAe,"mapCacheGet");qU=mAe});function gAe(e){return Of(this,e).has(e)}var UU,$U=F(()=>{"use strict";Qy();a(gAe,"mapCacheHas");UU=gAe});function yAe(e,t){var r=Of(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var GU,VU=F(()=>{"use strict";Qy();a(yAe,"mapCacheSet");GU=yAe});function Fm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}var Id,hT=F(()=>{"use strict";PU();BU();zU();$U();VU();a(Fm,"MapCache");Fm.prototype.clear=NU;Fm.prototype.delete=FU;Fm.prototype.get=qU;Fm.prototype.has=UU;Fm.prototype.set=GU;Id=Fm});function RR(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(vAe);var r=a(function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return r.cache=o.set(i,s)||o,s},"memoized");return r.cache=new(RR.Cache||Id),r}var vAe,Bm,DR=F(()=>{"use strict";hT();vAe="Expected a function";a(RR,"memoize");RR.Cache=Id;Bm=RR});function xAe(){this.__data__=new Nf,this.size=0}var WU,HU=F(()=>{"use strict";Ky();a(xAe,"stackClear");WU=xAe});function bAe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var jU,YU=F(()=>{"use strict";a(bAe,"stackDelete");jU=bAe});function TAe(e){return this.__data__.get(e)}var XU,KU=F(()=>{"use strict";a(TAe,"stackGet");XU=TAe});function kAe(e){return this.__data__.has(e)}var QU,ZU=F(()=>{"use strict";a(kAe,"stackHas");QU=kAe});function wAe(e,t){var r=this.__data__;if(r instanceof Nf){var n=r.__data__;if(!Pf||n.length<_Ae-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Id(n)}return r.set(e,t),this.size=r.size,this}var _Ae,JU,e$=F(()=>{"use strict";Ky();fT();hT();_Ae=200;a(wAe,"stackSet");JU=wAe});function qm(e){var t=this.__data__=new Nf(e);this.size=t.size}var Tc,Zy=F(()=>{"use strict";Ky();HU();YU();KU();ZU();e$();a(qm,"Stack");qm.prototype.clear=WU;qm.prototype.delete=jU;qm.prototype.get=XU;qm.prototype.has=QU;qm.prototype.set=JU;Tc=qm});var EAe,zm,LR=F(()=>{"use strict";Lf();EAe=function(){try{var e=zo(Object,"defineProperty");return e({},"",{}),e}catch{}}(),zm=EAe});function CAe(e,t,r){t=="__proto__"&&zm?zm(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Mf,Jy=F(()=>{"use strict";LR();a(CAe,"baseAssignValue");Mf=CAe});function SAe(e,t,r){(r!==void 0&&!Vs(e[t],r)||r===void 0&&!(t in e))&&Mf(e,t,r)}var ev,IR=F(()=>{"use strict";Jy();Ld();a(SAe,"assignMergeValue");ev=SAe});function AAe(e){return function(t,r,n){for(var i=-1,o=Object(t),s=n(t),u=s.length;u--;){var f=s[e?u:++i];if(r(o[f],f,o)===!1)break}return t}}var t$,r$=F(()=>{"use strict";a(AAe,"createBaseFor");t$=AAe});var RAe,Um,dT=F(()=>{"use strict";r$();RAe=t$(),Um=RAe});function LAe(e,t){if(t)return e.slice();var r=e.length,n=a$?a$(r):new e.constructor(r);return e.copy(n),n}var o$,n$,DAe,i$,a$,pT,NR=F(()=>{"use strict";Us();o$=typeof exports=="object"&&exports&&!exports.nodeType&&exports,n$=o$&&typeof module=="object"&&module&&!module.nodeType&&module,DAe=n$&&n$.exports===o$,i$=DAe?Ci.Buffer:void 0,a$=i$?i$.allocUnsafe:void 0;a(LAe,"cloneBuffer");pT=LAe});var IAe,$m,PR=F(()=>{"use strict";Us();IAe=Ci.Uint8Array,$m=IAe});function NAe(e){var t=new e.constructor(e.byteLength);return new $m(t).set(new $m(e)),t}var Gm,mT=F(()=>{"use strict";PR();a(NAe,"cloneArrayBuffer");Gm=NAe});function PAe(e,t){var r=t?Gm(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var gT,OR=F(()=>{"use strict";mT();a(PAe,"cloneTypedArray");gT=PAe});function OAe(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var yT,MR=F(()=>{"use strict";a(OAe,"copyArray");yT=OAe});var s$,MAe,l$,c$=F(()=>{"use strict";$s();s$=Object.create,MAe=function(){function e(){}return a(e,"object"),function(t){if(!gi(t))return{};if(s$)return s$(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),l$=MAe});function FAe(e,t){return function(r){return e(t(r))}}var vT,FR=F(()=>{"use strict";a(FAe,"overArg");vT=FAe});var BAe,Vm,xT=F(()=>{"use strict";FR();BAe=vT(Object.getPrototypeOf,Object),Vm=BAe});function zAe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||qAe;return e===r}var qAe,Ff,tv=F(()=>{"use strict";qAe=Object.prototype;a(zAe,"isPrototype");Ff=zAe});function UAe(e){return typeof e.constructor=="function"&&!Ff(e)?l$(Vm(e)):{}}var bT,BR=F(()=>{"use strict";c$();xT();tv();a(UAe,"initCloneObject");bT=UAe});function $Ae(e){return e!=null&&typeof e=="object"}var Mi,Al=F(()=>{"use strict";a($Ae,"isObjectLike");Mi=$Ae});function VAe(e){return Mi(e)&&xo(e)==GAe}var GAe,qR,u$=F(()=>{"use strict";Df();Al();GAe="[object Arguments]";a(VAe,"baseIsArguments");qR=VAe});var f$,WAe,HAe,jAe,Rl,Wm=F(()=>{"use strict";u$();Al();f$=Object.prototype,WAe=f$.hasOwnProperty,HAe=f$.propertyIsEnumerable,jAe=qR(function(){return arguments}())?qR:function(e){return Mi(e)&&WAe.call(e,"callee")&&!HAe.call(e,"callee")},Rl=jAe});var YAe,Gr,ji=F(()=>{"use strict";YAe=Array.isArray,Gr=YAe});function KAe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=XAe}var XAe,Hm,TT=F(()=>{"use strict";XAe=9007199254740991;a(KAe,"isLength");Hm=KAe});function QAe(e){return e!=null&&Hm(e.length)&&!Gs(e)}var Ta,kc=F(()=>{"use strict";jy();TT();a(QAe,"isArrayLike");Ta=QAe});function ZAe(e){return Mi(e)&&Ta(e)}var kT,zR=F(()=>{"use strict";kc();Al();a(ZAe,"isArrayLikeObject");kT=ZAe});function JAe(){return!1}var h$,d$=F(()=>{"use strict";a(JAe,"stubFalse");h$=JAe});var g$,p$,e3e,m$,t3e,r3e,Dl,jm=F(()=>{"use strict";Us();d$();g$=typeof exports=="object"&&exports&&!exports.nodeType&&exports,p$=g$&&typeof module=="object"&&module&&!module.nodeType&&module,e3e=p$&&p$.exports===g$,m$=e3e?Ci.Buffer:void 0,t3e=m$?m$.isBuffer:void 0,r3e=t3e||h$,Dl=r3e});function l3e(e){if(!Mi(e)||xo(e)!=n3e)return!1;var t=Vm(e);if(t===null)return!0;var r=o3e.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&y$.call(r)==s3e}var n3e,i3e,a3e,y$,o3e,s3e,rv,UR=F(()=>{"use strict";Df();xT();Al();n3e="[object Object]",i3e=Function.prototype,a3e=Object.prototype,y$=i3e.toString,o3e=a3e.hasOwnProperty,s3e=y$.call(Object);a(l3e,"isPlainObject");rv=l3e});function N3e(e){return Mi(e)&&Hm(e.length)&&!!li[xo(e)]}var c3e,u3e,f3e,h3e,d3e,p3e,m3e,g3e,y3e,v3e,x3e,b3e,T3e,k3e,_3e,w3e,E3e,C3e,S3e,A3e,R3e,D3e,L3e,I3e,li,v$,x$=F(()=>{"use strict";Df();TT();Al();c3e="[object Arguments]",u3e="[object Array]",f3e="[object Boolean]",h3e="[object Date]",d3e="[object Error]",p3e="[object Function]",m3e="[object Map]",g3e="[object Number]",y3e="[object Object]",v3e="[object RegExp]",x3e="[object Set]",b3e="[object String]",T3e="[object WeakMap]",k3e="[object ArrayBuffer]",_3e="[object DataView]",w3e="[object Float32Array]",E3e="[object Float64Array]",C3e="[object Int8Array]",S3e="[object Int16Array]",A3e="[object Int32Array]",R3e="[object Uint8Array]",D3e="[object Uint8ClampedArray]",L3e="[object Uint16Array]",I3e="[object Uint32Array]",li={};li[w3e]=li[E3e]=li[C3e]=li[S3e]=li[A3e]=li[R3e]=li[D3e]=li[L3e]=li[I3e]=!0;li[c3e]=li[u3e]=li[k3e]=li[f3e]=li[_3e]=li[h3e]=li[d3e]=li[p3e]=li[m3e]=li[g3e]=li[y3e]=li[v3e]=li[x3e]=li[b3e]=li[T3e]=!1;a(N3e,"baseIsTypedArray");v$=N3e});function P3e(e){return function(t){return e(t)}}var Bf,nv=F(()=>{"use strict";a(P3e,"baseUnary");Bf=P3e});var b$,iv,O3e,$R,M3e,xu,_T=F(()=>{"use strict";CR();b$=typeof exports=="object"&&exports&&!exports.nodeType&&exports,iv=b$&&typeof module=="object"&&module&&!module.nodeType&&module,O3e=iv&&iv.exports===b$,$R=O3e&&cT.process,M3e=function(){try{var e=iv&&iv.require&&iv.require("util").types;return e||$R&&$R.binding&&$R.binding("util")}catch{}}(),xu=M3e});var T$,F3e,qf,av=F(()=>{"use strict";x$();nv();_T();T$=xu&&xu.isTypedArray,F3e=T$?Bf(T$):v$,qf=F3e});function B3e(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var ov,GR=F(()=>{"use strict";a(B3e,"safeGet");ov=B3e});function U3e(e,t,r){var n=e[t];(!(z3e.call(e,t)&&Vs(n,r))||r===void 0&&!(t in e))&&Mf(e,t,r)}var q3e,z3e,zf,sv=F(()=>{"use strict";Jy();Ld();q3e=Object.prototype,z3e=q3e.hasOwnProperty;a(U3e,"assignValue");zf=U3e});function $3e(e,t,r,n){var i=!r;r||(r={});for(var o=-1,s=t.length;++o<s;){var u=t[o],f=n?n(r[u],e[u],u,r,e):void 0;f===void 0&&(f=e[u]),i?Mf(r,u,f):zf(r,u,f)}return r}var _c,Ym=F(()=>{"use strict";sv();Jy();a($3e,"copyObject");_c=$3e});function G3e(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var k$,_$=F(()=>{"use strict";a(G3e,"baseTimes");k$=G3e});function H3e(e,t){var r=typeof e;return t=t??V3e,!!t&&(r=="number"||r!="symbol"&&W3e.test(e))&&e>-1&&e%1==0&&e<t}var V3e,W3e,Uf,lv=F(()=>{"use strict";V3e=9007199254740991,W3e=/^(?:0|[1-9]\d*)$/;a(H3e,"isIndex");Uf=H3e});function X3e(e,t){var r=Gr(e),n=!r&&Rl(e),i=!r&&!n&&Dl(e),o=!r&&!n&&!i&&qf(e),s=r||n||i||o,u=s?k$(e.length,String):[],f=u.length;for(var p in e)(t||Y3e.call(e,p))&&!(s&&(p=="length"||i&&(p=="offset"||p=="parent")||o&&(p=="buffer"||p=="byteLength"||p=="byteOffset")||Uf(p,f)))&&u.push(p);return u}var j3e,Y3e,wT,VR=F(()=>{"use strict";_$();Wm();ji();jm();lv();av();j3e=Object.prototype,Y3e=j3e.hasOwnProperty;a(X3e,"arrayLikeKeys");wT=X3e});function K3e(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var w$,E$=F(()=>{"use strict";a(K3e,"nativeKeysIn");w$=K3e});function J3e(e){if(!gi(e))return w$(e);var t=Ff(e),r=[];for(var n in e)n=="constructor"&&(t||!Z3e.call(e,n))||r.push(n);return r}var Q3e,Z3e,C$,S$=F(()=>{"use strict";$s();tv();E$();Q3e=Object.prototype,Z3e=Q3e.hasOwnProperty;a(J3e,"baseKeysIn");C$=J3e});function e4e(e){return Ta(e)?wT(e,!0):C$(e)}var Uo,$f=F(()=>{"use strict";VR();S$();kc();a(e4e,"keysIn");Uo=e4e});function t4e(e){return _c(e,Uo(e))}var A$,R$=F(()=>{"use strict";Ym();$f();a(t4e,"toPlainObject");A$=t4e});function r4e(e,t,r,n,i,o,s){var u=ov(e,r),f=ov(t,r),p=s.get(f);if(p){ev(e,r,p);return}var g=o?o(u,f,r+"",e,t,s):void 0,y=g===void 0;if(y){var x=Gr(f),b=!x&&Dl(f),E=!x&&!b&&qf(f);g=f,x||b||E?Gr(u)?g=u:kT(u)?g=yT(u):b?(y=!1,g=pT(f,!0)):E?(y=!1,g=gT(f,!0)):g=[]:rv(f)||Rl(f)?(g=u,Rl(u)?g=A$(u):(!gi(u)||Gs(u))&&(g=bT(f))):y=!1}y&&(s.set(f,g),i(g,f,n,o,s),s.delete(f)),ev(e,r,g)}var D$,L$=F(()=>{"use strict";IR();NR();OR();MR();BR();Wm();ji();zR();jm();jy();$s();UR();av();GR();R$();a(r4e,"baseMergeDeep");D$=r4e});function I$(e,t,r,n,i){e!==t&&Um(t,function(o,s){if(i||(i=new Tc),gi(o))D$(e,t,s,r,I$,n,i);else{var u=n?n(ov(e,s),o,s+"",e,t,i):void 0;u===void 0&&(u=o),ev(e,s,u)}},Uo)}var N$,P$=F(()=>{"use strict";Zy();IR();dT();L$();$s();$f();GR();a(I$,"baseMerge");N$=I$});function n4e(e){return e}var $o,Gf=F(()=>{"use strict";a(n4e,"identity");$o=n4e});function i4e(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var O$,M$=F(()=>{"use strict";a(i4e,"apply");O$=i4e});function a4e(e,t,r){return t=F$(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=F$(n.length-t,0),s=Array(o);++i<o;)s[i]=n[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=n[i];return u[t]=r(s),O$(e,this,u)}}var F$,ET,WR=F(()=>{"use strict";M$();F$=Math.max;a(a4e,"overRest");ET=a4e});function o4e(e){return function(){return e}}var Go,HR=F(()=>{"use strict";a(o4e,"constant");Go=o4e});var s4e,B$,q$=F(()=>{"use strict";HR();LR();Gf();s4e=zm?function(e,t){return zm(e,"toString",{configurable:!0,enumerable:!1,value:Go(t),writable:!0})}:$o,B$=s4e});function f4e(e){var t=0,r=0;return function(){var n=u4e(),i=c4e-(n-r);if(r=n,i>0){if(++t>=l4e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var l4e,c4e,u4e,z$,U$=F(()=>{"use strict";l4e=800,c4e=16,u4e=Date.now;a(f4e,"shortOut");z$=f4e});var h4e,CT,jR=F(()=>{"use strict";q$();U$();h4e=z$(B$),CT=h4e});function d4e(e,t){return CT(ET(e,t,$o),e+"")}var Vf,cv=F(()=>{"use strict";Gf();WR();jR();a(d4e,"baseRest");Vf=d4e});function p4e(e,t,r){if(!gi(r))return!1;var n=typeof t;return(n=="number"?Ta(r)&&Uf(t,r.length):n=="string"&&t in r)?Vs(r[t],e):!1}var bu,uv=F(()=>{"use strict";Ld();kc();lv();$s();a(p4e,"isIterateeCall");bu=p4e});function m4e(e){return Vf(function(t,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,s&&bu(r[0],r[1],s)&&(o=i<3?void 0:o,i=1),t=Object(t);++n<i;){var u=r[n];u&&e(t,u,n,o)}return t})}var $$,G$=F(()=>{"use strict";cv();uv();a(m4e,"createAssigner");$$=m4e});var g4e,Wf,YR=F(()=>{"use strict";P$();G$();g4e=$$(function(e,t,r){N$(e,t,r)}),Wf=g4e});function Ws(e,t){if(!e)return t;let r=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return y4e[r]??t}function T4e(e,t){let r=e.trim();if(r)return t.securityLevel!=="loose"?(0,H$.sanitizeUrl)(r):r}function X$(e,t){return!e||!t?0:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function _4e(e){let t,r=0;e.forEach(i=>{r+=X$(i,t),t=i});let n=r/2;return QR(e,n)}function w4e(e){return e.length===1?e[0]:_4e(e)}function C4e(e,t,r){let n=structuredClone(r);ye.info("our points",n),t!=="start_left"&&t!=="start_right"&&n.reverse();let i=25+e,o=QR(n,i),s=10+e*.5,u=Math.atan2(n[0].y-o.y,n[0].x-o.x),f={x:0,y:0};return t==="start_left"?(f.x=Math.sin(u+Math.PI)*s+(n[0].x+o.x)/2,f.y=-Math.cos(u+Math.PI)*s+(n[0].y+o.y)/2):t==="end_right"?(f.x=Math.sin(u-Math.PI)*s+(n[0].x+o.x)/2-5,f.y=-Math.cos(u-Math.PI)*s+(n[0].y+o.y)/2-5):t==="end_left"?(f.x=Math.sin(u)*s+(n[0].x+o.x)/2-5,f.y=-Math.cos(u)*s+(n[0].y+o.y)/2-5):(f.x=Math.sin(u)*s+(n[0].x+o.x)/2,f.y=-Math.cos(u)*s+(n[0].y+o.y)/2),f}function Il(e){let t="",r="";for(let n of e)n!==void 0&&(n.startsWith("color:")||n.startsWith("text-align:")?r=r+n+";":t=t+n+";");return{style:t,labelStyle:r}}function S4e(e){let t="",r="0123456789abcdef",n=r.length;for(let i=0;i<e;i++)t+=r.charAt(Math.floor(Math.random()*n));return t}function AT(e,t){return t5(e,t).height}function Ll(e,t){return t5(e,t).width}function r5(e){return"str"in e}function jf(e,t){return Wf({},e,t)}var H$,KR,y4e,v4e,x4e,j$,Y$,b4e,k4e,V$,QR,E4e,W$,ZR,JR,A4e,R4e,e5,D4e,t5,XR,ST,L4e,I4e,Hf,yr,K$,Tu,An=F(()=>{"use strict";H$=go(om(),1);Zr();en();kR();br();Rd();Wy();DR();YR();sT();KR="\u200B",y4e={curveBasis:qs,curveBasisClosed:$2,curveBasisOpen:G2,curveBumpX:B4,curveBumpY:q4,curveBundle:z4,curveCardinalClosed:$4,curveCardinalOpen:V4,curveCardinal:U4,curveCatmullRomClosed:j4,curveCatmullRomOpen:Y4,curveCatmullRom:H4,curveLinear:ra,curveLinearClosed:Y2,curveMonotoneX:K4,curveMonotoneY:Q4,curveNatural:K2,curveStep:Z2,curveStepAfter:J4,curveStepBefore:Z4},v4e=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,x4e=a(function(e,t){let r=j$(e,/(?:init\b)|(?:initialize\b)/),n={};if(Array.isArray(r)){let s=r.map(u=>u.args);Nm(s),n=Ei(n,[...s])}else n=r.args;if(!n)return;let i=Ad(e,t),o="config";return n[o]!==void 0&&(i==="flowchart-v2"&&(i="flowchart"),n[i]=n[o],delete n[o]),n},"detectInit"),j$=a(function(e,t=null){try{let r=new RegExp(`[%]{2}(?![{]${v4e.source})(?=[}][%]{2}).*
`,"ig");e=e.trim().replace(r,"").replace(/'/gm,'"'),ye.debug(`Detecting diagram directive${t!==null?" type:"+t:""} based on the text:${e}`);let n,i=[];for(;(n=Cd.exec(e))!==null;)if(n.index===Cd.lastIndex&&Cd.lastIndex++,n&&!t||t&&n[1]&&n[1].match(t)||t&&n[2]&&n[2].match(t)){let o=n[1]?n[1]:n[2],s=n[3]?n[3].trim():n[4]?JSON.parse(n[4].trim()):null;i.push({type:o,args:s})}return i.length===0?{type:e,args:null}:i.length===1?i[0]:i}catch(r){return ye.error(`ERROR: ${r.message} - Unable to parse directive type: '${t}' based on the text: '${e}'`),{type:void 0,args:null}}},"detectDirective"),Y$=a(function(e){return e.replace(Cd,"")},"removeDirectives"),b4e=a(function(e,t){for(let[r,n]of t.entries())if(n.match(e))return r;return-1},"isSubstringInArray");a(Ws,"interpolateToCurve");a(T4e,"formatUrl");k4e=a((e,...t)=>{let r=e.split("."),n=r.length-1,i=r[n],o=window;for(let s=0;s<n;s++)if(o=o[r[s]],!o){ye.error(`Function name: ${e} not found in window`);return}o[i](...t)},"runFunc");a(X$,"distance");a(_4e,"traverseEdge");a(w4e,"calcLabelPosition");V$=a((e,t=2)=>{let r=Math.pow(10,t);return Math.round(e*r)/r},"roundNumber"),QR=a((e,t)=>{let r,n=t;for(let i of e){if(r){let o=X$(i,r);if(o<n)n-=o;else{let s=n/o;if(s<=0)return r;if(s>=1)return{x:i.x,y:i.y};if(s>0&&s<1)return{x:V$((1-s)*r.x+s*i.x,5),y:V$((1-s)*r.y+s*i.y,5)}}}r=i}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),E4e=a((e,t,r)=>{ye.info(`our points ${JSON.stringify(t)}`),t[0]!==r&&(t=t.reverse());let i=QR(t,25),o=e?10:5,s=Math.atan2(t[0].y-i.y,t[0].x-i.x),u={x:0,y:0};return u.x=Math.sin(s)*o+(t[0].x+i.x)/2,u.y=-Math.cos(s)*o+(t[0].y+i.y)/2,u},"calcCardinalityPosition");a(C4e,"calcTerminalLabelPosition");a(Il,"getStylesFromArray");W$=0,ZR=a(()=>(W$++,"id-"+Math.random().toString(36).substr(2,12)+"-"+W$),"generateId");a(S4e,"makeRandomHex");JR=a(e=>S4e(e.length),"random"),A4e=a(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),R4e=a(function(e,t){let r=t.text.replace(Et.lineBreakRegex," "),[,n]=Hf(t.fontSize),i=e.append("text");i.attr("x",t.x),i.attr("y",t.y),i.style("text-anchor",t.anchor),i.style("font-family",t.fontFamily),i.style("font-size",n),i.style("font-weight",t.fontWeight),i.attr("fill",t.fill),t.class!==void 0&&i.attr("class",t.class);let o=i.append("tspan");return o.attr("x",t.x+t.textMargin*2),o.attr("fill",t.fill),o.text(r),i},"drawSimpleText"),e5=Bm((e,t,r)=>{if(!e||(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),Et.lineBreakRegex.test(e)))return e;let n=e.split(" "),i=[],o="";return n.forEach((s,u)=>{let f=Ll(`${s} `,r),p=Ll(o,r);if(f>t){let{hyphenatedStrings:x,remainingWord:b}=D4e(s,t,"-",r);i.push(o,...x),o=b}else p+f>=t?(i.push(o),o=s):o=[o,s].filter(Boolean).join(" ");u+1===n.length&&i.push(o)}),i.filter(s=>s!=="").join(r.joinWith)},(e,t,r)=>`${e}${t}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`),D4e=Bm((e,t,r="-",n)=>{n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},n);let i=[...e],o=[],s="";return i.forEach((u,f)=>{let p=`${s}${u}`;if(Ll(p,n)>=t){let y=f+1,x=i.length===y,b=`${p}${r}`;o.push(x?p:b),s=""}else s=p}),{hyphenatedStrings:o,remainingWord:s}},(e,t,r="-",n)=>`${e}${t}${r}${n.fontSize}${n.fontWeight}${n.fontFamily}`);a(AT,"calculateTextHeight");a(Ll,"calculateTextWidth");t5=Bm((e,t)=>{let{fontSize:r=12,fontFamily:n="Arial",fontWeight:i=400}=t;if(!e)return{width:0,height:0};let[,o]=Hf(r),s=["sans-serif",n],u=e.split(Et.lineBreakRegex),f=[],p=dt("body");if(!p.remove)return{width:0,height:0,lineHeight:0};let g=p.append("svg");for(let x of s){let b=0,E={width:0,height:0,lineHeight:0};for(let A of u){let O=A4e();O.text=A||KR;let N=R4e(g,O).style("font-size",o).style("font-weight",i).style("font-family",x),I=(N._groups||N)[0][0].getBBox();if(I.width===0&&I.height===0)throw new Error("svg element not in render tree");E.width=Math.round(Math.max(E.width,I.width)),b=Math.round(I.height),E.height+=b,E.lineHeight=Math.round(Math.max(E.lineHeight,b))}f.push(E)}g.remove();let y=isNaN(f[1].height)||isNaN(f[1].width)||isNaN(f[1].lineHeight)||f[0].height>f[1].height&&f[0].width>f[1].width&&f[0].lineHeight>f[1].lineHeight?0:1;return f[y]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`),XR=class{constructor(t=!1,r){this.count=0;this.count=r?r.length:0,this.next=t?()=>this.count++:()=>Date.now()}static{a(this,"InitIDGenerator")}},L4e=a(function(e){return ST=ST||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),ST.innerHTML=e,unescape(ST.textContent)},"entityDecode");a(r5,"isDetailedError");I4e=a((e,t,r,n)=>{if(!n)return;let i=e.node()?.getBBox();i&&e.append("text").text(n).attr("x",i.x+i.width/2).attr("y",-r).attr("class",t)},"insertTitle"),Hf=a(e=>{if(typeof e=="number")return[e,e+"px"];let t=parseInt(e??"",10);return Number.isNaN(t)?[void 0,void 0]:e===String(t)?[t,e+"px"]:[t,e]},"parseFontSize");a(jf,"cleanAndMerge");yr={assignWithDepth:Ei,wrapLabel:e5,calculateTextHeight:AT,calculateTextWidth:Ll,calculateTextDimensions:t5,cleanAndMerge:jf,detectInit:x4e,detectDirective:j$,isSubstringInArray:b4e,interpolateToCurve:Ws,calcLabelPosition:w4e,calcCardinalityPosition:E4e,calcTerminalLabelPosition:C4e,formatUrl:T4e,getStylesFromArray:Il,generateId:ZR,random:JR,runFunc:k4e,entityDecode:L4e,insertTitle:I4e,parseFontSize:Hf,InitIDGenerator:XR},K$=a(function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/#\w+;/g,function(r){let n=r.substring(1,r.length-1);return/^\+?\d+$/.test(n)?"\uFB02\xB0\xB0"+n+"\xB6\xDF":"\uFB02\xB0"+n+"\xB6\xDF"}),t},"encodeEntities"),Tu=a(function(e){return e.replace(//g,"&#").replace(//g,"&").replace(//g,";")},"decodeEntities")});var dv,a5=F(()=>{dv="11.0.0-alpha.6"});var Xf,Vo,mG,Zm,pv,UT,o5,gG,yG,s5,$T,ka,vG,xG,mv,O4e,pG,M4e,bG,Jm=F(()=>{"use strict";Wy();br();aT();Im();kR();Xf=Object.freeze(si),Vo=Ei({},Xf),Zm=[],pv=Ei({},Xf),UT=a((e,t)=>{let r=Ei({},e),n={};for(let i of t)vG(i),n=Ei(n,i);if(r=Ei(r,n),n.theme&&n.theme in zs){let i=Ei({},mG),o=Ei(i.themeVariables||{},n.themeVariables);r.theme&&r.theme in zs&&(r.themeVariables=zs[r.theme].getThemeVariables(o))}return pv=r,bG(pv),pv},"updateCurrentConfig"),o5=a(e=>(Vo=Ei({},Xf),Vo=Ei(Vo,e),e.theme&&zs[e.theme]&&(Vo.themeVariables=zs[e.theme].getThemeVariables(e.themeVariables)),UT(Vo,Zm),Vo),"setSiteConfig"),gG=a(e=>{mG=Ei({},e)},"saveConfigFromInitialize"),yG=a(e=>(Vo=Ei(Vo,e),UT(Vo,Zm),Vo),"updateSiteConfig"),s5=a(()=>Ei({},Vo),"getSiteConfig"),$T=a(e=>(bG(e),Ei(pv,e),ka()),"setConfig"),ka=a(()=>Ei({},pv),"getConfig"),vG=a(e=>{e&&(["secure",...Vo.secure??[]].forEach(t=>{Object.hasOwn(e,t)&&(ye.debug(`Denied attempt to modify a secure key ${t}`,e[t]),delete e[t])}),Object.keys(e).forEach(t=>{t.startsWith("__")&&delete e[t]}),Object.keys(e).forEach(t=>{typeof e[t]=="string"&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t],typeof e[t]=="object"&&vG(e[t])}))},"sanitize"),xG=a(e=>{Nm(e),e.fontFamily&&(!e.themeVariables||!e.themeVariables.fontFamily)&&(e.themeVariables={fontFamily:e.fontFamily}),Zm.push(e),UT(Vo,Zm)},"addDirective"),mv=a((e=Vo)=>{Zm=[],UT(e,Zm)},"reset"),O4e={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},pG={},M4e=a(e=>{pG[e]||(ye.warn(O4e[e]),pG[e]=!0)},"issueWarning"),bG=a(e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&M4e("LAZY_LOAD_DEPRECATED")},"checkConfig")});var gv,TG,c5=F(()=>{"use strict";gv=function(){var e=a(function(kr,bt,gt,qt){for(gt=gt||{},qt=kr.length;qt--;gt[kr[qt]]=bt);return gt},"o"),t=[1,24],r=[1,25],n=[1,26],i=[1,27],o=[1,28],s=[1,63],u=[1,64],f=[1,65],p=[1,66],g=[1,67],y=[1,68],x=[1,69],b=[1,29],E=[1,30],A=[1,31],O=[1,32],N=[1,33],I=[1,34],$=[1,35],X=[1,36],q=[1,37],M=[1,38],B=[1,39],G=[1,40],U=[1,41],W=[1,42],D=[1,43],K=[1,44],P=[1,45],re=[1,46],ce=[1,47],ee=[1,48],H=[1,50],te=[1,51],J=[1,52],Y=[1,53],de=[1,54],Fe=[1,55],oe=[1,56],rt=[1,57],We=[1,58],_e=[1,59],Ve=[1,60],Ye=[14,42],Le=[14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],fe=[12,14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],le=[1,82],he=[1,83],xe=[1,84],ke=[1,85],pe=[12,14,42],Ce=[12,14,33,42],Ue=[12,14,33,42,76,77,79,80],He=[12,33],Pt=[34,36,37,38,39,40,41,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],Lt={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,direction_tb:6,direction_bt:7,direction_rl:8,direction_lr:9,graphConfig:10,C4_CONTEXT:11,NEWLINE:12,statements:13,EOF:14,C4_CONTAINER:15,C4_COMPONENT:16,C4_DYNAMIC:17,C4_DEPLOYMENT:18,otherStatements:19,diagramStatements:20,otherStatement:21,title:22,accDescription:23,acc_title:24,acc_title_value:25,acc_descr:26,acc_descr_value:27,acc_descr_multiline_value:28,boundaryStatement:29,boundaryStartStatement:30,boundaryStopStatement:31,boundaryStart:32,LBRACE:33,ENTERPRISE_BOUNDARY:34,attributes:35,SYSTEM_BOUNDARY:36,BOUNDARY:37,CONTAINER_BOUNDARY:38,NODE:39,NODE_L:40,NODE_R:41,RBRACE:42,diagramStatement:43,PERSON:44,PERSON_EXT:45,SYSTEM:46,SYSTEM_DB:47,SYSTEM_QUEUE:48,SYSTEM_EXT:49,SYSTEM_EXT_DB:50,SYSTEM_EXT_QUEUE:51,CONTAINER:52,CONTAINER_DB:53,CONTAINER_QUEUE:54,CONTAINER_EXT:55,CONTAINER_EXT_DB:56,CONTAINER_EXT_QUEUE:57,COMPONENT:58,COMPONENT_DB:59,COMPONENT_QUEUE:60,COMPONENT_EXT:61,COMPONENT_EXT_DB:62,COMPONENT_EXT_QUEUE:63,REL:64,BIREL:65,REL_U:66,REL_D:67,REL_L:68,REL_R:69,REL_B:70,REL_INDEX:71,UPDATE_EL_STYLE:72,UPDATE_REL_STYLE:73,UPDATE_LAYOUT_CONFIG:74,attribute:75,STR:76,STR_KEY:77,STR_VALUE:78,ATTRIBUTE:79,ATTRIBUTE_EMPTY:80,$accept:0,$end:1},terminals_:{2:"error",6:"direction_tb",7:"direction_bt",8:"direction_rl",9:"direction_lr",11:"C4_CONTEXT",12:"NEWLINE",14:"EOF",15:"C4_CONTAINER",16:"C4_COMPONENT",17:"C4_DYNAMIC",18:"C4_DEPLOYMENT",22:"title",23:"accDescription",24:"acc_title",25:"acc_title_value",26:"acc_descr",27:"acc_descr_value",28:"acc_descr_multiline_value",33:"LBRACE",34:"ENTERPRISE_BOUNDARY",36:"SYSTEM_BOUNDARY",37:"BOUNDARY",38:"CONTAINER_BOUNDARY",39:"NODE",40:"NODE_L",41:"NODE_R",42:"RBRACE",44:"PERSON",45:"PERSON_EXT",46:"SYSTEM",47:"SYSTEM_DB",48:"SYSTEM_QUEUE",49:"SYSTEM_EXT",50:"SYSTEM_EXT_DB",51:"SYSTEM_EXT_QUEUE",52:"CONTAINER",53:"CONTAINER_DB",54:"CONTAINER_QUEUE",55:"CONTAINER_EXT",56:"CONTAINER_EXT_DB",57:"CONTAINER_EXT_QUEUE",58:"COMPONENT",59:"COMPONENT_DB",60:"COMPONENT_QUEUE",61:"COMPONENT_EXT",62:"COMPONENT_EXT_DB",63:"COMPONENT_EXT_QUEUE",64:"REL",65:"BIREL",66:"REL_U",67:"REL_D",68:"REL_L",69:"REL_R",70:"REL_B",71:"REL_INDEX",72:"UPDATE_EL_STYLE",73:"UPDATE_REL_STYLE",74:"UPDATE_LAYOUT_CONFIG",76:"STR",77:"STR_KEY",78:"STR_VALUE",79:"ATTRIBUTE",80:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[5,1],[5,1],[5,1],[5,1],[4,1],[10,4],[10,4],[10,4],[10,4],[10,4],[13,1],[13,1],[13,2],[19,1],[19,2],[19,3],[21,1],[21,1],[21,2],[21,2],[21,1],[29,3],[30,3],[30,3],[30,4],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[31,1],[20,1],[20,2],[20,3],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,1],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[35,1],[35,2],[75,1],[75,2],[75,1],[75,1]],performAction:a(function(bt,gt,qt,ze,$e,Te,pt){var it=Te.length-1;switch($e){case 3:ze.setDirection("TB");break;case 4:ze.setDirection("BT");break;case 5:ze.setDirection("RL");break;case 6:ze.setDirection("LR");break;case 8:case 9:case 10:case 11:case 12:ze.setC4Type(Te[it-3]);break;case 19:ze.setTitle(Te[it].substring(6)),this.$=Te[it].substring(6);break;case 20:ze.setAccDescription(Te[it].substring(15)),this.$=Te[it].substring(15);break;case 21:this.$=Te[it].trim(),ze.setTitle(this.$);break;case 22:case 23:this.$=Te[it].trim(),ze.setAccDescription(this.$);break;case 28:case 29:Te[it].splice(2,0,"ENTERPRISE"),ze.addPersonOrSystemBoundary(...Te[it]),this.$=Te[it];break;case 30:ze.addPersonOrSystemBoundary(...Te[it]),this.$=Te[it];break;case 31:Te[it].splice(2,0,"CONTAINER"),ze.addContainerBoundary(...Te[it]),this.$=Te[it];break;case 32:ze.addDeploymentNode("node",...Te[it]),this.$=Te[it];break;case 33:ze.addDeploymentNode("nodeL",...Te[it]),this.$=Te[it];break;case 34:ze.addDeploymentNode("nodeR",...Te[it]),this.$=Te[it];break;case 35:ze.popBoundaryParseStack();break;case 39:ze.addPersonOrSystem("person",...Te[it]),this.$=Te[it];break;case 40:ze.addPersonOrSystem("external_person",...Te[it]),this.$=Te[it];break;case 41:ze.addPersonOrSystem("system",...Te[it]),this.$=Te[it];break;case 42:ze.addPersonOrSystem("system_db",...Te[it]),this.$=Te[it];break;case 43:ze.addPersonOrSystem("system_queue",...Te[it]),this.$=Te[it];break;case 44:ze.addPersonOrSystem("external_system",...Te[it]),this.$=Te[it];break;case 45:ze.addPersonOrSystem("external_system_db",...Te[it]),this.$=Te[it];break;case 46:ze.addPersonOrSystem("external_system_queue",...Te[it]),this.$=Te[it];break;case 47:ze.addContainer("container",...Te[it]),this.$=Te[it];break;case 48:ze.addContainer("container_db",...Te[it]),this.$=Te[it];break;case 49:ze.addContainer("container_queue",...Te[it]),this.$=Te[it];break;case 50:ze.addContainer("external_container",...Te[it]),this.$=Te[it];break;case 51:ze.addContainer("external_container_db",...Te[it]),this.$=Te[it];break;case 52:ze.addContainer("external_container_queue",...Te[it]),this.$=Te[it];break;case 53:ze.addComponent("component",...Te[it]),this.$=Te[it];break;case 54:ze.addComponent("component_db",...Te[it]),this.$=Te[it];break;case 55:ze.addComponent("component_queue",...Te[it]),this.$=Te[it];break;case 56:ze.addComponent("external_component",...Te[it]),this.$=Te[it];break;case 57:ze.addComponent("external_component_db",...Te[it]),this.$=Te[it];break;case 58:ze.addComponent("external_component_queue",...Te[it]),this.$=Te[it];break;case 60:ze.addRel("rel",...Te[it]),this.$=Te[it];break;case 61:ze.addRel("birel",...Te[it]),this.$=Te[it];break;case 62:ze.addRel("rel_u",...Te[it]),this.$=Te[it];break;case 63:ze.addRel("rel_d",...Te[it]),this.$=Te[it];break;case 64:ze.addRel("rel_l",...Te[it]),this.$=Te[it];break;case 65:ze.addRel("rel_r",...Te[it]),this.$=Te[it];break;case 66:ze.addRel("rel_b",...Te[it]),this.$=Te[it];break;case 67:Te[it].splice(0,1),ze.addRel("rel",...Te[it]),this.$=Te[it];break;case 68:ze.updateElStyle("update_el_style",...Te[it]),this.$=Te[it];break;case 69:ze.updateRelStyle("update_rel_style",...Te[it]),this.$=Te[it];break;case 70:ze.updateLayoutConfig("update_layout_config",...Te[it]),this.$=Te[it];break;case 71:this.$=[Te[it]];break;case 72:Te[it].unshift(Te[it-1]),this.$=Te[it];break;case 73:case 75:this.$=Te[it].trim();break;case 74:let Qt={};Qt[Te[it-1].trim()]=Te[it].trim(),this.$=Qt;break;case 76:this.$="";break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],7:[1,6],8:[1,7],9:[1,8],10:4,11:[1,9],15:[1,10],16:[1,11],17:[1,12],18:[1,13]},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,7]},{1:[2,3]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{12:[1,14]},{12:[1,15]},{12:[1,16]},{12:[1,17]},{12:[1,18]},{13:19,19:20,20:21,21:22,22:t,23:r,24:n,26:i,28:o,29:49,30:61,32:62,34:s,36:u,37:f,38:p,39:g,40:y,41:x,43:23,44:b,45:E,46:A,47:O,48:N,49:I,50:$,51:X,52:q,53:M,54:B,55:G,56:U,57:W,58:D,59:K,60:P,61:re,62:ce,63:ee,64:H,65:te,66:J,67:Y,68:de,69:Fe,70:oe,71:rt,72:We,73:_e,74:Ve},{13:70,19:20,20:21,21:22,22:t,23:r,24:n,26:i,28:o,29:49,30:61,32:62,34:s,36:u,37:f,38:p,39:g,40:y,41:x,43:23,44:b,45:E,46:A,47:O,48:N,49:I,50:$,51:X,52:q,53:M,54:B,55:G,56:U,57:W,58:D,59:K,60:P,61:re,62:ce,63:ee,64:H,65:te,66:J,67:Y,68:de,69:Fe,70:oe,71:rt,72:We,73:_e,74:Ve},{13:71,19:20,20:21,21:22,22:t,23:r,24:n,26:i,28:o,29:49,30:61,32:62,34:s,36:u,37:f,38:p,39:g,40:y,41:x,43:23,44:b,45:E,46:A,47:O,48:N,49:I,50:$,51:X,52:q,53:M,54:B,55:G,56:U,57:W,58:D,59:K,60:P,61:re,62:ce,63:ee,64:H,65:te,66:J,67:Y,68:de,69:Fe,70:oe,71:rt,72:We,73:_e,74:Ve},{13:72,19:20,20:21,21:22,22:t,23:r,24:n,26:i,28:o,29:49,30:61,32:62,34:s,36:u,37:f,38:p,39:g,40:y,41:x,43:23,44:b,45:E,46:A,47:O,48:N,49:I,50:$,51:X,52:q,53:M,54:B,55:G,56:U,57:W,58:D,59:K,60:P,61:re,62:ce,63:ee,64:H,65:te,66:J,67:Y,68:de,69:Fe,70:oe,71:rt,72:We,73:_e,74:Ve},{13:73,19:20,20:21,21:22,22:t,23:r,24:n,26:i,28:o,29:49,30:61,32:62,34:s,36:u,37:f,38:p,39:g,40:y,41:x,43:23,44:b,45:E,46:A,47:O,48:N,49:I,50:$,51:X,52:q,53:M,54:B,55:G,56:U,57:W,58:D,59:K,60:P,61:re,62:ce,63:ee,64:H,65:te,66:J,67:Y,68:de,69:Fe,70:oe,71:rt,72:We,73:_e,74:Ve},{14:[1,74]},e(Ye,[2,13],{43:23,29:49,30:61,32:62,20:75,34:s,36:u,37:f,38:p,39:g,40:y,41:x,44:b,45:E,46:A,47:O,48:N,49:I,50:$,51:X,52:q,53:M,54:B,55:G,56:U,57:W,58:D,59:K,60:P,61:re,62:ce,63:ee,64:H,65:te,66:J,67:Y,68:de,69:Fe,70:oe,71:rt,72:We,73:_e,74:Ve}),e(Ye,[2,14]),e(Le,[2,16],{12:[1,76]}),e(Ye,[2,36],{12:[1,77]}),e(fe,[2,19]),e(fe,[2,20]),{25:[1,78]},{27:[1,79]},e(fe,[2,23]),{35:80,75:81,76:le,77:he,79:xe,80:ke},{35:86,75:81,76:le,77:he,79:xe,80:ke},{35:87,75:81,76:le,77:he,79:xe,80:ke},{35:88,75:81,76:le,77:he,79:xe,80:ke},{35:89,75:81,76:le,77:he,79:xe,80:ke},{35:90,75:81,76:le,77:he,79:xe,80:ke},{35:91,75:81,76:le,77:he,79:xe,80:ke},{35:92,75:81,76:le,77:he,79:xe,80:ke},{35:93,75:81,76:le,77:he,79:xe,80:ke},{35:94,75:81,76:le,77:he,79:xe,80:ke},{35:95,75:81,76:le,77:he,79:xe,80:ke},{35:96,75:81,76:le,77:he,79:xe,80:ke},{35:97,75:81,76:le,77:he,79:xe,80:ke},{35:98,75:81,76:le,77:he,79:xe,80:ke},{35:99,75:81,76:le,77:he,79:xe,80:ke},{35:100,75:81,76:le,77:he,79:xe,80:ke},{35:101,75:81,76:le,77:he,79:xe,80:ke},{35:102,75:81,76:le,77:he,79:xe,80:ke},{35:103,75:81,76:le,77:he,79:xe,80:ke},{35:104,75:81,76:le,77:he,79:xe,80:ke},e(pe,[2,59]),{35:105,75:81,76:le,77:he,79:xe,80:ke},{35:106,75:81,76:le,77:he,79:xe,80:ke},{35:107,75:81,76:le,77:he,79:xe,80:ke},{35:108,75:81,76:le,77:he,79:xe,80:ke},{35:109,75:81,76:le,77:he,79:xe,80:ke},{35:110,75:81,76:le,77:he,79:xe,80:ke},{35:111,75:81,76:le,77:he,79:xe,80:ke},{35:112,75:81,76:le,77:he,79:xe,80:ke},{35:113,75:81,76:le,77:he,79:xe,80:ke},{35:114,75:81,76:le,77:he,79:xe,80:ke},{35:115,75:81,76:le,77:he,79:xe,80:ke},{20:116,29:49,30:61,32:62,34:s,36:u,37:f,38:p,39:g,40:y,41:x,43:23,44:b,45:E,46:A,47:O,48:N,49:I,50:$,51:X,52:q,53:M,54:B,55:G,56:U,57:W,58:D,59:K,60:P,61:re,62:ce,63:ee,64:H,65:te,66:J,67:Y,68:de,69:Fe,70:oe,71:rt,72:We,73:_e,74:Ve},{12:[1,118],33:[1,117]},{35:119,75:81,76:le,77:he,79:xe,80:ke},{35:120,75:81,76:le,77:he,79:xe,80:ke},{35:121,75:81,76:le,77:he,79:xe,80:ke},{35:122,75:81,76:le,77:he,79:xe,80:ke},{35:123,75:81,76:le,77:he,79:xe,80:ke},{35:124,75:81,76:le,77:he,79:xe,80:ke},{35:125,75:81,76:le,77:he,79:xe,80:ke},{14:[1,126]},{14:[1,127]},{14:[1,128]},{14:[1,129]},{1:[2,8]},e(Ye,[2,15]),e(Le,[2,17],{21:22,19:130,22:t,23:r,24:n,26:i,28:o}),e(Ye,[2,37],{19:20,20:21,21:22,43:23,29:49,30:61,32:62,13:131,22:t,23:r,24:n,26:i,28:o,34:s,36:u,37:f,38:p,39:g,40:y,41:x,44:b,45:E,46:A,47:O,48:N,49:I,50:$,51:X,52:q,53:M,54:B,55:G,56:U,57:W,58:D,59:K,60:P,61:re,62:ce,63:ee,64:H,65:te,66:J,67:Y,68:de,69:Fe,70:oe,71:rt,72:We,73:_e,74:Ve}),e(fe,[2,21]),e(fe,[2,22]),e(pe,[2,39]),e(Ce,[2,71],{75:81,35:132,76:le,77:he,79:xe,80:ke}),e(Ue,[2,73]),{78:[1,133]},e(Ue,[2,75]),e(Ue,[2,76]),e(pe,[2,40]),e(pe,[2,41]),e(pe,[2,42]),e(pe,[2,43]),e(pe,[2,44]),e(pe,[2,45]),e(pe,[2,46]),e(pe,[2,47]),e(pe,[2,48]),e(pe,[2,49]),e(pe,[2,50]),e(pe,[2,51]),e(pe,[2,52]),e(pe,[2,53]),e(pe,[2,54]),e(pe,[2,55]),e(pe,[2,56]),e(pe,[2,57]),e(pe,[2,58]),e(pe,[2,60]),e(pe,[2,61]),e(pe,[2,62]),e(pe,[2,63]),e(pe,[2,64]),e(pe,[2,65]),e(pe,[2,66]),e(pe,[2,67]),e(pe,[2,68]),e(pe,[2,69]),e(pe,[2,70]),{31:134,42:[1,135]},{12:[1,136]},{33:[1,137]},e(He,[2,28]),e(He,[2,29]),e(He,[2,30]),e(He,[2,31]),e(He,[2,32]),e(He,[2,33]),e(He,[2,34]),{1:[2,9]},{1:[2,10]},{1:[2,11]},{1:[2,12]},e(Le,[2,18]),e(Ye,[2,38]),e(Ce,[2,72]),e(Ue,[2,74]),e(pe,[2,24]),e(pe,[2,35]),e(Pt,[2,25]),e(Pt,[2,26],{12:[1,138]}),e(Pt,[2,27])],defaultActions:{2:[2,1],3:[2,2],4:[2,7],5:[2,3],6:[2,4],7:[2,5],8:[2,6],74:[2,8],126:[2,9],127:[2,10],128:[2,11],129:[2,12]},parseError:a(function(bt,gt){if(gt.recoverable)this.trace(bt);else{var qt=new Error(bt);throw qt.hash=gt,qt}},"parseError"),parse:a(function(bt){var gt=this,qt=[0],ze=[],$e=[null],Te=[],pt=this.table,it="",Qt=0,_r=0,Zt=0,mr=2,sn=1,ir=Te.slice.call(arguments,1),xr=Object.create(this.lexer),Yt={yy:{}};for(var hn in this.yy)Object.prototype.hasOwnProperty.call(this.yy,hn)&&(Yt.yy[hn]=this.yy[hn]);xr.setInput(bt,Yt.yy),Yt.yy.lexer=xr,Yt.yy.parser=this,typeof xr.yylloc>"u"&&(xr.yylloc={});var dn=xr.yylloc;Te.push(dn);var pn=xr.options&&xr.options.ranges;typeof Yt.yy.parseError=="function"?this.parseError=Yt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function tn(It){qt.length=qt.length-2*It,$e.length=$e.length-It,Te.length=Te.length-It}a(tn,"popStack");function rn(){var It;return It=ze.pop()||xr.lex()||sn,typeof It!="number"&&(It instanceof Array&&(ze=It,It=ze.pop()),It=gt.symbols_[It]||It),It}a(rn,"lex");for(var Qe,ge,Re,Pe,Ee,se,Ze={},ue,Ot,Ae,et;;){if(Re=qt[qt.length-1],this.defaultActions[Re]?Pe=this.defaultActions[Re]:((Qe===null||typeof Qe>"u")&&(Qe=rn()),Pe=pt[Re]&&pt[Re][Qe]),typeof Pe>"u"||!Pe.length||!Pe[0]){var vt="";et=[];for(ue in pt[Re])this.terminals_[ue]&&ue>mr&&et.push("'"+this.terminals_[ue]+"'");xr.showPosition?vt="Parse error on line "+(Qt+1)+`:
`+xr.showPosition()+`
Expecting `+et.join(", ")+", got '"+(this.terminals_[Qe]||Qe)+"'":vt="Parse error on line "+(Qt+1)+": Unexpected "+(Qe==sn?"end of input":"'"+(this.terminals_[Qe]||Qe)+"'"),this.parseError(vt,{text:xr.match,token:this.terminals_[Qe]||Qe,line:xr.yylineno,loc:dn,expected:et})}if(Pe[0]instanceof Array&&Pe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Re+", token: "+Qe);switch(Pe[0]){case 1:qt.push(Qe),$e.push(xr.yytext),Te.push(xr.yylloc),qt.push(Pe[1]),Qe=null,ge?(Qe=ge,ge=null):(_r=xr.yyleng,it=xr.yytext,Qt=xr.yylineno,dn=xr.yylloc,Zt>0&&Zt--);break;case 2:if(Ot=this.productions_[Pe[1]][1],Ze.$=$e[$e.length-Ot],Ze._$={first_line:Te[Te.length-(Ot||1)].first_line,last_line:Te[Te.length-1].last_line,first_column:Te[Te.length-(Ot||1)].first_column,last_column:Te[Te.length-1].last_column},pn&&(Ze._$.range=[Te[Te.length-(Ot||1)].range[0],Te[Te.length-1].range[1]]),se=this.performAction.apply(Ze,[it,_r,Qt,Yt.yy,Pe[1],$e,Te].concat(ir)),typeof se<"u")return se;Ot&&(qt=qt.slice(0,-1*Ot*2),$e=$e.slice(0,-1*Ot),Te=Te.slice(0,-1*Ot)),qt.push(this.productions_[Pe[1]][0]),$e.push(Ze.$),Te.push(Ze._$),Ae=pt[qt[qt.length-2]][qt[qt.length-1]],qt.push(Ae);break;case 3:return!0}}return!0},"parse")},Xt=function(){var kr={EOF:1,parseError:a(function(gt,qt){if(this.yy.parser)this.yy.parser.parseError(gt,qt);else throw new Error(gt)},"parseError"),setInput:function(bt,gt){return this.yy=gt||this.yy||{},this._input=bt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var bt=this._input[0];this.yytext+=bt,this.yyleng++,this.offset++,this.match+=bt,this.matched+=bt;var gt=bt.match(/(?:\r\n?|\n).*/g);return gt?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),bt},unput:function(bt){var gt=bt.length,qt=bt.split(/(?:\r\n?|\n)/g);this._input=bt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-gt),this.offset-=gt;var ze=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),qt.length-1&&(this.yylineno-=qt.length-1);var $e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:qt?(qt.length===ze.length?this.yylloc.first_column:0)+ze[ze.length-qt.length].length-qt[0].length:this.yylloc.first_column-gt},this.options.ranges&&(this.yylloc.range=[$e[0],$e[0]+this.yyleng-gt]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(bt){this.unput(this.match.slice(bt))},pastInput:function(){var bt=this.matched.substr(0,this.matched.length-this.match.length);return(bt.length>20?"...":"")+bt.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var bt=this.match;return bt.length<20&&(bt+=this._input.substr(0,20-bt.length)),(bt.substr(0,20)+(bt.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var bt=this.pastInput(),gt=new Array(bt.length+1).join("-");return bt+this.upcomingInput()+`
`+gt+"^"},test_match:function(bt,gt){var qt,ze,$e;if(this.options.backtrack_lexer&&($e={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&($e.yylloc.range=this.yylloc.range.slice(0))),ze=bt[0].match(/(?:\r\n?|\n).*/g),ze&&(this.yylineno+=ze.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ze?ze[ze.length-1].length-ze[ze.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+bt[0].length},this.yytext+=bt[0],this.match+=bt[0],this.matches=bt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(bt[0].length),this.matched+=bt[0],qt=this.performAction.call(this,this.yy,this,gt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),qt)return qt;if(this._backtrack){for(var Te in $e)this[Te]=$e[Te];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var bt,gt,qt,ze;this._more||(this.yytext="",this.match="");for(var $e=this._currentRules(),Te=0;Te<$e.length;Te++)if(qt=this._input.match(this.rules[$e[Te]]),qt&&(!gt||qt[0].length>gt[0].length)){if(gt=qt,ze=Te,this.options.backtrack_lexer){if(bt=this.test_match(qt,$e[Te]),bt!==!1)return bt;if(this._backtrack){gt=!1;continue}else return!1}else if(!this.options.flex)break}return gt?(bt=this.test_match(gt,$e[ze]),bt!==!1?bt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var gt=this.next();return gt||this.lex()},"lex"),begin:a(function(gt){this.conditionStack.push(gt)},"begin"),popState:a(function(){var gt=this.conditionStack.length-1;return gt>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(gt){return gt=this.conditionStack.length-1-Math.abs(gt||0),gt>=0?this.conditionStack[gt]:"INITIAL"},"topState"),pushState:a(function(gt){this.begin(gt)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:a(function(gt,qt,ze,$e){var Te=$e;switch(ze){case 0:return 6;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 22;case 5:return 23;case 6:return this.begin("acc_title"),24;break;case 7:return this.popState(),"acc_title_value";break;case 8:return this.begin("acc_descr"),26;break;case 9:return this.popState(),"acc_descr_value";break;case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:break;case 14:c;break;case 15:return 12;case 16:break;case 17:return 11;case 18:return 15;case 19:return 16;case 20:return 17;case 21:return 18;case 22:return this.begin("person_ext"),45;break;case 23:return this.begin("person"),44;break;case 24:return this.begin("system_ext_queue"),51;break;case 25:return this.begin("system_ext_db"),50;break;case 26:return this.begin("system_ext"),49;break;case 27:return this.begin("system_queue"),48;break;case 28:return this.begin("system_db"),47;break;case 29:return this.begin("system"),46;break;case 30:return this.begin("boundary"),37;break;case 31:return this.begin("enterprise_boundary"),34;break;case 32:return this.begin("system_boundary"),36;break;case 33:return this.begin("container_ext_queue"),57;break;case 34:return this.begin("container_ext_db"),56;break;case 35:return this.begin("container_ext"),55;break;case 36:return this.begin("container_queue"),54;break;case 37:return this.begin("container_db"),53;break;case 38:return this.begin("container"),52;break;case 39:return this.begin("container_boundary"),38;break;case 40:return this.begin("component_ext_queue"),63;break;case 41:return this.begin("component_ext_db"),62;break;case 42:return this.begin("component_ext"),61;break;case 43:return this.begin("component_queue"),60;break;case 44:return this.begin("component_db"),59;break;case 45:return this.begin("component"),58;break;case 46:return this.begin("node"),39;break;case 47:return this.begin("node"),39;break;case 48:return this.begin("node_l"),40;break;case 49:return this.begin("node_r"),41;break;case 50:return this.begin("rel"),64;break;case 51:return this.begin("birel"),65;break;case 52:return this.begin("rel_u"),66;break;case 53:return this.begin("rel_u"),66;break;case 54:return this.begin("rel_d"),67;break;case 55:return this.begin("rel_d"),67;break;case 56:return this.begin("rel_l"),68;break;case 57:return this.begin("rel_l"),68;break;case 58:return this.begin("rel_r"),69;break;case 59:return this.begin("rel_r"),69;break;case 60:return this.begin("rel_b"),70;break;case 61:return this.begin("rel_index"),71;break;case 62:return this.begin("update_el_style"),72;break;case 63:return this.begin("update_rel_style"),73;break;case 64:return this.begin("update_layout_config"),74;break;case 65:return"EOF_IN_STRUCT";case 66:return this.begin("attribute"),"ATTRIBUTE_EMPTY";break;case 67:this.begin("attribute");break;case 68:this.popState(),this.popState();break;case 69:return 80;case 70:break;case 71:return 80;case 72:this.begin("string");break;case 73:this.popState();break;case 74:return"STR";case 75:this.begin("string_kv");break;case 76:return this.begin("string_kv_key"),"STR_KEY";break;case 77:this.popState(),this.begin("string_kv_value");break;case 78:return"STR_VALUE";case 79:this.popState(),this.popState();break;case 80:return"STR";case 81:return"LBRACE";case 82:return"RBRACE";case 83:return"SPACE";case 84:return"EOL";case 85:return 14}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},string_kv_value:{rules:[78,79],inclusive:!1},string_kv_key:{rules:[77],inclusive:!1},string_kv:{rules:[76],inclusive:!1},string:{rules:[73,74],inclusive:!1},attribute:{rules:[68,69,70,71,72,75,80],inclusive:!1},update_layout_config:{rules:[65,66,67,68],inclusive:!1},update_rel_style:{rules:[65,66,67,68],inclusive:!1},update_el_style:{rules:[65,66,67,68],inclusive:!1},rel_b:{rules:[65,66,67,68],inclusive:!1},rel_r:{rules:[65,66,67,68],inclusive:!1},rel_l:{rules:[65,66,67,68],inclusive:!1},rel_d:{rules:[65,66,67,68],inclusive:!1},rel_u:{rules:[65,66,67,68],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[65,66,67,68],inclusive:!1},node_r:{rules:[65,66,67,68],inclusive:!1},node_l:{rules:[65,66,67,68],inclusive:!1},node:{rules:[65,66,67,68],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[65,66,67,68],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[65,66,67,68],inclusive:!1},component_ext:{rules:[65,66,67,68],inclusive:!1},component_queue:{rules:[65,66,67,68],inclusive:!1},component_db:{rules:[65,66,67,68],inclusive:!1},component:{rules:[65,66,67,68],inclusive:!1},container_boundary:{rules:[65,66,67,68],inclusive:!1},container_ext_queue:{rules:[65,66,67,68],inclusive:!1},container_ext_db:{rules:[65,66,67,68],inclusive:!1},container_ext:{rules:[65,66,67,68],inclusive:!1},container_queue:{rules:[65,66,67,68],inclusive:!1},container_db:{rules:[65,66,67,68],inclusive:!1},container:{rules:[65,66,67,68],inclusive:!1},birel:{rules:[65,66,67,68],inclusive:!1},system_boundary:{rules:[65,66,67,68],inclusive:!1},enterprise_boundary:{rules:[65,66,67,68],inclusive:!1},boundary:{rules:[65,66,67,68],inclusive:!1},system_ext_queue:{rules:[65,66,67,68],inclusive:!1},system_ext_db:{rules:[65,66,67,68],inclusive:!1},system_ext:{rules:[65,66,67,68],inclusive:!1},system_queue:{rules:[65,66,67,68],inclusive:!1},system_db:{rules:[65,66,67,68],inclusive:!1},system:{rules:[65,66,67,68],inclusive:!1},person_ext:{rules:[65,66,67,68],inclusive:!1},person:{rules:[65,66,67,68],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,81,82,83,84,85],inclusive:!0}}};return kr}();Lt.lexer=Xt;function Kt(){this.yy={}}return a(Kt,"Parser"),Kt.prototype=Lt,Lt.Parser=Kt,new Kt}();gv.parser=gv;TG=gv});var F4e,B4e,wn,Ys,Si=F(()=>{"use strict";br();F4e=a(function(e,t){for(let r of t)e.attr(r[0],r[1])},"d3Attrs"),B4e=a(function(e,t,r){let n=new Map;return r?(n.set("width","100%"),n.set("style",`max-width: ${t}px;`)):(n.set("height",e),n.set("width",t)),n},"calculateSvgSizeAttrs"),wn=a(function(e,t,r,n){let i=B4e(t,r,n);F4e(e,i)},"configureSvgSize"),Ys=a(function(e,t,r,n){let i=t.node().getBBox(),o=i.width,s=i.height;ye.info(`SVG bounds: ${o}x${s}`,i);let u=0,f=0;ye.info(`Graph bounds: ${u}x${f}`,e),u=o+r*2,f=s+r*2,ye.info(`Calculated bounds: ${u}x${f}`),wn(t,f,u,n);let p=`${i.x-r} ${i.y-r} ${i.width+2*r} ${i.height+2*r}`;t.attr("viewBox",p)},"setupGraphViewbox")});var GT,q4e,kG,_G,u5=F(()=>{"use strict";br();GT={},q4e=a((e,t,r)=>{let n="";return e in GT&&GT[e]?n=GT[e](r):ye.warn(`No theme found for ${e}`),` & {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
    fill: ${r.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${r.errorBkgColor};
  }
  & .error-text {
    fill: ${r.errorTextColor};
    stroke: ${r.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 2px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }

  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${r.lineColor};
    stroke: ${r.lineColor};
  }
  & .marker.cross {
    stroke: ${r.lineColor};
  }

  & svg {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
  }

  ${n}

  ${t}
`},"getStyles"),kG=a((e,t)=>{t!==void 0&&(GT[e]=t)},"addStylesForDiagram"),_G=q4e});var yv={};ii(yv,{clear:()=>In,getAccDescription:()=>On,getAccTitle:()=>Nn,getDiagramTitle:()=>Yn,setAccDescription:()=>Pn,setAccTitle:()=>Rn,setDiagramTitle:()=>ci});var f5,h5,d5,p5,In,Rn,Nn,Pn,On,ci,Yn,Ua=F(()=>{"use strict";en();Jm();f5="",h5="",d5="",p5=a(e=>zn(e,ka()),"sanitizeText"),In=a(()=>{f5="",d5="",h5=""},"clear"),Rn=a(e=>{f5=p5(e).replace(/^\s+/g,"")},"setAccTitle"),Nn=a(()=>f5,"getAccTitle"),Pn=a(e=>{d5=p5(e).replace(/\n\s+/g,`
`)},"setAccDescription"),On=a(()=>d5,"getAccDescription"),ci=a(e=>{h5=p5(e)},"setDiagramTitle"),Yn=a(()=>h5,"getDiagramTitle")});var wG,z4e,Me,EG,WT,U4e,g5,$4e,VT,Od,vv,m5,Pr=F(()=>{"use strict";Rd();br();Jm();en();Si();u5();Ua();wG=ye,z4e=K0,Me=ka,EG=$T,WT=Xf,U4e=a(e=>zn(e,Me()),"sanitizeText"),g5=Ys,$4e=a(()=>yv,"getCommonDb"),VT={},Od=a((e,t,r)=>{VT[e]&&wG.warn(`Diagram with id ${e} already registered. Overwriting.`),VT[e]=t,r&&wR(e,r),kG(e,t.styles),t.injectUtils?.(wG,z4e,Me,U4e,g5,$4e(),()=>{})},"registerDiagram"),vv=a(e=>{if(e in VT)return VT[e];throw new m5(e)},"getDiagram"),m5=class extends Error{static{a(this,"DiagramNotFoundError")}constructor(t){super(`Diagram ${t} not found.`)}}});var Ol,Kf,bo,Pl,wc,xv,y5,v5,HT,jT,CG,G4e,V4e,W4e,H4e,j4e,Y4e,X4e,K4e,Q4e,Z4e,J4e,eRe,tRe,rRe,nRe,iRe,aRe,SG,oRe,sRe,lRe,cRe,uRe,fRe,Qf,hRe,dRe,pRe,mRe,gRe,bv,x5=F(()=>{"use strict";Pr();en();Ua();Ol=[],Kf=[""],bo="global",Pl="",wc=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],xv=[],y5="",v5=!1,HT=4,jT=2,G4e=a(function(){return CG},"getC4Type"),V4e=a(function(e){CG=zn(e,Me())},"setC4Type"),W4e=a(function(e,t,r,n,i,o,s,u,f){if(e==null||t===void 0||t===null||r===void 0||r===null||n===void 0||n===null)return;let p={},g=xv.find(y=>y.from===t&&y.to===r);if(g?p=g:xv.push(p),p.type=e,p.from=t,p.to=r,p.label={text:n},i==null)p.techn={text:""};else if(typeof i=="object"){let[y,x]=Object.entries(i)[0];p[y]={text:x}}else p.techn={text:i};if(o==null)p.descr={text:""};else if(typeof o=="object"){let[y,x]=Object.entries(o)[0];p[y]={text:x}}else p.descr={text:o};if(typeof s=="object"){let[y,x]=Object.entries(s)[0];p[y]=x}else p.sprite=s;if(typeof u=="object"){let[y,x]=Object.entries(u)[0];p[y]=x}else p.tags=u;if(typeof f=="object"){let[y,x]=Object.entries(f)[0];p[y]=x}else p.link=f;p.wrap=Qf()},"addRel"),H4e=a(function(e,t,r,n,i,o,s){if(t===null||r===null)return;let u={},f=Ol.find(p=>p.alias===t);if(f&&t===f.alias?u=f:(u.alias=t,Ol.push(u)),r==null?u.label={text:""}:u.label={text:r},n==null)u.descr={text:""};else if(typeof n=="object"){let[p,g]=Object.entries(n)[0];u[p]={text:g}}else u.descr={text:n};if(typeof i=="object"){let[p,g]=Object.entries(i)[0];u[p]=g}else u.sprite=i;if(typeof o=="object"){let[p,g]=Object.entries(o)[0];u[p]=g}else u.tags=o;if(typeof s=="object"){let[p,g]=Object.entries(s)[0];u[p]=g}else u.link=s;u.typeC4Shape={text:e},u.parentBoundary=bo,u.wrap=Qf()},"addPersonOrSystem"),j4e=a(function(e,t,r,n,i,o,s,u){if(t===null||r===null)return;let f={},p=Ol.find(g=>g.alias===t);if(p&&t===p.alias?f=p:(f.alias=t,Ol.push(f)),r==null?f.label={text:""}:f.label={text:r},n==null)f.techn={text:""};else if(typeof n=="object"){let[g,y]=Object.entries(n)[0];f[g]={text:y}}else f.techn={text:n};if(i==null)f.descr={text:""};else if(typeof i=="object"){let[g,y]=Object.entries(i)[0];f[g]={text:y}}else f.descr={text:i};if(typeof o=="object"){let[g,y]=Object.entries(o)[0];f[g]=y}else f.sprite=o;if(typeof s=="object"){let[g,y]=Object.entries(s)[0];f[g]=y}else f.tags=s;if(typeof u=="object"){let[g,y]=Object.entries(u)[0];f[g]=y}else f.link=u;f.wrap=Qf(),f.typeC4Shape={text:e},f.parentBoundary=bo},"addContainer"),Y4e=a(function(e,t,r,n,i,o,s,u){if(t===null||r===null)return;let f={},p=Ol.find(g=>g.alias===t);if(p&&t===p.alias?f=p:(f.alias=t,Ol.push(f)),r==null?f.label={text:""}:f.label={text:r},n==null)f.techn={text:""};else if(typeof n=="object"){let[g,y]=Object.entries(n)[0];f[g]={text:y}}else f.techn={text:n};if(i==null)f.descr={text:""};else if(typeof i=="object"){let[g,y]=Object.entries(i)[0];f[g]={text:y}}else f.descr={text:i};if(typeof o=="object"){let[g,y]=Object.entries(o)[0];f[g]=y}else f.sprite=o;if(typeof s=="object"){let[g,y]=Object.entries(s)[0];f[g]=y}else f.tags=s;if(typeof u=="object"){let[g,y]=Object.entries(u)[0];f[g]=y}else f.link=u;f.wrap=Qf(),f.typeC4Shape={text:e},f.parentBoundary=bo},"addComponent"),X4e=a(function(e,t,r,n,i){if(e===null||t===null)return;let o={},s=wc.find(u=>u.alias===e);if(s&&e===s.alias?o=s:(o.alias=e,wc.push(o)),t==null?o.label={text:""}:o.label={text:t},r==null)o.type={text:"system"};else if(typeof r=="object"){let[u,f]=Object.entries(r)[0];o[u]={text:f}}else o.type={text:r};if(typeof n=="object"){let[u,f]=Object.entries(n)[0];o[u]=f}else o.tags=n;if(typeof i=="object"){let[u,f]=Object.entries(i)[0];o[u]=f}else o.link=i;o.parentBoundary=bo,o.wrap=Qf(),Pl=bo,bo=e,Kf.push(Pl)},"addPersonOrSystemBoundary"),K4e=a(function(e,t,r,n,i){if(e===null||t===null)return;let o={},s=wc.find(u=>u.alias===e);if(s&&e===s.alias?o=s:(o.alias=e,wc.push(o)),t==null?o.label={text:""}:o.label={text:t},r==null)o.type={text:"container"};else if(typeof r=="object"){let[u,f]=Object.entries(r)[0];o[u]={text:f}}else o.type={text:r};if(typeof n=="object"){let[u,f]=Object.entries(n)[0];o[u]=f}else o.tags=n;if(typeof i=="object"){let[u,f]=Object.entries(i)[0];o[u]=f}else o.link=i;o.parentBoundary=bo,o.wrap=Qf(),Pl=bo,bo=e,Kf.push(Pl)},"addContainerBoundary"),Q4e=a(function(e,t,r,n,i,o,s,u){if(t===null||r===null)return;let f={},p=wc.find(g=>g.alias===t);if(p&&t===p.alias?f=p:(f.alias=t,wc.push(f)),r==null?f.label={text:""}:f.label={text:r},n==null)f.type={text:"node"};else if(typeof n=="object"){let[g,y]=Object.entries(n)[0];f[g]={text:y}}else f.type={text:n};if(i==null)f.descr={text:""};else if(typeof i=="object"){let[g,y]=Object.entries(i)[0];f[g]={text:y}}else f.descr={text:i};if(typeof s=="object"){let[g,y]=Object.entries(s)[0];f[g]=y}else f.tags=s;if(typeof u=="object"){let[g,y]=Object.entries(u)[0];f[g]=y}else f.link=u;f.nodeType=e,f.parentBoundary=bo,f.wrap=Qf(),Pl=bo,bo=t,Kf.push(Pl)},"addDeploymentNode"),Z4e=a(function(){bo=Pl,Kf.pop(),Pl=Kf.pop(),Kf.push(Pl)},"popBoundaryParseStack"),J4e=a(function(e,t,r,n,i,o,s,u,f,p,g){let y=Ol.find(x=>x.alias===t);if(!(y===void 0&&(y=wc.find(x=>x.alias===t),y===void 0))){if(r!=null)if(typeof r=="object"){let[x,b]=Object.entries(r)[0];y[x]=b}else y.bgColor=r;if(n!=null)if(typeof n=="object"){let[x,b]=Object.entries(n)[0];y[x]=b}else y.fontColor=n;if(i!=null)if(typeof i=="object"){let[x,b]=Object.entries(i)[0];y[x]=b}else y.borderColor=i;if(o!=null)if(typeof o=="object"){let[x,b]=Object.entries(o)[0];y[x]=b}else y.shadowing=o;if(s!=null)if(typeof s=="object"){let[x,b]=Object.entries(s)[0];y[x]=b}else y.shape=s;if(u!=null)if(typeof u=="object"){let[x,b]=Object.entries(u)[0];y[x]=b}else y.sprite=u;if(f!=null)if(typeof f=="object"){let[x,b]=Object.entries(f)[0];y[x]=b}else y.techn=f;if(p!=null)if(typeof p=="object"){let[x,b]=Object.entries(p)[0];y[x]=b}else y.legendText=p;if(g!=null)if(typeof g=="object"){let[x,b]=Object.entries(g)[0];y[x]=b}else y.legendSprite=g}},"updateElStyle"),eRe=a(function(e,t,r,n,i,o,s){let u=xv.find(f=>f.from===t&&f.to===r);if(u!==void 0){if(n!=null)if(typeof n=="object"){let[f,p]=Object.entries(n)[0];u[f]=p}else u.textColor=n;if(i!=null)if(typeof i=="object"){let[f,p]=Object.entries(i)[0];u[f]=p}else u.lineColor=i;if(o!=null)if(typeof o=="object"){let[f,p]=Object.entries(o)[0];u[f]=parseInt(p)}else u.offsetX=parseInt(o);if(s!=null)if(typeof s=="object"){let[f,p]=Object.entries(s)[0];u[f]=parseInt(p)}else u.offsetY=parseInt(s)}},"updateRelStyle"),tRe=a(function(e,t,r){let n=HT,i=jT;if(typeof t=="object"){let o=Object.values(t)[0];n=parseInt(o)}else n=parseInt(t);if(typeof r=="object"){let o=Object.values(r)[0];i=parseInt(o)}else i=parseInt(r);n>=1&&(HT=n),i>=1&&(jT=i)},"updateLayoutConfig"),rRe=a(function(){return HT},"getC4ShapeInRow"),nRe=a(function(){return jT},"getC4BoundaryInRow"),iRe=a(function(){return bo},"getCurrentBoundaryParse"),aRe=a(function(){return Pl},"getParentBoundaryParse"),SG=a(function(e){return e==null?Ol:Ol.filter(t=>t.parentBoundary===e)},"getC4ShapeArray"),oRe=a(function(e){return Ol.find(t=>t.alias===e)},"getC4Shape"),sRe=a(function(e){return Object.keys(SG(e))},"getC4ShapeKeys"),lRe=a(function(e){return e==null?wc:wc.filter(t=>t.parentBoundary===e)},"getBoundarys"),cRe=a(function(){return xv},"getRels"),uRe=a(function(){return y5},"getTitle"),fRe=a(function(e){v5=e},"setWrap"),Qf=a(function(){return v5},"autoWrap"),hRe=a(function(){Ol=[],wc=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],Pl="",bo="global",Kf=[""],xv=[],Kf=[""],y5="",v5=!1,HT=4,jT=2},"clear"),dRe={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},pRe={FILLED:0,OPEN:1},mRe={LEFTOF:0,RIGHTOF:1,OVER:2},gRe=a(function(e){y5=zn(e,Me())},"setTitle"),bv={addPersonOrSystem:H4e,addPersonOrSystemBoundary:X4e,addContainer:j4e,addContainerBoundary:K4e,addComponent:Y4e,addDeploymentNode:Q4e,popBoundaryParseStack:Z4e,addRel:W4e,updateElStyle:J4e,updateRelStyle:eRe,updateLayoutConfig:tRe,autoWrap:Qf,setWrap:fRe,getC4ShapeArray:SG,getC4Shape:oRe,getC4ShapeKeys:sRe,getBoundarys:lRe,getCurrentBoundaryParse:iRe,getParentBoundaryParse:aRe,getRels:cRe,getTitle:uRe,getC4Type:G4e,getC4ShapeInRow:rRe,getC4BoundaryInRow:nRe,setAccTitle:Rn,getAccTitle:Nn,getAccDescription:On,setAccDescription:Pn,getConfig:()=>Me().c4,clear:hRe,LINETYPE:dRe,ARROWTYPE:pRe,PLACEMENT:mRe,setTitle:gRe,setC4Type:V4e}});var b5,Md,YT,AG,RG,DG,Ml,Tv,kv=F(()=>{"use strict";b5=go(om(),1);en();Md=a((e,t)=>{let r=e.append("rect");if(r.attr("x",t.x),r.attr("y",t.y),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("width",t.width),r.attr("height",t.height),t.rx!==void 0&&r.attr("rx",t.rx),t.ry!==void 0&&r.attr("ry",t.ry),t.attrs!==void 0)for(let n in t.attrs)r.attr(n,t.attrs[n]);return t.class!==void 0&&r.attr("class",t.class),r},"drawRect"),YT=a((e,t)=>{let r={x:t.startx,y:t.starty,width:t.stopx-t.startx,height:t.stopy-t.starty,fill:t.fill,stroke:t.stroke,class:"rect"};Md(e,r).lower()},"drawBackgroundRect"),AG=a((e,t)=>{let r=t.text.replace(Rm," "),n=e.append("text");n.attr("x",t.x),n.attr("y",t.y),n.attr("class","legend"),n.style("text-anchor",t.anchor),t.class!==void 0&&n.attr("class",t.class);let i=n.append("tspan");return i.attr("x",t.x+t.textMargin*2),i.text(r),n},"drawText"),RG=a((e,t,r,n)=>{let i=e.append("image");i.attr("x",t),i.attr("y",r);let o=(0,b5.sanitizeUrl)(n);i.attr("xlink:href",o)},"drawImage"),DG=a((e,t,r,n)=>{let i=e.append("use");i.attr("x",t),i.attr("y",r);let o=(0,b5.sanitizeUrl)(n);i.attr("xlink:href",`#${o}`)},"drawEmbeddedImage"),Ml=a(()=>({x:0,y:0,width:100,height:100,fill:"#EDF2AE",stroke:"#666",anchor:"start",rx:0,ry:0}),"getNoteRect"),Tv=a(()=>({x:0,y:0,width:100,height:100,"text-anchor":"start",style:"#666",textMargin:0,rx:0,ry:0,tspan:!0}),"getTextObj")});var LG,T5,IG,yRe,vRe,xRe,bRe,TRe,kRe,_Re,wRe,ERe,CRe,SRe,ARe,ku,Fl,NG=F(()=>{"use strict";en();kv();LG=go(om(),1),T5=a(function(e,t){return Md(e,t)},"drawRect"),IG=a(function(e,t,r,n,i,o){let s=e.append("image");s.attr("width",t),s.attr("height",r),s.attr("x",n),s.attr("y",i);let u=o.startsWith("data:image/png;base64")?o:(0,LG.sanitizeUrl)(o);s.attr("xlink:href",u)},"drawImage"),yRe=a((e,t,r)=>{let n=e.append("g"),i=0;for(let o of t){let s=o.textColor?o.textColor:"#444444",u=o.lineColor?o.lineColor:"#444444",f=o.offsetX?parseInt(o.offsetX):0,p=o.offsetY?parseInt(o.offsetY):0,g="";if(i===0){let x=n.append("line");x.attr("x1",o.startPoint.x),x.attr("y1",o.startPoint.y),x.attr("x2",o.endPoint.x),x.attr("y2",o.endPoint.y),x.attr("stroke-width","1"),x.attr("stroke",u),x.style("fill","none"),o.type!=="rel_b"&&x.attr("marker-end","url("+g+"#arrowhead)"),(o.type==="birel"||o.type==="rel_b")&&x.attr("marker-start","url("+g+"#arrowend)"),i=-1}else{let x=n.append("path");x.attr("fill","none").attr("stroke-width","1").attr("stroke",u).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",o.startPoint.x).replaceAll("starty",o.startPoint.y).replaceAll("controlx",o.startPoint.x+(o.endPoint.x-o.startPoint.x)/2-(o.endPoint.x-o.startPoint.x)/4).replaceAll("controly",o.startPoint.y+(o.endPoint.y-o.startPoint.y)/2).replaceAll("stopx",o.endPoint.x).replaceAll("stopy",o.endPoint.y)),o.type!=="rel_b"&&x.attr("marker-end","url("+g+"#arrowhead)"),(o.type==="birel"||o.type==="rel_b")&&x.attr("marker-start","url("+g+"#arrowend)")}let y=r.messageFont();ku(r)(o.label.text,n,Math.min(o.startPoint.x,o.endPoint.x)+Math.abs(o.endPoint.x-o.startPoint.x)/2+f,Math.min(o.startPoint.y,o.endPoint.y)+Math.abs(o.endPoint.y-o.startPoint.y)/2+p,o.label.width,o.label.height,{fill:s},y),o.techn&&o.techn.text!==""&&(y=r.messageFont(),ku(r)("["+o.techn.text+"]",n,Math.min(o.startPoint.x,o.endPoint.x)+Math.abs(o.endPoint.x-o.startPoint.x)/2+f,Math.min(o.startPoint.y,o.endPoint.y)+Math.abs(o.endPoint.y-o.startPoint.y)/2+r.messageFontSize+5+p,Math.max(o.label.width,o.techn.width),o.techn.height,{fill:s,"font-style":"italic"},y))}},"drawRels"),vRe=a(function(e,t,r){let n=e.append("g"),i=t.bgColor?t.bgColor:"none",o=t.borderColor?t.borderColor:"#444444",s=t.fontColor?t.fontColor:"black",u={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};t.nodeType&&(u={"stroke-width":1});let f={x:t.x,y:t.y,fill:i,stroke:o,width:t.width,height:t.height,rx:2.5,ry:2.5,attrs:u};T5(n,f);let p=r.boundaryFont();p.fontWeight="bold",p.fontSize=p.fontSize+2,p.fontColor=s,ku(r)(t.label.text,n,t.x,t.y+t.label.Y,t.width,t.height,{fill:"#444444"},p),t.type&&t.type.text!==""&&(p=r.boundaryFont(),p.fontColor=s,ku(r)(t.type.text,n,t.x,t.y+t.type.Y,t.width,t.height,{fill:"#444444"},p)),t.descr&&t.descr.text!==""&&(p=r.boundaryFont(),p.fontSize=p.fontSize-2,p.fontColor=s,ku(r)(t.descr.text,n,t.x,t.y+t.descr.Y,t.width,t.height,{fill:"#444444"},p))},"drawBoundary"),xRe=a(function(e,t,r){let n=t.bgColor?t.bgColor:r[t.typeC4Shape.text+"_bg_color"],i=t.borderColor?t.borderColor:r[t.typeC4Shape.text+"_border_color"],o=t.fontColor?t.fontColor:"#FFFFFF",s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(t.typeC4Shape.text){case"person":s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";break}let u=e.append("g");u.attr("class","person-man");let f=Ml();switch(t.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":f.x=t.x,f.y=t.y,f.fill=n,f.width=t.width,f.height=t.height,f.stroke=i,f.rx=2.5,f.ry=2.5,f.attrs={"stroke-width":.5},T5(u,f);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":u.append("path").attr("fill",n).attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("half",t.width/2).replaceAll("height",t.height)),u.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("half",t.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":u.append("path").attr("fill",n).attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("width",t.width).replaceAll("half",t.height/2)),u.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",t.x+t.width).replaceAll("starty",t.y).replaceAll("half",t.height/2));break}let p=ARe(r,t.typeC4Shape.text);switch(u.append("text").attr("fill",o).attr("font-family",p.fontFamily).attr("font-size",p.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",t.typeC4Shape.width).attr("x",t.x+t.width/2-t.typeC4Shape.width/2).attr("y",t.y+t.typeC4Shape.Y).text("<<"+t.typeC4Shape.text+">>"),t.typeC4Shape.text){case"person":case"external_person":IG(u,48,48,t.x+t.width/2-24,t.y+t.image.Y,s);break}let g=r[t.typeC4Shape.text+"Font"]();return g.fontWeight="bold",g.fontSize=g.fontSize+2,g.fontColor=o,ku(r)(t.label.text,u,t.x,t.y+t.label.Y,t.width,t.height,{fill:o},g),g=r[t.typeC4Shape.text+"Font"](),g.fontColor=o,t.techn&&t.techn?.text!==""?ku(r)(t.techn.text,u,t.x,t.y+t.techn.Y,t.width,t.height,{fill:o,"font-style":"italic"},g):t.type&&t.type.text!==""&&ku(r)(t.type.text,u,t.x,t.y+t.type.Y,t.width,t.height,{fill:o,"font-style":"italic"},g),t.descr&&t.descr.text!==""&&(g=r.personFont(),g.fontColor=o,ku(r)(t.descr.text,u,t.x,t.y+t.descr.Y,t.width,t.height,{fill:o},g)),t.height},"drawC4Shape"),bRe=a(function(e){e.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),TRe=a(function(e){e.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),kRe=a(function(e){e.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),_Re=a(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},"insertArrowHead"),wRe=a(function(e){e.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},"insertArrowEnd"),ERe=a(function(e){e.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),CRe=a(function(e){e.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertDynamicNumber"),SRe=a(function(e){let r=e.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);r.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),r.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},"insertArrowCrossHead"),ARe=a((e,t)=>({fontFamily:e[t+"FontFamily"],fontSize:e[t+"FontSize"],fontWeight:e[t+"FontWeight"]}),"getC4ShapeFont"),ku=function(){function e(i,o,s,u,f,p,g){let y=o.append("text").attr("x",s+f/2).attr("y",u+p/2+5).style("text-anchor","middle").text(i);n(y,g)}a(e,"byText");function t(i,o,s,u,f,p,g,y){let{fontSize:x,fontFamily:b,fontWeight:E}=y,A=i.split(Et.lineBreakRegex);for(let O=0;O<A.length;O++){let N=O*x-x*(A.length-1)/2,I=o.append("text").attr("x",s+f/2).attr("y",u).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",x).style("font-weight",E).style("font-family",b);I.append("tspan").attr("dy",N).text(A[O]).attr("alignment-baseline","mathematical"),n(I,g)}}a(t,"byTspan");function r(i,o,s,u,f,p,g,y){let x=o.append("switch"),E=x.append("foreignObject").attr("x",s).attr("y",u).attr("width",f).attr("height",p).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");E.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),t(i,x,s,u,f,p,g,y),n(E,g)}a(r,"byFo");function n(i,o){for(let s in o)o.hasOwnProperty(s)&&i.attr(s,o[s])}return a(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?e:t}}(),Fl={drawRect:T5,drawBoundary:vRe,drawC4Shape:xRe,drawRels:yRe,drawImage:IG,insertArrowHead:_Re,insertArrowEnd:wRe,insertArrowFilledHead:ERe,insertDynamicNumber:CRe,insertArrowCrossHead:SRe,insertDatabaseIcon:bRe,insertComputerIcon:TRe,insertClockIcon:kRe}});function Bl(e,t,r,n,i){if(!t[e].width)if(r)t[e].text=e5(t[e].text,i,n),t[e].textLines=t[e].text.split(Et.lineBreakRegex).length,t[e].width=i,t[e].height=AT(t[e].text,n);else{let o=t[e].text.split(Et.lineBreakRegex);t[e].textLines=o.length;let s=0;t[e].height=0,t[e].width=0;for(let u of o)t[e].width=Math.max(Ll(u,n),t[e].width),s=AT(u,n),t[e].height=t[e].height+s}}function BG(e,t,r,n,i){let o=new JT(i);o.data.widthLimit=r.data.widthLimit/Math.min(k5,n.length);for(let[s,u]of n.entries()){let f=0;u.image={width:0,height:0,Y:0},u.sprite&&(u.image.width=48,u.image.height=48,u.image.Y=f,f=u.image.Y+u.image.height);let p=u.wrap&&pr.wrap,g=KT(pr);if(g.fontSize=g.fontSize+2,g.fontWeight="bold",Bl("label",u,p,g,o.data.widthLimit),u.label.Y=f+8,f=u.label.Y+u.label.height,u.type&&u.type.text!==""){u.type.text="["+u.type.text+"]";let E=KT(pr);Bl("type",u,p,E,o.data.widthLimit),u.type.Y=f+5,f=u.type.Y+u.type.height}if(u.descr&&u.descr.text!==""){let E=KT(pr);E.fontSize=E.fontSize-2,Bl("descr",u,p,E,o.data.widthLimit),u.descr.Y=f+20,f=u.descr.Y+u.descr.height}if(s==0||s%k5===0){let E=r.data.startx+pr.diagramMarginX,A=r.data.stopy+pr.diagramMarginY+f;o.setData(E,E,A,A)}else{let E=o.data.stopx!==o.data.startx?o.data.stopx+pr.diagramMarginX:o.data.startx,A=o.data.starty;o.setData(E,E,A,A)}o.name=u.alias;let y=i.db.getC4ShapeArray(u.alias),x=i.db.getC4ShapeKeys(u.alias);x.length>0&&FG(o,e,y,x),t=u.alias;let b=i.db.getBoundarys(t);b.length>0&&BG(e,t,o,b,i),u.alias!=="global"&&MG(e,u,o),r.data.stopy=Math.max(o.data.stopy+pr.c4ShapeMargin,r.data.stopy),r.data.stopx=Math.max(o.data.stopx+pr.c4ShapeMargin,r.data.stopx),QT=Math.max(QT,r.data.stopx),ZT=Math.max(ZT,r.data.stopy)}}var QT,ZT,OG,k5,pr,JT,_5,_v,KT,RRe,MG,FG,Wo,PG,DRe,LRe,IRe,w5,qG=F(()=>{"use strict";Zr();NG();br();c5();en();x5();Pr();Wy();An();Si();QT=0,ZT=0,OG=4,k5=2;gv.yy=bv;pr={},JT=class{static{a(this,"Bounds")}constructor(t){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,_5(t.db.getConfig())}setData(t,r,n,i){this.nextData.startx=this.data.startx=t,this.nextData.stopx=this.data.stopx=r,this.nextData.starty=this.data.starty=n,this.nextData.stopy=this.data.stopy=i}updateVal(t,r,n,i){t[r]===void 0?t[r]=n:t[r]=i(n,t[r])}insert(t){this.nextData.cnt=this.nextData.cnt+1;let r=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+t.margin:this.nextData.stopx+t.margin*2,n=r+t.width,i=this.nextData.starty+t.margin*2,o=i+t.height;(r>=this.data.widthLimit||n>=this.data.widthLimit||this.nextData.cnt>OG)&&(r=this.nextData.startx+t.margin+pr.nextLinePaddingX,i=this.nextData.stopy+t.margin*2,this.nextData.stopx=n=r+t.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=o=i+t.height,this.nextData.cnt=1),t.x=r,t.y=i,this.updateVal(this.data,"startx",r,Math.min),this.updateVal(this.data,"starty",i,Math.min),this.updateVal(this.data,"stopx",n,Math.max),this.updateVal(this.data,"stopy",o,Math.max),this.updateVal(this.nextData,"startx",r,Math.min),this.updateVal(this.nextData,"starty",i,Math.min),this.updateVal(this.nextData,"stopx",n,Math.max),this.updateVal(this.nextData,"stopy",o,Math.max)}init(t){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},_5(t.db.getConfig())}bumpLastMargin(t){this.data.stopx+=t,this.data.stopy+=t}},_5=a(function(e){Ei(pr,e),e.fontFamily&&(pr.personFontFamily=pr.systemFontFamily=pr.messageFontFamily=e.fontFamily),e.fontSize&&(pr.personFontSize=pr.systemFontSize=pr.messageFontSize=e.fontSize),e.fontWeight&&(pr.personFontWeight=pr.systemFontWeight=pr.messageFontWeight=e.fontWeight)},"setConf"),_v=a((e,t)=>({fontFamily:e[t+"FontFamily"],fontSize:e[t+"FontSize"],fontWeight:e[t+"FontWeight"]}),"c4ShapeFont"),KT=a(e=>({fontFamily:e.boundaryFontFamily,fontSize:e.boundaryFontSize,fontWeight:e.boundaryFontWeight}),"boundaryFont"),RRe=a(e=>({fontFamily:e.messageFontFamily,fontSize:e.messageFontSize,fontWeight:e.messageFontWeight}),"messageFont");a(Bl,"calcC4ShapeTextWH");MG=a(function(e,t,r){t.x=r.data.startx,t.y=r.data.starty,t.width=r.data.stopx-r.data.startx,t.height=r.data.stopy-r.data.starty,t.label.y=pr.c4ShapeMargin-35;let n=t.wrap&&pr.wrap,i=KT(pr);i.fontSize=i.fontSize+2,i.fontWeight="bold";let o=Ll(t.label.text,i);Bl("label",t,n,i,o),Fl.drawBoundary(e,t,pr)},"drawBoundary"),FG=a(function(e,t,r,n){let i=0;for(let o of n){i=0;let s=r[o],u=_v(pr,s.typeC4Shape.text);switch(u.fontSize=u.fontSize-2,s.typeC4Shape.width=Ll("\xAB"+s.typeC4Shape.text+"\xBB",u),s.typeC4Shape.height=u.fontSize+2,s.typeC4Shape.Y=pr.c4ShapePadding,i=s.typeC4Shape.Y+s.typeC4Shape.height-4,s.image={width:0,height:0,Y:0},s.typeC4Shape.text){case"person":case"external_person":s.image.width=48,s.image.height=48,s.image.Y=i,i=s.image.Y+s.image.height;break}s.sprite&&(s.image.width=48,s.image.height=48,s.image.Y=i,i=s.image.Y+s.image.height);let f=s.wrap&&pr.wrap,p=pr.width-pr.c4ShapePadding*2,g=_v(pr,s.typeC4Shape.text);if(g.fontSize=g.fontSize+2,g.fontWeight="bold",Bl("label",s,f,g,p),s.label.Y=i+8,i=s.label.Y+s.label.height,s.type&&s.type.text!==""){s.type.text="["+s.type.text+"]";let b=_v(pr,s.typeC4Shape.text);Bl("type",s,f,b,p),s.type.Y=i+5,i=s.type.Y+s.type.height}else if(s.techn&&s.techn.text!==""){s.techn.text="["+s.techn.text+"]";let b=_v(pr,s.techn.text);Bl("techn",s,f,b,p),s.techn.Y=i+5,i=s.techn.Y+s.techn.height}let y=i,x=s.label.width;if(s.descr&&s.descr.text!==""){let b=_v(pr,s.typeC4Shape.text);Bl("descr",s,f,b,p),s.descr.Y=i+20,i=s.descr.Y+s.descr.height,x=Math.max(s.label.width,s.descr.width),y=i-s.descr.textLines*5}x=x+pr.c4ShapePadding,s.width=Math.max(s.width||pr.width,x,pr.width),s.height=Math.max(s.height||pr.height,y,pr.height),s.margin=s.margin||pr.c4ShapeMargin,e.insert(s),Fl.drawC4Shape(t,s,pr)}e.bumpLastMargin(pr.c4ShapeMargin)},"drawC4ShapeArray"),Wo=class{static{a(this,"Point")}constructor(t,r){this.x=t,this.y=r}},PG=a(function(e,t){let r=e.x,n=e.y,i=t.x,o=t.y,s=r+e.width/2,u=n+e.height/2,f=Math.abs(r-i),p=Math.abs(n-o),g=p/f,y=e.height/e.width,x=null;return n==o&&r<i?x=new Wo(r+e.width,u):n==o&&r>i?x=new Wo(r,u):r==i&&n<o?x=new Wo(s,n+e.height):r==i&&n>o&&(x=new Wo(s,n)),r>i&&n<o?y>=g?x=new Wo(r,u+g*e.width/2):x=new Wo(s-f/p*e.height/2,n+e.height):r<i&&n<o?y>=g?x=new Wo(r+e.width,u+g*e.width/2):x=new Wo(s+f/p*e.height/2,n+e.height):r<i&&n>o?y>=g?x=new Wo(r+e.width,u-g*e.width/2):x=new Wo(s+e.height/2*f/p,n):r>i&&n>o&&(y>=g?x=new Wo(r,u-e.width/2*g):x=new Wo(s-e.height/2*f/p,n)),x},"getIntersectPoint"),DRe=a(function(e,t){let r={x:0,y:0};r.x=t.x+t.width/2,r.y=t.y+t.height/2;let n=PG(e,r);r.x=e.x+e.width/2,r.y=e.y+e.height/2;let i=PG(t,r);return{startPoint:n,endPoint:i}},"getIntersectPoints"),LRe=a(function(e,t,r,n){let i=0;for(let o of t){i=i+1;let s=o.wrap&&pr.wrap,u=RRe(pr);n.db.getC4Type()==="C4Dynamic"&&(o.label.text=i+": "+o.label.text);let p=Ll(o.label.text,u);Bl("label",o,s,u,p),o.techn&&o.techn.text!==""&&(p=Ll(o.techn.text,u),Bl("techn",o,s,u,p)),o.descr&&o.descr.text!==""&&(p=Ll(o.descr.text,u),Bl("descr",o,s,u,p));let g=r(o.from),y=r(o.to),x=DRe(g,y);o.startPoint=x.startPoint,o.endPoint=x.endPoint}Fl.drawRels(e,t,pr)},"drawRels");a(BG,"drawInsideBoundary");IRe=a(function(e,t,r,n){pr=Me().c4;let i=Me().securityLevel,o;i==="sandbox"&&(o=dt("#i"+t));let s=i==="sandbox"?dt(o.nodes()[0].contentDocument.body):dt("body"),u=n.db;n.db.setWrap(pr.wrap),OG=u.getC4ShapeInRow(),k5=u.getC4BoundaryInRow(),ye.debug(`C:${JSON.stringify(pr,null,2)}`);let f=i==="sandbox"?s.select(`[id="${t}"]`):dt(`[id="${t}"]`);Fl.insertComputerIcon(f),Fl.insertDatabaseIcon(f),Fl.insertClockIcon(f);let p=new JT(n);p.setData(pr.diagramMarginX,pr.diagramMarginX,pr.diagramMarginY,pr.diagramMarginY),p.data.widthLimit=screen.availWidth,QT=pr.diagramMarginX,ZT=pr.diagramMarginY;let g=n.db.getTitle(),y=n.db.getBoundarys("");BG(f,"",p,y,n),Fl.insertArrowHead(f),Fl.insertArrowEnd(f),Fl.insertArrowCrossHead(f),Fl.insertArrowFilledHead(f),LRe(f,n.db.getRels(),n.db.getC4Shape,n),p.data.stopx=QT,p.data.stopy=ZT;let x=p.data,E=x.stopy-x.starty+2*pr.diagramMarginY,O=x.stopx-x.startx+2*pr.diagramMarginX;g&&f.append("text").text(g).attr("x",(x.stopx-x.startx)/2-4*pr.diagramMarginX).attr("y",x.starty+pr.diagramMarginY),wn(f,E,O,pr.useMaxWidth);let N=g?60:0;f.attr("viewBox",x.startx-pr.diagramMarginX+" -"+(pr.diagramMarginY+N)+" "+O+" "+(E+N)),ye.debug("models:",x)},"draw"),w5={drawPersonOrSystemArray:FG,drawBoundary:MG,setConf:_5,draw:IRe}});var NRe,zG,UG=F(()=>{"use strict";NRe=a(e=>`.person {
    stroke: ${e.personBorder};
    fill: ${e.personBkg};
  }
`,"getStyles"),zG=NRe});var $G={};ii($G,{diagram:()=>PRe});var PRe,GG=F(()=>{"use strict";c5();x5();qG();UG();PRe={parser:TG,db:bv,renderer:w5,styles:zG,init:({c4:e,wrap:t})=>{w5.setConf(e),bv.setWrap(t)}}});var E5,ek,C5=F(()=>{"use strict";E5=function(){var e=a(function(Io,ar,dr,Er){for(dr=dr||{},Er=Io.length;Er--;dr[Io[Er]]=ar);return dr},"o"),t=[1,4],r=[1,3],n=[1,5],i=[1,8,9,10,11,27,34,36,38,42,58,81,82,83,84,85,86,99,102,103,106,108,111,112,113,118,119,120,121],o=[2,2],s=[1,13],u=[1,14],f=[1,15],p=[1,16],g=[1,23],y=[1,25],x=[1,26],b=[1,27],E=[1,49],A=[1,48],O=[1,29],N=[1,30],I=[1,31],$=[1,32],X=[1,33],q=[1,44],M=[1,46],B=[1,42],G=[1,47],U=[1,43],W=[1,50],D=[1,45],K=[1,51],P=[1,52],re=[1,34],ce=[1,35],ee=[1,36],H=[1,37],te=[1,57],J=[1,8,9,10,11,27,32,34,36,38,42,58,81,82,83,84,85,86,99,102,103,106,108,111,112,113,118,119,120,121],Y=[1,61],de=[1,60],Fe=[1,62],oe=[8,9,11,73,75],rt=[1,88],We=[1,93],_e=[1,92],Ve=[1,89],Ye=[1,85],Le=[1,91],fe=[1,87],le=[1,94],he=[1,90],xe=[1,95],ke=[1,86],pe=[8,9,10,11,73,75],Ce=[8,9,10,11,44,73,75],Ue=[8,9,10,11,29,42,44,46,48,50,52,54,56,58,61,63,65,66,68,73,75,86,99,102,103,106,108,111,112,113],He=[8,9,11,42,58,73,75,86,99,102,103,106,108,111,112,113],Pt=[42,58,86,99,102,103,106,108,111,112,113],Lt=[1,121],Xt=[1,120],Kt=[1,128],kr=[1,142],bt=[1,143],gt=[1,144],qt=[1,145],ze=[1,130],$e=[1,132],Te=[1,136],pt=[1,137],it=[1,138],Qt=[1,139],_r=[1,140],Zt=[1,141],mr=[1,146],sn=[1,147],ir=[1,126],xr=[1,127],Yt=[1,134],hn=[1,129],dn=[1,133],pn=[1,131],tn=[8,9,10,11,27,32,34,36,38,42,58,81,82,83,84,85,86,99,102,103,106,108,111,112,113,118,119,120,121],rn=[1,149],Qe=[8,9,11],ge=[8,9,10,11,14,42,58,86,102,103,106,108,111,112,113],Re=[1,169],Pe=[1,165],Ee=[1,166],se=[1,170],Ze=[1,167],ue=[1,168],Ot=[75,113,116],Ae=[8,9,10,11,12,14,27,29,32,42,58,73,81,82,83,84,85,86,87,102,106,108,111,112,113],et=[10,103],vt=[31,47,49,51,53,55,60,62,64,65,67,69,113,114,115],It=[1,235],Cr=[1,233],jt=[1,237],Or=[1,231],$r=[1,232],hr=[1,234],Vr=[1,236],Nr=[1,238],ln=[1,255],di=[8,9,11,103],ri=[8,9,10,11,58,81,102,103,106,107,108,109],Da={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,graphConfig:4,document:5,line:6,statement:7,SEMI:8,NEWLINE:9,SPACE:10,EOF:11,GRAPH:12,NODIR:13,DIR:14,FirstStmtSeperator:15,ending:16,endToken:17,spaceList:18,spaceListNewline:19,verticeStatement:20,separator:21,styleStatement:22,linkStyleStatement:23,classDefStatement:24,classStatement:25,clickStatement:26,subgraph:27,textNoTags:28,SQS:29,text:30,SQE:31,end:32,direction:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,link:39,node:40,styledVertex:41,AMP:42,vertex:43,STYLE_SEPARATOR:44,idString:45,DOUBLECIRCLESTART:46,DOUBLECIRCLEEND:47,PS:48,PE:49,"(-":50,"-)":51,STADIUMSTART:52,STADIUMEND:53,SUBROUTINESTART:54,SUBROUTINEEND:55,VERTEX_WITH_PROPS_START:56,"NODE_STRING[field]":57,COLON:58,"NODE_STRING[value]":59,PIPE:60,CYLINDERSTART:61,CYLINDEREND:62,DIAMOND_START:63,DIAMOND_STOP:64,TAGEND:65,TRAPSTART:66,TRAPEND:67,INVTRAPSTART:68,INVTRAPEND:69,linkStatement:70,arrowText:71,TESTSTR:72,START_LINK:73,edgeText:74,LINK:75,edgeTextToken:76,STR:77,MD_STR:78,textToken:79,keywords:80,STYLE:81,LINKSTYLE:82,CLASSDEF:83,CLASS:84,CLICK:85,DOWN:86,UP:87,textNoTagsToken:88,stylesOpt:89,"idString[vertex]":90,"idString[class]":91,CALLBACKNAME:92,CALLBACKARGS:93,HREF:94,LINK_TARGET:95,"STR[link]":96,"STR[tooltip]":97,alphaNum:98,DEFAULT:99,numList:100,INTERPOLATE:101,NUM:102,COMMA:103,style:104,styleComponent:105,NODE_STRING:106,UNIT:107,BRKT:108,PCT:109,idStringToken:110,MINUS:111,MULT:112,UNICODE_TEXT:113,TEXT:114,TAGSTART:115,EDGE_TEXT:116,alphaNumToken:117,direction_tb:118,direction_bt:119,direction_rl:120,direction_lr:121,$accept:0,$end:1},terminals_:{2:"error",8:"SEMI",9:"NEWLINE",10:"SPACE",11:"EOF",12:"GRAPH",13:"NODIR",14:"DIR",27:"subgraph",29:"SQS",31:"SQE",32:"end",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",42:"AMP",44:"STYLE_SEPARATOR",46:"DOUBLECIRCLESTART",47:"DOUBLECIRCLEEND",48:"PS",49:"PE",50:"(-",51:"-)",52:"STADIUMSTART",53:"STADIUMEND",54:"SUBROUTINESTART",55:"SUBROUTINEEND",56:"VERTEX_WITH_PROPS_START",57:"NODE_STRING[field]",58:"COLON",59:"NODE_STRING[value]",60:"PIPE",61:"CYLINDERSTART",62:"CYLINDEREND",63:"DIAMOND_START",64:"DIAMOND_STOP",65:"TAGEND",66:"TRAPSTART",67:"TRAPEND",68:"INVTRAPSTART",69:"INVTRAPEND",72:"TESTSTR",73:"START_LINK",75:"LINK",77:"STR",78:"MD_STR",81:"STYLE",82:"LINKSTYLE",83:"CLASSDEF",84:"CLASS",85:"CLICK",86:"DOWN",87:"UP",90:"idString[vertex]",91:"idString[class]",92:"CALLBACKNAME",93:"CALLBACKARGS",94:"HREF",95:"LINK_TARGET",96:"STR[link]",97:"STR[tooltip]",99:"DEFAULT",101:"INTERPOLATE",102:"NUM",103:"COMMA",106:"NODE_STRING",107:"UNIT",108:"BRKT",109:"PCT",111:"MINUS",112:"MULT",113:"UNICODE_TEXT",114:"TEXT",115:"TAGSTART",116:"EDGE_TEXT",118:"direction_tb",119:"direction_bt",120:"direction_rl",121:"direction_lr"},productions_:[0,[3,2],[5,0],[5,2],[6,1],[6,1],[6,1],[6,1],[6,1],[4,2],[4,2],[4,2],[4,3],[16,2],[16,1],[17,1],[17,1],[17,1],[15,1],[15,1],[15,2],[19,2],[19,2],[19,1],[19,1],[18,2],[18,1],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,9],[7,6],[7,4],[7,1],[7,2],[7,2],[7,1],[21,1],[21,1],[21,1],[20,3],[20,4],[20,2],[20,1],[40,1],[40,5],[41,1],[41,3],[43,4],[43,4],[43,6],[43,4],[43,4],[43,4],[43,8],[43,4],[43,4],[43,4],[43,6],[43,4],[43,4],[43,4],[43,4],[43,4],[43,1],[39,2],[39,3],[39,3],[39,1],[39,3],[74,1],[74,2],[74,1],[74,1],[70,1],[71,3],[30,1],[30,2],[30,1],[30,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[28,1],[28,2],[28,1],[28,1],[24,5],[25,5],[26,2],[26,4],[26,3],[26,5],[26,3],[26,5],[26,5],[26,7],[26,2],[26,4],[26,2],[26,4],[26,4],[26,6],[22,5],[23,5],[23,5],[23,9],[23,9],[23,7],[23,7],[100,1],[100,3],[89,1],[89,3],[104,1],[104,2],[105,1],[105,1],[105,1],[105,1],[105,1],[105,1],[105,1],[105,1],[110,1],[110,1],[110,1],[110,1],[110,1],[110,1],[110,1],[110,1],[110,1],[110,1],[110,1],[79,1],[79,1],[79,1],[79,1],[88,1],[88,1],[88,1],[88,1],[88,1],[88,1],[88,1],[88,1],[88,1],[88,1],[88,1],[76,1],[76,1],[117,1],[117,1],[117,1],[117,1],[117,1],[117,1],[117,1],[117,1],[117,1],[117,1],[117,1],[45,1],[45,2],[98,1],[98,2],[33,1],[33,1],[33,1],[33,1]],performAction:a(function(ar,dr,Er,Ut,vn,Ge,No){var je=Ge.length-1;switch(vn){case 2:this.$=[];break;case 3:(!Array.isArray(Ge[je])||Ge[je].length>0)&&Ge[je-1].push(Ge[je]),this.$=Ge[je-1];break;case 4:case 176:this.$=Ge[je];break;case 11:Ut.setDirection("TB"),this.$="TB";break;case 12:Ut.setDirection(Ge[je-1]),this.$=Ge[je-1];break;case 27:this.$=Ge[je-1].nodes;break;case 28:case 29:case 30:case 31:case 32:this.$=[];break;case 33:this.$=Ut.addSubGraph(Ge[je-6],Ge[je-1],Ge[je-4]);break;case 34:this.$=Ut.addSubGraph(Ge[je-3],Ge[je-1],Ge[je-3]);break;case 35:this.$=Ut.addSubGraph(void 0,Ge[je-1],void 0);break;case 37:this.$=Ge[je].trim(),Ut.setAccTitle(this.$);break;case 38:case 39:this.$=Ge[je].trim(),Ut.setAccDescription(this.$);break;case 43:Ut.addLink(Ge[je-2].stmt,Ge[je],Ge[je-1]),this.$={stmt:Ge[je],nodes:Ge[je].concat(Ge[je-2].nodes)};break;case 44:Ut.addLink(Ge[je-3].stmt,Ge[je-1],Ge[je-2]),this.$={stmt:Ge[je-1],nodes:Ge[je-1].concat(Ge[je-3].nodes)};break;case 45:this.$={stmt:Ge[je-1],nodes:Ge[je-1]};break;case 46:this.$={stmt:Ge[je],nodes:Ge[je]};break;case 47:this.$=[Ge[je]];break;case 48:this.$=Ge[je-4].concat(Ge[je]);break;case 49:this.$=Ge[je];break;case 50:this.$=Ge[je-2],Ut.setClass(Ge[je-2],Ge[je]);break;case 51:this.$=Ge[je-3],Ut.addVertex(Ge[je-3],Ge[je-1],"square");break;case 52:this.$=Ge[je-3],Ut.addVertex(Ge[je-3],Ge[je-1],"doublecircle");break;case 53:this.$=Ge[je-5],Ut.addVertex(Ge[je-5],Ge[je-2],"circle");break;case 54:this.$=Ge[je-3],Ut.addVertex(Ge[je-3],Ge[je-1],"ellipse");break;case 55:this.$=Ge[je-3],Ut.addVertex(Ge[je-3],Ge[je-1],"stadium");break;case 56:this.$=Ge[je-3],Ut.addVertex(Ge[je-3],Ge[je-1],"subroutine");break;case 57:this.$=Ge[je-7],Ut.addVertex(Ge[je-7],Ge[je-1],"rect",void 0,void 0,void 0,Object.fromEntries([[Ge[je-5],Ge[je-3]]]));break;case 58:this.$=Ge[je-3],Ut.addVertex(Ge[je-3],Ge[je-1],"cylinder");break;case 59:this.$=Ge[je-3],Ut.addVertex(Ge[je-3],Ge[je-1],"round");break;case 60:this.$=Ge[je-3],Ut.addVertex(Ge[je-3],Ge[je-1],"diamond");break;case 61:this.$=Ge[je-5],Ut.addVertex(Ge[je-5],Ge[je-2],"hexagon");break;case 62:this.$=Ge[je-3],Ut.addVertex(Ge[je-3],Ge[je-1],"odd");break;case 63:this.$=Ge[je-3],Ut.addVertex(Ge[je-3],Ge[je-1],"trapezoid");break;case 64:this.$=Ge[je-3],Ut.addVertex(Ge[je-3],Ge[je-1],"inv_trapezoid");break;case 65:this.$=Ge[je-3],Ut.addVertex(Ge[je-3],Ge[je-1],"lean_right");break;case 66:this.$=Ge[je-3],Ut.addVertex(Ge[je-3],Ge[je-1],"lean_left");break;case 67:this.$=Ge[je],Ut.addVertex(Ge[je]);break;case 68:Ge[je-1].text=Ge[je],this.$=Ge[je-1];break;case 69:case 70:Ge[je-2].text=Ge[je-1],this.$=Ge[je-2];break;case 71:this.$=Ge[je];break;case 72:var pi=Ut.destructLink(Ge[je],Ge[je-2]);this.$={type:pi.type,stroke:pi.stroke,length:pi.length,text:Ge[je-1]};break;case 73:this.$={text:Ge[je],type:"text"};break;case 74:this.$={text:Ge[je-1].text+""+Ge[je],type:Ge[je-1].type};break;case 75:this.$={text:Ge[je],type:"string"};break;case 76:this.$={text:Ge[je],type:"markdown"};break;case 77:var pi=Ut.destructLink(Ge[je]);this.$={type:pi.type,stroke:pi.stroke,length:pi.length};break;case 78:this.$=Ge[je-1];break;case 79:this.$={text:Ge[je],type:"text"};break;case 80:this.$={text:Ge[je-1].text+""+Ge[je],type:Ge[je-1].type};break;case 81:this.$={text:Ge[je],type:"string"};break;case 82:case 97:this.$={text:Ge[je],type:"markdown"};break;case 94:this.$={text:Ge[je],type:"text"};break;case 95:this.$={text:Ge[je-1].text+""+Ge[je],type:Ge[je-1].type};break;case 96:this.$={text:Ge[je],type:"text"};break;case 98:this.$=Ge[je-4],Ut.addClass(Ge[je-2],Ge[je]);break;case 99:this.$=Ge[je-4],Ut.setClass(Ge[je-2],Ge[je]);break;case 100:case 108:this.$=Ge[je-1],Ut.setClickEvent(Ge[je-1],Ge[je]);break;case 101:case 109:this.$=Ge[je-3],Ut.setClickEvent(Ge[je-3],Ge[je-2]),Ut.setTooltip(Ge[je-3],Ge[je]);break;case 102:this.$=Ge[je-2],Ut.setClickEvent(Ge[je-2],Ge[je-1],Ge[je]);break;case 103:this.$=Ge[je-4],Ut.setClickEvent(Ge[je-4],Ge[je-3],Ge[je-2]),Ut.setTooltip(Ge[je-4],Ge[je]);break;case 104:this.$=Ge[je-2],Ut.setLink(Ge[je-2],Ge[je]);break;case 105:this.$=Ge[je-4],Ut.setLink(Ge[je-4],Ge[je-2]),Ut.setTooltip(Ge[je-4],Ge[je]);break;case 106:this.$=Ge[je-4],Ut.setLink(Ge[je-4],Ge[je-2],Ge[je]);break;case 107:this.$=Ge[je-6],Ut.setLink(Ge[je-6],Ge[je-4],Ge[je]),Ut.setTooltip(Ge[je-6],Ge[je-2]);break;case 110:this.$=Ge[je-1],Ut.setLink(Ge[je-1],Ge[je]);break;case 111:this.$=Ge[je-3],Ut.setLink(Ge[je-3],Ge[je-2]),Ut.setTooltip(Ge[je-3],Ge[je]);break;case 112:this.$=Ge[je-3],Ut.setLink(Ge[je-3],Ge[je-2],Ge[je]);break;case 113:this.$=Ge[je-5],Ut.setLink(Ge[je-5],Ge[je-4],Ge[je]),Ut.setTooltip(Ge[je-5],Ge[je-2]);break;case 114:this.$=Ge[je-4],Ut.addVertex(Ge[je-2],void 0,void 0,Ge[je]);break;case 115:this.$=Ge[je-4],Ut.updateLink([Ge[je-2]],Ge[je]);break;case 116:this.$=Ge[je-4],Ut.updateLink(Ge[je-2],Ge[je]);break;case 117:this.$=Ge[je-8],Ut.updateLinkInterpolate([Ge[je-6]],Ge[je-2]),Ut.updateLink([Ge[je-6]],Ge[je]);break;case 118:this.$=Ge[je-8],Ut.updateLinkInterpolate(Ge[je-6],Ge[je-2]),Ut.updateLink(Ge[je-6],Ge[je]);break;case 119:this.$=Ge[je-6],Ut.updateLinkInterpolate([Ge[je-4]],Ge[je]);break;case 120:this.$=Ge[je-6],Ut.updateLinkInterpolate(Ge[je-4],Ge[je]);break;case 121:case 123:this.$=[Ge[je]];break;case 122:case 124:Ge[je-2].push(Ge[je]),this.$=Ge[je-2];break;case 126:this.$=Ge[je-1]+Ge[je];break;case 174:this.$=Ge[je];break;case 175:this.$=Ge[je-1]+""+Ge[je];break;case 177:this.$=Ge[je-1]+""+Ge[je];break;case 178:this.$={stmt:"dir",value:"TB"};break;case 179:this.$={stmt:"dir",value:"BT"};break;case 180:this.$={stmt:"dir",value:"RL"};break;case 181:this.$={stmt:"dir",value:"LR"};break}},"anonymous"),table:[{3:1,4:2,9:t,10:r,12:n},{1:[3]},e(i,o,{5:6}),{4:7,9:t,10:r,12:n},{4:8,9:t,10:r,12:n},{13:[1,9],14:[1,10]},{1:[2,1],6:11,7:12,8:s,9:u,10:f,11:p,20:17,22:18,23:19,24:20,25:21,26:22,27:g,33:24,34:y,36:x,38:b,40:28,41:38,42:E,43:39,45:40,58:A,81:O,82:N,83:I,84:$,85:X,86:q,99:M,102:B,103:G,106:U,108:W,110:41,111:D,112:K,113:P,118:re,119:ce,120:ee,121:H},e(i,[2,9]),e(i,[2,10]),e(i,[2,11]),{8:[1,54],9:[1,55],10:te,15:53,18:56},e(J,[2,3]),e(J,[2,4]),e(J,[2,5]),e(J,[2,6]),e(J,[2,7]),e(J,[2,8]),{8:Y,9:de,11:Fe,21:58,39:59,70:63,73:[1,64],75:[1,65]},{8:Y,9:de,11:Fe,21:66},{8:Y,9:de,11:Fe,21:67},{8:Y,9:de,11:Fe,21:68},{8:Y,9:de,11:Fe,21:69},{8:Y,9:de,11:Fe,21:70},{8:Y,9:de,10:[1,71],11:Fe,21:72},e(J,[2,36]),{35:[1,73]},{37:[1,74]},e(J,[2,39]),e(oe,[2,46],{18:75,10:te}),{10:[1,76]},{10:[1,77]},{10:[1,78]},{10:[1,79]},{14:rt,42:We,58:_e,77:[1,83],86:Ve,92:[1,80],94:[1,81],98:82,102:Ye,103:Le,106:fe,108:le,111:he,112:xe,113:ke,117:84},e(J,[2,178]),e(J,[2,179]),e(J,[2,180]),e(J,[2,181]),e(pe,[2,47]),e(pe,[2,49],{44:[1,96]}),e(Ce,[2,67],{110:109,29:[1,97],42:E,46:[1,98],48:[1,99],50:[1,100],52:[1,101],54:[1,102],56:[1,103],58:A,61:[1,104],63:[1,105],65:[1,106],66:[1,107],68:[1,108],86:q,99:M,102:B,103:G,106:U,108:W,111:D,112:K,113:P}),e(Ue,[2,174]),e(Ue,[2,135]),e(Ue,[2,136]),e(Ue,[2,137]),e(Ue,[2,138]),e(Ue,[2,139]),e(Ue,[2,140]),e(Ue,[2,141]),e(Ue,[2,142]),e(Ue,[2,143]),e(Ue,[2,144]),e(Ue,[2,145]),e(i,[2,12]),e(i,[2,18]),e(i,[2,19]),{9:[1,110]},e(He,[2,26],{18:111,10:te}),e(J,[2,27]),{40:112,41:38,42:E,43:39,45:40,58:A,86:q,99:M,102:B,103:G,106:U,108:W,110:41,111:D,112:K,113:P},e(J,[2,40]),e(J,[2,41]),e(J,[2,42]),e(Pt,[2,71],{71:113,60:[1,115],72:[1,114]}),{74:116,76:117,77:[1,118],78:[1,119],113:Lt,116:Xt},e([42,58,60,72,86,99,102,103,106,108,111,112,113],[2,77]),e(J,[2,28]),e(J,[2,29]),e(J,[2,30]),e(J,[2,31]),e(J,[2,32]),{10:Kt,12:kr,14:bt,27:gt,28:122,32:qt,42:ze,58:$e,73:Te,77:[1,124],78:[1,125],80:135,81:pt,82:it,83:Qt,84:_r,85:Zt,86:mr,87:sn,88:123,102:ir,106:xr,108:Yt,111:hn,112:dn,113:pn},e(tn,o,{5:148}),e(J,[2,37]),e(J,[2,38]),e(oe,[2,45],{42:rn}),{42:E,45:150,58:A,86:q,99:M,102:B,103:G,106:U,108:W,110:41,111:D,112:K,113:P},{99:[1,151],100:152,102:[1,153]},{42:E,45:154,58:A,86:q,99:M,102:B,103:G,106:U,108:W,110:41,111:D,112:K,113:P},{42:E,45:155,58:A,86:q,99:M,102:B,103:G,106:U,108:W,110:41,111:D,112:K,113:P},e(Qe,[2,100],{10:[1,156],93:[1,157]}),{77:[1,158]},e(Qe,[2,108],{117:160,10:[1,159],14:rt,42:We,58:_e,86:Ve,102:Ye,103:Le,106:fe,108:le,111:he,112:xe,113:ke}),e(Qe,[2,110],{10:[1,161]}),e(ge,[2,176]),e(ge,[2,163]),e(ge,[2,164]),e(ge,[2,165]),e(ge,[2,166]),e(ge,[2,167]),e(ge,[2,168]),e(ge,[2,169]),e(ge,[2,170]),e(ge,[2,171]),e(ge,[2,172]),e(ge,[2,173]),{42:E,45:162,58:A,86:q,99:M,102:B,103:G,106:U,108:W,110:41,111:D,112:K,113:P},{30:163,65:Re,77:Pe,78:Ee,79:164,113:se,114:Ze,115:ue},{30:171,65:Re,77:Pe,78:Ee,79:164,113:se,114:Ze,115:ue},{30:173,48:[1,172],65:Re,77:Pe,78:Ee,79:164,113:se,114:Ze,115:ue},{30:174,65:Re,77:Pe,78:Ee,79:164,113:se,114:Ze,115:ue},{30:175,65:Re,77:Pe,78:Ee,79:164,113:se,114:Ze,115:ue},{30:176,65:Re,77:Pe,78:Ee,79:164,113:se,114:Ze,115:ue},{106:[1,177]},{30:178,65:Re,77:Pe,78:Ee,79:164,113:se,114:Ze,115:ue},{30:179,63:[1,180],65:Re,77:Pe,78:Ee,79:164,113:se,114:Ze,115:ue},{30:181,65:Re,77:Pe,78:Ee,79:164,113:se,114:Ze,115:ue},{30:182,65:Re,77:Pe,78:Ee,79:164,113:se,114:Ze,115:ue},{30:183,65:Re,77:Pe,78:Ee,79:164,113:se,114:Ze,115:ue},e(Ue,[2,175]),e(i,[2,20]),e(He,[2,25]),e(oe,[2,43],{18:184,10:te}),e(Pt,[2,68],{10:[1,185]}),{10:[1,186]},{30:187,65:Re,77:Pe,78:Ee,79:164,113:se,114:Ze,115:ue},{75:[1,188],76:189,113:Lt,116:Xt},e(Ot,[2,73]),e(Ot,[2,75]),e(Ot,[2,76]),e(Ot,[2,161]),e(Ot,[2,162]),{8:Y,9:de,10:Kt,11:Fe,12:kr,14:bt,21:191,27:gt,29:[1,190],32:qt,42:ze,58:$e,73:Te,80:135,81:pt,82:it,83:Qt,84:_r,85:Zt,86:mr,87:sn,88:192,102:ir,106:xr,108:Yt,111:hn,112:dn,113:pn},e(Ae,[2,94]),e(Ae,[2,96]),e(Ae,[2,97]),e(Ae,[2,150]),e(Ae,[2,151]),e(Ae,[2,152]),e(Ae,[2,153]),e(Ae,[2,154]),e(Ae,[2,155]),e(Ae,[2,156]),e(Ae,[2,157]),e(Ae,[2,158]),e(Ae,[2,159]),e(Ae,[2,160]),e(Ae,[2,83]),e(Ae,[2,84]),e(Ae,[2,85]),e(Ae,[2,86]),e(Ae,[2,87]),e(Ae,[2,88]),e(Ae,[2,89]),e(Ae,[2,90]),e(Ae,[2,91]),e(Ae,[2,92]),e(Ae,[2,93]),{6:11,7:12,8:s,9:u,10:f,11:p,20:17,22:18,23:19,24:20,25:21,26:22,27:g,32:[1,193],33:24,34:y,36:x,38:b,40:28,41:38,42:E,43:39,45:40,58:A,81:O,82:N,83:I,84:$,85:X,86:q,99:M,102:B,103:G,106:U,108:W,110:41,111:D,112:K,113:P,118:re,119:ce,120:ee,121:H},{10:te,18:194},{10:[1,195],42:E,58:A,86:q,99:M,102:B,103:G,106:U,108:W,110:109,111:D,112:K,113:P},{10:[1,196]},{10:[1,197],103:[1,198]},e(et,[2,121]),{10:[1,199],42:E,58:A,86:q,99:M,102:B,103:G,106:U,108:W,110:109,111:D,112:K,113:P},{10:[1,200],42:E,58:A,86:q,99:M,102:B,103:G,106:U,108:W,110:109,111:D,112:K,113:P},{77:[1,201]},e(Qe,[2,102],{10:[1,202]}),e(Qe,[2,104],{10:[1,203]}),{77:[1,204]},e(ge,[2,177]),{77:[1,205],95:[1,206]},e(pe,[2,50],{110:109,42:E,58:A,86:q,99:M,102:B,103:G,106:U,108:W,111:D,112:K,113:P}),{31:[1,207],65:Re,79:208,113:se,114:Ze,115:ue},e(vt,[2,79]),e(vt,[2,81]),e(vt,[2,82]),e(vt,[2,146]),e(vt,[2,147]),e(vt,[2,148]),e(vt,[2,149]),{47:[1,209],65:Re,79:208,113:se,114:Ze,115:ue},{30:210,65:Re,77:Pe,78:Ee,79:164,113:se,114:Ze,115:ue},{49:[1,211],65:Re,79:208,113:se,114:Ze,115:ue},{51:[1,212],65:Re,79:208,113:se,114:Ze,115:ue},{53:[1,213],65:Re,79:208,113:se,114:Ze,115:ue},{55:[1,214],65:Re,79:208,113:se,114:Ze,115:ue},{58:[1,215]},{62:[1,216],65:Re,79:208,113:se,114:Ze,115:ue},{64:[1,217],65:Re,79:208,113:se,114:Ze,115:ue},{30:218,65:Re,77:Pe,78:Ee,79:164,113:se,114:Ze,115:ue},{31:[1,219],65:Re,79:208,113:se,114:Ze,115:ue},{65:Re,67:[1,220],69:[1,221],79:208,113:se,114:Ze,115:ue},{65:Re,67:[1,223],69:[1,222],79:208,113:se,114:Ze,115:ue},e(oe,[2,44],{42:rn}),e(Pt,[2,70]),e(Pt,[2,69]),{60:[1,224],65:Re,79:208,113:se,114:Ze,115:ue},e(Pt,[2,72]),e(Ot,[2,74]),{30:225,65:Re,77:Pe,78:Ee,79:164,113:se,114:Ze,115:ue},e(tn,o,{5:226}),e(Ae,[2,95]),e(J,[2,35]),{41:227,42:E,43:39,45:40,58:A,86:q,99:M,102:B,103:G,106:U,108:W,110:41,111:D,112:K,113:P},{10:It,58:Cr,81:jt,89:228,102:Or,104:229,105:230,106:$r,107:hr,108:Vr,109:Nr},{10:It,58:Cr,81:jt,89:239,101:[1,240],102:Or,104:229,105:230,106:$r,107:hr,108:Vr,109:Nr},{10:It,58:Cr,81:jt,89:241,101:[1,242],102:Or,104:229,105:230,106:$r,107:hr,108:Vr,109:Nr},{102:[1,243]},{10:It,58:Cr,81:jt,89:244,102:Or,104:229,105:230,106:$r,107:hr,108:Vr,109:Nr},{42:E,45:245,58:A,86:q,99:M,102:B,103:G,106:U,108:W,110:41,111:D,112:K,113:P},e(Qe,[2,101]),{77:[1,246]},{77:[1,247],95:[1,248]},e(Qe,[2,109]),e(Qe,[2,111],{10:[1,249]}),e(Qe,[2,112]),e(Ce,[2,51]),e(vt,[2,80]),e(Ce,[2,52]),{49:[1,250],65:Re,79:208,113:se,114:Ze,115:ue},e(Ce,[2,59]),e(Ce,[2,54]),e(Ce,[2,55]),e(Ce,[2,56]),{106:[1,251]},e(Ce,[2,58]),e(Ce,[2,60]),{64:[1,252],65:Re,79:208,113:se,114:Ze,115:ue},e(Ce,[2,62]),e(Ce,[2,63]),e(Ce,[2,65]),e(Ce,[2,64]),e(Ce,[2,66]),e([10,42,58,86,99,102,103,106,108,111,112,113],[2,78]),{31:[1,253],65:Re,79:208,113:se,114:Ze,115:ue},{6:11,7:12,8:s,9:u,10:f,11:p,20:17,22:18,23:19,24:20,25:21,26:22,27:g,32:[1,254],33:24,34:y,36:x,38:b,40:28,41:38,42:E,43:39,45:40,58:A,81:O,82:N,83:I,84:$,85:X,86:q,99:M,102:B,103:G,106:U,108:W,110:41,111:D,112:K,113:P,118:re,119:ce,120:ee,121:H},e(pe,[2,48]),e(Qe,[2,114],{103:ln}),e(di,[2,123],{105:256,10:It,58:Cr,81:jt,102:Or,106:$r,107:hr,108:Vr,109:Nr}),e(ri,[2,125]),e(ri,[2,127]),e(ri,[2,128]),e(ri,[2,129]),e(ri,[2,130]),e(ri,[2,131]),e(ri,[2,132]),e(ri,[2,133]),e(ri,[2,134]),e(Qe,[2,115],{103:ln}),{10:[1,257]},e(Qe,[2,116],{103:ln}),{10:[1,258]},e(et,[2,122]),e(Qe,[2,98],{103:ln}),e(Qe,[2,99],{110:109,42:E,58:A,86:q,99:M,102:B,103:G,106:U,108:W,111:D,112:K,113:P}),e(Qe,[2,103]),e(Qe,[2,105],{10:[1,259]}),e(Qe,[2,106]),{95:[1,260]},{49:[1,261]},{60:[1,262]},{64:[1,263]},{8:Y,9:de,11:Fe,21:264},e(J,[2,34]),{10:It,58:Cr,81:jt,102:Or,104:265,105:230,106:$r,107:hr,108:Vr,109:Nr},e(ri,[2,126]),{14:rt,42:We,58:_e,86:Ve,98:266,102:Ye,103:Le,106:fe,108:le,111:he,112:xe,113:ke,117:84},{14:rt,42:We,58:_e,86:Ve,98:267,102:Ye,103:Le,106:fe,108:le,111:he,112:xe,113:ke,117:84},{95:[1,268]},e(Qe,[2,113]),e(Ce,[2,53]),{30:269,65:Re,77:Pe,78:Ee,79:164,113:se,114:Ze,115:ue},e(Ce,[2,61]),e(tn,o,{5:270}),e(di,[2,124],{105:256,10:It,58:Cr,81:jt,102:Or,106:$r,107:hr,108:Vr,109:Nr}),e(Qe,[2,119],{117:160,10:[1,271],14:rt,42:We,58:_e,86:Ve,102:Ye,103:Le,106:fe,108:le,111:he,112:xe,113:ke}),e(Qe,[2,120],{117:160,10:[1,272],14:rt,42:We,58:_e,86:Ve,102:Ye,103:Le,106:fe,108:le,111:he,112:xe,113:ke}),e(Qe,[2,107]),{31:[1,273],65:Re,79:208,113:se,114:Ze,115:ue},{6:11,7:12,8:s,9:u,10:f,11:p,20:17,22:18,23:19,24:20,25:21,26:22,27:g,32:[1,274],33:24,34:y,36:x,38:b,40:28,41:38,42:E,43:39,45:40,58:A,81:O,82:N,83:I,84:$,85:X,86:q,99:M,102:B,103:G,106:U,108:W,110:41,111:D,112:K,113:P,118:re,119:ce,120:ee,121:H},{10:It,58:Cr,81:jt,89:275,102:Or,104:229,105:230,106:$r,107:hr,108:Vr,109:Nr},{10:It,58:Cr,81:jt,89:276,102:Or,104:229,105:230,106:$r,107:hr,108:Vr,109:Nr},e(Ce,[2,57]),e(J,[2,33]),e(Qe,[2,117],{103:ln}),e(Qe,[2,118],{103:ln})],defaultActions:{},parseError:a(function(ar,dr){if(dr.recoverable)this.trace(ar);else{var Er=new Error(ar);throw Er.hash=dr,Er}},"parseError"),parse:a(function(ar){var dr=this,Er=[0],Ut=[],vn=[null],Ge=[],No=this.table,je="",pi=0,nc=0,ma=0,ul=2,Rs=1,fl=Ge.slice.call(arguments,1),ki=Object.create(this.lexer),mi={yy:{}};for(var ic in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ic)&&(mi.yy[ic]=this.yy[ic]);ki.setInput(ar,mi.yy),mi.yy.lexer=ki,mi.yy.parser=this,typeof ki.yylloc>"u"&&(ki.yylloc={});var Hh=ki.yylloc;Ge.push(Hh);var Bn=ki.options&&ki.options.ranges;typeof mi.yy.parseError=="function"?this.parseError=mi.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ac(Qn){Er.length=Er.length-2*Qn,vn.length=vn.length-Qn,Ge.length=Ge.length-Qn}a(ac,"popStack");function b0(){var Qn;return Qn=Ut.pop()||ki.lex()||Rs,typeof Qn!="number"&&(Qn instanceof Array&&(Ut=Qn,Qn=Ut.pop()),Qn=dr.symbols_[Qn]||Qn),Qn}a(b0,"lex");for(var Oi,Kc,Ds,Ji,T0,is,as={},oc,Wr,Qc,Kr;;){if(Ds=Er[Er.length-1],this.defaultActions[Ds]?Ji=this.defaultActions[Ds]:((Oi===null||typeof Oi>"u")&&(Oi=b0()),Ji=No[Ds]&&No[Ds][Oi]),typeof Ji>"u"||!Ji.length||!Ji[0]){var rf="";Kr=[];for(oc in No[Ds])this.terminals_[oc]&&oc>ul&&Kr.push("'"+this.terminals_[oc]+"'");ki.showPosition?rf="Parse error on line "+(pi+1)+`:
`+ki.showPosition()+`
Expecting `+Kr.join(", ")+", got '"+(this.terminals_[Oi]||Oi)+"'":rf="Parse error on line "+(pi+1)+": Unexpected "+(Oi==Rs?"end of input":"'"+(this.terminals_[Oi]||Oi)+"'"),this.parseError(rf,{text:ki.match,token:this.terminals_[Oi]||Oi,line:ki.yylineno,loc:Hh,expected:Kr})}if(Ji[0]instanceof Array&&Ji.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ds+", token: "+Oi);switch(Ji[0]){case 1:Er.push(Oi),vn.push(ki.yytext),Ge.push(ki.yylloc),Er.push(Ji[1]),Oi=null,Kc?(Oi=Kc,Kc=null):(nc=ki.yyleng,je=ki.yytext,pi=ki.yylineno,Hh=ki.yylloc,ma>0&&ma--);break;case 2:if(Wr=this.productions_[Ji[1]][1],as.$=vn[vn.length-Wr],as._$={first_line:Ge[Ge.length-(Wr||1)].first_line,last_line:Ge[Ge.length-1].last_line,first_column:Ge[Ge.length-(Wr||1)].first_column,last_column:Ge[Ge.length-1].last_column},Bn&&(as._$.range=[Ge[Ge.length-(Wr||1)].range[0],Ge[Ge.length-1].range[1]]),is=this.performAction.apply(as,[je,nc,pi,mi.yy,Ji[1],vn,Ge].concat(fl)),typeof is<"u")return is;Wr&&(Er=Er.slice(0,-1*Wr*2),vn=vn.slice(0,-1*Wr),Ge=Ge.slice(0,-1*Wr)),Er.push(this.productions_[Ji[1]][0]),vn.push(as.$),Ge.push(as._$),Qc=No[Er[Er.length-2]][Er[Er.length-1]],Er.push(Qc);break;case 3:return!0}}return!0},"parse")},Vh=function(){var Io={EOF:1,parseError:a(function(dr,Er){if(this.yy.parser)this.yy.parser.parseError(dr,Er);else throw new Error(dr)},"parseError"),setInput:function(ar,dr){return this.yy=dr||this.yy||{},this._input=ar,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ar=this._input[0];this.yytext+=ar,this.yyleng++,this.offset++,this.match+=ar,this.matched+=ar;var dr=ar.match(/(?:\r\n?|\n).*/g);return dr?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ar},unput:function(ar){var dr=ar.length,Er=ar.split(/(?:\r\n?|\n)/g);this._input=ar+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-dr),this.offset-=dr;var Ut=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Er.length-1&&(this.yylineno-=Er.length-1);var vn=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Er?(Er.length===Ut.length?this.yylloc.first_column:0)+Ut[Ut.length-Er.length].length-Er[0].length:this.yylloc.first_column-dr},this.options.ranges&&(this.yylloc.range=[vn[0],vn[0]+this.yyleng-dr]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(ar){this.unput(this.match.slice(ar))},pastInput:function(){var ar=this.matched.substr(0,this.matched.length-this.match.length);return(ar.length>20?"...":"")+ar.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var ar=this.match;return ar.length<20&&(ar+=this._input.substr(0,20-ar.length)),(ar.substr(0,20)+(ar.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var ar=this.pastInput(),dr=new Array(ar.length+1).join("-");return ar+this.upcomingInput()+`
`+dr+"^"},test_match:function(ar,dr){var Er,Ut,vn;if(this.options.backtrack_lexer&&(vn={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(vn.yylloc.range=this.yylloc.range.slice(0))),Ut=ar[0].match(/(?:\r\n?|\n).*/g),Ut&&(this.yylineno+=Ut.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Ut?Ut[Ut.length-1].length-Ut[Ut.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ar[0].length},this.yytext+=ar[0],this.match+=ar[0],this.matches=ar,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ar[0].length),this.matched+=ar[0],Er=this.performAction.call(this,this.yy,this,dr,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Er)return Er;if(this._backtrack){for(var Ge in vn)this[Ge]=vn[Ge];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var ar,dr,Er,Ut;this._more||(this.yytext="",this.match="");for(var vn=this._currentRules(),Ge=0;Ge<vn.length;Ge++)if(Er=this._input.match(this.rules[vn[Ge]]),Er&&(!dr||Er[0].length>dr[0].length)){if(dr=Er,Ut=Ge,this.options.backtrack_lexer){if(ar=this.test_match(Er,vn[Ge]),ar!==!1)return ar;if(this._backtrack){dr=!1;continue}else return!1}else if(!this.options.flex)break}return dr?(ar=this.test_match(dr,vn[Ut]),ar!==!1?ar:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var dr=this.next();return dr||this.lex()},"lex"),begin:a(function(dr){this.conditionStack.push(dr)},"begin"),popState:a(function(){var dr=this.conditionStack.length-1;return dr>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(dr){return dr=this.conditionStack.length-1-Math.abs(dr||0),dr>=0?this.conditionStack[dr]:"INITIAL"},"topState"),pushState:a(function(dr){this.begin(dr)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:a(function(dr,Er,Ut,vn){var Ge=vn;switch(Ut){case 0:return this.begin("acc_title"),34;break;case 1:return this.popState(),"acc_title_value";break;case 2:return this.begin("acc_descr"),36;break;case 3:return this.popState(),"acc_descr_value";break;case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:this.begin("callbackname");break;case 8:this.popState();break;case 9:this.popState(),this.begin("callbackargs");break;case 10:return 92;case 11:this.popState();break;case 12:return 93;case 13:return"MD_STR";case 14:this.popState();break;case 15:this.begin("md_string");break;case 16:return"STR";case 17:this.popState();break;case 18:this.pushState("string");break;case 19:return 81;case 20:return 99;case 21:return 82;case 22:return 101;case 23:return 83;case 24:return 84;case 25:return 94;case 26:this.begin("click");break;case 27:this.popState();break;case 28:return 85;case 29:return dr.lex.firstGraph()&&this.begin("dir"),12;break;case 30:return dr.lex.firstGraph()&&this.begin("dir"),12;break;case 31:return dr.lex.firstGraph()&&this.begin("dir"),12;break;case 32:return 27;case 33:return 32;case 34:return 95;case 35:return 95;case 36:return 95;case 37:return 95;case 38:return this.popState(),13;break;case 39:return this.popState(),14;break;case 40:return this.popState(),14;break;case 41:return this.popState(),14;break;case 42:return this.popState(),14;break;case 43:return this.popState(),14;break;case 44:return this.popState(),14;break;case 45:return this.popState(),14;break;case 46:return this.popState(),14;break;case 47:return this.popState(),14;break;case 48:return this.popState(),14;break;case 49:return 118;case 50:return 119;case 51:return 120;case 52:return 121;case 53:return 102;case 54:return 108;case 55:return 44;case 56:return 58;case 57:return 42;case 58:return 8;case 59:return 103;case 60:return 112;case 61:return this.popState(),75;break;case 62:return this.pushState("edgeText"),73;break;case 63:return 116;case 64:return this.popState(),75;break;case 65:return this.pushState("thickEdgeText"),73;break;case 66:return 116;case 67:return this.popState(),75;break;case 68:return this.pushState("dottedEdgeText"),73;break;case 69:return 116;case 70:return 75;case 71:return this.popState(),51;break;case 72:return"TEXT";case 73:return this.pushState("ellipseText"),50;break;case 74:return this.popState(),53;break;case 75:return this.pushState("text"),52;break;case 76:return this.popState(),55;break;case 77:return this.pushState("text"),54;break;case 78:return 56;case 79:return this.pushState("text"),65;break;case 80:return this.popState(),62;break;case 81:return this.pushState("text"),61;break;case 82:return this.popState(),47;break;case 83:return this.pushState("text"),46;break;case 84:return this.popState(),67;break;case 85:return this.popState(),69;break;case 86:return 114;case 87:return this.pushState("trapText"),66;break;case 88:return this.pushState("trapText"),68;break;case 89:return 115;case 90:return 65;case 91:return 87;case 92:return"SEP";case 93:return 86;case 94:return 112;case 95:return 108;case 96:return 42;case 97:return 106;case 98:return 111;case 99:return 113;case 100:return this.popState(),60;break;case 101:return this.pushState("text"),60;break;case 102:return this.popState(),49;break;case 103:return this.pushState("text"),48;break;case 104:return this.popState(),31;break;case 105:return this.pushState("text"),29;break;case 106:return this.popState(),64;break;case 107:return this.pushState("text"),63;break;case 108:return"TEXT";case 109:return"QUOTE";case 110:return 9;case 111:return 10;case 112:return 11}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["][`])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:["])/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s])/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:flowchart-elk\b)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:[^-]|-(?!-)+)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:[^=]|=(?!))/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:[^\.]|\.(?!))/,/^(?:\s*~~[\~]+\s*)/,/^(?:[-/\)][\)])/,/^(?:[^\(\)\[\]\{\}]|!\)+)/,/^(?:\(-)/,/^(?:\]\))/,/^(?:\(\[)/,/^(?:\]\])/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:>)/,/^(?:\)\])/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\(\(\()/,/^(?:[\\(?=\])][\]])/,/^(?:\/(?=\])\])/,/^(?:\/(?!\])|\\(?!\])|[^\\\[\]\(\)\{\}\/]+)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:\*)/,/^(?:#)/,/^(?:&)/,/^(?:([A-Za-z0-9!"\#$%&'*+\.`?\\_\/]|-(?=[^\>\-\.])|(?!))+)/,/^(?:-)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\|)/,/^(?:\))/,/^(?:\()/,/^(?:\])/,/^(?:\[)/,/^(?:(\}))/,/^(?:\{)/,/^(?:[^\[\]\(\)\{\}\|\"]+)/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{callbackargs:{rules:[11,12,15,18,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},callbackname:{rules:[8,9,10,15,18,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},href:{rules:[15,18,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},click:{rules:[15,18,27,28,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},dottedEdgeText:{rules:[15,18,67,69,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},thickEdgeText:{rules:[15,18,64,66,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},edgeText:{rules:[15,18,61,63,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},trapText:{rules:[15,18,70,73,75,77,81,83,84,85,86,87,88,101,103,105,107],inclusive:!1},ellipseText:{rules:[15,18,70,71,72,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},text:{rules:[15,18,70,73,74,75,76,77,80,81,82,83,87,88,100,101,102,103,104,105,106,107,108],inclusive:!1},vertex:{rules:[15,18,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},dir:{rules:[15,18,38,39,40,41,42,43,44,45,46,47,48,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},acc_descr_multiline:{rules:[5,6,15,18,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},acc_descr:{rules:[3,15,18,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},acc_title:{rules:[1,15,18,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},md_string:{rules:[13,14,15,18,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},string:{rules:[15,16,17,18,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},INITIAL:{rules:[0,2,4,7,15,18,19,20,21,22,23,24,25,26,29,30,31,32,33,34,35,36,37,49,50,51,52,53,54,55,56,57,58,59,60,61,62,64,65,67,68,70,73,75,77,78,79,81,83,87,88,89,90,91,92,93,94,95,96,97,98,99,101,103,105,107,109,110,111,112],inclusive:!0}}};return Io}();Da.lexer=Vh;function Wh(){this.yy={}}return a(Wh,"Parser"),Wh.prototype=Da,Da.Parser=Wh,new Wh}();E5.parser=E5;ek=E5});var Zf,wv=F(()=>{"use strict";Zr();Pr();Zf=a(e=>{let{securityLevel:t}=Me(),r=dt("body");if(t==="sandbox"){let o=dt(`#i${e}`).node()?.contentDocument??document;r=dt(o.body)}return r.select(`#${e}`)},"selectSvgElement")});var BRe,S5,HG,A5=F(()=>{"use strict";br();wv();Si();BRe=a((e,t,r)=>{ye.debug(`renering svg for syntax error
`);let n=Zf(t);n.attr("viewBox","0 0 2412 512"),wn(n,100,512,!0);let i=n.append("g");i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)},"draw"),S5={draw:BRe},HG=S5});var qRe,jG,YG=F(()=>{"use strict";A5();qRe={db:{},renderer:S5,parser:{parse:()=>{}}},jG=qRe});var zRe,XG,D5,ui,Ec,eg,_u,rk,nk,tk,R5,Xs,ik,ak,ok,sk,URe,$Re,GRe,VRe,WRe,HRe,jRe,L5,YRe,XRe,KRe,QRe,ZRe,JRe,e5e,t5e,r5e,n5e,KG,i5e,a5e,o5e,s5e,l5e,Ev,QG,ZG,c5e,u5e,f5e,h5e,d5e,p5e,m5e,g5e,JG,eV,y5e,Jf,I5=F(()=>{"use strict";Zr();An();Pr();en();br();Ua();zRe="flowchart-",XG=0,D5=Me(),ui={},Ec=[],eg={},_u=[],rk={},nk={},tk=0,R5=!0,ak=[],ok=a(e=>Et.sanitizeText(e,D5),"sanitizeText"),sk=a(function(e){let t=Object.keys(ui);for(let r of t)if(ui[r].id===e)return ui[r].domId;return e},"lookUpDomId"),URe=a(function(e,t,r,n,i,o,s={}){let u,f=e;f!==void 0&&f.trim().length!==0&&(ui[f]===void 0&&(ui[f]={id:f,labelType:"text",domId:zRe+f+"-"+XG,styles:[],classes:[]}),XG++,t!==void 0?(D5=Me(),u=ok(t.text.trim()),ui[f].labelType=t.type,u[0]==='"'&&u[u.length-1]==='"'&&(u=u.substring(1,u.length-1)),ui[f].text=u):ui[f].text===void 0&&(ui[f].text=e),r!==void 0&&(ui[f].type=r),n?.forEach(function(p){ui[f].styles.push(p)}),i?.forEach(function(p){ui[f].classes.push(p)}),o!==void 0&&(ui[f].dir=o),ui[f].props===void 0?ui[f].props=s:s!==void 0&&Object.assign(ui[f].props,s))},"addVertex"),$Re=a(function(e,t,r){let o={start:e,end:t,type:void 0,text:"",labelType:"text"};ye.info("abc78 Got edge...",o);let s=r.text;if(s!==void 0&&(o.text=ok(s.text.trim()),o.text[0]==='"'&&o.text[o.text.length-1]==='"'&&(o.text=o.text.substring(1,o.text.length-1)),o.labelType=s.type),r!==void 0&&(o.type=r.type,o.stroke=r.stroke,o.length=r.length),o?.length>10&&(o.length=10),Ec.length<280)ye.info("abc78 pushing edge..."),Ec.push(o);else throw new Error("Too many edges")},"addSingleLink"),GRe=a(function(e,t,r){ye.info("addLink (abc78)",e,t,r);let n,i;for(n=0;n<e.length;n++)for(i=0;i<t.length;i++)$Re(e[n],t[i],r)},"addLink"),VRe=a(function(e,t){e.forEach(function(r){r==="default"?Ec.defaultInterpolate=t:Ec[r].interpolate=t})},"updateLinkInterpolate"),WRe=a(function(e,t){e.forEach(function(r){if(r>=Ec.length)throw new Error(`The index ${r} for linkStyle is out of bounds. Valid indices for linkStyle are between 0 and ${Ec.length-1}. (Help: Ensure that the index is within the range of existing edges.)`);r==="default"?Ec.defaultStyle=t:(yr.isSubstringInArray("fill",t)===-1&&t.push("fill:none"),Ec[r].style=t)})},"updateLink"),HRe=a(function(e,t){e.split(",").forEach(function(r){eg[r]===void 0&&(eg[r]={id:r,styles:[],textStyles:[]}),t?.forEach(function(n){if(n.match("color")){let i=n.replace("fill","bgFill").replace("color","fill");eg[r].textStyles.push(i)}eg[r].styles.push(n)})})},"addClass"),jRe=a(function(e){Xs=e,Xs.match(/.*</)&&(Xs="RL"),Xs.match(/.*\^/)&&(Xs="BT"),Xs.match(/.*>/)&&(Xs="LR"),Xs.match(/.*v/)&&(Xs="TB"),Xs==="TD"&&(Xs="TB")},"setDirection"),L5=a(function(e,t){e.split(",").forEach(function(r){let n=r;ui[n]!==void 0&&ui[n].classes.push(t),rk[n]!==void 0&&rk[n].classes.push(t)})},"setClass"),YRe=a(function(e,t){e.split(",").forEach(function(r){t!==void 0&&(nk[ik==="gen-1"?sk(r):r]=ok(t))})},"setTooltip"),XRe=a(function(e,t,r){let n=sk(e);if(Me().securityLevel!=="loose"||t===void 0)return;let i=[];if(typeof r=="string"){i=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let o=0;o<i.length;o++){let s=i[o].trim();s.charAt(0)==='"'&&s.charAt(s.length-1)==='"'&&(s=s.substr(1,s.length-2)),i[o]=s}}i.length===0&&i.push(e),ui[e]!==void 0&&(ui[e].haveCallback=!0,ak.push(function(){let o=document.querySelector(`[id="${n}"]`);o!==null&&o.addEventListener("click",function(){yr.runFunc(t,...i)},!1)}))},"setClickFun"),KRe=a(function(e,t,r){e.split(",").forEach(function(n){ui[n]!==void 0&&(ui[n].link=yr.formatUrl(t,D5),ui[n].linkTarget=r)}),L5(e,"clickable")},"setLink"),QRe=a(function(e){if(nk.hasOwnProperty(e))return nk[e]},"getTooltip"),ZRe=a(function(e,t,r){e.split(",").forEach(function(n){XRe(n,t,r)}),L5(e,"clickable")},"setClickEvent"),JRe=a(function(e){ak.forEach(function(t){t(e)})},"bindFunctions"),e5e=a(function(){return Xs.trim()},"getDirection"),t5e=a(function(){return ui},"getVertices"),r5e=a(function(){return Ec},"getEdges"),n5e=a(function(){return eg},"getClasses"),KG=a(function(e){let t=dt(".mermaidTooltip");(t._groups||t)[0][0]===null&&(t=dt("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),dt(e).select("svg").selectAll("g.node").on("mouseover",function(){let i=dt(this);if(i.attr("title")===null)return;let s=this.getBoundingClientRect();t.transition().duration(200).style("opacity",".9"),t.text(i.attr("title")).style("left",window.scrollX+s.left+(s.right-s.left)/2+"px").style("top",window.scrollY+s.bottom+"px"),t.html(t.html().replace(/&lt;br\/&gt;/g,"<br/>")),i.classed("hover",!0)}).on("mouseout",function(){t.transition().duration(500).style("opacity",0),dt(this).classed("hover",!1)})},"setupToolTips");ak.push(KG);i5e=a(function(e="gen-1"){ui={},eg={},Ec=[],ak=[KG],_u=[],rk={},tk=0,nk={},R5=!0,ik=e,In()},"clear"),a5e=a(e=>{ik=e||"gen-2"},"setGen"),o5e=a(function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},"defaultStyle"),s5e=a(function(e,t,r){let n=e.text.trim(),i=r.text;e===r&&r.text.match(/\s/)&&(n=void 0);function o(g){let y={boolean:{},number:{},string:{}},x=[],b;return{nodeList:g.filter(function(A){let O=typeof A;return A.stmt&&A.stmt==="dir"?(b=A.value,!1):A.trim()===""?!1:O in y?y[O].hasOwnProperty(A)?!1:y[O][A]=!0:x.includes(A)?!1:x.push(A)}),dir:b}}a(o,"uniq");let s=[],{nodeList:u,dir:f}=o(s.concat.apply(s,t));if(s=u,ik==="gen-1")for(let g=0;g<s.length;g++)s[g]=sk(s[g]);n=n||"subGraph"+tk,i=i||"",i=ok(i),tk=tk+1;let p={id:n,nodes:s,title:i.trim(),classes:[],dir:f,labelType:r.type};return ye.info("Adding",p.id,p.nodes,p.dir),p.nodes=eV(p,_u).nodes,_u.push(p),rk[n]=p,n},"addSubGraph"),l5e=a(function(e){for(let[t,r]of _u.entries())if(r.id===e)return t;return-1},"getPosForId"),Ev=-1,QG=[],ZG=a(function(e,t){let r=_u[t].nodes;if(Ev=Ev+1,Ev>2e3)return;if(QG[Ev]=t,_u[t].id===e)return{result:!0,count:0};let n=0,i=1;for(;n<r.length;){let o=l5e(r[n]);if(o>=0){let s=ZG(e,o);if(s.result)return{result:!0,count:i+s.count};i=i+s.count}n=n+1}return{result:!1,count:i}},"indexNodes2"),c5e=a(function(e){return QG[e]},"getDepthFirstPos"),u5e=a(function(){Ev=-1,_u.length>0&&ZG("none",_u.length-1,0)},"indexNodes"),f5e=a(function(){return _u},"getSubGraphs"),h5e=a(()=>R5?(R5=!1,!0):!1,"firstGraph"),d5e=a(e=>{let t=e.trim(),r="arrow_open";switch(t[0]){case"<":r="arrow_point",t=t.slice(1);break;case"x":r="arrow_cross",t=t.slice(1);break;case"o":r="arrow_circle",t=t.slice(1);break}let n="normal";return t.includes("=")&&(n="thick"),t.includes(".")&&(n="dotted"),{type:r,stroke:n}},"destructStartLink"),p5e=a((e,t)=>{let r=t.length,n=0;for(let i=0;i<r;++i)t[i]===e&&++n;return n},"countChar"),m5e=a(e=>{let t=e.trim(),r=t.slice(0,-1),n="arrow_open";switch(t.slice(-1)){case"x":n="arrow_cross",t[0]==="x"&&(n="double_"+n,r=r.slice(1));break;case">":n="arrow_point",t[0]==="<"&&(n="double_"+n,r=r.slice(1));break;case"o":n="arrow_circle",t[0]==="o"&&(n="double_"+n,r=r.slice(1));break}let i="normal",o=r.length-1;r[0]==="="&&(i="thick"),r[0]==="~"&&(i="invisible");let s=p5e(".",r);return s&&(i="dotted",o=s),{type:n,stroke:i,length:o}},"destructEndLink"),g5e=a((e,t)=>{let r=m5e(e),n;if(t){if(n=d5e(t),n.stroke!==r.stroke)return{type:"INVALID",stroke:"INVALID"};if(n.type==="arrow_open")n.type=r.type;else{if(n.type!==r.type)return{type:"INVALID",stroke:"INVALID"};n.type="double_"+n.type}return n.type==="double_arrow"&&(n.type="double_arrow_point"),n.length=r.length,n}return r},"destructLink"),JG=a((e,t)=>{let r=!1;return e.forEach(n=>{n.nodes.indexOf(t)>=0&&(r=!0)}),r},"exists"),eV=a((e,t)=>{let r=[];return e.nodes.forEach((n,i)=>{JG(t,n)||r.push(e.nodes[i])}),{nodes:r}},"makeUniq"),y5e={firstGraph:h5e},Jf={defaultConfig:()=>WT.flowchart,setAccTitle:Rn,getAccTitle:Nn,getAccDescription:On,setAccDescription:Pn,addVertex:URe,lookUpDomId:sk,addLink:GRe,updateLinkInterpolate:VRe,updateLink:WRe,addClass:HRe,setDirection:jRe,setClass:L5,setTooltip:YRe,getTooltip:QRe,setClickEvent:ZRe,setLink:KRe,bindFunctions:JRe,getDirection:e5e,getVertices:t5e,getEdges:r5e,getClasses:n5e,clear:i5e,setGen:a5e,defaultStyle:o5e,addSubGraph:s5e,getDepthFirstPos:c5e,indexNodes:u5e,getSubGraphs:f5e,destructLink:g5e,lex:y5e,exists:JG,makeUniq:eV,setDiagramTitle:ci,getDiagramTitle:Yn}});function x5e(e){return typeof e=="symbol"||Mi(e)&&xo(e)==v5e}var v5e,us,Fd=F(()=>{"use strict";Df();Al();v5e="[object Symbol]";a(x5e,"isSymbol");us=x5e});function b5e(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var Cc,Cv=F(()=>{"use strict";a(b5e,"arrayMap");Cc=b5e});function nV(e){if(typeof e=="string")return e;if(Gr(e))return Cc(e,nV)+"";if(us(e))return rV?rV.call(e):"";var t=e+"";return t=="0"&&1/e==-T5e?"-0":t}var T5e,tV,rV,iV,aV=F(()=>{"use strict";Dd();Cv();ji();Fd();T5e=1/0,tV=ba?ba.prototype:void 0,rV=tV?tV.toString:void 0;a(nV,"baseToString");iV=nV});function _5e(e){for(var t=e.length;t--&&k5e.test(e.charAt(t)););return t}var k5e,oV,sV=F(()=>{"use strict";k5e=/\s/;a(_5e,"trimmedEndIndex");oV=_5e});function E5e(e){return e&&e.slice(0,oV(e)+1).replace(w5e,"")}var w5e,lV,cV=F(()=>{"use strict";sV();w5e=/^\s+/;a(E5e,"baseTrim");lV=E5e});function D5e(e){if(typeof e=="number")return e;if(us(e))return uV;if(gi(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=gi(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=lV(e);var r=S5e.test(e);return r||A5e.test(e)?R5e(e.slice(2),r?2:8):C5e.test(e)?uV:+e}var uV,C5e,S5e,A5e,R5e,fV,hV=F(()=>{"use strict";cV();$s();Fd();uV=0/0,C5e=/^[-+]0x[0-9a-f]+$/i,S5e=/^0b[01]+$/i,A5e=/^0o[0-7]+$/i,R5e=parseInt;a(D5e,"toNumber");fV=D5e});function I5e(e){if(!e)return e===0?e:0;if(e=fV(e),e===dV||e===-dV){var t=e<0?-1:1;return t*L5e}return e===e?e:0}var dV,L5e,tg,N5=F(()=>{"use strict";hV();dV=1/0,L5e=17976931348623157e292;a(I5e,"toFinite");tg=I5e});function N5e(e){var t=tg(e),r=t%1;return t===t?r?t-r:t:0}var pV,mV=F(()=>{"use strict";N5();a(N5e,"toInteger");pV=N5e});var P5e,lk,gV=F(()=>{"use strict";Lf();Us();P5e=zo(Ci,"WeakMap"),lk=P5e});function O5e(){}var yV,vV=F(()=>{"use strict";a(O5e,"noop");yV=O5e});function M5e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var ck,P5=F(()=>{"use strict";a(M5e,"arrayEach");ck=M5e});function F5e(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}var uk,O5=F(()=>{"use strict";a(F5e,"baseFindIndex");uk=F5e});function B5e(e){return e!==e}var xV,bV=F(()=>{"use strict";a(B5e,"baseIsNaN");xV=B5e});function q5e(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var TV,kV=F(()=>{"use strict";a(q5e,"strictIndexOf");TV=q5e});function z5e(e,t,r){return t===t?TV(e,t,r):uk(e,xV,r)}var _V,wV=F(()=>{"use strict";O5();bV();kV();a(z5e,"baseIndexOf");_V=z5e});function U5e(e,t){var r=e==null?0:e.length;return!!r&&_V(e,t,0)>-1}var EV,CV=F(()=>{"use strict";wV();a(U5e,"arrayIncludes");EV=U5e});var $5e,SV,AV=F(()=>{"use strict";FR();$5e=vT(Object.keys,Object),SV=$5e});function W5e(e){if(!Ff(e))return SV(e);var t=[];for(var r in Object(e))V5e.call(e,r)&&r!="constructor"&&t.push(r);return t}var G5e,V5e,rg,fk=F(()=>{"use strict";tv();AV();G5e=Object.prototype,V5e=G5e.hasOwnProperty;a(W5e,"baseKeys");rg=W5e});function H5e(e){return Ta(e)?wT(e):rg(e)}var Ai,wu=F(()=>{"use strict";VR();fk();kc();a(H5e,"keys");Ai=H5e});function X5e(e,t){if(Gr(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||us(e)?!0:Y5e.test(e)||!j5e.test(e)||t!=null&&e in Object(t)}var j5e,Y5e,ng,hk=F(()=>{"use strict";ji();Fd();j5e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Y5e=/^\w*$/;a(X5e,"isKey");ng=X5e});function Q5e(e){var t=Bm(e,function(n){return r.size===K5e&&r.clear(),n}),r=t.cache;return t}var K5e,RV,DV=F(()=>{"use strict";DR();K5e=500;a(Q5e,"memoizeCapped");RV=Q5e});var Z5e,J5e,eDe,LV,IV=F(()=>{"use strict";DV();Z5e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,J5e=/\\(\\)?/g,eDe=RV(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Z5e,function(r,n,i,o){t.push(i?o.replace(J5e,"$1"):n||r)}),t}),LV=eDe});function tDe(e){return e==null?"":iV(e)}var dk,M5=F(()=>{"use strict";aV();a(tDe,"toString");dk=tDe});function rDe(e,t){return Gr(e)?e:ng(e,t)?[e]:LV(dk(e))}var eh,Sv=F(()=>{"use strict";ji();hk();IV();M5();a(rDe,"castPath");eh=rDe});function iDe(e){if(typeof e=="string"||us(e))return e;var t=e+"";return t=="0"&&1/e==-nDe?"-0":t}var nDe,Sc,ig=F(()=>{"use strict";Fd();nDe=1/0;a(iDe,"toKey");Sc=iDe});function aDe(e,t){t=eh(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Sc(t[r++])];return r&&r==n?e:void 0}var th,Av=F(()=>{"use strict";Sv();ig();a(aDe,"baseGet");th=aDe});function oDe(e,t,r){var n=e==null?void 0:th(e,t);return n===void 0?r:n}var NV,PV=F(()=>{"use strict";Av();a(oDe,"get");NV=oDe});function sDe(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var ag,pk=F(()=>{"use strict";a(sDe,"arrayPush");ag=sDe});function lDe(e){return Gr(e)||Rl(e)||!!(OV&&e&&e[OV])}var OV,MV,FV=F(()=>{"use strict";Dd();Wm();ji();OV=ba?ba.isConcatSpreadable:void 0;a(lDe,"isFlattenable");MV=lDe});function BV(e,t,r,n,i){var o=-1,s=e.length;for(r||(r=MV),i||(i=[]);++o<s;){var u=e[o];t>0&&r(u)?t>1?BV(u,t-1,r,n,i):ag(i,u):n||(i[i.length]=u)}return i}var og,mk=F(()=>{"use strict";pk();FV();a(BV,"baseFlatten");og=BV});function cDe(e){var t=e==null?0:e.length;return t?og(e,1):[]}var Ks,F5=F(()=>{"use strict";mk();a(cDe,"flatten");Ks=cDe});function uDe(e){return CT(ET(e,void 0,Ks),e+"")}var qV,zV=F(()=>{"use strict";F5();WR();jR();a(uDe,"flatRest");qV=uDe});function xDe(e){return vDe.test(e)}var fDe,hDe,dDe,pDe,mDe,gDe,yDe,vDe,UV,$V=F(()=>{"use strict";fDe="\\ud800-\\udfff",hDe="\\u0300-\\u036f",dDe="\\ufe20-\\ufe2f",pDe="\\u20d0-\\u20ff",mDe=hDe+dDe+pDe,gDe="\\ufe0e\\ufe0f",yDe="\\u200d",vDe=RegExp("["+yDe+fDe+mDe+gDe+"]");a(xDe,"hasUnicode");UV=xDe});function bDe(e,t,r,n){var i=-1,o=e==null?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}var GV,VV=F(()=>{"use strict";a(bDe,"arrayReduce");GV=bDe});function TDe(e,t){return e&&_c(t,Ai(t),e)}var WV,HV=F(()=>{"use strict";Ym();wu();a(TDe,"baseAssign");WV=TDe});function kDe(e,t){return e&&_c(t,Uo(t),e)}var jV,YV=F(()=>{"use strict";Ym();$f();a(kDe,"baseAssignIn");jV=kDe});function _De(e,t){for(var r=-1,n=e==null?0:e.length,i=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[i++]=s)}return o}var gk,B5=F(()=>{"use strict";a(_De,"arrayFilter");gk=_De});function wDe(){return[]}var yk,q5=F(()=>{"use strict";a(wDe,"stubArray");yk=wDe});var EDe,CDe,XV,SDe,sg,vk=F(()=>{"use strict";B5();q5();EDe=Object.prototype,CDe=EDe.propertyIsEnumerable,XV=Object.getOwnPropertySymbols,SDe=XV?function(e){return e==null?[]:(e=Object(e),gk(XV(e),function(t){return CDe.call(e,t)}))}:yk,sg=SDe});function ADe(e,t){return _c(e,sg(e),t)}var KV,QV=F(()=>{"use strict";Ym();vk();a(ADe,"copySymbols");KV=ADe});var RDe,DDe,xk,z5=F(()=>{"use strict";pk();xT();vk();q5();RDe=Object.getOwnPropertySymbols,DDe=RDe?function(e){for(var t=[];e;)ag(t,sg(e)),e=Vm(e);return t}:yk,xk=DDe});function LDe(e,t){return _c(e,xk(e),t)}var ZV,JV=F(()=>{"use strict";Ym();z5();a(LDe,"copySymbolsIn");ZV=LDe});function IDe(e,t,r){var n=t(e);return Gr(e)?n:ag(n,r(e))}var bk,U5=F(()=>{"use strict";pk();ji();a(IDe,"baseGetAllKeys");bk=IDe});function NDe(e){return bk(e,Ai,sg)}var Rv,$5=F(()=>{"use strict";U5();vk();wu();a(NDe,"getAllKeys");Rv=NDe});function PDe(e){return bk(e,Uo,xk)}var eW,tW=F(()=>{"use strict";U5();z5();$f();a(PDe,"getAllKeysIn");eW=PDe});var ODe,Tk,rW=F(()=>{"use strict";Lf();Us();ODe=zo(Ci,"DataView"),Tk=ODe});var MDe,kk,nW=F(()=>{"use strict";Lf();Us();MDe=zo(Ci,"Promise"),kk=MDe});var FDe,rh,G5=F(()=>{"use strict";Lf();Us();FDe=zo(Ci,"Set"),rh=FDe});var iW,BDe,aW,oW,sW,lW,qDe,zDe,UDe,$De,GDe,Bd,fs,qd=F(()=>{"use strict";rW();fT();nW();G5();gV();Df();SR();iW="[object Map]",BDe="[object Object]",aW="[object Promise]",oW="[object Set]",sW="[object WeakMap]",lW="[object DataView]",qDe=yu(Tk),zDe=yu(Pf),UDe=yu(kk),$De=yu(rh),GDe=yu(lk),Bd=xo;(Tk&&Bd(new Tk(new ArrayBuffer(1)))!=lW||Pf&&Bd(new Pf)!=iW||kk&&Bd(kk.resolve())!=aW||rh&&Bd(new rh)!=oW||lk&&Bd(new lk)!=sW)&&(Bd=a(function(e){var t=xo(e),r=t==BDe?e.constructor:void 0,n=r?yu(r):"";if(n)switch(n){case qDe:return lW;case zDe:return iW;case UDe:return aW;case $De:return oW;case GDe:return sW}return t},"getTag"));fs=Bd});function HDe(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&WDe.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var VDe,WDe,cW,uW=F(()=>{"use strict";VDe=Object.prototype,WDe=VDe.hasOwnProperty;a(HDe,"initCloneArray");cW=HDe});function jDe(e,t){var r=t?Gm(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var fW,hW=F(()=>{"use strict";mT();a(jDe,"cloneDataView");fW=jDe});function XDe(e){var t=new e.constructor(e.source,YDe.exec(e));return t.lastIndex=e.lastIndex,t}var YDe,dW,pW=F(()=>{"use strict";YDe=/\w*$/;a(XDe,"cloneRegExp");dW=XDe});function KDe(e){return gW?Object(gW.call(e)):{}}var mW,gW,yW,vW=F(()=>{"use strict";Dd();mW=ba?ba.prototype:void 0,gW=mW?mW.valueOf:void 0;a(KDe,"cloneSymbol");yW=KDe});function gLe(e,t,r){var n=e.constructor;switch(t){case aLe:return Gm(e);case QDe:case ZDe:return new n(+e);case oLe:return fW(e,r);case sLe:case lLe:case cLe:case uLe:case fLe:case hLe:case dLe:case pLe:case mLe:return gT(e,r);case JDe:return new n;case eLe:case nLe:return new n(e);case tLe:return dW(e);case rLe:return new n;case iLe:return yW(e)}}var QDe,ZDe,JDe,eLe,tLe,rLe,nLe,iLe,aLe,oLe,sLe,lLe,cLe,uLe,fLe,hLe,dLe,pLe,mLe,xW,bW=F(()=>{"use strict";mT();hW();pW();vW();OR();QDe="[object Boolean]",ZDe="[object Date]",JDe="[object Map]",eLe="[object Number]",tLe="[object RegExp]",rLe="[object Set]",nLe="[object String]",iLe="[object Symbol]",aLe="[object ArrayBuffer]",oLe="[object DataView]",sLe="[object Float32Array]",lLe="[object Float64Array]",cLe="[object Int8Array]",uLe="[object Int16Array]",fLe="[object Int32Array]",hLe="[object Uint8Array]",dLe="[object Uint8ClampedArray]",pLe="[object Uint16Array]",mLe="[object Uint32Array]";a(gLe,"initCloneByTag");xW=gLe});function vLe(e){return Mi(e)&&fs(e)==yLe}var yLe,TW,kW=F(()=>{"use strict";qd();Al();yLe="[object Map]";a(vLe,"baseIsMap");TW=vLe});var _W,xLe,wW,EW=F(()=>{"use strict";kW();nv();_T();_W=xu&&xu.isMap,xLe=_W?Bf(_W):TW,wW=xLe});function TLe(e){return Mi(e)&&fs(e)==bLe}var bLe,CW,SW=F(()=>{"use strict";qd();Al();bLe="[object Set]";a(TLe,"baseIsSet");CW=TLe});var AW,kLe,RW,DW=F(()=>{"use strict";SW();nv();_T();AW=xu&&xu.isSet,kLe=AW?Bf(AW):CW,RW=kLe});function _k(e,t,r,n,i,o){var s,u=t&_Le,f=t&wLe,p=t&ELe;if(r&&(s=i?r(e,n,i,o):r(e)),s!==void 0)return s;if(!gi(e))return e;var g=Gr(e);if(g){if(s=cW(e),!u)return yT(e,s)}else{var y=fs(e),x=y==IW||y==DLe;if(Dl(e))return pT(e,u);if(y==NW||y==LW||x&&!i){if(s=f||x?{}:bT(e),!u)return f?ZV(e,jV(s,e)):KV(e,WV(s,e))}else{if(!ei[y])return i?e:{};s=xW(e,y,u)}}o||(o=new Tc);var b=o.get(e);if(b)return b;o.set(e,s),RW(e)?e.forEach(function(O){s.add(_k(O,t,r,O,e,o))}):wW(e)&&e.forEach(function(O,N){s.set(N,_k(O,t,r,N,e,o))});var E=p?f?eW:Rv:f?Uo:Ai,A=g?void 0:E(e);return ck(A||e,function(O,N){A&&(N=O,O=e[N]),zf(s,N,_k(O,t,r,N,e,o))}),s}var _Le,wLe,ELe,LW,CLe,SLe,ALe,RLe,IW,DLe,LLe,ILe,NW,NLe,PLe,OLe,MLe,FLe,BLe,qLe,zLe,ULe,$Le,GLe,VLe,WLe,HLe,jLe,YLe,ei,wk,V5=F(()=>{"use strict";Zy();P5();sv();HV();YV();NR();MR();QV();JV();$5();tW();qd();uW();bW();BR();ji();jm();EW();$s();DW();wu();$f();_Le=1,wLe=2,ELe=4,LW="[object Arguments]",CLe="[object Array]",SLe="[object Boolean]",ALe="[object Date]",RLe="[object Error]",IW="[object Function]",DLe="[object GeneratorFunction]",LLe="[object Map]",ILe="[object Number]",NW="[object Object]",NLe="[object RegExp]",PLe="[object Set]",OLe="[object String]",MLe="[object Symbol]",FLe="[object WeakMap]",BLe="[object ArrayBuffer]",qLe="[object DataView]",zLe="[object Float32Array]",ULe="[object Float64Array]",$Le="[object Int8Array]",GLe="[object Int16Array]",VLe="[object Int32Array]",WLe="[object Uint8Array]",HLe="[object Uint8ClampedArray]",jLe="[object Uint16Array]",YLe="[object Uint32Array]",ei={};ei[LW]=ei[CLe]=ei[BLe]=ei[qLe]=ei[SLe]=ei[ALe]=ei[zLe]=ei[ULe]=ei[$Le]=ei[GLe]=ei[VLe]=ei[LLe]=ei[ILe]=ei[NW]=ei[NLe]=ei[PLe]=ei[OLe]=ei[MLe]=ei[WLe]=ei[HLe]=ei[jLe]=ei[YLe]=!0;ei[RLe]=ei[IW]=ei[FLe]=!1;a(_k,"baseClone");wk=_k});function KLe(e){return wk(e,XLe)}var XLe,W5,PW=F(()=>{"use strict";V5();XLe=4;a(KLe,"clone");W5=KLe});function JLe(e){return wk(e,QLe|ZLe)}var QLe,ZLe,H5,OW=F(()=>{"use strict";V5();QLe=1,ZLe=4;a(JLe,"cloneDeep");H5=JLe});function tIe(e){return this.__data__.set(e,eIe),this}var eIe,MW,FW=F(()=>{"use strict";eIe="__lodash_hash_undefined__";a(tIe,"setCacheAdd");MW=tIe});function rIe(e){return this.__data__.has(e)}var BW,qW=F(()=>{"use strict";a(rIe,"setCacheHas");BW=rIe});function Ek(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Id;++t<r;)this.add(e[t])}var Ck,j5=F(()=>{"use strict";hT();FW();qW();a(Ek,"SetCache");Ek.prototype.add=Ek.prototype.push=MW;Ek.prototype.has=BW;Ck=Ek});function nIe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var zW,UW=F(()=>{"use strict";a(nIe,"arraySome");zW=nIe});function iIe(e,t){return e.has(t)}var Sk,Y5=F(()=>{"use strict";a(iIe,"cacheHas");Sk=iIe});function sIe(e,t,r,n,i,o){var s=r&aIe,u=e.length,f=t.length;if(u!=f&&!(s&&f>u))return!1;var p=o.get(e),g=o.get(t);if(p&&g)return p==t&&g==e;var y=-1,x=!0,b=r&oIe?new Ck:void 0;for(o.set(e,t),o.set(t,e);++y<u;){var E=e[y],A=t[y];if(n)var O=s?n(A,E,y,t,e,o):n(E,A,y,e,t,o);if(O!==void 0){if(O)continue;x=!1;break}if(b){if(!zW(t,function(N,I){if(!Sk(b,I)&&(E===N||i(E,N,r,n,o)))return b.push(I)})){x=!1;break}}else if(!(E===A||i(E,A,r,n,o))){x=!1;break}}return o.delete(e),o.delete(t),x}var aIe,oIe,Ak,X5=F(()=>{"use strict";j5();UW();Y5();aIe=1,oIe=2;a(sIe,"equalArrays");Ak=sIe});function lIe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var $W,GW=F(()=>{"use strict";a(lIe,"mapToArray");$W=lIe});function cIe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var lg,Rk=F(()=>{"use strict";a(cIe,"setToArray");lg=cIe});function _Ie(e,t,r,n,i,o,s){switch(r){case kIe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case TIe:return!(e.byteLength!=t.byteLength||!o(new $m(e),new $m(t)));case hIe:case dIe:case gIe:return Vs(+e,+t);case pIe:return e.name==t.name&&e.message==t.message;case yIe:case xIe:return e==t+"";case mIe:var u=$W;case vIe:var f=n&uIe;if(u||(u=lg),e.size!=t.size&&!f)return!1;var p=s.get(e);if(p)return p==t;n|=fIe,s.set(e,t);var g=Ak(u(e),u(t),n,i,o,s);return s.delete(e),g;case bIe:if(K5)return K5.call(e)==K5.call(t)}return!1}var uIe,fIe,hIe,dIe,pIe,mIe,gIe,yIe,vIe,xIe,bIe,TIe,kIe,VW,K5,WW,HW=F(()=>{"use strict";Dd();PR();Ld();X5();GW();Rk();uIe=1,fIe=2,hIe="[object Boolean]",dIe="[object Date]",pIe="[object Error]",mIe="[object Map]",gIe="[object Number]",yIe="[object RegExp]",vIe="[object Set]",xIe="[object String]",bIe="[object Symbol]",TIe="[object ArrayBuffer]",kIe="[object DataView]",VW=ba?ba.prototype:void 0,K5=VW?VW.valueOf:void 0;a(_Ie,"equalByTag");WW=_Ie});function SIe(e,t,r,n,i,o){var s=r&wIe,u=Rv(e),f=u.length,p=Rv(t),g=p.length;if(f!=g&&!s)return!1;for(var y=f;y--;){var x=u[y];if(!(s?x in t:CIe.call(t,x)))return!1}var b=o.get(e),E=o.get(t);if(b&&E)return b==t&&E==e;var A=!0;o.set(e,t),o.set(t,e);for(var O=s;++y<f;){x=u[y];var N=e[x],I=t[x];if(n)var $=s?n(I,N,x,t,e,o):n(N,I,x,e,t,o);if(!($===void 0?N===I||i(N,I,r,n,o):$)){A=!1;break}O||(O=x=="constructor")}if(A&&!O){var X=e.constructor,q=t.constructor;X!=q&&"constructor"in e&&"constructor"in t&&!(typeof X=="function"&&X instanceof X&&typeof q=="function"&&q instanceof q)&&(A=!1)}return o.delete(e),o.delete(t),A}var wIe,EIe,CIe,jW,YW=F(()=>{"use strict";$5();wIe=1,EIe=Object.prototype,CIe=EIe.hasOwnProperty;a(SIe,"equalObjects");jW=SIe});function DIe(e,t,r,n,i,o){var s=Gr(e),u=Gr(t),f=s?KW:fs(e),p=u?KW:fs(t);f=f==XW?Dk:f,p=p==XW?Dk:p;var g=f==Dk,y=p==Dk,x=f==p;if(x&&Dl(e)){if(!Dl(t))return!1;s=!0,g=!1}if(x&&!g)return o||(o=new Tc),s||qf(e)?Ak(e,t,r,n,i,o):WW(e,t,f,r,n,i,o);if(!(r&AIe)){var b=g&&QW.call(e,"__wrapped__"),E=y&&QW.call(t,"__wrapped__");if(b||E){var A=b?e.value():e,O=E?t.value():t;return o||(o=new Tc),i(A,O,r,n,o)}}return x?(o||(o=new Tc),jW(e,t,r,n,i,o)):!1}var AIe,XW,KW,Dk,RIe,QW,ZW,JW=F(()=>{"use strict";Zy();X5();HW();YW();qd();ji();jm();av();AIe=1,XW="[object Arguments]",KW="[object Array]",Dk="[object Object]",RIe=Object.prototype,QW=RIe.hasOwnProperty;a(DIe,"baseIsEqualDeep");ZW=DIe});function eH(e,t,r,n,i){return e===t?!0:e==null||t==null||!Mi(e)&&!Mi(t)?e!==e&&t!==t:ZW(e,t,r,n,eH,i)}var Lk,Q5=F(()=>{"use strict";JW();Al();a(eH,"baseIsEqual");Lk=eH});function NIe(e,t,r,n){var i=r.length,o=i,s=!n;if(e==null)return!o;for(e=Object(e);i--;){var u=r[i];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<o;){u=r[i];var f=u[0],p=e[f],g=u[1];if(s&&u[2]){if(p===void 0&&!(f in e))return!1}else{var y=new Tc;if(n)var x=n(p,g,f,e,t,y);if(!(x===void 0?Lk(g,p,LIe|IIe,n,y):x))return!1}}return!0}var LIe,IIe,tH,rH=F(()=>{"use strict";Zy();Q5();LIe=1,IIe=2;a(NIe,"baseIsMatch");tH=NIe});function PIe(e){return e===e&&!gi(e)}var Ik,Z5=F(()=>{"use strict";$s();a(PIe,"isStrictComparable");Ik=PIe});function OIe(e){for(var t=Ai(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,Ik(i)]}return t}var nH,iH=F(()=>{"use strict";Z5();wu();a(OIe,"getMatchData");nH=OIe});function MIe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Nk,J5=F(()=>{"use strict";a(MIe,"matchesStrictComparable");Nk=MIe});function FIe(e){var t=nH(e);return t.length==1&&t[0][2]?Nk(t[0][0],t[0][1]):function(r){return r===e||tH(r,e,t)}}var aH,oH=F(()=>{"use strict";rH();iH();J5();a(FIe,"baseMatches");aH=FIe});function BIe(e,t){return e!=null&&t in Object(e)}var sH,lH=F(()=>{"use strict";a(BIe,"baseHasIn");sH=BIe});function qIe(e,t,r){t=eh(t,e);for(var n=-1,i=t.length,o=!1;++n<i;){var s=Sc(t[n]);if(!(o=e!=null&&r(e,s)))break;e=e[s]}return o||++n!=i?o:(i=e==null?0:e.length,!!i&&Hm(i)&&Uf(s,i)&&(Gr(e)||Rl(e)))}var Pk,eD=F(()=>{"use strict";Sv();Wm();ji();lv();TT();ig();a(qIe,"hasPath");Pk=qIe});function zIe(e,t){return e!=null&&Pk(e,t,sH)}var Ok,tD=F(()=>{"use strict";lH();eD();a(zIe,"hasIn");Ok=zIe});function GIe(e,t){return ng(e)&&Ik(t)?Nk(Sc(e),t):function(r){var n=NV(r,e);return n===void 0&&n===t?Ok(r,e):Lk(t,n,UIe|$Ie)}}var UIe,$Ie,cH,uH=F(()=>{"use strict";Q5();PV();tD();hk();Z5();J5();ig();UIe=1,$Ie=2;a(GIe,"baseMatchesProperty");cH=GIe});function VIe(e){return function(t){return t?.[e]}}var Mk,rD=F(()=>{"use strict";a(VIe,"baseProperty");Mk=VIe});function WIe(e){return function(t){return th(t,e)}}var fH,hH=F(()=>{"use strict";Av();a(WIe,"basePropertyDeep");fH=WIe});function HIe(e){return ng(e)?Mk(Sc(e)):fH(e)}var dH,pH=F(()=>{"use strict";rD();hH();hk();ig();a(HIe,"property");dH=HIe});function jIe(e){return typeof e=="function"?e:e==null?$o:typeof e=="object"?Gr(e)?cH(e[0],e[1]):aH(e):dH(e)}var to,Eu=F(()=>{"use strict";oH();uH();Gf();ji();pH();a(jIe,"baseIteratee");to=jIe});function YIe(e,t){return e&&Um(e,t,Ai)}var cg,Fk=F(()=>{"use strict";dT();wu();a(YIe,"baseForOwn");cg=YIe});function XIe(e,t){return function(r,n){if(r==null)return r;if(!Ta(r))return e(r,n);for(var i=r.length,o=t?i:-1,s=Object(r);(t?o--:++o<i)&&n(s[o],o,s)!==!1;);return r}}var mH,gH=F(()=>{"use strict";kc();a(XIe,"createBaseEach");mH=XIe});var KIe,nh,Dv=F(()=>{"use strict";Fk();gH();KIe=mH(cg),nh=KIe});var QIe,Bk,yH=F(()=>{"use strict";Us();QIe=a(function(){return Ci.Date.now()},"now"),Bk=QIe});var vH,ZIe,JIe,Cu,xH=F(()=>{"use strict";cv();Ld();uv();$f();vH=Object.prototype,ZIe=vH.hasOwnProperty,JIe=Vf(function(e,t){e=Object(e);var r=-1,n=t.length,i=n>2?t[2]:void 0;for(i&&bu(t[0],t[1],i)&&(n=1);++r<n;)for(var o=t[r],s=Uo(o),u=-1,f=s.length;++u<f;){var p=s[u],g=e[p];(g===void 0||Vs(g,vH[p])&&!ZIe.call(e,p))&&(e[p]=o[p])}return e}),Cu=JIe});function eNe(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var bH,TH=F(()=>{"use strict";a(eNe,"arrayIncludesWith");bH=eNe});function tNe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var ih,kH=F(()=>{"use strict";a(tNe,"last");ih=tNe});function rNe(e){return typeof e=="function"?e:$o}var ug,qk=F(()=>{"use strict";Gf();a(rNe,"castFunction");ug=rNe});function nNe(e,t){var r=Gr(e)?ck:nh;return r(e,ug(t))}var ft,nD=F(()=>{"use strict";P5();Dv();qk();ji();a(nNe,"forEach");ft=nNe});var _H=F(()=>{"use strict";nD()});function iNe(e,t){var r=[];return nh(e,function(n,i,o){t(n,i,o)&&r.push(n)}),r}var wH,EH=F(()=>{"use strict";Dv();a(iNe,"baseFilter");wH=iNe});function aNe(e,t){var r=Gr(e)?gk:wH;return r(e,to(t,3))}var To,CH=F(()=>{"use strict";B5();EH();Eu();ji();a(aNe,"filter");To=aNe});function oNe(e){return function(t,r,n){var i=Object(t);if(!Ta(t)){var o=to(r,3);t=Ai(t),r=a(function(u){return o(i[u],u,i)},"predicate")}var s=e(t,r,n);return s>-1?i[o?t[s]:s]:void 0}}var SH,AH=F(()=>{"use strict";Eu();kc();wu();a(oNe,"createFind");SH=oNe});function lNe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:pV(r);return i<0&&(i=sNe(n+i,0)),uk(e,to(t,3),i)}var sNe,RH,DH=F(()=>{"use strict";O5();Eu();mV();sNe=Math.max;a(lNe,"findIndex");RH=lNe});var cNe,fg,LH=F(()=>{"use strict";AH();DH();cNe=SH(RH),fg=cNe});function uNe(e,t){var r=-1,n=Ta(e)?Array(e.length):[];return nh(e,function(i,o,s){n[++r]=t(i,o,s)}),n}var zk,iD=F(()=>{"use strict";Dv();kc();a(uNe,"baseMap");zk=uNe});function fNe(e,t){var r=Gr(e)?Cc:zk;return r(e,to(t,3))}var kn,IH=F(()=>{"use strict";Cv();Eu();iD();ji();a(fNe,"map");kn=fNe});function hNe(e,t){return e==null?e:Um(e,ug(t),Uo)}var aD,NH=F(()=>{"use strict";dT();qk();$f();a(hNe,"forIn");aD=hNe});function dNe(e,t){return e&&cg(e,ug(t))}var oD,PH=F(()=>{"use strict";Fk();qk();a(dNe,"forOwn");oD=dNe});function pNe(e,t){return e>t}var OH,MH=F(()=>{"use strict";a(pNe,"baseGt");OH=pNe});function yNe(e,t){return e!=null&&gNe.call(e,t)}var mNe,gNe,FH,BH=F(()=>{"use strict";mNe=Object.prototype,gNe=mNe.hasOwnProperty;a(yNe,"baseHas");FH=yNe});function vNe(e,t){return e!=null&&Pk(e,t,FH)}var rr,qH=F(()=>{"use strict";BH();eD();a(vNe,"has");rr=vNe});function bNe(e){return typeof e=="string"||!Gr(e)&&Mi(e)&&xo(e)==xNe}var xNe,zH,UH=F(()=>{"use strict";Df();ji();Al();xNe="[object String]";a(bNe,"isString");zH=bNe});function TNe(e,t){return Cc(t,function(r){return e[r]})}var $H,GH=F(()=>{"use strict";Cv();a(TNe,"baseValues");$H=TNe});function kNe(e){return e==null?[]:$H(e,Ai(e))}var hs,VH=F(()=>{"use strict";GH();wu();a(kNe,"values");hs=kNe});function SNe(e){if(e==null)return!0;if(Ta(e)&&(Gr(e)||typeof e=="string"||typeof e.splice=="function"||Dl(e)||qf(e)||Rl(e)))return!e.length;var t=fs(e);if(t==_Ne||t==wNe)return!e.size;if(Ff(e))return!rg(e).length;for(var r in e)if(CNe.call(e,r))return!1;return!0}var _Ne,wNe,ENe,CNe,ah,sD=F(()=>{"use strict";fk();qd();Wm();ji();kc();jm();tv();av();_Ne="[object Map]",wNe="[object Set]",ENe=Object.prototype,CNe=ENe.hasOwnProperty;a(SNe,"isEmpty");ah=SNe});function ANe(e){return e===void 0}var Un,WH=F(()=>{"use strict";a(ANe,"isUndefined");Un=ANe});function RNe(e,t){return e<t}var Uk,lD=F(()=>{"use strict";a(RNe,"baseLt");Uk=RNe});function DNe(e,t){var r={};return t=to(t,3),cg(e,function(n,i,o){Mf(r,i,t(n,i,o))}),r}var zd,HH=F(()=>{"use strict";Jy();Fk();Eu();a(DNe,"mapValues");zd=DNe});function LNe(e,t,r){for(var n=-1,i=e.length;++n<i;){var o=e[n],s=t(o);if(s!=null&&(u===void 0?s===s&&!us(s):r(s,u)))var u=s,f=o}return f}var hg,$k=F(()=>{"use strict";Fd();a(LNe,"baseExtremum");hg=LNe});function INe(e){return e&&e.length?hg(e,$o,OH):void 0}var Ho,jH=F(()=>{"use strict";$k();MH();Gf();a(INe,"max");Ho=INe});function NNe(e){return e&&e.length?hg(e,$o,Uk):void 0}var Su,YH=F(()=>{"use strict";$k();lD();Gf();a(NNe,"min");Su=NNe});function PNe(e,t){return e&&e.length?hg(e,to(t,2),Uk):void 0}var Ud,XH=F(()=>{"use strict";$k();Eu();lD();a(PNe,"minBy");Ud=PNe});function ONe(e,t,r,n){if(!gi(e))return e;t=eh(t,e);for(var i=-1,o=t.length,s=o-1,u=e;u!=null&&++i<o;){var f=Sc(t[i]),p=r;if(f==="__proto__"||f==="constructor"||f==="prototype")return e;if(i!=s){var g=u[f];p=n?n(g,f,u):void 0,p===void 0&&(p=gi(g)?g:Uf(t[i+1])?[]:{})}zf(u,f,p),u=u[f]}return e}var KH,QH=F(()=>{"use strict";sv();Sv();lv();$s();ig();a(ONe,"baseSet");KH=ONe});function MNe(e,t,r){for(var n=-1,i=t.length,o={};++n<i;){var s=t[n],u=th(e,s);r(u,s)&&KH(o,eh(s,e),u)}return o}var ZH,JH=F(()=>{"use strict";Av();QH();Sv();a(MNe,"basePickBy");ZH=MNe});function FNe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var ej,tj=F(()=>{"use strict";a(FNe,"baseSortBy");ej=FNe});function BNe(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,o=us(e),s=t!==void 0,u=t===null,f=t===t,p=us(t);if(!u&&!p&&!o&&e>t||o&&s&&f&&!u&&!p||n&&s&&f||!r&&f||!i)return 1;if(!n&&!o&&!p&&e<t||p&&r&&i&&!n&&!o||u&&r&&i||!s&&i||!f)return-1}return 0}var rj,nj=F(()=>{"use strict";Fd();a(BNe,"compareAscending");rj=BNe});function qNe(e,t,r){for(var n=-1,i=e.criteria,o=t.criteria,s=i.length,u=r.length;++n<s;){var f=rj(i[n],o[n]);if(f){if(n>=u)return f;var p=r[n];return f*(p=="desc"?-1:1)}}return e.index-t.index}var ij,aj=F(()=>{"use strict";nj();a(qNe,"compareMultiple");ij=qNe});function zNe(e,t,r){t.length?t=Cc(t,function(o){return Gr(o)?function(s){return th(s,o.length===1?o[0]:o)}:o}):t=[$o];var n=-1;t=Cc(t,Bf(to));var i=zk(e,function(o,s,u){var f=Cc(t,function(p){return p(o)});return{criteria:f,index:++n,value:o}});return ej(i,function(o,s){return ij(o,s,r)})}var oj,sj=F(()=>{"use strict";Cv();Av();Eu();iD();tj();nv();aj();Gf();ji();a(zNe,"baseOrderBy");oj=zNe});var UNe,lj,cj=F(()=>{"use strict";rD();UNe=Mk("length"),lj=UNe});function JNe(e){for(var t=uj.lastIndex=0;uj.test(e);)++t;return t}var fj,$Ne,GNe,VNe,WNe,HNe,jNe,cD,uD,YNe,hj,dj,pj,XNe,mj,gj,KNe,QNe,ZNe,uj,yj,vj=F(()=>{"use strict";fj="\\ud800-\\udfff",$Ne="\\u0300-\\u036f",GNe="\\ufe20-\\ufe2f",VNe="\\u20d0-\\u20ff",WNe=$Ne+GNe+VNe,HNe="\\ufe0e\\ufe0f",jNe="["+fj+"]",cD="["+WNe+"]",uD="\\ud83c[\\udffb-\\udfff]",YNe="(?:"+cD+"|"+uD+")",hj="[^"+fj+"]",dj="(?:\\ud83c[\\udde6-\\uddff]){2}",pj="[\\ud800-\\udbff][\\udc00-\\udfff]",XNe="\\u200d",mj=YNe+"?",gj="["+HNe+"]?",KNe="(?:"+XNe+"(?:"+[hj,dj,pj].join("|")+")"+gj+mj+")*",QNe=gj+mj+KNe,ZNe="(?:"+[hj+cD+"?",cD,dj,pj,jNe].join("|")+")",uj=RegExp(uD+"(?="+uD+")|"+ZNe+QNe,"g");a(JNe,"unicodeSize");yj=JNe});function ePe(e){return UV(e)?yj(e):lj(e)}var xj,bj=F(()=>{"use strict";cj();$V();vj();a(ePe,"stringSize");xj=ePe});function tPe(e,t){return ZH(e,t,function(r,n){return Ok(e,n)})}var Tj,kj=F(()=>{"use strict";JH();tD();a(tPe,"basePick");Tj=tPe});var rPe,Au,_j=F(()=>{"use strict";kj();zV();rPe=qV(function(e,t){return e==null?{}:Tj(e,t)}),Au=rPe});function aPe(e,t,r,n){for(var i=-1,o=iPe(nPe((t-e)/(r||1)),0),s=Array(o);o--;)s[n?o:++i]=e,e+=r;return s}var nPe,iPe,wj,Ej=F(()=>{"use strict";nPe=Math.ceil,iPe=Math.max;a(aPe,"baseRange");wj=aPe});function oPe(e){return function(t,r,n){return n&&typeof n!="number"&&bu(t,r,n)&&(r=n=void 0),t=tg(t),r===void 0?(r=t,t=0):r=tg(r),n=n===void 0?t<r?1:-1:tg(n),wj(t,r,n,e)}}var Cj,Sj=F(()=>{"use strict";Ej();uv();N5();a(oPe,"createRange");Cj=oPe});var sPe,jo,Aj=F(()=>{"use strict";Sj();sPe=Cj(),jo=sPe});function lPe(e,t,r,n,i){return i(e,function(o,s,u){r=n?(n=!1,o):t(r,o,s,u)}),r}var Rj,Dj=F(()=>{"use strict";a(lPe,"baseReduce");Rj=lPe});function cPe(e,t,r){var n=Gr(e)?GV:Rj,i=arguments.length<3;return n(e,to(t,4),r,i,nh)}var Ac,Lj=F(()=>{"use strict";VV();Dv();Eu();Dj();ji();a(cPe,"reduce");Ac=cPe});function hPe(e){if(e==null)return 0;if(Ta(e))return zH(e)?xj(e):e.length;var t=fs(e);return t==uPe||t==fPe?e.size:rg(e).length}var uPe,fPe,fD,Ij=F(()=>{"use strict";fk();qd();kc();UH();bj();uPe="[object Map]",fPe="[object Set]";a(hPe,"size");fD=hPe});var dPe,Rc,Nj=F(()=>{"use strict";mk();sj();cv();uv();dPe=Vf(function(e,t){if(e==null)return[];var r=t.length;return r>1&&bu(e,t[0],t[1])?t=[]:r>2&&bu(t[0],t[1],t[2])&&(t=[t[0]]),oj(e,og(t,1),[])}),Rc=dPe});var pPe,mPe,Pj,Oj=F(()=>{"use strict";G5();vV();Rk();pPe=1/0,mPe=rh&&1/lg(new rh([,-0]))[1]==pPe?function(e){return new rh(e)}:yV,Pj=mPe});function yPe(e,t,r){var n=-1,i=EV,o=e.length,s=!0,u=[],f=u;if(r)s=!1,i=bH;else if(o>=gPe){var p=t?null:Pj(e);if(p)return lg(p);s=!1,i=Sk,f=new Ck}else f=t?[]:u;e:for(;++n<o;){var g=e[n],y=t?t(g):g;if(g=r||g!==0?g:0,s&&y===y){for(var x=f.length;x--;)if(f[x]===y)continue e;t&&f.push(y),u.push(g)}else i(f,y,r)||(f!==u&&f.push(y),u.push(g))}return u}var gPe,Mj,Fj=F(()=>{"use strict";j5();CV();TH();Y5();Oj();Rk();gPe=200;a(yPe,"baseUniq");Mj=yPe});var vPe,hD,Bj=F(()=>{"use strict";mk();cv();Fj();zR();vPe=Vf(function(e){return Mj(og(e,1,kT,!0))}),hD=vPe});function bPe(e){var t=++xPe;return dk(e)+t}var xPe,Ru,qj=F(()=>{"use strict";M5();xPe=0;a(bPe,"uniqueId");Ru=bPe});function TPe(e,t,r){for(var n=-1,i=e.length,o=t.length,s={};++n<i;){var u=n<o?t[n]:void 0;r(s,e[n],u)}return s}var zj,Uj=F(()=>{"use strict";a(TPe,"baseZipObject");zj=TPe});function kPe(e,t){return zj(e||[],t||[],zf)}var Gk,$j=F(()=>{"use strict";sv();Uj();a(kPe,"zipObject");Gk=kPe});var nn=F(()=>{"use strict";PW();OW();HR();xH();_H();CH();LH();F5();nD();NH();PH();qH();ji();sD();jy();UR();WH();wu();kH();IH();HH();jH();YR();YH();XH();yH();_j();Aj();Lj();Ij();Nj();Bj();qj();VH();$j();});function Vj(e,t){e[t]?e[t]++:e[t]=1}function Wj(e,t){--e[t]||delete e[t]}function Lv(e,t,r,n){var i=""+t,o=""+r;if(!e&&i>o){var s=i;i=o,o=s}return i+Gj+o+Gj+(Un(n)?_Pe:n)}function wPe(e,t,r,n){var i=""+t,o=""+r;if(!e&&i>o){var s=i;i=o,o=s}var u={v:i,w:o};return n&&(u.name=n),u}function dD(e,t){return Lv(e,t.v,t.w,t.name)}var _Pe,$d,Gj,Yr,Vk=F(()=>{"use strict";nn();_Pe="\0",$d="\0",Gj="",Yr=class{static{a(this,"Graph")}constructor(t={}){this._isDirected=rr(t,"directed")?t.directed:!0,this._isMultigraph=rr(t,"multigraph")?t.multigraph:!1,this._isCompound=rr(t,"compound")?t.compound:!1,this._label=void 0,this._defaultNodeLabelFn=Go(void 0),this._defaultEdgeLabelFn=Go(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[$d]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(t){return this._label=t,this}graph(){return this._label}setDefaultNodeLabel(t){return Gs(t)||(t=Go(t)),this._defaultNodeLabelFn=t,this}nodeCount(){return this._nodeCount}nodes(){return Ai(this._nodes)}sources(){var t=this;return To(this.nodes(),function(r){return ah(t._in[r])})}sinks(){var t=this;return To(this.nodes(),function(r){return ah(t._out[r])})}setNodes(t,r){var n=arguments,i=this;return ft(t,function(o){n.length>1?i.setNode(o,r):i.setNode(o)}),this}setNode(t,r){return rr(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=r),this):(this._nodes[t]=arguments.length>1?r:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=$d,this._children[t]={},this._children[$d][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)}node(t){return this._nodes[t]}hasNode(t){return rr(this._nodes,t)}removeNode(t){var r=this;if(rr(this._nodes,t)){var n=a(function(i){r.removeEdge(r._edgeObjs[i])},"removeEdge");delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],ft(this.children(t),function(i){r.setParent(i)}),delete this._children[t]),ft(Ai(this._in[t]),n),delete this._in[t],delete this._preds[t],ft(Ai(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this}setParent(t,r){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(Un(r))r=$d;else{r+="";for(var n=r;!Un(n);n=this.parent(n))if(n===t)throw new Error("Setting "+r+" as parent of "+t+" would create a cycle");this.setNode(r)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=r,this._children[r][t]=!0,this}_removeFromParentsChildList(t){delete this._children[this._parent[t]][t]}parent(t){if(this._isCompound){var r=this._parent[t];if(r!==$d)return r}}children(t){if(Un(t)&&(t=$d),this._isCompound){var r=this._children[t];if(r)return Ai(r)}else{if(t===$d)return this.nodes();if(this.hasNode(t))return[]}}predecessors(t){var r=this._preds[t];if(r)return Ai(r)}successors(t){var r=this._sucs[t];if(r)return Ai(r)}neighbors(t){var r=this.predecessors(t);if(r)return hD(r,this.successors(t))}isLeaf(t){var r;return this.isDirected()?r=this.successors(t):r=this.neighbors(t),r.length===0}filterNodes(t){var r=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});r.setGraph(this.graph());var n=this;ft(this._nodes,function(s,u){t(u)&&r.setNode(u,s)}),ft(this._edgeObjs,function(s){r.hasNode(s.v)&&r.hasNode(s.w)&&r.setEdge(s,n.edge(s))});var i={};function o(s){var u=n.parent(s);return u===void 0||r.hasNode(u)?(i[s]=u,u):u in i?i[u]:o(u)}return a(o,"findParent"),this._isCompound&&ft(r.nodes(),function(s){r.setParent(s,o(s))}),r}setDefaultEdgeLabel(t){return Gs(t)||(t=Go(t)),this._defaultEdgeLabelFn=t,this}edgeCount(){return this._edgeCount}edges(){return hs(this._edgeObjs)}setPath(t,r){var n=this,i=arguments;return Ac(t,function(o,s){return i.length>1?n.setEdge(o,s,r):n.setEdge(o,s),s}),this}setEdge(){var t,r,n,i,o=!1,s=arguments[0];typeof s=="object"&&s!==null&&"v"in s?(t=s.v,r=s.w,n=s.name,arguments.length===2&&(i=arguments[1],o=!0)):(t=s,r=arguments[1],n=arguments[3],arguments.length>2&&(i=arguments[2],o=!0)),t=""+t,r=""+r,Un(n)||(n=""+n);var u=Lv(this._isDirected,t,r,n);if(rr(this._edgeLabels,u))return o&&(this._edgeLabels[u]=i),this;if(!Un(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(r),this._edgeLabels[u]=o?i:this._defaultEdgeLabelFn(t,r,n);var f=wPe(this._isDirected,t,r,n);return t=f.v,r=f.w,Object.freeze(f),this._edgeObjs[u]=f,Vj(this._preds[r],t),Vj(this._sucs[t],r),this._in[r][u]=f,this._out[t][u]=f,this._edgeCount++,this}edge(t,r,n){var i=arguments.length===1?dD(this._isDirected,arguments[0]):Lv(this._isDirected,t,r,n);return this._edgeLabels[i]}hasEdge(t,r,n){var i=arguments.length===1?dD(this._isDirected,arguments[0]):Lv(this._isDirected,t,r,n);return rr(this._edgeLabels,i)}removeEdge(t,r,n){var i=arguments.length===1?dD(this._isDirected,arguments[0]):Lv(this._isDirected,t,r,n),o=this._edgeObjs[i];return o&&(t=o.v,r=o.w,delete this._edgeLabels[i],delete this._edgeObjs[i],Wj(this._preds[r],t),Wj(this._sucs[t],r),delete this._in[r][i],delete this._out[t][i],this._edgeCount--),this}inEdges(t,r){var n=this._in[t];if(n){var i=hs(n);return r?To(i,function(o){return o.v===r}):i}}outEdges(t,r){var n=this._out[t];if(n){var i=hs(n);return r?To(i,function(o){return o.w===r}):i}}nodeEdges(t,r){var n=this.inEdges(t,r);if(n)return n.concat(this.outEdges(t,r))}};Yr.prototype._nodeCount=0;Yr.prototype._edgeCount=0;a(Vj,"incrementOrInitEntry");a(Wj,"decrementOrRemoveEntry");a(Lv,"edgeArgsToId");a(wPe,"edgeArgsToObj");a(dD,"edgeObjToId")});var _a=F(()=>{"use strict";Vk()});var Hj=F(()=>{"use strict"});var Du=F(()=>{"use strict";iu();qS();D3();N3();ud();Hj();P3();$b();IA();O3();h2();q3();U3();_2();J3();e4();hd();d2();t4();z3();r4();S4();D4();Fs();eR();Ry();N2();gy();ky();iR()});function jj(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function EPe(e,t){if(e!=="_next"&&e!=="_prev")return t}var Wk,Yj=F(()=>{"use strict";Wk=class{static{a(this,"List")}constructor(){var t={};t._next=t._prev=t,this._sentinel=t}dequeue(){var t=this._sentinel,r=t._prev;if(r!==t)return jj(r),r}enqueue(t){var r=this._sentinel;t._prev&&t._next&&jj(t),t._next=r._next,r._next._prev=t,r._next=t,t._prev=r}toString(){for(var t=[],r=this._sentinel,n=r._prev;n!==r;)t.push(JSON.stringify(n,EPe)),n=n._prev;return"["+t.join(", ")+"]"}};a(jj,"unlink");a(EPe,"filterOutLinks")});function Xj(e,t){if(e.nodeCount()<=1)return[];var r=APe(e,t||CPe),n=SPe(r.graph,r.buckets,r.zeroIdx);return Ks(kn(n,function(i){return e.outEdges(i.v,i.w)}))}function SPe(e,t,r){for(var n=[],i=t[t.length-1],o=t[0],s;e.nodeCount();){for(;s=o.dequeue();)pD(e,t,r,s);for(;s=i.dequeue();)pD(e,t,r,s);if(e.nodeCount()){for(var u=t.length-2;u>0;--u)if(s=t[u].dequeue(),s){n=n.concat(pD(e,t,r,s,!0));break}}}return n}function pD(e,t,r,n,i){var o=i?[]:void 0;return ft(e.inEdges(n.v),function(s){var u=e.edge(s),f=e.node(s.v);i&&o.push({v:s.v,w:s.w}),f.out-=u,mD(t,r,f)}),ft(e.outEdges(n.v),function(s){var u=e.edge(s),f=s.w,p=e.node(f);p.in-=u,mD(t,r,p)}),e.removeNode(n.v),o}function APe(e,t){var r=new Yr,n=0,i=0;ft(e.nodes(),function(u){r.setNode(u,{v:u,in:0,out:0})}),ft(e.edges(),function(u){var f=r.edge(u.v,u.w)||0,p=t(u),g=f+p;r.setEdge(u.v,u.w,g),i=Math.max(i,r.node(u.v).out+=p),n=Math.max(n,r.node(u.w).in+=p)});var o=jo(i+n+3).map(function(){return new Wk}),s=n+1;return ft(r.nodes(),function(u){mD(o,s,r.node(u))}),{graph:r,buckets:o,zeroIdx:s}}function mD(e,t,r){r.out?r.in?e[r.out-r.in+t].enqueue(r):e[e.length-1].enqueue(r):e[0].enqueue(r)}var CPe,Kj=F(()=>{"use strict";nn();_a();Yj();CPe=Go(1);a(Xj,"greedyFAS");a(SPe,"doGreedyFAS");a(pD,"removeNode");a(APe,"buildState");a(mD,"assignBucket")});function Qj(e){var t=e.graph().acyclicer==="greedy"?Xj(e,r(e)):RPe(e);ft(t,function(n){var i=e.edge(n);e.removeEdge(n),i.forwardName=n.name,i.reversed=!0,e.setEdge(n.w,n.v,i,Ru("rev"))});function r(n){return function(i){return n.edge(i).weight}}a(r,"weightFn")}function RPe(e){var t=[],r={},n={};function i(o){rr(n,o)||(n[o]=!0,r[o]=!0,ft(e.outEdges(o),function(s){rr(r,s.w)?t.push(s):i(s.w)}),delete r[o])}return a(i,"dfs"),ft(e.nodes(),i),t}function Zj(e){ft(e.edges(),function(t){var r=e.edge(t);if(r.reversed){e.removeEdge(t);var n=r.forwardName;delete r.reversed,delete r.forwardName,e.setEdge(t.w,t.v,r,n)}})}var gD=F(()=>{"use strict";nn();Kj();a(Qj,"run");a(RPe,"dfsFAS");a(Zj,"undo")});function Lc(e,t,r,n){var i;do i=Ru(n);while(e.hasNode(i));return r.dummy=t,e.setNode(i,r),i}function eY(e){var t=new Yr().setGraph(e.graph());return ft(e.nodes(),function(r){t.setNode(r,e.node(r))}),ft(e.edges(),function(r){var n=t.edge(r.v,r.w)||{weight:0,minlen:1},i=e.edge(r);t.setEdge(r.v,r.w,{weight:n.weight+i.weight,minlen:Math.max(n.minlen,i.minlen)})}),t}function Hk(e){var t=new Yr({multigraph:e.isMultigraph()}).setGraph(e.graph());return ft(e.nodes(),function(r){e.children(r).length||t.setNode(r,e.node(r))}),ft(e.edges(),function(r){t.setEdge(r,e.edge(r))}),t}function yD(e,t){var r=e.x,n=e.y,i=t.x-r,o=t.y-n,s=e.width/2,u=e.height/2;if(!i&&!o)throw new Error("Not possible to find intersection inside of the rectangle");var f,p;return Math.abs(o)*s>Math.abs(i)*u?(o<0&&(u=-u),f=u*i/o,p=u):(i<0&&(s=-s),f=s,p=s*o/i),{x:r+f,y:n+p}}function sh(e){var t=kn(jo(xD(e)+1),function(){return[]});return ft(e.nodes(),function(r){var n=e.node(r),i=n.rank;Un(i)||(t[i][n.order]=r)}),t}function tY(e){var t=Su(kn(e.nodes(),function(r){return e.node(r).rank}));ft(e.nodes(),function(r){var n=e.node(r);rr(n,"rank")&&(n.rank-=t)})}function rY(e){var t=Su(kn(e.nodes(),function(o){return e.node(o).rank})),r=[];ft(e.nodes(),function(o){var s=e.node(o).rank-t;r[s]||(r[s]=[]),r[s].push(o)});var n=0,i=e.graph().nodeRankFactor;ft(r,function(o,s){Un(o)&&s%i!==0?--n:n&&ft(o,function(u){e.node(u).rank+=n})})}function vD(e,t,r,n){var i={width:0,height:0};return arguments.length>=4&&(i.rank=r,i.order=n),Lc(e,"border",i,t)}function xD(e){return Ho(kn(e.nodes(),function(t){var r=e.node(t).rank;if(!Un(r))return r}))}function nY(e,t){var r={lhs:[],rhs:[]};return ft(e,function(n){t(n)?r.lhs.push(n):r.rhs.push(n)}),r}function iY(e,t){var r=Bk();try{return t()}finally{console.log(e+" time: "+(Bk()-r)+"ms")}}function aY(e,t){return t()}var Ic=F(()=>{"use strict";nn();_a();a(Lc,"addDummyNode");a(eY,"simplify");a(Hk,"asNonCompoundGraph");a(yD,"intersectRect");a(sh,"buildLayerMatrix");a(tY,"normalizeRanks");a(rY,"removeEmptyRanks");a(vD,"addBorderNode");a(xD,"maxRank");a(nY,"partition");a(iY,"time");a(aY,"notime")});function sY(e){function t(r){var n=e.children(r),i=e.node(r);if(n.length&&ft(n,t),rr(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,s=i.maxRank+1;o<s;++o)oY(e,"borderLeft","_bl",r,i,o),oY(e,"borderRight","_br",r,i,o)}}a(t,"dfs"),ft(e.children(),t)}function oY(e,t,r,n,i,o){var s={width:0,height:0,rank:o,borderType:t},u=i[t][o-1],f=Lc(e,"border",s,r);i[t][o]=f,e.setParent(f,n),u&&e.setEdge(u,f,{weight:1})}var lY=F(()=>{"use strict";nn();Ic();a(sY,"addBorderSegments");a(oY,"addBorderNode")});function uY(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&hY(e)}function fY(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&DPe(e),(t==="lr"||t==="rl")&&(LPe(e),hY(e))}function hY(e){ft(e.nodes(),function(t){cY(e.node(t))}),ft(e.edges(),function(t){cY(e.edge(t))})}function cY(e){var t=e.width;e.width=e.height,e.height=t}function DPe(e){ft(e.nodes(),function(t){bD(e.node(t))}),ft(e.edges(),function(t){var r=e.edge(t);ft(r.points,bD),rr(r,"y")&&bD(r)})}function bD(e){e.y=-e.y}function LPe(e){ft(e.nodes(),function(t){TD(e.node(t))}),ft(e.edges(),function(t){var r=e.edge(t);ft(r.points,TD),rr(r,"x")&&TD(r)})}function TD(e){var t=e.x;e.x=e.y,e.y=t}var dY=F(()=>{"use strict";nn();a(uY,"adjust");a(fY,"undo");a(hY,"swapWidthHeight");a(cY,"swapWidthHeightOne");a(DPe,"reverseY");a(bD,"reverseYOne");a(LPe,"swapXY");a(TD,"swapXYOne")});function pY(e){e.graph().dummyChains=[],ft(e.edges(),function(t){NPe(e,t)})}function NPe(e,t){var r=t.v,n=e.node(r).rank,i=t.w,o=e.node(i).rank,s=t.name,u=e.edge(t),f=u.labelRank;if(o!==n+1){e.removeEdge(t);var p,g,y;for(y=0,++n;n<o;++y,++n)u.points=[],g={width:0,height:0,edgeLabel:u,edgeObj:t,rank:n},p=Lc(e,"edge",g,"_d"),n===f&&(g.width=u.width,g.height=u.height,g.dummy="edge-label",g.labelpos=u.labelpos),e.setEdge(r,p,{weight:u.weight},s),y===0&&e.graph().dummyChains.push(p),r=p;e.setEdge(r,i,{weight:u.weight},s)}}function mY(e){ft(e.graph().dummyChains,function(t){var r=e.node(t),n=r.edgeLabel,i;for(e.setEdge(r.edgeObj,n);r.dummy;)i=e.successors(t)[0],e.removeNode(t),n.points.push({x:r.x,y:r.y}),r.dummy==="edge-label"&&(n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height),t=i,r=e.node(t)})}var kD=F(()=>{"use strict";nn();Ic();a(pY,"run");a(NPe,"normalizeEdge");a(mY,"undo")});function Iv(e){var t={};function r(n){var i=e.node(n);if(rr(t,n))return i.rank;t[n]=!0;var o=Su(kn(e.outEdges(n),function(s){return r(s.w)-e.edge(s).minlen}));return(o===Number.POSITIVE_INFINITY||o===void 0||o===null)&&(o=0),i.rank=o}a(r,"dfs"),ft(e.sources(),r)}function Gd(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var jk=F(()=>{"use strict";nn();a(Iv,"longestPath");a(Gd,"slack")});function Yk(e){var t=new Yr({directed:!1}),r=e.nodes()[0],n=e.nodeCount();t.setNode(r,{});for(var i,o;PPe(t,e)<n;)i=OPe(t,e),o=t.hasNode(i.v)?Gd(e,i):-Gd(e,i),MPe(t,e,o);return t}function PPe(e,t){function r(n){ft(t.nodeEdges(n),function(i){var o=i.v,s=n===o?i.w:o;!e.hasNode(s)&&!Gd(t,i)&&(e.setNode(s,{}),e.setEdge(n,s,{}),r(s))})}return a(r,"dfs"),ft(e.nodes(),r),e.nodeCount()}function OPe(e,t){return Ud(t.edges(),function(r){if(e.hasNode(r.v)!==e.hasNode(r.w))return Gd(t,r)})}function MPe(e,t,r){ft(e.nodes(),function(n){t.node(n).rank+=r})}var _D=F(()=>{"use strict";nn();_a();jk();a(Yk,"feasibleTree");a(PPe,"tightTree");a(OPe,"findMinSlackEdge");a(MPe,"shiftRanks")});var yY=F(()=>{"use strict"});var wD=F(()=>{"use strict"});var a6t,ED=F(()=>{"use strict";nn();wD();a6t=Go(1)});var vY=F(()=>{"use strict";ED()});var CD=F(()=>{"use strict"});var xY=F(()=>{"use strict";CD()});var g6t,bY=F(()=>{"use strict";nn();g6t=Go(1)});function SD(e){var t={},r={},n=[];function i(o){if(rr(r,o))throw new Nv;rr(t,o)||(r[o]=!0,t[o]=!0,ft(e.predecessors(o),i),delete r[o],n.push(o))}if(a(i,"visit"),ft(e.sinks(),i),fD(t)!==e.nodeCount())throw new Nv;return n}function Nv(){}var AD=F(()=>{"use strict";nn();SD.CycleException=Nv;a(SD,"topsort");a(Nv,"CycleException");Nv.prototype=new Error});var TY=F(()=>{"use strict";AD()});function Xk(e,t,r){Gr(t)||(t=[t]);var n=(e.isDirected()?e.successors:e.neighbors).bind(e),i=[],o={};return ft(t,function(s){if(!e.hasNode(s))throw new Error("Graph does not have node: "+s);kY(e,s,r==="post",o,n,i)}),i}function kY(e,t,r,n,i,o){rr(n,t)||(n[t]=!0,r||o.push(t),ft(i(t),function(s){kY(e,s,r,n,i,o)}),r&&o.push(t))}var RD=F(()=>{"use strict";nn();a(Xk,"dfs");a(kY,"doDfs")});function DD(e,t){return Xk(e,t,"post")}var _Y=F(()=>{"use strict";RD();a(DD,"postorder")});function LD(e,t){return Xk(e,t,"pre")}var wY=F(()=>{"use strict";RD();a(LD,"preorder")});var EY=F(()=>{"use strict";wD();Vk()});var CY=F(()=>{"use strict";yY();ED();vY();xY();bY();TY();_Y();wY();EY();CD();AD()});function ch(e){e=eY(e),Iv(e);var t=Yk(e);ND(t),ID(t,e);for(var r,n;r=DY(t);)n=LY(t,e,r),IY(t,e,r,n)}function ID(e,t){var r=DD(e,e.nodes());r=r.slice(0,r.length-1),ft(r,function(n){UPe(e,t,n)})}function UPe(e,t,r){var n=e.node(r),i=n.parent;e.edge(r,i).cutvalue=AY(e,t,r)}function AY(e,t,r){var n=e.node(r),i=n.parent,o=!0,s=t.edge(r,i),u=0;return s||(o=!1,s=t.edge(i,r)),u=s.weight,ft(t.nodeEdges(r),function(f){var p=f.v===r,g=p?f.w:f.v;if(g!==i){var y=p===o,x=t.edge(f).weight;if(u+=y?x:-x,GPe(e,r,g)){var b=e.edge(r,g).cutvalue;u+=y?-b:b}}}),u}function ND(e,t){arguments.length<2&&(t=e.nodes()[0]),RY(e,{},1,t)}function RY(e,t,r,n,i){var o=r,s=e.node(n);return t[n]=!0,ft(e.neighbors(n),function(u){rr(t,u)||(r=RY(e,t,r,u,n))}),s.low=o,s.lim=r++,i?s.parent=i:delete s.parent,r}function DY(e){return fg(e.edges(),function(t){return e.edge(t).cutvalue<0})}function LY(e,t,r){var n=r.v,i=r.w;t.hasEdge(n,i)||(n=r.w,i=r.v);var o=e.node(n),s=e.node(i),u=o,f=!1;o.lim>s.lim&&(u=s,f=!0);var p=To(t.edges(),function(g){return f===SY(e,e.node(g.v),u)&&f!==SY(e,e.node(g.w),u)});return Ud(p,function(g){return Gd(t,g)})}function IY(e,t,r,n){var i=r.v,o=r.w;e.removeEdge(i,o),e.setEdge(n.v,n.w,{}),ND(e),ID(e,t),$Pe(e,t)}function $Pe(e,t){var r=fg(e.nodes(),function(i){return!t.node(i).parent}),n=LD(e,r);n=n.slice(1),ft(n,function(i){var o=e.node(i).parent,s=t.edge(i,o),u=!1;s||(s=t.edge(o,i),u=!0),t.node(i).rank=t.node(o).rank+(u?s.minlen:-s.minlen)})}function GPe(e,t,r){return e.hasEdge(t,r)}function SY(e,t,r){return r.low<=t.lim&&t.lim<=r.lim}var NY=F(()=>{"use strict";nn();CY();Ic();_D();jk();ch.initLowLimValues=ND;ch.initCutValues=ID;ch.calcCutValue=AY;ch.leaveEdge=DY;ch.enterEdge=LY;ch.exchangeEdges=IY;a(ch,"networkSimplex");a(ID,"initCutValues");a(UPe,"assignCutValue");a(AY,"calcCutValue");a(ND,"initLowLimValues");a(RY,"dfsAssignLowLim");a(DY,"leaveEdge");a(LY,"enterEdge");a(IY,"exchangeEdges");a($Pe,"updateRanks");a(GPe,"isTreeEdge");a(SY,"isDescendant")});function PD(e){switch(e.graph().ranker){case"network-simplex":PY(e);break;case"tight-tree":WPe(e);break;case"longest-path":VPe(e);break;default:PY(e)}}function WPe(e){Iv(e),Yk(e)}function PY(e){ch(e)}var VPe,OD=F(()=>{"use strict";_D();NY();jk();a(PD,"rank");VPe=Iv;a(WPe,"tightTreeRanker");a(PY,"networkSimplexRanker")});function OY(e){var t=Lc(e,"root",{},"_root"),r=HPe(e),n=Ho(hs(r))-1,i=2*n+1;e.graph().nestingRoot=t,ft(e.edges(),function(s){e.edge(s).minlen*=i});var o=jPe(e)+1;ft(e.children(),function(s){MY(e,t,i,o,n,r,s)}),e.graph().nodeRankFactor=i}function MY(e,t,r,n,i,o,s){var u=e.children(s);if(!u.length){s!==t&&e.setEdge(t,s,{weight:0,minlen:r});return}var f=vD(e,"_bt"),p=vD(e,"_bb"),g=e.node(s);e.setParent(f,s),g.borderTop=f,e.setParent(p,s),g.borderBottom=p,ft(u,function(y){MY(e,t,r,n,i,o,y);var x=e.node(y),b=x.borderTop?x.borderTop:y,E=x.borderBottom?x.borderBottom:y,A=x.borderTop?n:2*n,O=b!==E?1:i-o[s]+1;e.setEdge(f,b,{weight:A,minlen:O,nestingEdge:!0}),e.setEdge(E,p,{weight:A,minlen:O,nestingEdge:!0})}),e.parent(s)||e.setEdge(t,f,{weight:0,minlen:i+o[s]})}function HPe(e){var t={};function r(n,i){var o=e.children(n);o&&o.length&&ft(o,function(s){r(s,i+1)}),t[n]=i}return a(r,"dfs"),ft(e.children(),function(n){r(n,1)}),t}function jPe(e){return Ac(e.edges(),function(t,r){return t+e.edge(r).weight},0)}function FY(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,ft(e.edges(),function(r){var n=e.edge(r);n.nestingEdge&&e.removeEdge(r)})}var BY=F(()=>{"use strict";nn();Ic();a(OY,"run");a(MY,"dfs");a(HPe,"treeDepths");a(jPe,"sumWeights");a(FY,"cleanup")});function qY(e,t,r){var n={},i;ft(r,function(o){for(var s=e.parent(o),u,f;s;){if(u=e.parent(s),u?(f=n[u],n[u]=s):(f=i,i=s),f&&f!==s){t.setEdge(f,s);return}s=u}})}var zY=F(()=>{"use strict";nn();a(qY,"addSubgraphConstraints")});function UY(e,t,r){var n=XPe(e),i=new Yr({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(function(o){return e.node(o)});return ft(e.nodes(),function(o){var s=e.node(o),u=e.parent(o);(s.rank===t||s.minRank<=t&&t<=s.maxRank)&&(i.setNode(o),i.setParent(o,u||n),ft(e[r](o),function(f){var p=f.v===o?f.w:f.v,g=i.edge(p,o),y=Un(g)?0:g.weight;i.setEdge(p,o,{weight:e.edge(f).weight+y})}),rr(s,"minRank")&&i.setNode(o,{borderLeft:s.borderLeft[t],borderRight:s.borderRight[t]}))}),i}function XPe(e){for(var t;e.hasNode(t=Ru("_root")););return t}var $Y=F(()=>{"use strict";nn();_a();a(UY,"buildLayerGraph");a(XPe,"createRootNode")});function GY(e,t){for(var r=0,n=1;n<t.length;++n)r+=KPe(e,t[n-1],t[n]);return r}function KPe(e,t,r){for(var n=Gk(r,kn(r,function(p,g){return g})),i=Ks(kn(t,function(p){return Rc(kn(e.outEdges(p),function(g){return{pos:n[g.w],weight:e.edge(g).weight}}),"pos")})),o=1;o<r.length;)o<<=1;var s=2*o-1;o-=1;var u=kn(new Array(s),function(){return 0}),f=0;return ft(i.forEach(function(p){var g=p.pos+o;u[g]+=p.weight;for(var y=0;g>0;)g%2&&(y+=u[g+1]),g=g-1>>1,u[g]+=p.weight;f+=p.weight*y})),f}var VY=F(()=>{"use strict";nn();a(GY,"crossCount");a(KPe,"twoLayerCrossCount")});function WY(e){var t={},r=To(e.nodes(),function(u){return!e.children(u).length}),n=Ho(kn(r,function(u){return e.node(u).rank})),i=kn(jo(n+1),function(){return[]});function o(u){if(!rr(t,u)){t[u]=!0;var f=e.node(u);i[f.rank].push(u),ft(e.successors(u),o)}}a(o,"dfs");var s=Rc(r,function(u){return e.node(u).rank});return ft(s,o),i}var HY=F(()=>{"use strict";nn();a(WY,"initOrder")});function jY(e,t){return kn(t,function(r){var n=e.inEdges(r);if(n.length){var i=Ac(n,function(o,s){var u=e.edge(s),f=e.node(s.v);return{sum:o.sum+u.weight*f.order,weight:o.weight+u.weight}},{sum:0,weight:0});return{v:r,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:r}})}var YY=F(()=>{"use strict";nn();a(jY,"barycenter")});function XY(e,t){var r={};ft(e,function(i,o){var s=r[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:o};Un(i.barycenter)||(s.barycenter=i.barycenter,s.weight=i.weight)}),ft(t.edges(),function(i){var o=r[i.v],s=r[i.w];!Un(o)&&!Un(s)&&(s.indegree++,o.out.push(r[i.w]))});var n=To(r,function(i){return!i.indegree});return QPe(n)}function QPe(e){var t=[];function r(o){return function(s){s.merged||(Un(s.barycenter)||Un(o.barycenter)||s.barycenter>=o.barycenter)&&ZPe(o,s)}}a(r,"handleIn");function n(o){return function(s){s.in.push(o),--s.indegree===0&&e.push(s)}}for(a(n,"handleOut");e.length;){var i=e.pop();t.push(i),ft(i.in.reverse(),r(i)),ft(i.out,n(i))}return kn(To(t,function(o){return!o.merged}),function(o){return Au(o,["vs","i","barycenter","weight"])})}function ZPe(e,t){var r=0,n=0;e.weight&&(r+=e.barycenter*e.weight,n+=e.weight),t.weight&&(r+=t.barycenter*t.weight,n+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=r/n,e.weight=n,e.i=Math.min(t.i,e.i),t.merged=!0}var KY=F(()=>{"use strict";nn();a(XY,"resolveConflicts");a(QPe,"doResolveConflicts");a(ZPe,"mergeEntries")});function ZY(e,t){var r=nY(e,function(g){return rr(g,"barycenter")}),n=r.lhs,i=Rc(r.rhs,function(g){return-g.i}),o=[],s=0,u=0,f=0;n.sort(JPe(!!t)),f=QY(o,i,f),ft(n,function(g){f+=g.vs.length,o.push(g.vs),s+=g.barycenter*g.weight,u+=g.weight,f=QY(o,i,f)});var p={vs:Ks(o)};return u&&(p.barycenter=s/u,p.weight=u),p}function QY(e,t,r){for(var n;t.length&&(n=ih(t)).i<=r;)t.pop(),e.push(n.vs),r++;return r}function JPe(e){return function(t,r){return t.barycenter<r.barycenter?-1:t.barycenter>r.barycenter?1:e?r.i-t.i:t.i-r.i}}var JY=F(()=>{"use strict";nn();Ic();a(ZY,"sort");a(QY,"consumeUnsortable");a(JPe,"compareWithBias")});function MD(e,t,r,n){var i=e.children(t),o=e.node(t),s=o?o.borderLeft:void 0,u=o?o.borderRight:void 0,f={};s&&(i=To(i,function(E){return E!==s&&E!==u}));var p=jY(e,i);ft(p,function(E){if(e.children(E.v).length){var A=MD(e,E.v,r,n);f[E.v]=A,rr(A,"barycenter")&&t6e(E,A)}});var g=XY(p,r);e6e(g,f);var y=ZY(g,n);if(s&&(y.vs=Ks([s,y.vs,u]),e.predecessors(s).length)){var x=e.node(e.predecessors(s)[0]),b=e.node(e.predecessors(u)[0]);rr(y,"barycenter")||(y.barycenter=0,y.weight=0),y.barycenter=(y.barycenter*y.weight+x.order+b.order)/(y.weight+2),y.weight+=2}return y}function e6e(e,t){ft(e,function(r){r.vs=Ks(r.vs.map(function(n){return t[n]?t[n].vs:n}))})}function t6e(e,t){Un(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var eX=F(()=>{"use strict";nn();YY();KY();JY();a(MD,"sortSubgraph");a(e6e,"expandSubgraphs");a(t6e,"mergeBarycenters")});function nX(e){var t=xD(e),r=tX(e,jo(1,t+1),"inEdges"),n=tX(e,jo(t-1,-1,-1),"outEdges"),i=WY(e);rX(e,i);for(var o=Number.POSITIVE_INFINITY,s,u=0,f=0;f<4;++u,++f){r6e(u%2?r:n,u%4>=2),i=sh(e);var p=GY(e,i);p<o&&(f=0,s=H5(i),o=p)}rX(e,s)}function tX(e,t,r){return kn(t,function(n){return UY(e,n,r)})}function r6e(e,t){var r=new Yr;ft(e,function(n){var i=n.graph().root,o=MD(n,i,r,t);ft(o.vs,function(s,u){n.node(s).order=u}),qY(n,r,o.vs)})}function rX(e,t){ft(t,function(r){ft(r,function(n,i){e.node(n).order=i})})}var iX=F(()=>{"use strict";nn();_a();Ic();zY();$Y();VY();HY();eX();a(nX,"order");a(tX,"buildLayerGraphs");a(r6e,"sweepLayerGraphs");a(rX,"assignOrder")});function aX(e){var t=i6e(e);ft(e.graph().dummyChains,function(r){for(var n=e.node(r),i=n.edgeObj,o=n6e(e,t,i.v,i.w),s=o.path,u=o.lca,f=0,p=s[f],g=!0;r!==i.w;){if(n=e.node(r),g){for(;(p=s[f])!==u&&e.node(p).maxRank<n.rank;)f++;p===u&&(g=!1)}if(!g){for(;f<s.length-1&&e.node(p=s[f+1]).minRank<=n.rank;)f++;p=s[f]}e.setParent(r,p),r=e.successors(r)[0]}})}function n6e(e,t,r,n){var i=[],o=[],s=Math.min(t[r].low,t[n].low),u=Math.max(t[r].lim,t[n].lim),f,p;f=r;do f=e.parent(f),i.push(f);while(f&&(t[f].low>s||u>t[f].lim));for(p=f,f=n;(f=e.parent(f))!==p;)o.push(f);return{path:i.concat(o.reverse()),lca:p}}function i6e(e){var t={},r=0;function n(i){var o=r;ft(e.children(i),n),t[i]={low:o,lim:r++}}return a(n,"dfs"),ft(e.children(),n),t}var oX=F(()=>{"use strict";nn();a(aX,"parentDummyChains");a(n6e,"findPath");a(i6e,"postorder")});function a6e(e,t){var r={};function n(i,o){var s=0,u=0,f=i.length,p=ih(o);return ft(o,function(g,y){var x=s6e(e,g),b=x?e.node(x).order:f;(x||g===p)&&(ft(o.slice(u,y+1),function(E){ft(e.predecessors(E),function(A){var O=e.node(A),N=O.order;(N<s||b<N)&&!(O.dummy&&e.node(E).dummy)&&sX(r,A,E)})}),u=y+1,s=b)}),o}return a(n,"visitLayer"),Ac(t,n),r}function o6e(e,t){var r={};function n(o,s,u,f,p){var g;ft(jo(s,u),function(y){g=o[y],e.node(g).dummy&&ft(e.predecessors(g),function(x){var b=e.node(x);b.dummy&&(b.order<f||b.order>p)&&sX(r,x,g)})})}a(n,"scan");function i(o,s){var u=-1,f,p=0;return ft(s,function(g,y){if(e.node(g).dummy==="border"){var x=e.predecessors(g);x.length&&(f=e.node(x[0]).order,n(s,p,y,u,f),p=y,u=f)}n(s,p,s.length,f,o.length)}),s}return a(i,"visitLayer"),Ac(t,i),r}function s6e(e,t){if(e.node(t).dummy)return fg(e.predecessors(t),function(r){return e.node(r).dummy})}function sX(e,t,r){if(t>r){var n=t;t=r,r=n}var i=e[t];i||(e[t]=i={}),i[r]=!0}function l6e(e,t,r){if(t>r){var n=t;t=r,r=n}return rr(e[t],r)}function c6e(e,t,r,n){var i={},o={},s={};return ft(t,function(u){ft(u,function(f,p){i[f]=f,o[f]=f,s[f]=p})}),ft(t,function(u){var f=-1;ft(u,function(p){var g=n(p);if(g.length){g=Rc(g,function(A){return s[A]});for(var y=(g.length-1)/2,x=Math.floor(y),b=Math.ceil(y);x<=b;++x){var E=g[x];o[p]===p&&f<s[E]&&!l6e(r,p,E)&&(o[E]=p,o[p]=i[p]=i[E],f=s[E])}}})}),{root:i,align:o}}function u6e(e,t,r,n,i){var o={},s=f6e(e,t,r,i),u=i?"borderLeft":"borderRight";function f(y,x){for(var b=s.nodes(),E=b.pop(),A={};E;)A[E]?y(E):(A[E]=!0,b.push(E),b=b.concat(x(E))),E=b.pop()}a(f,"iterate");function p(y){o[y]=s.inEdges(y).reduce(function(x,b){return Math.max(x,o[b.v]+s.edge(b))},0)}a(p,"pass1");function g(y){var x=s.outEdges(y).reduce(function(E,A){return Math.min(E,o[A.w]-s.edge(A))},Number.POSITIVE_INFINITY),b=e.node(y);x!==Number.POSITIVE_INFINITY&&b.borderType!==u&&(o[y]=Math.max(o[y],x))}return a(g,"pass2"),f(p,s.predecessors.bind(s)),f(g,s.successors.bind(s)),ft(n,function(y){o[y]=o[r[y]]}),o}function f6e(e,t,r,n){var i=new Yr,o=e.graph(),s=m6e(o.nodesep,o.edgesep,n);return ft(t,function(u){var f;ft(u,function(p){var g=r[p];if(i.setNode(g),f){var y=r[f],x=i.edge(y,g);i.setEdge(y,g,Math.max(s(e,p,f),x||0))}f=p})}),i}function h6e(e,t){return Ud(hs(t),function(r){var n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return aD(r,function(o,s){var u=g6e(e,s)/2;n=Math.max(o+u,n),i=Math.min(o-u,i)}),n-i})}function d6e(e,t){var r=hs(t),n=Su(r),i=Ho(r);ft(["u","d"],function(o){ft(["l","r"],function(s){var u=o+s,f=e[u],p;if(f!==t){var g=hs(f);p=s==="l"?n-Su(g):i-Ho(g),p&&(e[u]=zd(f,function(y){return y+p}))}})})}function p6e(e,t){return zd(e.ul,function(r,n){if(t)return e[t.toLowerCase()][n];var i=Rc(kn(e,n));return(i[1]+i[2])/2})}function lX(e){var t=sh(e),r=Wf(a6e(e,t),o6e(e,t)),n={},i;ft(["u","d"],function(s){i=s==="u"?t:hs(t).reverse(),ft(["l","r"],function(u){u==="r"&&(i=kn(i,function(y){return hs(y).reverse()}));var f=(s==="u"?e.predecessors:e.successors).bind(e),p=c6e(e,i,r,f),g=u6e(e,i,p.root,p.align,u==="r");u==="r"&&(g=zd(g,function(y){return-y})),n[s+u]=g})});var o=h6e(e,n);return d6e(n,o),p6e(n,e.graph().align)}function m6e(e,t,r){return function(n,i,o){var s=n.node(i),u=n.node(o),f=0,p;if(f+=s.width/2,rr(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":p=-s.width/2;break;case"r":p=s.width/2;break}if(p&&(f+=r?p:-p),p=0,f+=(s.dummy?t:e)/2,f+=(u.dummy?t:e)/2,f+=u.width/2,rr(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":p=u.width/2;break;case"r":p=-u.width/2;break}return p&&(f+=r?p:-p),p=0,f}}function g6e(e,t){return e.node(t).width}var cX=F(()=>{"use strict";nn();_a();Ic();a(a6e,"findType1Conflicts");a(o6e,"findType2Conflicts");a(s6e,"findOtherInnerSegmentNode");a(sX,"addConflict");a(l6e,"hasConflict");a(c6e,"verticalAlignment");a(u6e,"horizontalCompaction");a(f6e,"buildBlockGraph");a(h6e,"findSmallestWidthAlignment");a(d6e,"alignCoordinates");a(p6e,"balance");a(lX,"positionX");a(m6e,"sep");a(g6e,"width")});function uX(e){e=Hk(e),y6e(e),oD(lX(e),function(t,r){e.node(r).x=t})}function y6e(e){var t=sh(e),r=e.graph().ranksep,n=0;ft(t,function(i){var o=Ho(kn(i,function(s){return e.node(s).height}));ft(i,function(s){e.node(s).y=n+o/2}),n+=o+r})}var fX=F(()=>{"use strict";nn();Ic();cX();a(uX,"position");a(y6e,"positionY")});function ds(e,t){var r=t&&t.debugTiming?iY:aY;r("layout",function(){var n=r("  buildLayoutGraph",function(){return A6e(e)});r("  runLayout",function(){v6e(n,r)}),r("  updateInputGraph",function(){x6e(e,n)})})}function v6e(e,t){t("    makeSpaceForEdgeLabels",function(){R6e(e)}),t("    removeSelfEdges",function(){B6e(e)}),t("    acyclic",function(){Qj(e)}),t("    nestingGraph.run",function(){OY(e)}),t("    rank",function(){PD(Hk(e))}),t("    injectEdgeLabelProxies",function(){D6e(e)}),t("    removeEmptyRanks",function(){rY(e)}),t("    nestingGraph.cleanup",function(){FY(e)}),t("    normalizeRanks",function(){tY(e)}),t("    assignRankMinMax",function(){L6e(e)}),t("    removeEdgeLabelProxies",function(){I6e(e)}),t("    normalize.run",function(){pY(e)}),t("    parentDummyChains",function(){aX(e)}),t("    addBorderSegments",function(){sY(e)}),t("    order",function(){nX(e)}),t("    insertSelfEdges",function(){q6e(e)}),t("    adjustCoordinateSystem",function(){uY(e)}),t("    position",function(){uX(e)}),t("    positionSelfEdges",function(){z6e(e)}),t("    removeBorderNodes",function(){F6e(e)}),t("    normalize.undo",function(){mY(e)}),t("    fixupEdgeLabelCoords",function(){O6e(e)}),t("    undoCoordinateSystem",function(){fY(e)}),t("    translateGraph",function(){N6e(e)}),t("    assignNodeIntersects",function(){P6e(e)}),t("    reversePoints",function(){M6e(e)}),t("    acyclic.undo",function(){Zj(e)})}function x6e(e,t){ft(e.nodes(),function(r){var n=e.node(r),i=t.node(r);n&&(n.x=i.x,n.y=i.y,t.children(r).length&&(n.width=i.width,n.height=i.height))}),ft(e.edges(),function(r){var n=e.edge(r),i=t.edge(r);n.points=i.points,rr(i,"x")&&(n.x=i.x,n.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}function A6e(e){var t=new Yr({multigraph:!0,compound:!0}),r=BD(e.graph());return t.setGraph(Wf({},T6e,FD(r,b6e),Au(r,k6e))),ft(e.nodes(),function(n){var i=BD(e.node(n));t.setNode(n,Cu(FD(i,_6e),w6e)),t.setParent(n,e.parent(n))}),ft(e.edges(),function(n){var i=BD(e.edge(n));t.setEdge(n,Wf({},C6e,FD(i,E6e),Au(i,S6e)))}),t}function R6e(e){var t=e.graph();t.ranksep/=2,ft(e.edges(),function(r){var n=e.edge(r);n.minlen*=2,n.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?n.width+=n.labeloffset:n.height+=n.labeloffset)})}function D6e(e){ft(e.edges(),function(t){var r=e.edge(t);if(r.width&&r.height){var n=e.node(t.v),i=e.node(t.w),o={rank:(i.rank-n.rank)/2+n.rank,e:t};Lc(e,"edge-proxy",o,"_ep")}})}function L6e(e){var t=0;ft(e.nodes(),function(r){var n=e.node(r);n.borderTop&&(n.minRank=e.node(n.borderTop).rank,n.maxRank=e.node(n.borderBottom).rank,t=Ho(t,n.maxRank))}),e.graph().maxRank=t}function I6e(e){ft(e.nodes(),function(t){var r=e.node(t);r.dummy==="edge-proxy"&&(e.edge(r.e).labelRank=r.rank,e.removeNode(t))})}function N6e(e){var t=Number.POSITIVE_INFINITY,r=0,n=Number.POSITIVE_INFINITY,i=0,o=e.graph(),s=o.marginx||0,u=o.marginy||0;function f(p){var g=p.x,y=p.y,x=p.width,b=p.height;t=Math.min(t,g-x/2),r=Math.max(r,g+x/2),n=Math.min(n,y-b/2),i=Math.max(i,y+b/2)}a(f,"getExtremes"),ft(e.nodes(),function(p){f(e.node(p))}),ft(e.edges(),function(p){var g=e.edge(p);rr(g,"x")&&f(g)}),t-=s,n-=u,ft(e.nodes(),function(p){var g=e.node(p);g.x-=t,g.y-=n}),ft(e.edges(),function(p){var g=e.edge(p);ft(g.points,function(y){y.x-=t,y.y-=n}),rr(g,"x")&&(g.x-=t),rr(g,"y")&&(g.y-=n)}),o.width=r-t+s,o.height=i-n+u}function P6e(e){ft(e.edges(),function(t){var r=e.edge(t),n=e.node(t.v),i=e.node(t.w),o,s;r.points?(o=r.points[0],s=r.points[r.points.length-1]):(r.points=[],o=i,s=n),r.points.unshift(yD(n,o)),r.points.push(yD(i,s))})}function O6e(e){ft(e.edges(),function(t){var r=e.edge(t);if(rr(r,"x"))switch((r.labelpos==="l"||r.labelpos==="r")&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset;break}})}function M6e(e){ft(e.edges(),function(t){var r=e.edge(t);r.reversed&&r.points.reverse()})}function F6e(e){ft(e.nodes(),function(t){if(e.children(t).length){var r=e.node(t),n=e.node(r.borderTop),i=e.node(r.borderBottom),o=e.node(ih(r.borderLeft)),s=e.node(ih(r.borderRight));r.width=Math.abs(s.x-o.x),r.height=Math.abs(i.y-n.y),r.x=o.x+r.width/2,r.y=n.y+r.height/2}}),ft(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function B6e(e){ft(e.edges(),function(t){if(t.v===t.w){var r=e.node(t.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function q6e(e){var t=sh(e);ft(t,function(r){var n=0;ft(r,function(i,o){var s=e.node(i);s.order=o+n,ft(s.selfEdges,function(u){Lc(e,"selfedge",{width:u.label.width,height:u.label.height,rank:s.rank,order:o+ ++n,e:u.e,label:u.label},"_se")}),delete s.selfEdges})})}function z6e(e){ft(e.nodes(),function(t){var r=e.node(t);if(r.dummy==="selfedge"){var n=e.node(r.e.v),i=n.x+n.width/2,o=n.y,s=r.x-i,u=n.height/2;e.setEdge(r.e,r.label),e.removeNode(t),r.label.points=[{x:i+2*s/3,y:o-u},{x:i+5*s/6,y:o-u},{x:i+s,y:o},{x:i+5*s/6,y:o+u},{x:i+2*s/3,y:o+u}],r.label.x=r.x,r.label.y=r.y}})}function FD(e,t){return zd(Au(e,t),Number)}function BD(e){var t={};return ft(e,function(r,n){t[n.toLowerCase()]=r}),t}var b6e,T6e,k6e,_6e,w6e,E6e,C6e,S6e,hX=F(()=>{"use strict";nn();_a();lY();dY();gD();kD();OD();BY();iX();oX();fX();Ic();a(ds,"layout");a(v6e,"runLayout");a(x6e,"updateInputGraph");b6e=["nodesep","edgesep","ranksep","marginx","marginy"],T6e={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},k6e=["acyclicer","ranker","rankdir","align"],_6e=["width","height"],w6e={width:0,height:0},E6e=["minlen","weight","width","height","labeloffset"],C6e={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},S6e=["labelpos"];a(A6e,"buildLayoutGraph");a(R6e,"makeSpaceForEdgeLabels");a(D6e,"injectEdgeLabelProxies");a(L6e,"assignRankMinMax");a(I6e,"removeEdgeLabelProxies");a(N6e,"translateGraph");a(P6e,"assignNodeIntersects");a(O6e,"fixupEdgeLabelCoords");a(M6e,"reversePointsForReversedEdges");a(F6e,"removeBorderNodes");a(B6e,"removeSelfEdges");a(q6e,"insertSelfEdges");a(z6e,"positionSelfEdges");a(FD,"selectNumberAttrs");a(BD,"canonicalize")});var Vd=F(()=>{"use strict";gD();hX();kD();OD()});function Kk(e,t){return!!e.children(t).length}function Qk(e){return qD(e.v)+":"+qD(e.w)+":"+qD(e.name)}function qD(e){return e?String(e).replace(U6e,"\\:"):""}function wa(e,t){t&&e.attr("style",t)}function Zk(e,t,r){t&&e.attr("class",t).attr("class",r+" "+e.attr("class"))}function Ea(e,t){var r=t.graph();if(rv(r)){var n=r.transition;if(Gs(n))return n(e)}return e}var U6e,ps=F(()=>{"use strict";nn();a(Kk,"isSubgraph");a(Qk,"edgeToId");U6e=/:/g;a(qD,"escapeId");a(wa,"applyStyle");a(Zk,"applyClass");a(Ea,"applyTransition")});function dX(e){Jk=e}function $6e(e,t,r,n){var i=e.append("marker").attr("id",t).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),o=i.append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");wa(o,r[n+"Style"]),r[n+"Class"]&&o.attr("class",r[n+"Class"])}function G6e(e,t,r,n){var i=e.append("marker").attr("id",t).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),o=i.append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");wa(o,r[n+"Style"]),r[n+"Class"]&&o.attr("class",r[n+"Class"])}function V6e(e,t,r,n){var i=e.append("marker").attr("id",t).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),o=i.append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");wa(o,r[n+"Style"]),r[n+"Class"]&&o.attr("class",r[n+"Class"])}var Jk,pX=F(()=>{"use strict";ps();Jk={normal:$6e,vee:G6e,undirected:V6e};a(dX,"setArrows");a($6e,"normal");a(G6e,"vee");a(V6e,"undirected")});function dg(e,t){var r=e.append("foreignObject").attr("width","100000"),n=r.append("xhtml:div");n.attr("xmlns","http://www.w3.org/1999/xhtml");var i=t.label;switch(typeof i){case"function":n.insert(i);break;case"object":n.insert(function(){return i});break;default:n.html(i)}wa(n,t.labelStyle),n.style("display","inline-block"),n.style("white-space","nowrap");var o=n.node().getBoundingClientRect();return r.attr("width",o.width).attr("height",o.height),r}var e_=F(()=>{"use strict";ps();a(dg,"addHtmlLabel")});function mX(e,t){var r=e;return r.node().appendChild(t.label),wa(r,t.labelStyle),r}var gX=F(()=>{"use strict";ps();a(mX,"addSVGLabel")});function yX(e,t){for(var r=e.append("text"),n=W6e(t.label).split(`
`),i=0;i<n.length;i++)r.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(n[i]);return wa(r,t.labelStyle),r}function W6e(e){for(var t="",r=!1,n,i=0;i<e.length;++i)if(n=e[i],r){switch(n){case"n":t+=`
`;break;default:t+=n}r=!1}else n==="\\"?r=!0:t+=n;return t}var vX=F(()=>{"use strict";ps();a(yX,"addTextLabel");a(W6e,"processEscapeSequences")});function pg(e,t,r){var n=t.label,i=e.append("g");t.labelType==="svg"?mX(i,t):typeof n!="string"||t.labelType==="html"?dg(i,t):yX(i,t);var o=i.node().getBBox(),s;switch(r){case"top":s=-t.height/2;break;case"bottom":s=t.height/2-o.height;break;default:s=-o.height/2}return i.attr("transform","translate("+-o.width/2+","+s+")"),i}var t_=F(()=>{"use strict";e_();gX();vX();a(pg,"addLabel")});function xX(e){r_=e}var r_,bX=F(()=>{"use strict";Du();t_();ps();r_=a(function(e,t){var r=t.nodes().filter(function(o){return Kk(t,o)}),n=e.selectAll("g.cluster").data(r,function(o){return o});Ea(n.exit(),t).style("opacity",0).remove();var i=n.enter().append("g").attr("class","cluster").attr("id",function(o){var s=t.node(o);return s.id}).style("opacity",0).each(function(o){var s=t.node(o),u=dt(this);dt(this).append("rect");var f=u.append("g").attr("class","label");pg(f,s,s.clusterLabelPos)});return n=n.merge(i),n=Ea(n,t).style("opacity",1),n.selectAll("rect").each(function(o){var s=t.node(o),u=dt(this);wa(u,s.style)}),n},"createClusters");a(xX,"setCreateClusters")});function TX(e){n_=e}var n_,kX=F(()=>{"use strict";Du();nn();t_();ps();n_=a(function(e,t){var r=e.selectAll("g.edgeLabel").data(t.edges(),function(i){return Qk(i)}).classed("update",!0);r.exit().remove(),r.enter().append("g").classed("edgeLabel",!0).style("opacity",0),r=e.selectAll("g.edgeLabel"),r.each(function(i){var o=dt(this);o.select(".label").remove();var s=t.edge(i),u=pg(o,t.edge(i),0).classed("label",!0),f=u.node().getBBox();s.labelId&&u.attr("id",s.labelId),rr(s,"width")||(s.width=f.width),rr(s,"height")||(s.height=f.height)});var n;return r.exit?n=r.exit():n=r.selectAll(null),Ea(n,t).style("opacity",0).remove(),r},"createEdgeLabels");a(TX,"setCreateEdgeLabels")});function zD(e,t){return e.intersect(t)}var UD=F(()=>{"use strict";a(zD,"intersectNode")});function _X(e){i_=e}function j6e(e,t){var r=e.split("#")[0];return r+"#"+t}function Y6e(e,t){var r=e.edge(t),n=e.node(t.v),i=e.node(t.w),o=r.points.slice(1,r.points.length-1);return o.unshift(zD(n,o[0])),o.push(zD(i,o[o.length-1])),wX(r,o)}function wX(e,t){var r=(za||B3.line)().x(function(n){return n.x}).y(function(n){return n.y});return(r.curve||r.interpolate)(e.curve),r(t)}function X6e(e){var t=e.getBBox(),r=e.ownerSVGElement.getScreenCTM().inverse().multiply(e.getScreenCTM()).translate(t.width/2,t.height/2);return{x:r.e,y:r.f}}function K6e(e,t){var r=e.enter().append("g").attr("class","edgePath").style("opacity",0);return r.append("path").attr("class","path").attr("d",function(n){var i=t.edge(n),o=t.node(n.v).elem,s=jo(i.points.length).map(function(){return X6e(o)});return wX(i,s)}),r.append("defs"),r}function Q6e(e,t){var r=e.exit();Ea(r,t).style("opacity",0).remove()}var i_,EX=F(()=>{"use strict";Du();nn();UD();ps();i_=a(function(e,t,r){var n=e.selectAll("g.edgePath").data(t.edges(),function(s){return Qk(s)}).classed("update",!0),i=K6e(n,t);Q6e(n,t);var o=n.merge!==void 0?n.merge(i):n;return Ea(o,t).style("opacity",1),o.each(function(s){var u=dt(this),f=t.edge(s);f.elem=this,f.id&&u.attr("id",f.id),Zk(u,f.class,(u.classed("update")?"update ":"")+"edgePath")}),o.selectAll("path.path").each(function(s){var u=t.edge(s);u.arrowheadId=Ru("arrowhead");var f=dt(this).attr("marker-end",function(){return"url("+j6e(location.href,u.arrowheadId)+")"}).style("fill","none");Ea(f,t).attr("d",function(p){return Y6e(t,p)}),wa(f,u.style)}),o.selectAll("defs *").remove(),o.selectAll("defs").each(function(s){var u=t.edge(s),f=r[u.arrowhead];f(dt(this),u.arrowheadId,u,"arrowhead")}),o},"createEdgePaths");a(_X,"setCreateEdgePaths");a(j6e,"makeFragmentRef");a(Y6e,"calcPoints");a(wX,"createLine");a(X6e,"getCoords");a(K6e,"enter");a(Q6e,"exit")});function CX(e){a_=e}var a_,SX=F(()=>{"use strict";Du();nn();t_();ps();a_=a(function(e,t,r){var n=t.nodes().filter(function(s){return!Kk(t,s)}),i=e.selectAll("g.node").data(n,function(s){return s}).classed("update",!0);i.exit().remove(),i.enter().append("g").attr("class","node").style("opacity",0),i=e.selectAll("g.node"),i.each(function(s){var u=t.node(s),f=dt(this);Zk(f,u.class,(f.classed("update")?"update ":"")+"node"),f.select("g.label").remove();var p=f.append("g").attr("class","label"),g=pg(p,u),y=r[u.shape],x=Au(g.node().getBBox(),"width","height");u.elem=this,u.id&&f.attr("id",u.id),u.labelId&&p.attr("id",u.labelId),rr(u,"width")&&(x.width=u.width),rr(u,"height")&&(x.height=u.height),x.width+=u.paddingLeft+u.paddingRight,x.height+=u.paddingTop+u.paddingBottom,p.attr("transform","translate("+(u.paddingLeft-u.paddingRight)/2+","+(u.paddingTop-u.paddingBottom)/2+")");var b=dt(this);b.select(".label-container").remove();var E=y(b,x,u).classed("label-container",!0);wa(E,u.style);var A=E.node().getBBox();u.width=A.width,u.height=A.height});var o;return i.exit?o=i.exit():o=i.selectAll(null),Ea(o,t).style("opacity",0).remove(),i},"createNodes");a(CX,"setCreateNodes")});function AX(e,t){var r=e.filter(function(){return!dt(this).classed("update")});function n(i){var o=t.node(i);return"translate("+o.x+","+o.y+")"}a(n,"translate"),r.attr("transform",n),Ea(e,t).style("opacity",1).attr("transform",n),Ea(r.selectAll("rect"),t).attr("width",function(i){return t.node(i).width}).attr("height",function(i){return t.node(i).height}).attr("x",function(i){var o=t.node(i);return-o.width/2}).attr("y",function(i){var o=t.node(i);return-o.height/2})}var RX=F(()=>{"use strict";Du();ps();a(AX,"positionClusters")});function DX(e,t){var r=e.filter(function(){return!dt(this).classed("update")});function n(i){var o=t.edge(i);return rr(o,"x")?"translate("+o.x+","+o.y+")":""}a(n,"translate"),r.attr("transform",n),Ea(e,t).style("opacity",1).attr("transform",n)}var LX=F(()=>{"use strict";Du();nn();ps();a(DX,"positionEdgeLabels")});function IX(e,t){var r=e.filter(function(){return!dt(this).classed("update")});function n(i){var o=t.node(i);return"translate("+o.x+","+o.y+")"}a(n,"translate"),r.attr("transform",n),Ea(e,t).style("opacity",1).attr("transform",n)}var NX=F(()=>{"use strict";Du();ps();a(IX,"positionNodes")});function o_(e,t,r,n){var i=e.x,o=e.y,s=i-n.x,u=o-n.y,f=Math.sqrt(t*t*u*u+r*r*s*s),p=Math.abs(t*r*s/f);n.x<i&&(p=-p);var g=Math.abs(t*r*u/f);return n.y<o&&(g=-g),{x:i+p,y:o+g}}var s_=F(()=>{"use strict";a(o_,"intersectEllipse")});function PX(e,t,r){return o_(e,t,t,r)}var $D=F(()=>{"use strict";s_();a(PX,"intersectCircle")});function MX(e,t,r,n){var i,o,s,u,f,p,g,y,x,b,E,A,O,N,I;if(i=t.y-e.y,s=e.x-t.x,f=t.x*e.y-e.x*t.y,x=i*r.x+s*r.y+f,b=i*n.x+s*n.y+f,!(x!==0&&b!==0&&OX(x,b))&&(o=n.y-r.y,u=r.x-n.x,p=n.x*r.y-r.x*n.y,g=o*e.x+u*e.y+p,y=o*t.x+u*t.y+p,!(g!==0&&y!==0&&OX(g,y))&&(E=i*u-o*s,E!==0)))return A=Math.abs(E/2),O=s*p-u*f,N=O<0?(O-A)/E:(O+A)/E,O=o*f-i*p,I=O<0?(O-A)/E:(O+A)/E,{x:N,y:I}}function OX(e,t){return e*t>0}var FX=F(()=>{"use strict";a(MX,"intersectLine");a(OX,"sameSign")});function Qs(e,t,r){var n=e.x,i=e.y,o=[],s=Number.POSITIVE_INFINITY,u=Number.POSITIVE_INFINITY;t.forEach(function(E){s=Math.min(s,E.x),u=Math.min(u,E.y)});for(var f=n-e.width/2-s,p=i-e.height/2-u,g=0;g<t.length;g++){var y=t[g],x=t[g<t.length-1?g+1:0],b=MX(e,r,{x:f+y.x,y:p+y.y},{x:f+x.x,y:p+x.y});b&&o.push(b)}return o.length?(o.length>1&&o.sort(function(E,A){var O=E.x-r.x,N=E.y-r.y,I=Math.sqrt(O*O+N*N),$=A.x-r.x,X=A.y-r.y,q=Math.sqrt($*$+X*X);return I<q?-1:I===q?0:1}),o[0]):(console.log("NO INTERSECTION FOUND, RETURN NODE CENTER",e),e)}var l_=F(()=>{"use strict";FX();a(Qs,"intersectPolygon")});function Pv(e,t){var r=e.x,n=e.y,i=t.x-r,o=t.y-n,s=e.width/2,u=e.height/2,f,p;return Math.abs(o)*s>Math.abs(i)*u?(o<0&&(u=-u),f=o===0?0:u*i/o,p=u):(i<0&&(s=-s),f=s,p=i===0?0:s*o/i),{x:r+f,y:n+p}}var c_=F(()=>{"use strict";a(Pv,"intersectRect")});function BX(e){u_=e}function rOe(e,t,r){var n=e.insert("rect",":first-child").attr("rx",r.rx).attr("ry",r.ry).attr("x",-t.width/2).attr("y",-t.height/2).attr("width",t.width).attr("height",t.height);return r.intersect=function(i){return Pv(r,i)},n}function nOe(e,t,r){var n=t.width/2,i=t.height/2,o=e.insert("ellipse",":first-child").attr("x",-t.width/2).attr("y",-t.height/2).attr("rx",n).attr("ry",i);return r.intersect=function(s){return o_(r,n,i,s)},o}function iOe(e,t,r){var n=Math.max(t.width,t.height)/2,i=e.insert("circle",":first-child").attr("x",-t.width/2).attr("y",-t.height/2).attr("r",n);return r.intersect=function(o){return PX(r,n,o)},i}function aOe(e,t,r){var n=t.width*Math.SQRT2/2,i=t.height*Math.SQRT2/2,o=[{x:0,y:-i},{x:-n,y:0},{x:0,y:i},{x:n,y:0}],s=e.insert("polygon",":first-child").attr("points",o.map(function(u){return u.x+","+u.y}).join(" "));return r.intersect=function(u){return Qs(r,o,u)},s}var u_,qX=F(()=>{"use strict";$D();s_();l_();c_();u_={rect:rOe,ellipse:nOe,circle:iOe,diamond:aOe};a(BX,"setShapes");a(rOe,"rect");a(nOe,"ellipse");a(iOe,"circle");a(aOe,"diamond")});function GD(){var e=a(function(t,r){lOe(r);var n=Ov(t,"output"),i=Ov(n,"clusters"),o=Ov(n,"edgePaths"),s=n_(Ov(n,"edgeLabels"),r),u=a_(Ov(n,"nodes"),r,u_);ds(r),IX(u,r),DX(s,r),i_(o,r,Jk);var f=r_(i,r);AX(f,r),cOe(r)},"fn");return e.createNodes=function(t){return arguments.length?(CX(t),e):a_},e.createClusters=function(t){return arguments.length?(xX(t),e):r_},e.createEdgeLabels=function(t){return arguments.length?(TX(t),e):n_},e.createEdgePaths=function(t){return arguments.length?(_X(t),e):i_},e.shapes=function(t){return arguments.length?(BX(t),e):u_},e.arrows=function(t){return arguments.length?(dX(t),e):Jk},e}function lOe(e){e.nodes().forEach(function(t){var r=e.node(t);!rr(r,"label")&&!e.children(t).length&&(r.label=t),rr(r,"paddingX")&&Cu(r,{paddingLeft:r.paddingX,paddingRight:r.paddingX}),rr(r,"paddingY")&&Cu(r,{paddingTop:r.paddingY,paddingBottom:r.paddingY}),rr(r,"padding")&&Cu(r,{paddingLeft:r.padding,paddingRight:r.padding,paddingTop:r.padding,paddingBottom:r.padding}),Cu(r,oOe),ft(["paddingLeft","paddingRight","paddingTop","paddingBottom"],function(n){r[n]=Number(r[n])}),rr(r,"width")&&(r._prevWidth=r.width),rr(r,"height")&&(r._prevHeight=r.height)}),e.edges().forEach(function(t){var r=e.edge(t);rr(r,"label")||(r.label=""),Cu(r,sOe)})}function cOe(e){ft(e.nodes(),function(t){var r=e.node(t);rr(r,"_prevWidth")?r.width=r._prevWidth:delete r.width,rr(r,"_prevHeight")?r.height=r._prevHeight:delete r.height,delete r._prevWidth,delete r._prevHeight})}function Ov(e,t){var r=e.select("g."+t);return r.empty()&&(r=e.append("g").attr("class",t)),r}var oOe,sOe,zX=F(()=>{"use strict";Du();nn();Vd();pX();bX();kX();EX();SX();RX();LX();NX();qX();a(GD,"render");oOe={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},sOe={arrowhead:"normal",curve:ra};a(lOe,"preProcessGraph");a(cOe,"postProcessGraph");a(Ov,"createOrSelectGroup")});var UX=F(()=>{"use strict";UD();$D();s_();l_();c_()});var $X=F(()=>{"use strict";zX();_a();UX()});function GX(e,t,r){let n=t.width,i=t.height,o=(n+i)*.9,s=[{x:o/2,y:0},{x:o,y:-o/2},{x:o/2,y:-o},{x:0,y:-o/2}],u=Lu(e,o,o,s);return r.intersect=function(f){return Qs(r,s,f)},u}function VX(e,t,r){let i=t.height,o=i/4,s=t.width+2*o,u=[{x:o,y:0},{x:s-o,y:0},{x:s,y:-i/2},{x:s-o,y:-i},{x:o,y:-i},{x:0,y:-i/2}],f=Lu(e,s,i,u);return r.intersect=function(p){return Qs(r,u,p)},f}function WX(e,t,r){let n=t.width,i=t.height,o=[{x:-i/2,y:0},{x:n,y:0},{x:n,y:-i},{x:-i/2,y:-i},{x:0,y:-i/2}],s=Lu(e,n,i,o);return r.intersect=function(u){return Qs(r,o,u)},s}function HX(e,t,r){let n=t.width,i=t.height,o=[{x:-2*i/6,y:0},{x:n-i/6,y:0},{x:n+2*i/6,y:-i},{x:i/6,y:-i}],s=Lu(e,n,i,o);return r.intersect=function(u){return Qs(r,o,u)},s}function jX(e,t,r){let n=t.width,i=t.height,o=[{x:2*i/6,y:0},{x:n+i/6,y:0},{x:n-2*i/6,y:-i},{x:-i/6,y:-i}],s=Lu(e,n,i,o);return r.intersect=function(u){return Qs(r,o,u)},s}function YX(e,t,r){let n=t.width,i=t.height,o=[{x:-2*i/6,y:0},{x:n+2*i/6,y:0},{x:n-i/6,y:-i},{x:i/6,y:-i}],s=Lu(e,n,i,o);return r.intersect=function(u){return Qs(r,o,u)},s}function XX(e,t,r){let n=t.width,i=t.height,o=[{x:i/6,y:0},{x:n-i/6,y:0},{x:n+2*i/6,y:-i},{x:-2*i/6,y:-i}],s=Lu(e,n,i,o);return r.intersect=function(u){return Qs(r,o,u)},s}function KX(e,t,r){let n=t.width,i=t.height,o=[{x:0,y:0},{x:n+i/2,y:0},{x:n,y:-i/2},{x:n+i/2,y:-i},{x:0,y:-i}],s=Lu(e,n,i,o);return r.intersect=function(u){return Qs(r,o,u)},s}function QX(e,t,r){let n=t.height,i=t.width+n/4,o=e.insert("rect",":first-child").attr("rx",n/2).attr("ry",n/2).attr("x",-i/2).attr("y",-n/2).attr("width",i).attr("height",n);return r.intersect=function(s){return Pv(r,s)},o}function ZX(e,t,r){let n=t.width,i=t.height,o=[{x:0,y:0},{x:n,y:0},{x:n,y:-i},{x:0,y:-i},{x:0,y:0},{x:-8,y:0},{x:n+8,y:0},{x:n+8,y:-i},{x:-8,y:-i},{x:-8,y:0}],s=Lu(e,n,i,o);return r.intersect=function(u){return Qs(r,o,u)},s}function JX(e,t,r){let n=t.width,i=n/2,o=i/(2.5+n/50),s=t.height+o,u="M 0,"+o+" a "+i+","+o+" 0,0,0 "+n+" 0 a "+i+","+o+" 0,0,0 "+-n+" 0 l 0,"+s+" a "+i+","+o+" 0,0,0 "+n+" 0 l 0,"+-s,f=e.attr("label-offset-y",o).insert("path",":first-child").attr("d",u).attr("transform","translate("+-n/2+","+-(s/2+o)+")");return r.intersect=function(p){let g=Pv(r,p),y=g.x-r.x;if(i!=0&&(Math.abs(y)<r.width/2||Math.abs(y)==r.width/2&&Math.abs(g.y-r.y)>r.height/2-o)){let x=o*o*(1-y*y/(i*i));x!=0&&(x=Math.sqrt(x)),x=o-x,p.y-r.y>0&&(x=-x),g.y+=x}return g},f}function fOe(e){e.shapes().question=GX,e.shapes().hexagon=VX,e.shapes().stadium=QX,e.shapes().subroutine=ZX,e.shapes().cylinder=JX,e.shapes().rect_left_inv_arrow=WX,e.shapes().lean_right=HX,e.shapes().lean_left=jX,e.shapes().trapezoid=YX,e.shapes().inv_trapezoid=XX,e.shapes().rect_right_inv_arrow=KX}function hOe(e){e({question:GX}),e({hexagon:VX}),e({stadium:QX}),e({subroutine:ZX}),e({cylinder:JX}),e({rect_left_inv_arrow:WX}),e({lean_right:HX}),e({lean_left:jX}),e({trapezoid:YX}),e({inv_trapezoid:XX}),e({rect_right_inv_arrow:KX})}function Lu(e,t,r,n){return e.insert("polygon",":first-child").attr("points",n.map(function(i){return i.x+","+i.y}).join(" ")).attr("transform","translate("+-t/2+","+r/2+")")}var eK,tK=F(()=>{"use strict";l_();c_();a(GX,"question");a(VX,"hexagon");a(WX,"rect_left_inv_arrow");a(HX,"lean_right");a(jX,"lean_left");a(YX,"trapezoid");a(XX,"inv_trapezoid");a(KX,"rect_right_inv_arrow");a(QX,"stadium");a(ZX,"subroutine");a(JX,"cylinder");a(fOe,"addToRender");a(hOe,"addToRenderV2");a(Lu,"insertPolygonShape");eK={addToRender:fOe,addToRenderV2:hOe}});var rK,dOe,nK,iK,pOe,mOe,aK,oK=F(()=>{"use strict";_a();Zr();Pr();$X();ps();e_();br();en();An();Si();tK();rK={},dOe=a(function(e){let t=Object.keys(e);for(let r of t)rK[r]=e[r]},"setConf"),nK=a(function(e,t,r,n,i,o){let s=n?n.select(`[id="${r}"]`):dt(`[id="${r}"]`),u=i||document;Object.keys(e).forEach(function(p){let g=e[p],y="default";g.classes.length>0&&(y=g.classes.join(" "));let x=Il(g.styles),b=g.text!==void 0?g.text:g.id,E;if(jn(Me().flowchart.htmlLabels)){let N={label:b.replace(/fa[blrs]?:fa-[\w-]+/g,I=>`<i class='${I.replace(":"," ")}'></i>`)};E=dg(s,N).node(),E.parentNode.removeChild(E)}else{let N=u.createElementNS("http://www.w3.org/2000/svg","text");N.setAttribute("style",x.labelStyle.replace("color:","fill:"));let I=b.split(Et.lineBreakRegex);for(let $ of I){let X=u.createElementNS("http://www.w3.org/2000/svg","tspan");X.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),X.setAttribute("dy","1em"),X.setAttribute("x","1"),X.textContent=$,N.appendChild(X)}E=N}let A=0,O="";switch(g.type){case"round":A=5,O="rect";break;case"square":O="rect";break;case"diamond":O="question";break;case"hexagon":O="hexagon";break;case"odd":O="rect_left_inv_arrow";break;case"lean_right":O="lean_right";break;case"lean_left":O="lean_left";break;case"trapezoid":O="trapezoid";break;case"inv_trapezoid":O="inv_trapezoid";break;case"odd_right":O="rect_left_inv_arrow";break;case"circle":O="circle";break;case"ellipse":O="ellipse";break;case"stadium":O="stadium";break;case"subroutine":O="subroutine";break;case"cylinder":O="cylinder";break;case"group":O="rect";break;default:O="rect"}ye.warn("Adding node",g.id,g.domId),t.setNode(o.db.lookUpDomId(g.id),{labelType:"svg",labelStyle:x.labelStyle,shape:O,label:E,rx:A,ry:A,class:y,style:x.style,id:o.db.lookUpDomId(g.id)})})},"addVertices"),iK=a(function(e,t,r){let n=0,i,o;if(e.defaultStyle!==void 0){let s=Il(e.defaultStyle);i=s.style,o=s.labelStyle}e.forEach(function(s){n++;let u="L-"+s.start+"-"+s.end,f="LS-"+s.start,p="LE-"+s.end,g={};s.type==="arrow_open"?g.arrowhead="none":g.arrowhead="normal";let y="",x="";if(s.style!==void 0){let b=Il(s.style);y=b.style,x=b.labelStyle}else switch(s.stroke){case"normal":y="fill:none",i!==void 0&&(y=i),o!==void 0&&(x=o);break;case"dotted":y="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":y=" stroke-width: 3.5px;fill:none";break}g.style=y,g.labelStyle=x,s.interpolate!==void 0?g.curve=Ws(s.interpolate,ra):e.defaultInterpolate!==void 0?g.curve=Ws(e.defaultInterpolate,ra):g.curve=Ws(rK.curve,ra),s.text===void 0?s.style!==void 0&&(g.arrowheadStyle="fill: #333"):(g.arrowheadStyle="fill: #333",g.labelpos="c",jn(Me().flowchart.htmlLabels)?(g.labelType="html",g.label=`<span id="L-${u}" class="edgeLabel L-${f}' L-${p}" style="${g.labelStyle}">${s.text.replace(/fa[blrs]?:fa-[\w-]+/g,b=>`<i class='${b.replace(":"," ")}'></i>`)}</span>`):(g.labelType="text",g.label=s.text.replace(Et.lineBreakRegex,`
`),s.style===void 0&&(g.style=g.style||"stroke: #333; stroke-width: 1.5px;fill:none"),g.labelStyle=g.labelStyle.replace("color:","fill:"))),g.id=u,g.class=f+" "+p,g.minlen=s.length||1,t.setEdge(r.db.lookUpDomId(s.start),r.db.lookUpDomId(s.end),g,n)})},"addEdges"),pOe=a(function(e,t){return ye.info("Extracting classes"),t.db.getClasses()},"getClasses"),mOe=a(function(e,t,r,n){ye.info("Drawing flowchart");let{securityLevel:i,flowchart:o}=Me(),s;i==="sandbox"&&(s=dt("#i"+t));let u=i==="sandbox"?dt(s.nodes()[0].contentDocument.body):dt("body"),f=i==="sandbox"?s.nodes()[0].contentDocument:document,p=n.db.getDirection();p===void 0&&(p="TD");let g=o.nodeSpacing||50,y=o.rankSpacing||50,x=new Yr({multigraph:!0,compound:!0}).setGraph({rankdir:p,nodesep:g,ranksep:y,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),b,E=n.db.getSubGraphs();for(let M=E.length-1;M>=0;M--)b=E[M],n.db.addVertex(b.id,b.title,"group",void 0,b.classes);let A=n.db.getVertices();ye.warn("Get vertices",A);let O=n.db.getEdges(),N=0;for(N=E.length-1;N>=0;N--){b=E[N],fm("cluster").append("text");for(let M=0;M<b.nodes.length;M++)ye.warn("Setting subgraph",b.nodes[M],n.db.lookUpDomId(b.nodes[M]),n.db.lookUpDomId(b.id)),x.setParent(n.db.lookUpDomId(b.nodes[M]),n.db.lookUpDomId(b.id))}nK(A,x,t,u,f,n),iK(O,x,n);let I=new GD;eK.addToRender(I),I.arrows().none=a(function(B,G,U,W){let K=B.append("marker").attr("id",G).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 0 0 L 0 0 z");wa(K,U[W+"Style"])},"normal"),I.arrows().normal=a(function(B,G){B.append("marker").attr("id",G).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowheadPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"normal");let $=u.select(`[id="${t}"]`),X=u.select("#"+t+" g");for(I(X,x),X.selectAll("g.node").attr("title",function(){return n.db.getTooltip(this.id)}),n.db.indexNodes("subGraph"+N),N=0;N<E.length;N++)if(b=E[N],b.title!=="undefined"){let M=f.querySelectorAll("#"+t+' [id="'+n.db.lookUpDomId(b.id)+'"] rect'),B=f.querySelectorAll("#"+t+' [id="'+n.db.lookUpDomId(b.id)+'"]'),G=M[0].x.baseVal.value,U=M[0].y.baseVal.value,W=M[0].width.baseVal.value,K=dt(B[0]).select(".label");K.attr("transform",`translate(${G+W/2}, ${U+14})`),K.attr("id",t+"Text");for(let P=0;P<b.classes.length;P++)B[0].classList.add(b.classes[P])}if(!o.htmlLabels){let M=f.querySelectorAll('[id="'+t+'"] .edgeLabel .label');for(let B of M){let G=B.getBBox(),U=f.createElementNS("http://www.w3.org/2000/svg","rect");U.setAttribute("rx",0),U.setAttribute("ry",0),U.setAttribute("width",G.width),U.setAttribute("height",G.height),B.insertBefore(U,B.firstChild)}}Ys(x,$,o.diagramPadding,o.useMaxWidth),Object.keys(A).forEach(function(M){let B=A[M];if(B.link){let G=u.select("#"+t+' [id="'+n.db.lookUpDomId(M)+'"]');if(G){let U=f.createElementNS("http://www.w3.org/2000/svg","a");U.setAttributeNS("http://www.w3.org/2000/svg","class",B.classes.join(" ")),U.setAttributeNS("http://www.w3.org/2000/svg","href",B.link),U.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),i==="sandbox"?U.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):B.linkTarget&&U.setAttributeNS("http://www.w3.org/2000/svg","target",B.linkTarget);let W=G.insert(function(){return U},":first-child"),D=G.select(".label-container");D&&W.append(function(){return D.node()});let K=G.select(".label");K&&W.append(function(){return K.node()})}}})},"draw"),aK={setConf:dOe,addVertices:nK,addEdges:iK,getClasses:pOe,draw:mOe}});function zl(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:gOe(e),edges:yOe(e)};return Un(e.graph())||(t.value=W5(e.graph())),t}function gOe(e){return kn(e.nodes(),function(t){var r=e.node(t),n=e.parent(t),i={v:t};return Un(r)||(i.value=r),Un(n)||(i.parent=n),i})}function yOe(e){return kn(e.edges(),function(t){var r=e.edge(t),n={v:t.v,w:t.w};return Un(t.name)||(n.name=t.name),Un(r)||(n.value=r),n})}var VD=F(()=>{"use strict";nn();Vk();a(zl,"write");a(gOe,"writeNodes");a(yOe,"writeEdges")});var vOe,xOe,bOe,TOe,kOe,_Oe,wOe,EOe,COe,SOe,AOe,lK,cK=F(()=>{"use strict";br();vOe=a((e,t,r,n)=>{t.forEach(i=>{AOe[i](e,r,n)})},"insertMarkers"),xOe=a((e,t,r)=>{ye.trace("Making markers for ",r),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),bOe=a((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),TOe=a((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),kOe=a((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),_Oe=a((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),wOe=a((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",6).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),EOe=a((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),COe=a((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),SOe=a((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),AOe={extension:xOe,composition:bOe,aggregation:TOe,dependency:kOe,lollipop:_Oe,point:wOe,circle:EOe,cross:COe,barb:SOe},lK=vOe});function ROe(e,t){t&&e.attr("style",t)}function DOe(e){let t=dt(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=t.append("xhtml:div"),n=e.label,i=e.isNode?"nodeLabel":"edgeLabel";return r.html('<span class="'+i+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+n+"</span>"),ROe(r,e.labelStyle),r.style("display","inline-block"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}var LOe,Ca,Mv=F(()=>{"use strict";Zr();br();Pr();en();An();a(ROe,"applyStyle");a(DOe,"addHtmlLabel");LOe=a((e,t,r,n)=>{let i=e||"";if(typeof i=="object"&&(i=i[0]),jn(Me().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),ye.info("vertexText"+i);let o={isNode:n,label:Tu(i).replace(/fa[blrs]?:fa-[\w-]+/g,u=>`<i class='${u.replace(":"," ")}'></i>`),labelStyle:t.replace("fill:","color:")};return DOe(o)}else{let o=document.createElementNS("http://www.w3.org/2000/svg","text");o.setAttribute("style",t.replace("color:","fill:"));let s=[];typeof i=="string"?s=i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?s=i:s=[];for(let u of s){let f=document.createElementNS("http://www.w3.org/2000/svg","tspan");f.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),f.setAttribute("dy","1em"),f.setAttribute("x","0"),r?f.setAttribute("class","title-row"):f.setAttribute("class","row"),f.textContent=u.trim(),o.appendChild(f)}return o}},"createLabel"),Ca=LOe});function WD(e,t){let r=t||IOe,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,i=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return fK(e,n,i)}function fK(e,t,r){if(NOe(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return uK(e.children,t,r)}return Array.isArray(e)?uK(e,t,r):""}function uK(e,t,r){let n=[],i=-1;for(;++i<e.length;)n[i]=fK(e[i],t,r);return n.join("")}function NOe(e){return!!(e&&typeof e=="object")}var IOe,hK=F(()=>{"use strict";IOe={};a(WD,"toString");a(fK,"one");a(uK,"all");a(NOe,"node")});var dK=F(()=>{"use strict";hK()});function $a(e,t,r,n){let i=e.length,o=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,r=r>0?r:0,n.length<1e4)s=Array.from(n),s.unshift(t,r),e.splice(...s);else for(r&&e.splice(t,r);o<n.length;)s=n.slice(o,o+1e4),s.unshift(t,0),e.splice(...s),o+=1e4,t+=1e4}function ko(e,t){return e.length>0?($a(e,e.length,0,t),e):t}var uh=F(()=>{"use strict";a($a,"splice");a(ko,"push")});function mK(e){let t={},r=-1;for(;++r<e.length;)POe(t,e[r]);return t}function POe(e,t){let r;for(r in t){let i=(pK.call(e,r)?e[r]:void 0)||(e[r]={}),o=t[r],s;if(o)for(s in o){pK.call(i,s)||(i[s]=[]);let u=o[s];OOe(i[s],Array.isArray(u)?u:u?[u]:[])}}}function OOe(e,t){let r=-1,n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);$a(e,0,0,n)}var pK,gK=F(()=>{"use strict";uh();pK={}.hasOwnProperty;a(mK,"combineExtensions");a(POe,"syntaxExtension");a(OOe,"constructs")});var yK,vK=F(()=>{"use strict";yK=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/});function Fv(e){return e!==null&&(e<32||e===127)}function nr(e){return e!==null&&e<-2}function Fi(e){return e!==null&&(e<0||e===32)}function Fr(e){return e===-2||e===-1||e===32}function fh(e){return t;function t(r){return r!==null&&e.test(String.fromCharCode(r))}}var ms,_o,xK,Bv,bK,TK,kK,_K,$n=F(()=>{"use strict";vK();ms=fh(/[A-Za-z]/),_o=fh(/[\dA-Za-z]/),xK=fh(/[#-'*+\--9=?A-Z^-~]/);a(Fv,"asciiControl");Bv=fh(/\d/),bK=fh(/[\dA-Fa-f]/),TK=fh(/[!-/:-@[-`{-~]/);a(nr,"markdownLineEnding");a(Fi,"markdownLineEndingOrSpace");a(Fr,"markdownSpace");kK=fh(yK),_K=fh(/\s/);a(fh,"regexCheck")});function Ur(e,t,r,n){let i=n?n-1:Number.POSITIVE_INFINITY,o=0;return s;function s(f){return Fr(f)?(e.enter(r),u(f)):t(f)}function u(f){return Fr(f)&&o++<i?(e.consume(f),u):(e.exit(r),t(f))}}var Sa=F(()=>{"use strict";$n();a(Ur,"factorySpace")});function MOe(e){let t=e.attempt(this.parser.constructs.contentInitial,n,i),r;return t;function n(u){if(u===null){e.consume(u);return}return e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),Ur(e,t,"linePrefix")}function i(u){return e.enter("paragraph"),o(u)}function o(u){let f=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=f),r=f,s(u)}function s(u){if(u===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(u);return}return nr(u)?(e.consume(u),e.exit("chunkText"),o):(e.consume(u),s)}}var wK,EK=F(()=>{"use strict";Sa();$n();wK={tokenize:MOe};a(MOe,"initializeContent")});function FOe(e){let t=this,r=[],n=0,i,o,s;return u;function u($){if(n<r.length){let X=r[n];return t.containerState=X[1],e.attempt(X[0].continuation,f,p)($)}return p($)}function f($){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&I();let X=t.events.length,q=X,M;for(;q--;)if(t.events[q][0]==="exit"&&t.events[q][1].type==="chunkFlow"){M=t.events[q][1].end;break}N(n);let B=X;for(;B<t.events.length;)t.events[B][1].end=Object.assign({},M),B++;return $a(t.events,q+1,0,t.events.slice(X)),t.events.length=B,p($)}return u($)}function p($){if(n===r.length){if(!i)return x($);if(i.currentConstruct&&i.currentConstruct.concrete)return E($);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(CK,g,y)($)}function g($){return i&&I(),N(n),x($)}function y($){return t.parser.lazy[t.now().line]=n!==r.length,s=t.now().offset,E($)}function x($){return t.containerState={},e.attempt(CK,b,E)($)}function b($){return n++,r.push([t.currentConstruct,t.containerState]),x($)}function E($){if($===null){i&&I(),N(0),e.consume($);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:o,_tokenizer:i}),A($)}function A($){if($===null){O(e.exit("chunkFlow"),!0),N(0),e.consume($);return}return nr($)?(e.consume($),O(e.exit("chunkFlow")),n=0,t.interrupt=void 0,u):(e.consume($),A)}function O($,X){let q=t.sliceStream($);if(X&&q.push(null),$.previous=o,o&&(o.next=$),o=$,i.defineSkip($.start),i.write(q),t.parser.lazy[$.start.line]){let M=i.events.length;for(;M--;)if(i.events[M][1].start.offset<s&&(!i.events[M][1].end||i.events[M][1].end.offset>s))return;let B=t.events.length,G=B,U,W;for(;G--;)if(t.events[G][0]==="exit"&&t.events[G][1].type==="chunkFlow"){if(U){W=t.events[G][1].end;break}U=!0}for(N(n),M=B;M<t.events.length;)t.events[M][1].end=Object.assign({},W),M++;$a(t.events,G+1,0,t.events.slice(B)),t.events.length=M}}function N($){let X=r.length;for(;X-- >$;){let q=r[X];t.containerState=q[1],q[0].exit.call(t,e)}r.length=$}function I(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function BOe(e,t,r){return Ur(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}var SK,CK,AK=F(()=>{"use strict";Sa();$n();uh();SK={tokenize:FOe},CK={tokenize:BOe};a(FOe,"initializeDocument");a(BOe,"tokenizeContainer")});function HD(e){if(e===null||Fi(e)||_K(e))return 1;if(kK(e))return 2}var RK=F(()=>{"use strict";$n();a(HD,"classifyCharacter")});function mg(e,t,r){let n=[],i=-1;for(;++i<e.length;){let o=e[i].resolveAll;o&&!n.includes(o)&&(t=o(t,r),n.push(o))}return t}var f_=F(()=>{"use strict";a(mg,"resolveAll")});function qOe(e,t){let r=-1,n,i,o,s,u,f,p,g;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;f=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;let y=Object.assign({},e[n][1].end),x=Object.assign({},e[r][1].start);DK(y,-f),DK(x,f),s={type:f>1?"strongSequence":"emphasisSequence",start:y,end:Object.assign({},e[n][1].end)},u={type:f>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[r][1].start),end:x},o={type:f>1?"strongText":"emphasisText",start:Object.assign({},e[n][1].end),end:Object.assign({},e[r][1].start)},i={type:f>1?"strong":"emphasis",start:Object.assign({},s.start),end:Object.assign({},u.end)},e[n][1].end=Object.assign({},s.start),e[r][1].start=Object.assign({},u.end),p=[],e[n][1].end.offset-e[n][1].start.offset&&(p=ko(p,[["enter",e[n][1],t],["exit",e[n][1],t]])),p=ko(p,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",o,t]]),p=ko(p,mg(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),p=ko(p,[["exit",o,t],["enter",u,t],["exit",u,t],["exit",i,t]]),e[r][1].end.offset-e[r][1].start.offset?(g=2,p=ko(p,[["enter",e[r][1],t],["exit",e[r][1],t]])):g=0,$a(e,n-1,r-n+3,p),r=n+p.length-g-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function zOe(e,t){let r=this.parser.constructs.attentionMarkers.null,n=this.previous,i=HD(n),o;return s;function s(f){return o=f,e.enter("attentionSequence"),u(f)}function u(f){if(f===o)return e.consume(f),u;let p=e.exit("attentionSequence"),g=HD(f),y=!g||g===2&&i||r.includes(f),x=!i||i===2&&g||r.includes(n);return p._open=!!(o===42?y:y&&(i||!x)),p._close=!!(o===42?x:x&&(g||!y)),t(f)}}function DK(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}var qv,LK=F(()=>{"use strict";uh();RK();f_();qv={name:"attention",tokenize:zOe,resolveAll:qOe};a(qOe,"resolveAllAttention");a(zOe,"tokenizeAttention");a(DK,"movePoint")});function UOe(e,t,r){let n=0;return i;function i(b){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(b){return ms(b)?(e.consume(b),s):p(b)}function s(b){return b===43||b===45||b===46||_o(b)?(n=1,u(b)):p(b)}function u(b){return b===58?(e.consume(b),n=0,f):(b===43||b===45||b===46||_o(b))&&n++<32?(e.consume(b),u):(n=0,p(b))}function f(b){return b===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.exit("autolink"),t):b===null||b===32||b===60||Fv(b)?r(b):(e.consume(b),f)}function p(b){return b===64?(e.consume(b),g):xK(b)?(e.consume(b),p):r(b)}function g(b){return _o(b)?y(b):r(b)}function y(b){return b===46?(e.consume(b),n=0,g):b===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.exit("autolink"),t):x(b)}function x(b){if((b===45||_o(b))&&n++<63){let E=b===45?x:y;return e.consume(b),E}return r(b)}}var jD,IK=F(()=>{"use strict";$n();jD={name:"autolink",tokenize:UOe};a(UOe,"tokenizeAutolink")});function $Oe(e,t,r){return n;function n(o){return Fr(o)?Ur(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||nr(o)?t(o):r(o)}}var hh,h_=F(()=>{"use strict";Sa();$n();hh={tokenize:$Oe,partial:!0};a($Oe,"tokenizeBlankLine")});function GOe(e,t,r){let n=this;return i;function i(s){if(s===62){let u=n.containerState;return u.open||(e.enter("blockQuote",{_container:!0}),u.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),o}return r(s)}function o(s){return Fr(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function VOe(e,t,r){let n=this;return i;function i(s){return Fr(s)?Ur(e,o,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):o(s)}function o(s){return e.attempt(d_,t,r)(s)}}function WOe(e){e.exit("blockQuote")}var d_,NK=F(()=>{"use strict";Sa();$n();d_={name:"blockQuote",tokenize:GOe,continuation:{tokenize:VOe},exit:WOe};a(GOe,"tokenizeBlockQuoteStart");a(VOe,"tokenizeBlockQuoteContinuation");a(WOe,"exit")});function HOe(e,t,r){return n;function n(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return TK(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(o)}}var p_,PK=F(()=>{"use strict";$n();p_={name:"characterEscape",tokenize:HOe};a(HOe,"tokenizeCharacterEscape")});function gg(e){let t="&"+e+";";OK.innerHTML=t;let r=OK.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}var OK,m_=F(()=>{"use strict";OK=document.createElement("i");a(gg,"decodeNamedCharacterReference")});function jOe(e,t,r){let n=this,i=0,o,s;return u;function u(y){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(y),e.exit("characterReferenceMarker"),f}function f(y){return y===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(y),e.exit("characterReferenceMarkerNumeric"),p):(e.enter("characterReferenceValue"),o=31,s=_o,g(y))}function p(y){return y===88||y===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(y),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,s=bK,g):(e.enter("characterReferenceValue"),o=7,s=Bv,g(y))}function g(y){if(y===59&&i){let x=e.exit("characterReferenceValue");return s===_o&&!gg(n.sliceSerialize(x))?r(y):(e.enter("characterReferenceMarker"),e.consume(y),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(y)&&i++<o?(e.consume(y),g):r(y)}}var g_,MK=F(()=>{"use strict";m_();$n();g_={name:"characterReference",tokenize:jOe};a(jOe,"tokenizeCharacterReference")});function YOe(e,t,r){let n=this,i={tokenize:q,partial:!0},o=0,s=0,u;return f;function f(M){return p(M)}function p(M){let B=n.events[n.events.length-1];return o=B&&B[1].type==="linePrefix"?B[2].sliceSerialize(B[1],!0).length:0,u=M,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),g(M)}function g(M){return M===u?(s++,e.consume(M),g):s<3?r(M):(e.exit("codeFencedFenceSequence"),Fr(M)?Ur(e,y,"whitespace")(M):y(M))}function y(M){return M===null||nr(M)?(e.exit("codeFencedFence"),n.interrupt?t(M):e.check(FK,A,X)(M)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),x(M))}function x(M){return M===null||nr(M)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),y(M)):Fr(M)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ur(e,b,"whitespace")(M)):M===96&&M===u?r(M):(e.consume(M),x)}function b(M){return M===null||nr(M)?y(M):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),E(M))}function E(M){return M===null||nr(M)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),y(M)):M===96&&M===u?r(M):(e.consume(M),E)}function A(M){return e.attempt(i,X,O)(M)}function O(M){return e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),N}function N(M){return o>0&&Fr(M)?Ur(e,I,"linePrefix",o+1)(M):I(M)}function I(M){return M===null||nr(M)?e.check(FK,A,X)(M):(e.enter("codeFlowValue"),$(M))}function $(M){return M===null||nr(M)?(e.exit("codeFlowValue"),I(M)):(e.consume(M),$)}function X(M){return e.exit("codeFenced"),t(M)}function q(M,B,G){let U=0;return W;function W(ce){return M.enter("lineEnding"),M.consume(ce),M.exit("lineEnding"),D}function D(ce){return M.enter("codeFencedFence"),Fr(ce)?Ur(M,K,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ce):K(ce)}function K(ce){return ce===u?(M.enter("codeFencedFenceSequence"),P(ce)):G(ce)}function P(ce){return ce===u?(U++,M.consume(ce),P):U>=s?(M.exit("codeFencedFenceSequence"),Fr(ce)?Ur(M,re,"whitespace")(ce):re(ce)):G(ce)}function re(ce){return ce===null||nr(ce)?(M.exit("codeFencedFence"),B(ce)):G(ce)}}}function XOe(e,t,r){let n=this;return i;function i(s){return s===null?r(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),o)}function o(s){return n.parser.lazy[n.now().line]?r(s):t(s)}}var FK,y_,BK=F(()=>{"use strict";Sa();$n();FK={tokenize:XOe,partial:!0},y_={name:"codeFenced",tokenize:YOe,concrete:!0};a(YOe,"tokenizeCodeFenced");a(XOe,"tokenizeNonLazyContinuation")});function QOe(e,t,r){let n=this;return i;function i(p){return e.enter("codeIndented"),Ur(e,o,"linePrefix",4+1)(p)}function o(p){let g=n.events[n.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?s(p):r(p)}function s(p){return p===null?f(p):nr(p)?e.attempt(KOe,s,f)(p):(e.enter("codeFlowValue"),u(p))}function u(p){return p===null||nr(p)?(e.exit("codeFlowValue"),s(p)):(e.consume(p),u)}function f(p){return e.exit("codeIndented"),t(p)}}function ZOe(e,t,r){let n=this;return i;function i(s){return n.parser.lazy[n.now().line]?r(s):nr(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):Ur(e,o,"linePrefix",4+1)(s)}function o(s){let u=n.events[n.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(s):nr(s)?i(s):r(s)}}var zv,KOe,qK=F(()=>{"use strict";Sa();$n();zv={name:"codeIndented",tokenize:QOe},KOe={tokenize:ZOe,partial:!0};a(QOe,"tokenizeCodeIndented");a(ZOe,"tokenizeFurtherStart")});function JOe(e){let t=e.length-4,r=3,n,i;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)i===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(i=n):(n===t||e[n][1].type==="lineEnding")&&(e[i][1].type="codeTextData",n!==i+2&&(e[i][1].end=e[n-1][1].end,e.splice(i+2,n-i-2),t-=n-i-2,n=i+2),i=void 0);return e}function eMe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tMe(e,t,r){let n=this,i=0,o,s;return u;function u(x){return e.enter("codeText"),e.enter("codeTextSequence"),f(x)}function f(x){return x===96?(e.consume(x),i++,f):(e.exit("codeTextSequence"),p(x))}function p(x){return x===null?r(x):x===32?(e.enter("space"),e.consume(x),e.exit("space"),p):x===96?(s=e.enter("codeTextSequence"),o=0,y(x)):nr(x)?(e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),p):(e.enter("codeTextData"),g(x))}function g(x){return x===null||x===32||x===96||nr(x)?(e.exit("codeTextData"),p(x)):(e.consume(x),g)}function y(x){return x===96?(e.consume(x),o++,y):o===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(x)):(s.type="codeTextData",g(x))}}var YD,zK=F(()=>{"use strict";$n();YD={name:"codeText",tokenize:tMe,resolve:JOe,previous:eMe};a(JOe,"resolveCodeText");a(eMe,"previous");a(tMe,"tokenizeCodeText")});function v_(e){let t={},r=-1,n,i,o,s,u,f,p;for(;++r<e.length;){for(;r in t;)r=t[r];if(n=e[r],r&&n[1].type==="chunkFlow"&&e[r-1][1].type==="listItemPrefix"&&(f=n[1]._tokenizer.events,o=0,o<f.length&&f[o][1].type==="lineEndingBlank"&&(o+=2),o<f.length&&f[o][1].type==="content"))for(;++o<f.length&&f[o][1].type!=="content";)f[o][1].type==="chunkText"&&(f[o][1]._isInFirstContentOfListItem=!0,o++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,rMe(e,r)),r=t[r],p=!0);else if(n[1]._container){for(o=r,i=void 0;o--&&(s=e[o],s[1].type==="lineEnding"||s[1].type==="lineEndingBlank");)s[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),s[1].type="lineEnding",i=o);i&&(n[1].end=Object.assign({},e[i][1].start),u=e.slice(i,r),u.unshift(n),$a(e,i,r-i+1,u))}}return!p}function rMe(e,t){let r=e[t][1],n=e[t][2],i=t-1,o=[],s=r._tokenizer||n.parser[r.contentType](r.start),u=s.events,f=[],p={},g,y,x=-1,b=r,E=0,A=0,O=[A];for(;b;){for(;e[++i][1]!==b;);o.push(i),b._tokenizer||(g=n.sliceStream(b),b.next||g.push(null),y&&s.defineSkip(b.start),b._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(g),b._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),y=b,b=b.next}for(b=r;++x<u.length;)u[x][0]==="exit"&&u[x-1][0]==="enter"&&u[x][1].type===u[x-1][1].type&&u[x][1].start.line!==u[x][1].end.line&&(A=x+1,O.push(A),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(s.events=[],b?(b._tokenizer=void 0,b.previous=void 0):O.pop(),x=O.length;x--;){let N=u.slice(O[x],O[x+1]),I=o.pop();f.unshift([I,I+N.length-1]),$a(e,I,2,N)}for(x=-1;++x<f.length;)p[E+f[x][0]]=E+f[x][1],E+=f[x][1]-f[x][0]-1;return p}var XD=F(()=>{"use strict";uh();a(v_,"subtokenize");a(rMe,"subcontent")});function iMe(e){return v_(e),e}function aMe(e,t){let r;return n;function n(u){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),i(u)}function i(u){return u===null?o(u):nr(u)?e.check(nMe,s,o)(u):(e.consume(u),i)}function o(u){return e.exit("chunkContent"),e.exit("content"),t(u)}function s(u){return e.consume(u),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function oMe(e,t,r){let n=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Ur(e,o,"linePrefix")}function o(s){if(s===null||nr(s))return r(s);let u=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(s):e.interrupt(n.parser.constructs.flow,r,t)(s)}}var KD,nMe,UK=F(()=>{"use strict";Sa();$n();XD();KD={tokenize:aMe,resolve:iMe},nMe={tokenize:oMe,partial:!0};a(iMe,"resolveContent");a(aMe,"tokenizeContent");a(oMe,"tokenizeContinuation")});function x_(e,t,r,n,i,o,s,u,f){let p=f||Number.POSITIVE_INFINITY,g=0;return y;function y(N){return N===60?(e.enter(n),e.enter(i),e.enter(o),e.consume(N),e.exit(o),x):N===null||N===32||N===41||Fv(N)?r(N):(e.enter(n),e.enter(s),e.enter(u),e.enter("chunkString",{contentType:"string"}),A(N))}function x(N){return N===62?(e.enter(o),e.consume(N),e.exit(o),e.exit(i),e.exit(n),t):(e.enter(u),e.enter("chunkString",{contentType:"string"}),b(N))}function b(N){return N===62?(e.exit("chunkString"),e.exit(u),x(N)):N===null||N===60||nr(N)?r(N):(e.consume(N),N===92?E:b)}function E(N){return N===60||N===62||N===92?(e.consume(N),b):b(N)}function A(N){return!g&&(N===null||N===41||Fi(N))?(e.exit("chunkString"),e.exit(u),e.exit(s),e.exit(n),t(N)):g<p&&N===40?(e.consume(N),g++,A):N===41?(e.consume(N),g--,A):N===null||N===32||N===40||Fv(N)?r(N):(e.consume(N),N===92?O:A)}function O(N){return N===40||N===41||N===92?(e.consume(N),A):A(N)}}var QD=F(()=>{"use strict";$n();a(x_,"factoryDestination")});function b_(e,t,r,n,i,o){let s=this,u=0,f;return p;function p(b){return e.enter(n),e.enter(i),e.consume(b),e.exit(i),e.enter(o),g}function g(b){return u>999||b===null||b===91||b===93&&!f||b===94&&!u&&"_hiddenFootnoteSupport"in s.parser.constructs?r(b):b===93?(e.exit(o),e.enter(i),e.consume(b),e.exit(i),e.exit(n),t):nr(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),g):(e.enter("chunkString",{contentType:"string"}),y(b))}function y(b){return b===null||b===91||b===93||nr(b)||u++>999?(e.exit("chunkString"),g(b)):(e.consume(b),f||(f=!Fr(b)),b===92?x:y)}function x(b){return b===91||b===92||b===93?(e.consume(b),u++,y):y(b)}}var ZD=F(()=>{"use strict";$n();a(b_,"factoryLabel")});function T_(e,t,r,n,i,o){let s;return u;function u(x){return x===34||x===39||x===40?(e.enter(n),e.enter(i),e.consume(x),e.exit(i),s=x===40?41:x,f):r(x)}function f(x){return x===s?(e.enter(i),e.consume(x),e.exit(i),e.exit(n),t):(e.enter(o),p(x))}function p(x){return x===s?(e.exit(o),f(s)):x===null?r(x):nr(x)?(e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),Ur(e,p,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),g(x))}function g(x){return x===s||x===null||nr(x)?(e.exit("chunkString"),p(x)):(e.consume(x),x===92?y:g)}function y(x){return x===s||x===92?(e.consume(x),g):g(x)}}var JD=F(()=>{"use strict";Sa();$n();a(T_,"factoryTitle")});function Wd(e,t){let r;return n;function n(i){return nr(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),r=!0,n):Fr(i)?Ur(e,n,r?"linePrefix":"lineSuffix")(i):t(i)}}var eL=F(()=>{"use strict";Sa();$n();a(Wd,"factoryWhitespace")});function Iu(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var k_=F(()=>{"use strict";a(Iu,"normalizeIdentifier")});function lMe(e,t,r){let n=this,i;return o;function o(b){return e.enter("definition"),s(b)}function s(b){return b_.call(n,e,u,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function u(b){return i=Iu(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),b===58?(e.enter("definitionMarker"),e.consume(b),e.exit("definitionMarker"),f):r(b)}function f(b){return Fi(b)?Wd(e,p)(b):p(b)}function p(b){return x_(e,g,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function g(b){return e.attempt(sMe,y,y)(b)}function y(b){return Fr(b)?Ur(e,x,"whitespace")(b):x(b)}function x(b){return b===null||nr(b)?(e.exit("definition"),n.parser.defined.push(i),t(b)):r(b)}}function cMe(e,t,r){return n;function n(u){return Fi(u)?Wd(e,i)(u):r(u)}function i(u){return T_(e,o,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function o(u){return Fr(u)?Ur(e,s,"whitespace")(u):s(u)}function s(u){return u===null||nr(u)?t(u):r(u)}}var tL,sMe,$K=F(()=>{"use strict";QD();ZD();Sa();JD();eL();$n();k_();tL={name:"definition",tokenize:lMe},sMe={tokenize:cMe,partial:!0};a(lMe,"tokenizeDefinition");a(cMe,"tokenizeTitleBefore")});function uMe(e,t,r){return n;function n(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return nr(o)?(e.exit("hardBreakEscape"),t(o)):r(o)}}var rL,GK=F(()=>{"use strict";$n();rL={name:"hardBreakEscape",tokenize:uMe};a(uMe,"tokenizeHardBreakEscape")});function fMe(e,t){let r=e.length-2,n=3,i,o;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(i={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},o={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},$a(e,n,r-n+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function hMe(e,t,r){let n=0;return i;function i(g){return e.enter("atxHeading"),o(g)}function o(g){return e.enter("atxHeadingSequence"),s(g)}function s(g){return g===35&&n++<6?(e.consume(g),s):g===null||Fi(g)?(e.exit("atxHeadingSequence"),u(g)):r(g)}function u(g){return g===35?(e.enter("atxHeadingSequence"),f(g)):g===null||nr(g)?(e.exit("atxHeading"),t(g)):Fr(g)?Ur(e,u,"whitespace")(g):(e.enter("atxHeadingText"),p(g))}function f(g){return g===35?(e.consume(g),f):(e.exit("atxHeadingSequence"),u(g))}function p(g){return g===null||g===35||Fi(g)?(e.exit("atxHeadingText"),u(g)):(e.consume(g),p)}}var nL,VK=F(()=>{"use strict";Sa();$n();uh();nL={name:"headingAtx",tokenize:hMe,resolve:fMe};a(fMe,"resolveHeadingAtx");a(hMe,"tokenizeHeadingAtx")});var WK,iL,HK=F(()=>{"use strict";WK=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],iL=["pre","script","style","textarea"]});function mMe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function gMe(e,t,r){let n=this,i,o,s,u,f;return p;function p(oe){return g(oe)}function g(oe){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(oe),y}function y(oe){return oe===33?(e.consume(oe),x):oe===47?(e.consume(oe),o=!0,A):oe===63?(e.consume(oe),i=3,n.interrupt?t:Y):ms(oe)?(e.consume(oe),s=String.fromCharCode(oe),O):r(oe)}function x(oe){return oe===45?(e.consume(oe),i=2,b):oe===91?(e.consume(oe),i=5,u=0,E):ms(oe)?(e.consume(oe),i=4,n.interrupt?t:Y):r(oe)}function b(oe){return oe===45?(e.consume(oe),n.interrupt?t:Y):r(oe)}function E(oe){let rt="CDATA[";return oe===rt.charCodeAt(u++)?(e.consume(oe),u===rt.length?n.interrupt?t:K:E):r(oe)}function A(oe){return ms(oe)?(e.consume(oe),s=String.fromCharCode(oe),O):r(oe)}function O(oe){if(oe===null||oe===47||oe===62||Fi(oe)){let rt=oe===47,We=s.toLowerCase();return!rt&&!o&&iL.includes(We)?(i=1,n.interrupt?t(oe):K(oe)):WK.includes(s.toLowerCase())?(i=6,rt?(e.consume(oe),N):n.interrupt?t(oe):K(oe)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(oe):o?I(oe):$(oe))}return oe===45||_o(oe)?(e.consume(oe),s+=String.fromCharCode(oe),O):r(oe)}function N(oe){return oe===62?(e.consume(oe),n.interrupt?t:K):r(oe)}function I(oe){return Fr(oe)?(e.consume(oe),I):W(oe)}function $(oe){return oe===47?(e.consume(oe),W):oe===58||oe===95||ms(oe)?(e.consume(oe),X):Fr(oe)?(e.consume(oe),$):W(oe)}function X(oe){return oe===45||oe===46||oe===58||oe===95||_o(oe)?(e.consume(oe),X):q(oe)}function q(oe){return oe===61?(e.consume(oe),M):Fr(oe)?(e.consume(oe),q):$(oe)}function M(oe){return oe===null||oe===60||oe===61||oe===62||oe===96?r(oe):oe===34||oe===39?(e.consume(oe),f=oe,B):Fr(oe)?(e.consume(oe),M):G(oe)}function B(oe){return oe===f?(e.consume(oe),f=null,U):oe===null||nr(oe)?r(oe):(e.consume(oe),B)}function G(oe){return oe===null||oe===34||oe===39||oe===47||oe===60||oe===61||oe===62||oe===96||Fi(oe)?q(oe):(e.consume(oe),G)}function U(oe){return oe===47||oe===62||Fr(oe)?$(oe):r(oe)}function W(oe){return oe===62?(e.consume(oe),D):r(oe)}function D(oe){return oe===null||nr(oe)?K(oe):Fr(oe)?(e.consume(oe),D):r(oe)}function K(oe){return oe===45&&i===2?(e.consume(oe),ee):oe===60&&i===1?(e.consume(oe),H):oe===62&&i===4?(e.consume(oe),de):oe===63&&i===3?(e.consume(oe),Y):oe===93&&i===5?(e.consume(oe),J):nr(oe)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(dMe,Fe,P)(oe)):oe===null||nr(oe)?(e.exit("htmlFlowData"),P(oe)):(e.consume(oe),K)}function P(oe){return e.check(pMe,re,Fe)(oe)}function re(oe){return e.enter("lineEnding"),e.consume(oe),e.exit("lineEnding"),ce}function ce(oe){return oe===null||nr(oe)?P(oe):(e.enter("htmlFlowData"),K(oe))}function ee(oe){return oe===45?(e.consume(oe),Y):K(oe)}function H(oe){return oe===47?(e.consume(oe),s="",te):K(oe)}function te(oe){if(oe===62){let rt=s.toLowerCase();return iL.includes(rt)?(e.consume(oe),de):K(oe)}return ms(oe)&&s.length<8?(e.consume(oe),s+=String.fromCharCode(oe),te):K(oe)}function J(oe){return oe===93?(e.consume(oe),Y):K(oe)}function Y(oe){return oe===62?(e.consume(oe),de):oe===45&&i===2?(e.consume(oe),Y):K(oe)}function de(oe){return oe===null||nr(oe)?(e.exit("htmlFlowData"),Fe(oe)):(e.consume(oe),de)}function Fe(oe){return e.exit("htmlFlow"),t(oe)}}function yMe(e,t,r){let n=this;return i;function i(s){return nr(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),o):r(s)}function o(s){return n.parser.lazy[n.now().line]?r(s):t(s)}}function vMe(e,t,r){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(hh,t,r)}}var aL,dMe,pMe,jK=F(()=>{"use strict";$n();HK();h_();aL={name:"htmlFlow",tokenize:gMe,resolveTo:mMe,concrete:!0},dMe={tokenize:vMe,partial:!0},pMe={tokenize:yMe,partial:!0};a(mMe,"resolveToHtmlFlow");a(gMe,"tokenizeHtmlFlow");a(yMe,"tokenizeNonLazyContinuationStart");a(vMe,"tokenizeBlankLineBefore")});function xMe(e,t,r){let n=this,i,o,s;return u;function u(Y){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(Y),f}function f(Y){return Y===33?(e.consume(Y),p):Y===47?(e.consume(Y),q):Y===63?(e.consume(Y),$):ms(Y)?(e.consume(Y),G):r(Y)}function p(Y){return Y===45?(e.consume(Y),g):Y===91?(e.consume(Y),o=0,E):ms(Y)?(e.consume(Y),I):r(Y)}function g(Y){return Y===45?(e.consume(Y),b):r(Y)}function y(Y){return Y===null?r(Y):Y===45?(e.consume(Y),x):nr(Y)?(s=y,H(Y)):(e.consume(Y),y)}function x(Y){return Y===45?(e.consume(Y),b):y(Y)}function b(Y){return Y===62?ee(Y):Y===45?x(Y):y(Y)}function E(Y){let de="CDATA[";return Y===de.charCodeAt(o++)?(e.consume(Y),o===de.length?A:E):r(Y)}function A(Y){return Y===null?r(Y):Y===93?(e.consume(Y),O):nr(Y)?(s=A,H(Y)):(e.consume(Y),A)}function O(Y){return Y===93?(e.consume(Y),N):A(Y)}function N(Y){return Y===62?ee(Y):Y===93?(e.consume(Y),N):A(Y)}function I(Y){return Y===null||Y===62?ee(Y):nr(Y)?(s=I,H(Y)):(e.consume(Y),I)}function $(Y){return Y===null?r(Y):Y===63?(e.consume(Y),X):nr(Y)?(s=$,H(Y)):(e.consume(Y),$)}function X(Y){return Y===62?ee(Y):$(Y)}function q(Y){return ms(Y)?(e.consume(Y),M):r(Y)}function M(Y){return Y===45||_o(Y)?(e.consume(Y),M):B(Y)}function B(Y){return nr(Y)?(s=B,H(Y)):Fr(Y)?(e.consume(Y),B):ee(Y)}function G(Y){return Y===45||_o(Y)?(e.consume(Y),G):Y===47||Y===62||Fi(Y)?U(Y):r(Y)}function U(Y){return Y===47?(e.consume(Y),ee):Y===58||Y===95||ms(Y)?(e.consume(Y),W):nr(Y)?(s=U,H(Y)):Fr(Y)?(e.consume(Y),U):ee(Y)}function W(Y){return Y===45||Y===46||Y===58||Y===95||_o(Y)?(e.consume(Y),W):D(Y)}function D(Y){return Y===61?(e.consume(Y),K):nr(Y)?(s=D,H(Y)):Fr(Y)?(e.consume(Y),D):U(Y)}function K(Y){return Y===null||Y===60||Y===61||Y===62||Y===96?r(Y):Y===34||Y===39?(e.consume(Y),i=Y,P):nr(Y)?(s=K,H(Y)):Fr(Y)?(e.consume(Y),K):(e.consume(Y),re)}function P(Y){return Y===i?(e.consume(Y),i=void 0,ce):Y===null?r(Y):nr(Y)?(s=P,H(Y)):(e.consume(Y),P)}function re(Y){return Y===null||Y===34||Y===39||Y===60||Y===61||Y===96?r(Y):Y===47||Y===62||Fi(Y)?U(Y):(e.consume(Y),re)}function ce(Y){return Y===47||Y===62||Fi(Y)?U(Y):r(Y)}function ee(Y){return Y===62?(e.consume(Y),e.exit("htmlTextData"),e.exit("htmlText"),t):r(Y)}function H(Y){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(Y),e.exit("lineEnding"),te}function te(Y){return Fr(Y)?Ur(e,J,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Y):J(Y)}function J(Y){return e.enter("htmlTextData"),s(Y)}}var oL,YK=F(()=>{"use strict";Sa();$n();oL={name:"htmlText",tokenize:xMe};a(xMe,"tokenizeHtmlText")});function _Me(e){let t=-1;for(;++t<e.length;){let r=e[t][1];(r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd")&&(e.splice(t+1,r.type==="labelImage"?4:2),r.type="data",t++)}return e}function wMe(e,t){let r=e.length,n=0,i,o,s,u;for(;r--;)if(i=e[r][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=r,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(s=r);let f={type:e[o][1].type==="labelLink"?"link":"image",start:Object.assign({},e[o][1].start),end:Object.assign({},e[e.length-1][1].end)},p={type:"label",start:Object.assign({},e[o][1].start),end:Object.assign({},e[s][1].end)},g={type:"labelText",start:Object.assign({},e[o+n+2][1].end),end:Object.assign({},e[s-2][1].start)};return u=[["enter",f,t],["enter",p,t]],u=ko(u,e.slice(o+1,o+n+3)),u=ko(u,[["enter",g,t]]),u=ko(u,mg(t.parser.constructs.insideSpan.null,e.slice(o+n+4,s-3),t)),u=ko(u,[["exit",g,t],e[s-2],e[s-1],["exit",p,t]]),u=ko(u,e.slice(s+1)),u=ko(u,[["exit",f,t]]),$a(e,o,e.length,u),e}function EMe(e,t,r){let n=this,i=n.events.length,o,s;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){o=n.events[i][1];break}return u;function u(x){return o?o._inactive?y(x):(s=n.parser.defined.includes(Iu(n.sliceSerialize({start:o.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(x),e.exit("labelMarker"),e.exit("labelEnd"),f):r(x)}function f(x){return x===40?e.attempt(bMe,g,s?g:y)(x):x===91?e.attempt(TMe,g,s?p:y)(x):s?g(x):y(x)}function p(x){return e.attempt(kMe,g,y)(x)}function g(x){return t(x)}function y(x){return o._balanced=!0,r(x)}}function CMe(e,t,r){return n;function n(y){return e.enter("resource"),e.enter("resourceMarker"),e.consume(y),e.exit("resourceMarker"),i}function i(y){return Fi(y)?Wd(e,o)(y):o(y)}function o(y){return y===41?g(y):x_(e,s,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(y)}function s(y){return Fi(y)?Wd(e,f)(y):g(y)}function u(y){return r(y)}function f(y){return y===34||y===39||y===40?T_(e,p,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(y):g(y)}function p(y){return Fi(y)?Wd(e,g)(y):g(y)}function g(y){return y===41?(e.enter("resourceMarker"),e.consume(y),e.exit("resourceMarker"),e.exit("resource"),t):r(y)}}function SMe(e,t,r){let n=this;return i;function i(u){return b_.call(n,e,o,s,"reference","referenceMarker","referenceString")(u)}function o(u){return n.parser.defined.includes(Iu(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(u):r(u)}function s(u){return r(u)}}function AMe(e,t,r){return n;function n(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):r(o)}}var Hd,bMe,TMe,kMe,__=F(()=>{"use strict";QD();ZD();JD();eL();$n();uh();k_();f_();Hd={name:"labelEnd",tokenize:EMe,resolveTo:wMe,resolveAll:_Me},bMe={tokenize:CMe},TMe={tokenize:SMe},kMe={tokenize:AMe};a(_Me,"resolveAllLabelEnd");a(wMe,"resolveToLabelEnd");a(EMe,"tokenizeLabelEnd");a(CMe,"tokenizeResource");a(SMe,"tokenizeReferenceFull");a(AMe,"tokenizeReferenceCollapsed")});function RMe(e,t,r){let n=this;return i;function i(u){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(u),e.exit("labelImageMarker"),o}function o(u){return u===91?(e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelImage"),s):r(u)}function s(u){return u===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(u):t(u)}}var sL,XK=F(()=>{"use strict";__();sL={name:"labelStartImage",tokenize:RMe,resolveAll:Hd.resolveAll};a(RMe,"tokenizeLabelStartImage")});function DMe(e,t,r){let n=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),o}function o(s){return s===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(s):t(s)}}var lL,KK=F(()=>{"use strict";__();lL={name:"labelStartLink",tokenize:DMe,resolveAll:Hd.resolveAll};a(DMe,"tokenizeLabelStartLink")});function LMe(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),Ur(e,t,"linePrefix")}}var Uv,QK=F(()=>{"use strict";Sa();Uv={name:"lineEnding",tokenize:LMe};a(LMe,"tokenizeLineEnding")});function IMe(e,t,r){let n=0,i;return o;function o(p){return e.enter("thematicBreak"),s(p)}function s(p){return i=p,u(p)}function u(p){return p===i?(e.enter("thematicBreakSequence"),f(p)):n>=3&&(p===null||nr(p))?(e.exit("thematicBreak"),t(p)):r(p)}function f(p){return p===i?(e.consume(p),n++,f):(e.exit("thematicBreakSequence"),Fr(p)?Ur(e,u,"whitespace")(p):u(p))}}var jd,cL=F(()=>{"use strict";Sa();$n();jd={name:"thematicBreak",tokenize:IMe};a(IMe,"tokenizeThematicBreak")});function OMe(e,t,r){let n=this,i=n.events[n.events.length-1],o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return u;function u(b){let E=n.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(E==="listUnordered"?!n.containerState.marker||b===n.containerState.marker:Bv(b)){if(n.containerState.type||(n.containerState.type=E,e.enter(E,{_container:!0})),E==="listUnordered")return e.enter("listItemPrefix"),b===42||b===45?e.check(jd,r,p)(b):p(b);if(!n.interrupt||b===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),f(b)}return r(b)}function f(b){return Bv(b)&&++s<10?(e.consume(b),f):(!n.interrupt||s<2)&&(n.containerState.marker?b===n.containerState.marker:b===41||b===46)?(e.exit("listItemValue"),p(b)):r(b)}function p(b){return e.enter("listItemMarker"),e.consume(b),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||b,e.check(hh,n.interrupt?r:g,e.attempt(NMe,x,y))}function g(b){return n.containerState.initialBlankLine=!0,o++,x(b)}function y(b){return Fr(b)?(e.enter("listItemPrefixWhitespace"),e.consume(b),e.exit("listItemPrefixWhitespace"),x):r(b)}function x(b){return n.containerState.size=o+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(b)}}function MMe(e,t,r){let n=this;return n.containerState._closeFlow=void 0,e.check(hh,i,o);function i(u){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,Ur(e,t,"listItemIndent",n.containerState.size+1)(u)}a(i,"onBlank");function o(u){return n.containerState.furtherBlankLines||!Fr(u)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,s(u)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(PMe,t,s)(u))}a(o,"notBlank");function s(u){return n.containerState._closeFlow=!0,n.interrupt=void 0,Ur(e,e.attempt(ro,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}a(s,"notInCurrentItem")}function FMe(e,t,r){let n=this;return Ur(e,i,"listItemIndent",n.containerState.size+1);function i(o){let s=n.events[n.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===n.containerState.size?t(o):r(o)}}function BMe(e){e.exit(this.containerState.type)}function qMe(e,t,r){let n=this;return Ur(e,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(o){let s=n.events[n.events.length-1];return!Fr(o)&&s&&s[1].type==="listItemPrefixWhitespace"?t(o):r(o)}}var ro,NMe,PMe,ZK=F(()=>{"use strict";Sa();$n();h_();cL();ro={name:"list",tokenize:OMe,continuation:{tokenize:MMe},exit:BMe},NMe={tokenize:qMe,partial:!0},PMe={tokenize:FMe,partial:!0};a(OMe,"tokenizeListStart");a(MMe,"tokenizeListContinuation");a(FMe,"tokenizeIndent");a(BMe,"tokenizeListEnd");a(qMe,"tokenizeListItemPrefixWhitespace")});function zMe(e,t){let r=e.length,n,i,o;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(i=r)}else e[r][1].type==="content"&&e.splice(r,1),!o&&e[r][1].type==="definition"&&(o=r);let s={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",s,t]),e.splice(o+1,0,["exit",e[n][1],t]),e[n][1].end=Object.assign({},e[o][1].end)):e[n][1]=s,e.push(["exit",s,t]),e}function UMe(e,t,r){let n=this,i;return o;function o(p){let g=n.events.length,y;for(;g--;)if(n.events[g][1].type!=="lineEnding"&&n.events[g][1].type!=="linePrefix"&&n.events[g][1].type!=="content"){y=n.events[g][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||y)?(e.enter("setextHeadingLine"),i=p,s(p)):r(p)}function s(p){return e.enter("setextHeadingLineSequence"),u(p)}function u(p){return p===i?(e.consume(p),u):(e.exit("setextHeadingLineSequence"),Fr(p)?Ur(e,f,"lineSuffix")(p):f(p))}function f(p){return p===null||nr(p)?(e.exit("setextHeadingLine"),t(p)):r(p)}}var w_,JK=F(()=>{"use strict";Sa();$n();w_={name:"setextUnderline",tokenize:UMe,resolveTo:zMe};a(zMe,"resolveToSetextUnderline");a(UMe,"tokenizeSetextUnderline")});var uL=F(()=>{"use strict";LK();IK();h_();NK();PK();MK();BK();qK();zK();UK();$K();GK();VK();jK();YK();__();XK();KK();QK();ZK();JK();cL()});function $Me(e){let t=this,r=e.attempt(hh,n,e.attempt(this.parser.constructs.flowInitial,i,Ur(e,e.attempt(this.parser.constructs.flow,i,e.attempt(KD,i)),"linePrefix")));return r;function n(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,r}}var eQ,tQ=F(()=>{"use strict";uL();Sa();eQ={tokenize:$Me};a($Me,"initializeFlow")});function aQ(e){return{tokenize:t,resolveAll:oQ(e==="text"?GMe:void 0)};function t(r){let n=this,i=this.parser.constructs[e],o=r.attempt(i,s,u);return s;function s(g){return p(g)?o(g):u(g)}function u(g){if(g===null){r.consume(g);return}return r.enter("data"),r.consume(g),f}function f(g){return p(g)?(r.exit("data"),o(g)):(r.consume(g),f)}function p(g){if(g===null)return!0;let y=i[g],x=-1;if(y)for(;++x<y.length;){let b=y[x];if(!b.previous||b.previous.call(n,n.previous))return!0}return!1}}}function oQ(e){return t;function t(r,n){let i=-1,o;for(;++i<=r.length;)o===void 0?r[i]&&r[i][1].type==="data"&&(o=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==o+2&&(r[o][1].end=r[i-1][1].end,r.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(r,n):r}}function GMe(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){let n=e[r-1][1],i=t.sliceStream(n),o=i.length,s=-1,u=0,f;for(;o--;){let p=i[o];if(typeof p=="string"){for(s=p.length;p.charCodeAt(s-1)===32;)u++,s--;if(s)break;s=-1}else if(p===-2)f=!0,u++;else if(p!==-1){o++;break}}if(u){let p={type:r===e.length||f||u<2?"lineSuffix":"hardBreakTrailing",start:{line:n.end.line,column:n.end.column-u,offset:n.end.offset-u,_index:n.start._index+o,_bufferIndex:o?s:n.start._bufferIndex+s},end:Object.assign({},n.end)};n.end=Object.assign({},p.start),n.start.offset===n.end.offset?Object.assign(n,p):(e.splice(r,0,["enter",p,t],["exit",p,t]),r+=2)}r++}return e}var rQ,nQ,iQ,fL=F(()=>{"use strict";rQ={resolveAll:oQ()},nQ=aQ("string"),iQ=aQ("text");a(aQ,"initializeFactory");a(oQ,"createResolver");a(GMe,"resolveAllLineSuffixes")});function sQ(e,t,r){let n=Object.assign(r?Object.assign({},r):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1}),i={},o=[],s=[],u=[],f=!0,p={consume:X,enter:q,exit:M,attempt:U(B),check:U(G),interrupt:U(G,{interrupt:!0})},g={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:A,sliceSerialize:E,now:O,defineSkip:N,write:b},y=t.tokenize.call(g,p),x;return t.resolveAll&&o.push(t),g;function b(P){return s=ko(s,P),I(),s[s.length-1]!==null?[]:(W(t,0),g.events=mg(o,g.events,g),g.events)}a(b,"write");function E(P,re){return WMe(A(P),re)}a(E,"sliceSerialize");function A(P){return VMe(s,P)}a(A,"sliceStream");function O(){let{line:P,column:re,offset:ce,_index:ee,_bufferIndex:H}=n;return{line:P,column:re,offset:ce,_index:ee,_bufferIndex:H}}a(O,"now");function N(P){i[P.line]=P.column,K()}a(N,"defineSkip");function I(){let P;for(;n._index<s.length;){let re=s[n._index];if(typeof re=="string")for(P=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===P&&n._bufferIndex<re.length;)$(re.charCodeAt(n._bufferIndex));else $(re)}}a(I,"main");function $(P){f=void 0,x=P,y=y(P)}a($,"go");function X(P){nr(P)?(n.line++,n.column=1,n.offset+=P===-3?2:1,K()):P!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===s[n._index].length&&(n._bufferIndex=-1,n._index++)),g.previous=P,f=!0}a(X,"consume");function q(P,re){let ce=re||{};return ce.type=P,ce.start=O(),g.events.push(["enter",ce,g]),u.push(ce),ce}a(q,"enter");function M(P){let re=u.pop();return re.end=O(),g.events.push(["exit",re,g]),re}a(M,"exit");function B(P,re){W(P,re.from)}a(B,"onsuccessfulconstruct");function G(P,re){re.restore()}a(G,"onsuccessfulcheck");function U(P,re){return ce;function ce(ee,H,te){let J,Y,de,Fe;return Array.isArray(ee)?rt(ee):"tokenize"in ee?rt([ee]):oe(ee);function oe(Ye){return Le;function Le(fe){let le=fe!==null&&Ye[fe],he=fe!==null&&Ye.null,xe=[...Array.isArray(le)?le:le?[le]:[],...Array.isArray(he)?he:he?[he]:[]];return rt(xe)(fe)}}function rt(Ye){return J=Ye,Y=0,Ye.length===0?te:We(Ye[Y])}function We(Ye){return Le;function Le(fe){return Fe=D(),de=Ye,Ye.partial||(g.currentConstruct=Ye),Ye.name&&g.parser.constructs.disable.null.includes(Ye.name)?Ve(fe):Ye.tokenize.call(re?Object.assign(Object.create(g),re):g,p,_e,Ve)(fe)}}function _e(Ye){return f=!0,P(de,Fe),H}function Ve(Ye){return f=!0,Fe.restore(),++Y<J.length?We(J[Y]):te}}}a(U,"constructFactory");function W(P,re){P.resolveAll&&!o.includes(P)&&o.push(P),P.resolve&&$a(g.events,re,g.events.length-re,P.resolve(g.events.slice(re),g)),P.resolveTo&&(g.events=P.resolveTo(g.events,g))}a(W,"addResult");function D(){let P=O(),re=g.previous,ce=g.currentConstruct,ee=g.events.length,H=Array.from(u);return{restore:te,from:ee};function te(){n=P,g.previous=re,g.currentConstruct=ce,g.events.length=ee,u=H,K()}}a(D,"store");function K(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}a(K,"accountForPotentialSkip")}function VMe(e,t){let r=t.start._index,n=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex,s;if(r===i)s=[e[r].slice(n,o)];else{if(s=e.slice(r,i),n>-1){let u=s[0];typeof u=="string"?s[0]=u.slice(n):s.shift()}o>0&&s.push(e[i].slice(0,o))}return s}function WMe(e,t){let r=-1,n=[],i;for(;++r<e.length;){let o=e[r],s;if(typeof o=="string")s=o;else switch(o){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(o)}i=o===-2,n.push(s)}return n.join("")}var lQ=F(()=>{"use strict";$n();uh();f_();a(sQ,"createTokenizer");a(VMe,"sliceChunks");a(WMe,"serializeChunks")});var hL={};ii(hL,{attentionMarkers:()=>JMe,contentInitial:()=>jMe,disable:()=>e8e,document:()=>HMe,flow:()=>XMe,flowInitial:()=>YMe,insideSpan:()=>ZMe,string:()=>KMe,text:()=>QMe});var HMe,jMe,YMe,XMe,KMe,QMe,ZMe,JMe,e8e,cQ=F(()=>{"use strict";uL();fL();HMe={42:ro,43:ro,45:ro,48:ro,49:ro,50:ro,51:ro,52:ro,53:ro,54:ro,55:ro,56:ro,57:ro,62:d_},jMe={91:tL},YMe={[-2]:zv,[-1]:zv,32:zv},XMe={35:nL,42:jd,45:[w_,jd],60:aL,61:w_,95:jd,96:y_,126:y_},KMe={38:g_,92:p_},QMe={[-5]:Uv,[-4]:Uv,[-3]:Uv,33:sL,38:g_,42:qv,60:[jD,oL],91:lL,92:[rL,p_],93:Hd,95:qv,96:YD},ZMe={null:[qv,rQ]},JMe={null:[42,95]},e8e={null:[]}});function uQ(e){let r=mK([hL,...(e||{}).extensions||[]]),n={defined:[],lazy:{},constructs:r,content:i(wK),document:i(SK),flow:i(eQ),string:i(nQ),text:i(iQ)};return n;function i(o){return s;function s(u){return sQ(n,o,u)}}}var fQ=F(()=>{"use strict";gK();EK();AK();tQ();fL();lQ();cQ();a(uQ,"parse")});function dQ(){let e=1,t="",r=!0,n;return i;function i(o,s,u){let f=[],p,g,y,x,b;for(o=t+o.toString(s),y=0,t="",r&&(o.charCodeAt(0)===65279&&y++,r=void 0);y<o.length;){if(hQ.lastIndex=y,p=hQ.exec(o),x=p&&p.index!==void 0?p.index:o.length,b=o.charCodeAt(x),!p){t=o.slice(y);break}if(b===10&&y===x&&n)f.push(-3),n=void 0;else switch(n&&(f.push(-5),n=void 0),y<x&&(f.push(o.slice(y,x)),e+=x-y),b){case 0:{f.push(65533),e++;break}case 9:{for(g=Math.ceil(e/4)*4,f.push(-2);e++<g;)f.push(-1);break}case 10:{f.push(-4),e=1;break}default:n=!0,e=1}y=x+1}return u&&(n&&f.push(-5),t&&f.push(t),f.push(null)),f}}var hQ,pQ=F(()=>{"use strict";hQ=/[\0\t\n\r]/g;a(dQ,"preprocess")});function mQ(e){for(;!v_(e););return e}var gQ=F(()=>{"use strict";XD();a(mQ,"postprocess")});function E_(e,t){let r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"\uFFFD":String.fromCharCode(r)}var dL=F(()=>{"use strict";a(E_,"decodeNumericCharacterReference")});function yQ(e){return e.replace(t8e,r8e)}function r8e(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){let i=r.charCodeAt(1),o=i===120||i===88;return E_(r.slice(o?2:1),o?16:10)}return gg(r)||e}var t8e,vQ=F(()=>{"use strict";m_();dL();t8e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;a(yQ,"decodeString");a(r8e,"decode")});function yg(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?xQ(e.position):"start"in e||"end"in e?xQ(e):"line"in e||"column"in e?pL(e):""}function pL(e){return bQ(e&&e.line)+":"+bQ(e&&e.column)}function xQ(e){return pL(e&&e.start)+"-"+pL(e&&e.end)}function bQ(e){return e&&typeof e=="number"?e:1}var TQ=F(()=>{"use strict";a(yg,"stringifyPosition");a(pL,"point");a(xQ,"position");a(bQ,"index")});var kQ=F(()=>{"use strict";TQ()});function n8e(e){let t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(Lt),autolinkProtocol:D,autolinkEmail:D,atxHeading:u(Ce),blockQuote:u(le),characterEscape:D,characterReference:D,codeFenced:u(he),codeFencedFenceInfo:f,codeFencedFenceMeta:f,codeIndented:u(he,f),codeText:u(xe,f),codeTextData:D,data:D,codeFlowValue:D,definition:u(ke),definitionDestinationString:f,definitionLabelString:f,definitionTitleString:f,emphasis:u(pe),hardBreakEscape:u(Ue),hardBreakTrailing:u(Ue),htmlFlow:u(He,f),htmlFlowData:D,htmlText:u(He,f),htmlTextData:D,image:u(Pt),label:f,link:u(Lt),listItem:u(Kt),listItemValue:E,listOrdered:u(Xt,b),listUnordered:u(Xt),paragraph:u(kr),reference:We,referenceString:f,resourceDestinationString:f,resourceTitleString:f,setextHeading:u(Ce),strong:u(bt),thematicBreak:u(qt)},exit:{atxHeading:g(),atxHeadingSequence:B,autolink:g(),autolinkEmail:fe,autolinkProtocol:Le,blockQuote:g(),characterEscapeValue:K,characterReferenceMarkerHexadecimal:Ve,characterReferenceMarkerNumeric:Ve,characterReferenceValue:Ye,codeFenced:g(I),codeFencedFence:N,codeFencedFenceInfo:A,codeFencedFenceMeta:O,codeFlowValue:K,codeIndented:g($),codeText:g(H),codeTextData:K,data:K,definition:g(),definitionDestinationString:M,definitionLabelString:X,definitionTitleString:q,emphasis:g(),hardBreakEscape:g(re),hardBreakTrailing:g(re),htmlFlow:g(ce),htmlFlowData:K,htmlText:g(ee),htmlTextData:K,image:g(J),label:de,labelText:Y,lineEnding:P,link:g(te),listItem:g(),listOrdered:g(),listUnordered:g(),paragraph:g(),referenceString:_e,resourceDestinationString:Fe,resourceTitleString:oe,resource:rt,setextHeading:g(W),setextHeadingLineSequence:U,setextHeadingText:G,strong:g(),thematicBreak:g()}};EQ(t,(e||{}).mdastExtensions||[]);let r={};return n;function n(ze){let $e={type:"root",children:[]},Te={stack:[$e],tokenStack:[],config:t,enter:p,exit:y,buffer:f,resume:x,setData:o,getData:s},pt=[],it=-1;for(;++it<ze.length;)if(ze[it][1].type==="listOrdered"||ze[it][1].type==="listUnordered")if(ze[it][0]==="enter")pt.push(it);else{let Qt=pt.pop();it=i(ze,Qt,it)}for(it=-1;++it<ze.length;){let Qt=t[ze[it][0]];wQ.call(Qt,ze[it][1].type)&&Qt[ze[it][1].type].call(Object.assign({sliceSerialize:ze[it][2].sliceSerialize},Te),ze[it][1])}if(Te.tokenStack.length>0){let Qt=Te.tokenStack[Te.tokenStack.length-1];(Qt[1]||_Q).call(Te,void 0,Qt[0])}for($e.position={start:dh(ze.length>0?ze[0][1].start:{line:1,column:1,offset:0}),end:dh(ze.length>0?ze[ze.length-2][1].end:{line:1,column:1,offset:0})},it=-1;++it<t.transforms.length;)$e=t.transforms[it]($e)||$e;return $e}function i(ze,$e,Te){let pt=$e-1,it=-1,Qt=!1,_r,Zt,mr,sn;for(;++pt<=Te;){let ir=ze[pt];if(ir[1].type==="listUnordered"||ir[1].type==="listOrdered"||ir[1].type==="blockQuote"?(ir[0]==="enter"?it++:it--,sn=void 0):ir[1].type==="lineEndingBlank"?ir[0]==="enter"&&(_r&&!sn&&!it&&!mr&&(mr=pt),sn=void 0):ir[1].type==="linePrefix"||ir[1].type==="listItemValue"||ir[1].type==="listItemMarker"||ir[1].type==="listItemPrefix"||ir[1].type==="listItemPrefixWhitespace"||(sn=void 0),!it&&ir[0]==="enter"&&ir[1].type==="listItemPrefix"||it===-1&&ir[0]==="exit"&&(ir[1].type==="listUnordered"||ir[1].type==="listOrdered")){if(_r){let xr=pt;for(Zt=void 0;xr--;){let Yt=ze[xr];if(Yt[1].type==="lineEnding"||Yt[1].type==="lineEndingBlank"){if(Yt[0]==="exit")continue;Zt&&(ze[Zt][1].type="lineEndingBlank",Qt=!0),Yt[1].type="lineEnding",Zt=xr}else if(!(Yt[1].type==="linePrefix"||Yt[1].type==="blockQuotePrefix"||Yt[1].type==="blockQuotePrefixWhitespace"||Yt[1].type==="blockQuoteMarker"||Yt[1].type==="listItemIndent"))break}mr&&(!Zt||mr<Zt)&&(_r._spread=!0),_r.end=Object.assign({},Zt?ze[Zt][1].start:ir[1].end),ze.splice(Zt||pt,0,["exit",_r,ir[2]]),pt++,Te++}ir[1].type==="listItemPrefix"&&(_r={type:"listItem",_spread:!1,start:Object.assign({},ir[1].start)},ze.splice(pt,0,["enter",_r,ir[2]]),pt++,Te++,mr=void 0,sn=!0)}}return ze[$e][1]._spread=Qt,Te}function o(ze,$e){r[ze]=$e}function s(ze){return r[ze]}function u(ze,$e){return Te;function Te(pt){p.call(this,ze(pt),pt),$e&&$e.call(this,pt)}}function f(){this.stack.push({type:"fragment",children:[]})}function p(ze,$e,Te){return this.stack[this.stack.length-1].children.push(ze),this.stack.push(ze),this.tokenStack.push([$e,Te]),ze.position={start:dh($e.start)},ze}function g(ze){return $e;function $e(Te){ze&&ze.call(this,Te),y.call(this,Te)}}function y(ze,$e){let Te=this.stack.pop(),pt=this.tokenStack.pop();if(pt)pt[0].type!==ze.type&&($e?$e.call(this,ze,pt[0]):(pt[1]||_Q).call(this,ze,pt[0]));else throw new Error("Cannot close `"+ze.type+"` ("+yg({start:ze.start,end:ze.end})+"): it\u2019s not open");return Te.position.end=dh(ze.end),Te}function x(){return WD(this.stack.pop())}function b(){o("expectingFirstListItemValue",!0)}function E(ze){if(s("expectingFirstListItemValue")){let $e=this.stack[this.stack.length-2];$e.start=Number.parseInt(this.sliceSerialize(ze),10),o("expectingFirstListItemValue")}}function A(){let ze=this.resume(),$e=this.stack[this.stack.length-1];$e.lang=ze}function O(){let ze=this.resume(),$e=this.stack[this.stack.length-1];$e.meta=ze}function N(){s("flowCodeInside")||(this.buffer(),o("flowCodeInside",!0))}function I(){let ze=this.resume(),$e=this.stack[this.stack.length-1];$e.value=ze.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),o("flowCodeInside")}function $(){let ze=this.resume(),$e=this.stack[this.stack.length-1];$e.value=ze.replace(/(\r?\n|\r)$/g,"")}function X(ze){let $e=this.resume(),Te=this.stack[this.stack.length-1];Te.label=$e,Te.identifier=Iu(this.sliceSerialize(ze)).toLowerCase()}function q(){let ze=this.resume(),$e=this.stack[this.stack.length-1];$e.title=ze}function M(){let ze=this.resume(),$e=this.stack[this.stack.length-1];$e.url=ze}function B(ze){let $e=this.stack[this.stack.length-1];if(!$e.depth){let Te=this.sliceSerialize(ze).length;$e.depth=Te}}function G(){o("setextHeadingSlurpLineEnding",!0)}function U(ze){let $e=this.stack[this.stack.length-1];$e.depth=this.sliceSerialize(ze).charCodeAt(0)===61?1:2}function W(){o("setextHeadingSlurpLineEnding")}function D(ze){let $e=this.stack[this.stack.length-1],Te=$e.children[$e.children.length-1];(!Te||Te.type!=="text")&&(Te=gt(),Te.position={start:dh(ze.start)},$e.children.push(Te)),this.stack.push(Te)}function K(ze){let $e=this.stack.pop();$e.value+=this.sliceSerialize(ze),$e.position.end=dh(ze.end)}function P(ze){let $e=this.stack[this.stack.length-1];if(s("atHardBreak")){let Te=$e.children[$e.children.length-1];Te.position.end=dh(ze.end),o("atHardBreak");return}!s("setextHeadingSlurpLineEnding")&&t.canContainEols.includes($e.type)&&(D.call(this,ze),K.call(this,ze))}function re(){o("atHardBreak",!0)}function ce(){let ze=this.resume(),$e=this.stack[this.stack.length-1];$e.value=ze}function ee(){let ze=this.resume(),$e=this.stack[this.stack.length-1];$e.value=ze}function H(){let ze=this.resume(),$e=this.stack[this.stack.length-1];$e.value=ze}function te(){let ze=this.stack[this.stack.length-1];if(s("inReference")){let $e=s("referenceType")||"shortcut";ze.type+="Reference",ze.referenceType=$e,delete ze.url,delete ze.title}else delete ze.identifier,delete ze.label;o("referenceType")}function J(){let ze=this.stack[this.stack.length-1];if(s("inReference")){let $e=s("referenceType")||"shortcut";ze.type+="Reference",ze.referenceType=$e,delete ze.url,delete ze.title}else delete ze.identifier,delete ze.label;o("referenceType")}function Y(ze){let $e=this.sliceSerialize(ze),Te=this.stack[this.stack.length-2];Te.label=yQ($e),Te.identifier=Iu($e).toLowerCase()}function de(){let ze=this.stack[this.stack.length-1],$e=this.resume(),Te=this.stack[this.stack.length-1];if(o("inReference",!0),Te.type==="link"){let pt=ze.children;Te.children=pt}else Te.alt=$e}function Fe(){let ze=this.resume(),$e=this.stack[this.stack.length-1];$e.url=ze}function oe(){let ze=this.resume(),$e=this.stack[this.stack.length-1];$e.title=ze}function rt(){o("inReference")}function We(){o("referenceType","collapsed")}function _e(ze){let $e=this.resume(),Te=this.stack[this.stack.length-1];Te.label=$e,Te.identifier=Iu(this.sliceSerialize(ze)).toLowerCase(),o("referenceType","full")}function Ve(ze){o("characterReferenceType",ze.type)}function Ye(ze){let $e=this.sliceSerialize(ze),Te=s("characterReferenceType"),pt;Te?(pt=E_($e,Te==="characterReferenceMarkerNumeric"?10:16),o("characterReferenceType")):pt=gg($e);let it=this.stack.pop();it.value+=pt,it.position.end=dh(ze.end)}function Le(ze){K.call(this,ze);let $e=this.stack[this.stack.length-1];$e.url=this.sliceSerialize(ze)}function fe(ze){K.call(this,ze);let $e=this.stack[this.stack.length-1];$e.url="mailto:"+this.sliceSerialize(ze)}function le(){return{type:"blockquote",children:[]}}function he(){return{type:"code",lang:null,meta:null,value:""}}function xe(){return{type:"inlineCode",value:""}}function ke(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function pe(){return{type:"emphasis",children:[]}}function Ce(){return{type:"heading",depth:void 0,children:[]}}function Ue(){return{type:"break"}}function He(){return{type:"html",value:""}}function Pt(){return{type:"image",title:null,url:"",alt:null}}function Lt(){return{type:"link",title:null,url:"",children:[]}}function Xt(ze){return{type:"list",ordered:ze.type==="listOrdered",start:null,spread:ze._spread,children:[]}}function Kt(ze){return{type:"listItem",spread:ze._spread,checked:null,children:[]}}function kr(){return{type:"paragraph",children:[]}}function bt(){return{type:"strong",children:[]}}function gt(){return{type:"text",value:""}}function qt(){return{type:"thematicBreak"}}}function dh(e){return{line:e.line,column:e.column,offset:e.offset}}function EQ(e,t){let r=-1;for(;++r<t.length;){let n=t[r];Array.isArray(n)?EQ(e,n):i8e(e,n)}}function i8e(e,t){let r;for(r in t)if(wQ.call(t,r)){if(r==="canContainEols"){let n=t[r];n&&e[r].push(...n)}else if(r==="transforms"){let n=t[r];n&&e[r].push(...n)}else if(r==="enter"||r==="exit"){let n=t[r];n&&Object.assign(e[r],n)}}}function _Q(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+yg({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+yg({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+yg({start:t.start,end:t.end})+") is still open")}var wQ,C_,CQ=F(()=>{"use strict";dK();fQ();pQ();gQ();dL();vQ();k_();m_();kQ();wQ={}.hasOwnProperty,C_=a(function(e,t,r){return typeof t!="string"&&(r=t,t=void 0),n8e(r)(mQ(uQ(r).document().write(dQ()(e,t,!0))))},"fromMarkdown");a(n8e,"compiler");a(dh,"point");a(EQ,"configure");a(i8e,"extension");a(_Q,"defaultOnError")});var SQ=F(()=>{"use strict";CQ()});function a8e(e){let t=e.replace(/\n{2,}/g,`
`);return Lb(t)}function AQ(e){let t=a8e(e),{children:r}=C_(t),n=[[]],i=0;function o(s,u="normal"){s.type==="text"?s.value.split(`
`).forEach((p,g)=>{g!==0&&(i++,n.push([])),p.split(" ").forEach(y=>{y&&n[i].push({content:y,type:u})})}):(s.type==="strong"||s.type==="emphasis")&&s.children.forEach(f=>{o(f,s.type)})}return a(o,"processNode"),r.forEach(s=>{s.type==="paragraph"&&s.children.forEach(u=>{o(u)})}),n}function RQ(e){let{children:t}=C_(e);function r(n){return n.type==="text"?n.value.replace(/\n/g,"<br/>"):n.type==="strong"?`<strong>${n.children.map(r).join("")}</strong>`:n.type==="emphasis"?`<em>${n.children.map(r).join("")}</em>`:n.type==="paragraph"?`<p>${n.children.map(r).join("")}</p>`:`Unsupported markdown: ${n.type}`}return a(r,"output"),t.map(r).join("")}var DQ=F(()=>{"use strict";SQ();CS();a(a8e,"preprocessMarkdown");a(AQ,"markdownToLines");a(RQ,"markdownToHTML")});function o8e(e){return Intl.Segmenter?[...new Intl.Segmenter().segment(e)].map(t=>t.segment):[...e]}function s8e(e,t){let r=o8e(t.content);return LQ(e,[],r,t.type)}function LQ(e,t,r,n){if(r.length===0)return[{content:t.join(""),type:n},{content:"",type:n}];let[i,...o]=r,s=[...t,i];return e([{content:s.join(""),type:n}])?LQ(e,s,o,n):(t.length===0&&i&&(t.push(i),r.shift()),[{content:t.join(""),type:n},{content:r.join(""),type:n}])}function IQ(e,t){if(e.some(({content:r})=>r.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return mL(e,t)}function mL(e,t,r=[],n=[]){if(e.length===0)return n.length>0&&r.push(n),r.length>0?r:[];let i="";e[0].content===" "&&(i=" ",e.shift());let o=e.shift()??{content:" ",type:"normal"},s=[...n];if(i!==""&&s.push({content:i,type:"normal"}),s.push(o),t(s))return mL(e,t,r,s);if(n.length>0)r.push(n),e.unshift(o);else if(o.content){let[u,f]=s8e(t,o);r.push([u]),f.content&&e.unshift(f)}return mL(e,t,r)}var NQ=F(()=>{"use strict";a(o8e,"splitTextToChars");a(s8e,"splitWordToFitWidth");a(LQ,"splitWordToFitWidthRecursion");a(IQ,"splitLineToFitWidth");a(mL,"splitLineToFitWidthRecursion")});function l8e(e,t){t&&e.attr("style",t)}function c8e(e,t,r,n,i=!1){let o=e.append("foreignObject"),s=o.append("xhtml:div"),u=t.label,f=t.isNode?"nodeLabel":"edgeLabel";s.html(`
    <span class="${f} ${n}" `+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+u+"</span>"),l8e(s,t.labelStyle),s.style("display","table-cell"),s.style("white-space","nowrap"),s.style("max-width",r+"px"),s.attr("xmlns","http://www.w3.org/1999/xhtml"),i&&s.attr("class","labelBkg");let p=s.node().getBoundingClientRect();return p.width===r&&(s.style("display","table"),s.style("white-space","break-spaces"),s.style("width",r+"px"),p=s.node().getBoundingClientRect()),o.style("width",p.width),o.style("height",p.height),o.node()}function gL(e,t,r){return e.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",t*r-.1+"em").attr("dy",r+"em")}function u8e(e,t,r){let n=e.append("text"),i=gL(n,1,t);yL(i,r);let o=i.node().getComputedTextLength();return n.remove(),o}function PQ(e,t,r){let n=e.append("text"),i=gL(n,1,t);yL(i,[{content:r,type:"normal"}]);let o=i.node()?.getBoundingClientRect();return o&&n.remove(),o}function f8e(e,t,r,n=!1){let o=t.append("g"),s=o.insert("rect").attr("class","background"),u=o.append("text").attr("y","-10.1"),f=0;for(let p of r){let g=a(x=>u8e(o,1.1,x)<=e,"checkWidth"),y=g(p)?[p]:IQ(p,g);for(let x of y){let b=gL(u,f,1.1);yL(b,x),f++}}if(n){let p=u.node().getBBox(),g=2;return s.attr("x",-g).attr("y",-g).attr("width",p.width+2*g).attr("height",p.height+2*g),o.node()}else return u.node()}function yL(e,t){e.text(""),t.forEach((r,n)=>{let i=e.append("tspan").attr("font-style",r.type==="emphasis"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",r.type==="strong"?"bold":"normal");n===0?i.text(r.content):i.text(" "+r.content)})}var ph,vg=F(()=>{"use strict";br();DQ();An();NQ();a(l8e,"applyStyle");a(c8e,"addHtmlSpan");a(gL,"createTspan");a(u8e,"computeWidthOfText");a(PQ,"computeDimensionOfText");a(f8e,"createFormattedText");a(yL,"updateTextContentAndStyles");ph=a((e,t="",{style:r="",isTitle:n=!1,classes:i="",useHtmlLabels:o=!0,isNode:s=!0,width:u=200,addSvgBackground:f=!1}={})=>{if(ye.info("createText",t,r,n,i,o,s,f),o){let p=RQ(t),g={isNode:s,label:Tu(p).replace(/fa[blrs]?:fa-[\w-]+/g,x=>`<i class='${x.replace(":"," ")}'></i>`),labelStyle:r.replace("fill:","color:")};return c8e(e,g,u,i,f)}else{let p=AQ(t);return f8e(u,e,p,f)}},"createText")});function Nc(e,t,r,n){return e.insert("polygon",":first-child").attr("points",n.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+r/2+")")}var Aa,yi,S_=F(()=>{"use strict";Mv();vg();Pr();Zr();en();An();Aa=a(async(e,t,r,n)=>{let i,o=t.useHtmlLabels||jn(Me().flowchart.htmlLabels);r?i=r:i="node default";let s=e.insert("g").attr("class",i).attr("id",t.domId||t.id),u=s.insert("g").attr("class","label").attr("style",t.labelStyle),f;t.labelText===void 0?f="":f=typeof t.labelText=="string"?t.labelText:t.labelText[0];let p=u.node(),g;t.labelType==="markdown"?g=ph(u,zn(Tu(f),Me()),{useHtmlLabels:o,width:t.width||Me().flowchart.wrappingWidth,classes:"markdown-node-label"}):g=p.appendChild(Ca(zn(Tu(f),Me()),t.labelStyle,!1,n));let y=g.getBBox(),x=t.padding/2;if(jn(Me().flowchart.htmlLabels)){let b=g.children[0],E=dt(g),A=b.getElementsByTagName("img");if(A){let O=f.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...A].map(N=>new Promise(I=>{function $(){if(N.style.display="flex",N.style.flexDirection="column",O){let X=Me().fontSize?Me().fontSize:window.getComputedStyle(document.body).fontSize,q=5;N.style.width=parseInt(X,10)*q+"px"}else N.style.width="100%";I(N)}a($,"setupImage"),setTimeout(()=>{N.complete&&$()}),N.addEventListener("error",$),N.addEventListener("load",$)})))}y=b.getBoundingClientRect(),E.attr("width",y.width),E.attr("height",y.height)}return o?u.attr("transform","translate("+-y.width/2+", "+-y.height/2+")"):u.attr("transform","translate(0, "+-y.height/2+")"),t.centerLabel&&u.attr("transform","translate("+-y.width/2+", "+-y.height/2+")"),u.insert("rect",":first-child"),{shapeSvg:s,bbox:y,halfPadding:x,label:u}},"labelHelper"),yi=a((e,t)=>{let r=t.node().getBBox();e.width=r.width,e.height=r.height},"updateNodeBounds");a(Nc,"insertPolygonShape")});var Jr,Ul,OQ,MQ,R_,h8e,FQ,BQ,xg,A_,qQ,zQ,UQ,$Q,GQ=F(()=>{"use strict";br();VD();_a();Jr={},Ul={},OQ={},MQ=a(()=>{Ul={},OQ={},Jr={}},"clear"),R_=a((e,t)=>(ye.trace("In isDecendant",t," ",e," = ",Ul[t].includes(e)),!!Ul[t].includes(e)),"isDescendant"),h8e=a((e,t)=>(ye.info("Decendants of ",t," is ",Ul[t]),ye.info("Edge is ",e),e.v===t||e.w===t?!1:Ul[t]?Ul[t].includes(e.v)||R_(e.v,t)||R_(e.w,t)||Ul[t].includes(e.w):(ye.debug("Tilt, ",t,",not in decendants"),!1)),"edgeInCluster"),FQ=a((e,t,r,n)=>{ye.warn("Copying children of ",e,"root",n,"data",t.node(e),n);let i=t.children(e)||[];e!==n&&i.push(e),ye.warn("Copying (nodes) clusterId",e,"nodes",i),i.forEach(o=>{if(t.children(o).length>0)FQ(o,t,r,n);else{let s=t.node(o);ye.info("cp ",o," to ",n," with parent ",e),r.setNode(o,s),n!==t.parent(o)&&(ye.warn("Setting parent",o,t.parent(o)),r.setParent(o,t.parent(o))),e!==n&&o!==e?(ye.debug("Setting parent",o,e),r.setParent(o,e)):(ye.info("In copy ",e,"root",n,"data",t.node(e),n),ye.debug("Not Setting parent for node=",o,"cluster!==rootId",e!==n,"node!==clusterId",o!==e));let u=t.edges(o);ye.debug("Copying Edges",u),u.forEach(f=>{ye.info("Edge",f);let p=t.edge(f.v,f.w,f.name);ye.info("Edge data",p,n);try{h8e(f,n)?(ye.info("Copying as ",f.v,f.w,p,f.name),r.setEdge(f.v,f.w,p,f.name),ye.info("newGraph edges ",r.edges(),r.edge(r.edges()[0]))):ye.info("Skipping copy of edge ",f.v,"-->",f.w," rootId: ",n," clusterId:",e)}catch(g){ye.error(g)}})}ye.debug("Removing node",o),t.removeNode(o)})},"copy"),BQ=a((e,t)=>{let r=t.children(e),n=[...r];for(let i of r)OQ[i]=e,n=[...n,...BQ(i,t)];return n},"extractDescendants"),xg=a((e,t)=>{ye.trace("Searching",e);let r=t.children(e);if(ye.trace("Searching children of id ",e,r),r.length<1)return ye.trace("This is a valid node",e),e;for(let n of r){let i=xg(n,t);if(i)return ye.trace("Found replacement for",e," => ",i),i}},"findNonClusterChild"),A_=a(e=>!Jr[e]||!Jr[e].externalConnections?e:Jr[e]?Jr[e].id:e,"getAnchorId"),qQ=a((e,t)=>{if(!e||t>10){ye.debug("Opting out, no graph ");return}else ye.debug("Opting in, graph ");e.nodes().forEach(function(r){e.children(r).length>0&&(ye.warn("Cluster identified",r," Replacement id in edges: ",xg(r,e)),Ul[r]=BQ(r,e),Jr[r]={id:xg(r,e),clusterData:e.node(r)})}),e.nodes().forEach(function(r){let n=e.children(r),i=e.edges();n.length>0?(ye.debug("Cluster identified",r,Ul),i.forEach(o=>{if(o.v!==r&&o.w!==r){let s=R_(o.v,r),u=R_(o.w,r);s^u&&(ye.warn("Edge: ",o," leaves cluster ",r),ye.warn("Decendants of XXX ",r,": ",Ul[r]),Jr[r].externalConnections=!0)}})):ye.debug("Not a cluster ",r,Ul)}),e.edges().forEach(function(r){let n=e.edge(r);ye.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(r)),ye.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(e.edge(r)));let i=r.v,o=r.w;if(ye.warn("Fix XXX",Jr,"ids:",r.v,r.w,"Translating: ",Jr[r.v]," --- ",Jr[r.w]),Jr[r.v]&&Jr[r.w]&&Jr[r.v]===Jr[r.w]){ye.warn("Fixing and trixing link to self - removing XXX",r.v,r.w,r.name),ye.warn("Fixing and trixing - removing XXX",r.v,r.w,r.name),i=A_(r.v),o=A_(r.w),e.removeEdge(r.v,r.w,r.name);let s=r.w+"---"+r.v;e.setNode(s,{domId:s,id:s,labelStyle:"",labelText:n.label,padding:0,shape:"labelRect",style:""});let u=structuredClone(n),f=structuredClone(n);u.label="",u.arrowTypeEnd="none",f.label="",u.fromCluster=r.v,f.toCluster=r.v,e.setEdge(i,s,u,r.name+"-cyclic-special"),e.setEdge(s,o,f,r.name+"-cyclic-special")}else(Jr[r.v]||Jr[r.w])&&(ye.warn("Fixing and trixing - removing XXX",r.v,r.w,r.name),i=A_(r.v),o=A_(r.w),e.removeEdge(r.v,r.w,r.name),i!==r.v&&(n.fromCluster=r.v),o!==r.w&&(n.toCluster=r.w),ye.warn("Fix Replacing with XXX",i,o,r.name),e.setEdge(i,o,n,r.name))}),ye.warn("Adjusted Graph",zl(e)),zQ(e,0),ye.trace(Jr)},"adjustClustersAndEdges"),zQ=a((e,t)=>{if(ye.warn("extractor - ",t,zl(e),e.children("D")),t>10){ye.error("Bailing out");return}let r=e.nodes(),n=!1;for(let i of r){let o=e.children(i);n=n||o.length>0}if(!n){ye.debug("Done, no node has children",e.nodes());return}ye.debug("Nodes = ",r,t);for(let i of r)if(ye.debug("Extracting node",i,Jr,Jr[i]&&!Jr[i].externalConnections,!e.parent(i),e.node(i),e.children("D")," Depth ",t),!Jr[i])ye.debug("Not a cluster",i,t);else if(!Jr[i].externalConnections&&e.children(i)&&e.children(i).length>0){ye.warn("Cluster without external connections, without a parent and with children",i,t);let s=e.graph().rankdir==="TB"?"LR":"TB";Jr[i]&&Jr[i].clusterData&&Jr[i].clusterData.dir&&(s=Jr[i].clusterData.dir,ye.warn("Fixing dir",Jr[i].clusterData.dir,s));let u=new Yr({multigraph:!0,compound:!0}).setGraph({rankdir:s,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});ye.warn("Old graph before copy",zl(e)),FQ(i,e,u,i),e.setNode(i,{clusterNode:!0,id:i,clusterData:Jr[i].clusterData,labelText:Jr[i].labelText,graph:u}),ye.warn("New graph after copy node: (",i,")",zl(u)),ye.debug("Old graph after copy",zl(e))}else ye.warn("Cluster ** ",i," **not meeting the criteria !externalConnections:",!Jr[i].externalConnections," no parent: ",!e.parent(i)," children ",e.children(i)&&e.children(i).length>0,e.children("D"),t),ye.debug(Jr);r=e.nodes(),ye.warn("New list of nodes",r);for(let i of r){let o=e.node(i);ye.warn(" Now next level",i,o),o.clusterNode&&zQ(o.graph,t+1)}},"extractor"),UQ=a((e,t)=>{if(t.length===0)return[];let r=Object.assign(t);return t.forEach(n=>{let i=e.children(n),o=UQ(e,i);r=[...r,...o]}),r},"sorter"),$Q=a(e=>UQ(e,e.children()),"sortNodesByHierarchy")});function d8e(e,t){return e.intersect(t)}var VQ,WQ=F(()=>{"use strict";a(d8e,"intersectNode");VQ=d8e});function p8e(e,t,r,n){var i=e.x,o=e.y,s=i-n.x,u=o-n.y,f=Math.sqrt(t*t*u*u+r*r*s*s),p=Math.abs(t*r*s/f);n.x<i&&(p=-p);var g=Math.abs(t*r*u/f);return n.y<o&&(g=-g),{x:i+p,y:o+g}}var D_,vL=F(()=>{"use strict";a(p8e,"intersectEllipse");D_=p8e});function m8e(e,t,r){return D_(e,t,t,r)}var HQ,jQ=F(()=>{"use strict";vL();a(m8e,"intersectCircle");HQ=m8e});function g8e(e,t,r,n){var i,o,s,u,f,p,g,y,x,b,E,A,O,N,I;if(i=t.y-e.y,s=e.x-t.x,f=t.x*e.y-e.x*t.y,x=i*r.x+s*r.y+f,b=i*n.x+s*n.y+f,!(x!==0&&b!==0&&YQ(x,b))&&(o=n.y-r.y,u=r.x-n.x,p=n.x*r.y-r.x*n.y,g=o*e.x+u*e.y+p,y=o*t.x+u*t.y+p,!(g!==0&&y!==0&&YQ(g,y))&&(E=i*u-o*s,E!==0)))return A=Math.abs(E/2),O=s*p-u*f,N=O<0?(O-A)/E:(O+A)/E,O=o*f-i*p,I=O<0?(O-A)/E:(O+A)/E,{x:N,y:I}}function YQ(e,t){return e*t>0}var XQ,KQ=F(()=>{"use strict";a(g8e,"intersectLine");a(YQ,"sameSign");XQ=g8e});function y8e(e,t,r){var n=e.x,i=e.y,o=[],s=Number.POSITIVE_INFINITY,u=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(E){s=Math.min(s,E.x),u=Math.min(u,E.y)}):(s=Math.min(s,t.x),u=Math.min(u,t.y));for(var f=n-e.width/2-s,p=i-e.height/2-u,g=0;g<t.length;g++){var y=t[g],x=t[g<t.length-1?g+1:0],b=XQ(e,r,{x:f+y.x,y:p+y.y},{x:f+x.x,y:p+x.y});b&&o.push(b)}return o.length?(o.length>1&&o.sort(function(E,A){var O=E.x-r.x,N=E.y-r.y,I=Math.sqrt(O*O+N*N),$=A.x-r.x,X=A.y-r.y,q=Math.sqrt($*$+X*X);return I<q?-1:I===q?0:1}),o[0]):e}var QQ,ZQ=F(()=>{"use strict";KQ();QQ=y8e;a(y8e,"intersectPolygon")});var v8e,Yd,xL=F(()=>{"use strict";v8e=a((e,t)=>{var r=e.x,n=e.y,i=t.x-r,o=t.y-n,s=e.width/2,u=e.height/2,f,p;return Math.abs(o)*s>Math.abs(i)*u?(o<0&&(u=-u),f=o===0?0:u*i/o,p=u):(i<0&&(s=-s),f=s,p=i===0?0:s*o/i),{x:r+f,y:n+p}},"intersectRect"),Yd=v8e});var vi,bL=F(()=>{"use strict";WQ();jQ();vL();ZQ();xL();vi={node:VQ,circle:HQ,ellipse:D_,polygon:QQ,rect:Yd}});var x8e,JQ,eZ=F(()=>{"use strict";S_();br();Pr();bL();x8e=a(async(e,t)=>{t.useHtmlLabels||Me().flowchart.htmlLabels||(t.centerLabel=!0);let{shapeSvg:n,bbox:i,halfPadding:o}=await Aa(e,t,"node "+t.classes,!0);ye.info("Classes = ",t.classes);let s=n.insert("rect",":first-child");return s.attr("rx",t.rx).attr("ry",t.ry).attr("x",-i.width/2-o).attr("y",-i.height/2-o).attr("width",i.width+t.padding).attr("height",i.height+t.padding),yi(t,s),t.intersect=function(u){return vi.rect(t,u)},n},"note"),JQ=x8e});function aZ(e,t,r,n){let i=[],o=a(u=>{i.push(u,0)},"addBorder"),s=a(u=>{i.push(0,u)},"skipBorder");t.includes("t")?(ye.debug("add top border"),o(r)):s(r),t.includes("r")?(ye.debug("add right border"),o(n)):s(n),t.includes("b")?(ye.debug("add bottom border"),o(r)):s(r),t.includes("l")?(ye.debug("add left border"),o(n)):s(n),e.attr("stroke-dasharray",i.join(" "))}var tZ,gs,rZ,b8e,T8e,k8e,_8e,w8e,E8e,C8e,S8e,A8e,R8e,D8e,L8e,I8e,N8e,P8e,O8e,M8e,nZ,F8e,B8e,iZ,bg,oZ,sZ,lZ,TL,cZ=F(()=>{"use strict";Zr();br();S_();Pr();bL();Mv();eZ();en();tZ=a(e=>e?" "+e:"","formatClass"),gs=a((e,t)=>`${t||"node default"}${tZ(e.classes)} ${tZ(e.class)}`,"getClassesFromNode"),rZ=a(async(e,t)=>{let{shapeSvg:r,bbox:n}=await Aa(e,t,gs(t,void 0),!0),i=n.width+t.padding,o=n.height+t.padding,s=i+o,u=[{x:s/2,y:0},{x:s,y:-s/2},{x:s/2,y:-s},{x:0,y:-s/2}];ye.info("Question main (Circle)");let f=Nc(r,s,s,u);return f.attr("style",t.style),yi(t,f),t.intersect=function(p){return ye.warn("Intersect called"),vi.polygon(t,u,p)},r},"question"),b8e=a((e,t)=>{let r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=28,i=[{x:0,y:n/2},{x:n/2,y:0},{x:0,y:-n/2},{x:-n/2,y:0}];return r.insert("polygon",":first-child").attr("points",i.map(function(s){return s.x+","+s.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),t.width=28,t.height=28,t.intersect=function(s){return vi.circle(t,14,s)},r},"choice"),T8e=a(async(e,t)=>{let{shapeSvg:r,bbox:n}=await Aa(e,t,gs(t,void 0),!0),i=4,o=n.height+t.padding,s=o/i,u=n.width+2*s+t.padding,f=[{x:s,y:0},{x:u-s,y:0},{x:u,y:-o/2},{x:u-s,y:-o},{x:s,y:-o},{x:0,y:-o/2}],p=Nc(r,u,o,f);return p.attr("style",t.style),yi(t,p),t.intersect=function(g){return vi.polygon(t,f,g)},r},"hexagon"),k8e=a(async(e,t)=>{let{shapeSvg:r,bbox:n}=await Aa(e,t,gs(t,void 0),!0),i=n.width+t.padding,o=n.height+t.padding,s=[{x:-o/2,y:0},{x:i,y:0},{x:i,y:-o},{x:-o/2,y:-o},{x:0,y:-o/2}];return Nc(r,i,o,s).attr("style",t.style),t.width=i+o,t.height=o,t.intersect=function(f){return vi.polygon(t,s,f)},r},"rect_left_inv_arrow"),_8e=a(async(e,t)=>{let{shapeSvg:r,bbox:n}=await Aa(e,t,gs(t),!0),i=n.width+t.padding,o=n.height+t.padding,s=[{x:-2*o/6,y:0},{x:i-o/6,y:0},{x:i+2*o/6,y:-o},{x:o/6,y:-o}],u=Nc(r,i,o,s);return u.attr("style",t.style),yi(t,u),t.intersect=function(f){return vi.polygon(t,s,f)},r},"lean_right"),w8e=a(async(e,t)=>{let{shapeSvg:r,bbox:n}=await Aa(e,t,gs(t,void 0),!0),i=n.width+t.padding,o=n.height+t.padding,s=[{x:2*o/6,y:0},{x:i+o/6,y:0},{x:i-2*o/6,y:-o},{x:-o/6,y:-o}],u=Nc(r,i,o,s);return u.attr("style",t.style),yi(t,u),t.intersect=function(f){return vi.polygon(t,s,f)},r},"lean_left"),E8e=a(async(e,t)=>{let{shapeSvg:r,bbox:n}=await Aa(e,t,gs(t,void 0),!0),i=n.width+t.padding,o=n.height+t.padding,s=[{x:-2*o/6,y:0},{x:i+2*o/6,y:0},{x:i-o/6,y:-o},{x:o/6,y:-o}],u=Nc(r,i,o,s);return u.attr("style",t.style),yi(t,u),t.intersect=function(f){return vi.polygon(t,s,f)},r},"trapezoid"),C8e=a(async(e,t)=>{let{shapeSvg:r,bbox:n}=await Aa(e,t,gs(t,void 0),!0),i=n.width+t.padding,o=n.height+t.padding,s=[{x:o/6,y:0},{x:i-o/6,y:0},{x:i+2*o/6,y:-o},{x:-2*o/6,y:-o}],u=Nc(r,i,o,s);return u.attr("style",t.style),yi(t,u),t.intersect=function(f){return vi.polygon(t,s,f)},r},"inv_trapezoid"),S8e=a(async(e,t)=>{let{shapeSvg:r,bbox:n}=await Aa(e,t,gs(t,void 0),!0),i=n.width+t.padding,o=n.height+t.padding,s=[{x:0,y:0},{x:i+o/2,y:0},{x:i,y:-o/2},{x:i+o/2,y:-o},{x:0,y:-o}],u=Nc(r,i,o,s);return u.attr("style",t.style),yi(t,u),t.intersect=function(f){return vi.polygon(t,s,f)},r},"rect_right_inv_arrow"),A8e=a(async(e,t)=>{let{shapeSvg:r,bbox:n}=await Aa(e,t,gs(t,void 0),!0),i=n.width+t.padding,o=i/2,s=o/(2.5+i/50),u=n.height+s+t.padding,f="M 0,"+s+" a "+o+","+s+" 0,0,0 "+i+" 0 a "+o+","+s+" 0,0,0 "+-i+" 0 l 0,"+u+" a "+o+","+s+" 0,0,0 "+i+" 0 l 0,"+-u,p=r.attr("label-offset-y",s).insert("path",":first-child").attr("style",t.style).attr("d",f).attr("transform","translate("+-i/2+","+-(u/2+s)+")");return yi(t,p),t.intersect=function(g){let y=vi.rect(t,g),x=y.x-t.x;if(o!=0&&(Math.abs(x)<t.width/2||Math.abs(x)==t.width/2&&Math.abs(y.y-t.y)>t.height/2-s)){let b=s*s*(1-x*x/(o*o));b!=0&&(b=Math.sqrt(b)),b=s-b,g.y-t.y>0&&(b=-b),y.y+=b}return y},r},"cylinder"),R8e=a(async(e,t)=>{let{shapeSvg:r,bbox:n,halfPadding:i}=await Aa(e,t,"node "+t.classes+" "+t.class,!0),o=r.insert("rect",":first-child"),s=n.width+t.padding,u=n.height+t.padding;if(o.attr("class","basic label-container").attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",-n.width/2-i).attr("y",-n.height/2-i).attr("width",s).attr("height",u),t.props){let f=new Set(Object.keys(t.props));t.props.borders&&(aZ(o,t.props.borders,s,u),f.delete("borders")),f.forEach(p=>{ye.warn(`Unknown node property ${p}`)})}return yi(t,o),t.intersect=function(f){return vi.rect(t,f)},r},"rect"),D8e=a(async(e,t)=>{let{shapeSvg:r}=await Aa(e,t,"label",!0);ye.trace("Classes = ",t.class);let n=r.insert("rect",":first-child"),i=0,o=0;if(n.attr("width",i).attr("height",o),r.attr("class","label edgeLabel"),t.props){let s=new Set(Object.keys(t.props));t.props.borders&&(aZ(n,t.props.borders,i,o),s.delete("borders")),s.forEach(u=>{ye.warn(`Unknown node property ${u}`)})}return yi(t,n),t.intersect=function(s){return vi.rect(t,s)},r},"labelRect");a(aZ,"applyNodePropertyBorders");L8e=a((e,t)=>{let r;t.classes?r="node "+t.classes:r="node default";let n=e.insert("g").attr("class",r).attr("id",t.domId||t.id),i=n.insert("rect",":first-child"),o=n.insert("line"),s=n.insert("g").attr("class","label"),u=t.labelText.flat?t.labelText.flat():t.labelText,f="";typeof u=="object"?f=u[0]:f=u,ye.info("Label text abc79",f,u,typeof u=="object");let p=s.node().appendChild(Ca(f,t.labelStyle,!0,!0)),g={width:0,height:0};if(jn(Me().flowchart.htmlLabels)){let A=p.children[0],O=dt(p);g=A.getBoundingClientRect(),O.attr("width",g.width),O.attr("height",g.height)}ye.info("Text 2",u);let y=u.slice(1,u.length),x=p.getBBox(),b=s.node().appendChild(Ca(y.join?y.join("<br/>"):y,t.labelStyle,!0,!0));if(jn(Me().flowchart.htmlLabels)){let A=b.children[0],O=dt(b);g=A.getBoundingClientRect(),O.attr("width",g.width),O.attr("height",g.height)}let E=t.padding/2;return dt(b).attr("transform","translate( "+(g.width>x.width?0:(x.width-g.width)/2)+", "+(x.height+E+5)+")"),dt(p).attr("transform","translate( "+(g.width<x.width?0:-(x.width-g.width)/2)+", 0)"),g=s.node().getBBox(),s.attr("transform","translate("+-g.width/2+", "+(-g.height/2-E+3)+")"),i.attr("class","outer title-state").attr("x",-g.width/2-E).attr("y",-g.height/2-E).attr("width",g.width+t.padding).attr("height",g.height+t.padding),o.attr("class","divider").attr("x1",-g.width/2-E).attr("x2",g.width/2+E).attr("y1",-g.height/2-E+x.height+E).attr("y2",-g.height/2-E+x.height+E),yi(t,i),t.intersect=function(A){return vi.rect(t,A)},n},"rectWithTitle"),I8e=a(async(e,t)=>{let{shapeSvg:r,bbox:n}=await Aa(e,t,gs(t,void 0),!0),i=n.height+t.padding,o=n.width+i/4+t.padding,s=r.insert("rect",":first-child").attr("style",t.style).attr("rx",i/2).attr("ry",i/2).attr("x",-o/2).attr("y",-i/2).attr("width",o).attr("height",i);return yi(t,s),t.intersect=function(u){return vi.rect(t,u)},r},"stadium"),N8e=a(async(e,t)=>{let{shapeSvg:r,bbox:n,halfPadding:i}=await Aa(e,t,gs(t,void 0),!0),o=r.insert("circle",":first-child");return o.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+i).attr("width",n.width+t.padding).attr("height",n.height+t.padding),ye.info("Circle main"),yi(t,o),t.intersect=function(s){return ye.info("Circle intersect",t,n.width/2+i,s),vi.circle(t,n.width/2+i,s)},r},"circle"),P8e=a(async(e,t)=>{let{shapeSvg:r,bbox:n,halfPadding:i}=await Aa(e,t,gs(t,void 0),!0),o=5,s=r.insert("g",":first-child"),u=s.insert("circle"),f=s.insert("circle");return s.attr("class",t.class),u.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+i+o).attr("width",n.width+t.padding+o*2).attr("height",n.height+t.padding+o*2),f.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+i).attr("width",n.width+t.padding).attr("height",n.height+t.padding),ye.info("DoubleCircle main"),yi(t,u),t.intersect=function(p){return ye.info("DoubleCircle intersect",t,n.width/2+i+o,p),vi.circle(t,n.width/2+i+o,p)},r},"doublecircle"),O8e=a(async(e,t)=>{let{shapeSvg:r,bbox:n}=await Aa(e,t,gs(t,void 0),!0),i=n.width+t.padding,o=n.height+t.padding,s=[{x:0,y:0},{x:i,y:0},{x:i,y:-o},{x:0,y:-o},{x:0,y:0},{x:-8,y:0},{x:i+8,y:0},{x:i+8,y:-o},{x:-8,y:-o},{x:-8,y:0}],u=Nc(r,i,o,s);return u.attr("style",t.style),yi(t,u),t.intersect=function(f){return vi.polygon(t,s,f)},r},"subroutine"),M8e=a((e,t)=>{let r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=r.insert("circle",":first-child");return n.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),yi(t,n),t.intersect=function(i){return vi.circle(t,7,i)},r},"start"),nZ=a((e,t,r)=>{let n=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),i=70,o=10;r==="LR"&&(i=10,o=70);let s=n.append("rect").attr("x",-1*i/2).attr("y",-1*o/2).attr("width",i).attr("height",o).attr("class","fork-join");return yi(t,s),t.height=t.height+t.padding/2,t.width=t.width+t.padding/2,t.intersect=function(u){return vi.rect(t,u)},n},"forkJoin"),F8e=a((e,t)=>{let r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=r.insert("circle",":first-child"),i=r.insert("circle",":first-child");return i.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),n.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),yi(t,i),t.intersect=function(o){return vi.circle(t,7,o)},r},"end"),B8e=a((e,t)=>{let r=t.padding/2,n=4,i=8,o;t.classes?o="node "+t.classes:o="node default";let s=e.insert("g").attr("class",o).attr("id",t.domId||t.id),u=s.insert("rect",":first-child"),f=s.insert("line"),p=s.insert("line"),g=0,y=n,x=s.insert("g").attr("class","label"),b=0,E=t.classData.annotations&&t.classData.annotations[0],A=t.classData.annotations[0]?"\xAB"+t.classData.annotations[0]+"\xBB":"",O=x.node().appendChild(Ca(A,t.labelStyle,!0,!0)),N=O.getBBox();if(jn(Me().flowchart.htmlLabels)){let G=O.children[0],U=dt(O);N=G.getBoundingClientRect(),U.attr("width",N.width),U.attr("height",N.height)}t.classData.annotations[0]&&(y+=N.height+n,g+=N.width);let I=t.classData.label;t.classData.type!==void 0&&t.classData.type!==""&&(Me().flowchart.htmlLabels?I+="&lt;"+t.classData.type+"&gt;":I+="<"+t.classData.type+">");let $=x.node().appendChild(Ca(I,t.labelStyle,!0,!0));dt($).attr("class","classTitle");let X=$.getBBox();if(jn(Me().flowchart.htmlLabels)){let G=$.children[0],U=dt($);X=G.getBoundingClientRect(),U.attr("width",X.width),U.attr("height",X.height)}y+=X.height+n,X.width>g&&(g=X.width);let q=[];t.classData.members.forEach(G=>{let U=G.getDisplayDetails(),W=U.displayText;Me().flowchart.htmlLabels&&(W=W.replace(/</g,"&lt;").replace(/>/g,"&gt;"));let D=x.node().appendChild(Ca(W,U.cssStyle?U.cssStyle:t.labelStyle,!0,!0)),K=D.getBBox();if(jn(Me().flowchart.htmlLabels)){let P=D.children[0],re=dt(D);K=P.getBoundingClientRect(),re.attr("width",K.width),re.attr("height",K.height)}K.width>g&&(g=K.width),y+=K.height+n,q.push(D)}),y+=i;let M=[];if(t.classData.methods.forEach(G=>{let U=G.getDisplayDetails(),W=U.displayText;Me().flowchart.htmlLabels&&(W=W.replace(/</g,"&lt;").replace(/>/g,"&gt;"));let D=x.node().appendChild(Ca(W,U.cssStyle?U.cssStyle:t.labelStyle,!0,!0)),K=D.getBBox();if(jn(Me().flowchart.htmlLabels)){let P=D.children[0],re=dt(D);K=P.getBoundingClientRect(),re.attr("width",K.width),re.attr("height",K.height)}K.width>g&&(g=K.width),y+=K.height+n,M.push(D)}),y+=i,E){let G=(g-N.width)/2;dt(O).attr("transform","translate( "+(-1*g/2+G)+", "+-1*y/2+")"),b=N.height+n}let B=(g-X.width)/2;return dt($).attr("transform","translate( "+(-1*g/2+B)+", "+(-1*y/2+b)+")"),b+=X.height+n,f.attr("class","divider").attr("x1",-g/2-r).attr("x2",g/2+r).attr("y1",-y/2-r+i+b).attr("y2",-y/2-r+i+b),b+=i,q.forEach(G=>{dt(G).attr("transform","translate( "+-g/2+", "+(-1*y/2+b+i/2)+")");let U=G?.getBBox();b+=(U?.height??0)+n}),b+=i,p.attr("class","divider").attr("x1",-g/2-r).attr("x2",g/2+r).attr("y1",-y/2-r+i+b).attr("y2",-y/2-r+i+b),b+=i,M.forEach(G=>{dt(G).attr("transform","translate( "+-g/2+", "+(-1*y/2+b)+")");let U=G?.getBBox();b+=(U?.height??0)+n}),u.attr("class","outer title-state").attr("x",-g/2-r).attr("y",-(y/2)-r).attr("width",g+t.padding).attr("height",y+t.padding),yi(t,u),t.intersect=function(G){return vi.rect(t,G)},s},"class_box"),iZ={rhombus:rZ,question:rZ,rect:R8e,labelRect:D8e,rectWithTitle:L8e,choice:b8e,circle:N8e,doublecircle:P8e,stadium:I8e,hexagon:T8e,rect_left_inv_arrow:k8e,lean_right:_8e,lean_left:w8e,trapezoid:E8e,inv_trapezoid:C8e,rect_right_inv_arrow:S8e,cylinder:A8e,start:M8e,end:F8e,note:JQ,subroutine:O8e,fork:nZ,join:nZ,class_box:B8e},bg={},oZ=a(async(e,t,r)=>{let n,i;if(t.link){let o;Me().securityLevel==="sandbox"?o="_top":t.linkTarget&&(o=t.linkTarget||"_blank"),n=e.insert("svg:a").attr("xlink:href",t.link).attr("target",o),i=await iZ[t.shape](n,t,r)}else i=await iZ[t.shape](e,t,r),n=i;return t.tooltip&&i.attr("title",t.tooltip),t.class&&i.attr("class","node default "+t.class),bg[t.id]=n,t.haveCallback&&bg[t.id].attr("class",bg[t.id].attr("class")+" clickable"),n},"insertNode"),sZ=a((e,t)=>{bg[t.id]=e},"setNodeElem"),lZ=a(()=>{bg={}},"clear"),TL=a(e=>{let t=bg[e.id];ye.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");let r=8,n=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+n-e.width/2)+", "+(e.y-e.height/2-r)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),n},"positionNode")});var q8e,z8e,U8e,$8e,G8e,uZ,fZ,hZ,dZ=F(()=>{"use strict";xL();br();Mv();vg();Zr();Pr();en();q8e=a((e,t)=>{ye.info("Creating subgraph rect for ",t.id,t);let r=e.insert("g").attr("class","cluster"+(t.class?" "+t.class:"")).attr("id",t.id),n=r.insert("rect",":first-child"),i=jn(Me().flowchart.htmlLabels),o=r.insert("g").attr("class","cluster-label"),s=t.labelType==="markdown"?ph(o,t.labelText,{style:t.labelStyle,useHtmlLabels:i}):o.node().appendChild(Ca(t.labelText,t.labelStyle,void 0,!0)),u=s.getBBox();if(jn(Me().flowchart.htmlLabels)){let x=s.children[0],b=dt(s);u=x.getBoundingClientRect(),b.attr("width",u.width),b.attr("height",u.height)}let f=0*t.padding,p=f/2,g=t.width<=u.width+f?u.width+f:t.width;t.width<=u.width+f?t.diff=(u.width-t.width)/2-t.padding/2:t.diff=-t.padding/2,ye.trace("Data ",t,JSON.stringify(t)),n.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-g/2).attr("y",t.y-t.height/2-p).attr("width",g).attr("height",t.height+f),i?o.attr("transform","translate("+(t.x-u.width/2)+", "+(t.y-t.height/2)+")"):o.attr("transform","translate("+t.x+", "+(t.y-t.height/2)+")");let y=n.node().getBBox();return t.width=y.width,t.height=y.height,t.intersect=function(x){return Yd(t,x)},r},"rect"),z8e=a((e,t)=>{let r=e.insert("g").attr("class","note-cluster").attr("id",t.id),n=r.insert("rect",":first-child"),i=0*t.padding,o=i/2;n.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-o).attr("y",t.y-t.height/2-o).attr("width",t.width+i).attr("height",t.height+i).attr("fill","none");let s=n.node().getBBox();return t.width=s.width,t.height=s.height,t.intersect=function(u){return Yd(t,u)},r},"noteGroup"),U8e=a((e,t)=>{let r=e.insert("g").attr("class",t.classes).attr("id",t.id),n=r.insert("rect",":first-child"),i=r.insert("g").attr("class","cluster-label"),o=r.append("rect"),s=i.node().appendChild(Ca(t.labelText,t.labelStyle,void 0,!0)),u=s.getBBox();if(jn(Me().flowchart.htmlLabels)){let x=s.children[0],b=dt(s);u=x.getBoundingClientRect(),b.attr("width",u.width),b.attr("height",u.height)}u=s.getBBox();let f=0*t.padding,p=f/2,g=t.width<=u.width+t.padding?u.width+t.padding:t.width;t.width<=u.width+t.padding?t.diff=(u.width+t.padding*0-t.width)/2:t.diff=-t.padding/2,n.attr("class","outer").attr("x",t.x-g/2-p).attr("y",t.y-t.height/2-p).attr("width",g+f).attr("height",t.height+f),o.attr("class","inner").attr("x",t.x-g/2-p).attr("y",t.y-t.height/2-p+u.height-1).attr("width",g+f).attr("height",t.height+f-u.height-3),i.attr("transform","translate("+(t.x-u.width/2)+", "+(t.y-t.height/2-t.padding/3+(jn(Me().flowchart.htmlLabels)?5:3))+")");let y=n.node().getBBox();return t.height=y.height,t.intersect=function(x){return Yd(t,x)},r},"roundedWithTitle"),$8e=a((e,t)=>{let r=e.insert("g").attr("class",t.classes).attr("id",t.id),n=r.insert("rect",":first-child"),i=0*t.padding,o=i/2;n.attr("class","divider").attr("x",t.x-t.width/2-o).attr("y",t.y-t.height/2).attr("width",t.width+i).attr("height",t.height+i);let s=n.node().getBBox();return t.width=s.width,t.height=s.height,t.diff=-t.padding/2,t.intersect=function(u){return Yd(t,u)},r},"divider"),G8e={rect:q8e,roundedWithTitle:U8e,noteGroup:z8e,divider:$8e},uZ={},fZ=a((e,t)=>{ye.trace("Inserting cluster");let r=t.shape||"rect";uZ[t.id]=G8e[r](e,t)},"insertCluster"),hZ=a(()=>{uZ={}},"clear")});function L_(e,t){e=I_(e),t=I_(t);let[r,n]=[e.x,e.y],[i,o]=[t.x,t.y],s=i-r,u=o-n;return{angle:Math.atan(u/s),deltaX:s,deltaY:u}}var mh,I_,pZ,mZ=F(()=>{"use strict";mh={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:5.3};a(L_,"calculateDeltaAndAngle");I_=a(e=>Array.isArray(e)?{x:e[0],y:e[1]}:e,"pointTransformer"),pZ=a(e=>({x:function(t,r,n){let i=0;if(r===0&&Object.hasOwn(mh,e.arrowTypeStart)){let{angle:o,deltaX:s}=L_(n[0],n[1]);i=mh[e.arrowTypeStart]*Math.cos(o)*(s>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(mh,e.arrowTypeEnd)){let{angle:o,deltaX:s}=L_(n[n.length-1],n[n.length-2]);i=mh[e.arrowTypeEnd]*Math.cos(o)*(s>=0?1:-1)}return I_(t).x+i},y:function(t,r,n){let i=0;if(r===0&&Object.hasOwn(mh,e.arrowTypeStart)){let{angle:o,deltaY:s}=L_(n[0],n[1]);i=mh[e.arrowTypeStart]*Math.abs(Math.sin(o))*(s>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(mh,e.arrowTypeEnd)){let{angle:o,deltaY:s}=L_(n[n.length-1],n[n.length-2]);i=mh[e.arrowTypeEnd]*Math.abs(Math.sin(o))*(s>=0?1:-1)}return I_(t).y+i}}),"getLineFunctionsWithOffset")});function N_(e,t){Me().flowchart.htmlLabels&&e&&(e.style.width=t.length*9+"px",e.style.height="12px")}var P_,Ga,yZ,vZ,xZ,V8e,W8e,gZ,bZ,TZ=F(()=>{"use strict";br();Mv();vg();Zr();Pr();An();en();mZ();P_={},Ga={},yZ=a(()=>{P_={},Ga={}},"clear"),vZ=a((e,t)=>{let r=jn(Me().flowchart.htmlLabels),n=t.labelType==="markdown"?ph(e,t.label,{style:t.labelStyle,useHtmlLabels:r,addSvgBackground:!0}):Ca(t.label,t.labelStyle);ye.info("abc82",t,t.labelType);let i=e.insert("g").attr("class","edgeLabel"),o=i.insert("g").attr("class","label");o.node().appendChild(n);let s=n.getBBox();if(r){let f=n.children[0],p=dt(n);s=f.getBoundingClientRect(),p.attr("width",s.width),p.attr("height",s.height)}o.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),P_[t.id]=i,t.width=s.width,t.height=s.height;let u;if(t.startLabelLeft){let f=Ca(t.startLabelLeft,t.labelStyle),p=e.insert("g").attr("class","edgeTerminals"),g=p.insert("g").attr("class","inner");u=g.node().appendChild(f);let y=f.getBBox();g.attr("transform","translate("+-y.width/2+", "+-y.height/2+")"),Ga[t.id]||(Ga[t.id]={}),Ga[t.id].startLeft=p,N_(u,t.startLabelLeft)}if(t.startLabelRight){let f=Ca(t.startLabelRight,t.labelStyle),p=e.insert("g").attr("class","edgeTerminals"),g=p.insert("g").attr("class","inner");u=p.node().appendChild(f),g.node().appendChild(f);let y=f.getBBox();g.attr("transform","translate("+-y.width/2+", "+-y.height/2+")"),Ga[t.id]||(Ga[t.id]={}),Ga[t.id].startRight=p,N_(u,t.startLabelRight)}if(t.endLabelLeft){let f=Ca(t.endLabelLeft,t.labelStyle),p=e.insert("g").attr("class","edgeTerminals"),g=p.insert("g").attr("class","inner");u=g.node().appendChild(f);let y=f.getBBox();g.attr("transform","translate("+-y.width/2+", "+-y.height/2+")"),p.node().appendChild(f),Ga[t.id]||(Ga[t.id]={}),Ga[t.id].endLeft=p,N_(u,t.endLabelLeft)}if(t.endLabelRight){let f=Ca(t.endLabelRight,t.labelStyle),p=e.insert("g").attr("class","edgeTerminals"),g=p.insert("g").attr("class","inner");u=g.node().appendChild(f);let y=f.getBBox();g.attr("transform","translate("+-y.width/2+", "+-y.height/2+")"),p.node().appendChild(f),Ga[t.id]||(Ga[t.id]={}),Ga[t.id].endRight=p,N_(u,t.endLabelRight)}return n},"insertEdgeLabel");a(N_,"setTerminalWidth");xZ=a((e,t)=>{ye.info("Moving label abc78 ",e.id,e.label,P_[e.id]);let r=t.updatedPath?t.updatedPath:t.originalPath;if(e.label){let n=P_[e.id],i=e.x,o=e.y;if(r){let s=yr.calcLabelPosition(r);ye.info("Moving label "+e.label+" from (",i,",",o,") to (",s.x,",",s.y,") abc78"),t.updatedPath&&(i=s.x,o=s.y)}n.attr("transform","translate("+i+", "+o+")")}if(e.startLabelLeft){let n=Ga[e.id].startLeft,i=e.x,o=e.y;if(r){let s=yr.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",r);i=s.x,o=s.y}n.attr("transform","translate("+i+", "+o+")")}if(e.startLabelRight){let n=Ga[e.id].startRight,i=e.x,o=e.y;if(r){let s=yr.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",r);i=s.x,o=s.y}n.attr("transform","translate("+i+", "+o+")")}if(e.endLabelLeft){let n=Ga[e.id].endLeft,i=e.x,o=e.y;if(r){let s=yr.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",r);i=s.x,o=s.y}n.attr("transform","translate("+i+", "+o+")")}if(e.endLabelRight){let n=Ga[e.id].endRight,i=e.x,o=e.y;if(r){let s=yr.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",r);i=s.x,o=s.y}n.attr("transform","translate("+i+", "+o+")")}},"positionEdgeLabel"),V8e=a((e,t)=>{let r=e.x,n=e.y,i=Math.abs(t.x-r),o=Math.abs(t.y-n),s=e.width/2,u=e.height/2;return i>=s||o>=u},"outsideNode"),W8e=a((e,t,r)=>{ye.warn(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);let n=e.x,i=e.y,o=Math.abs(n-r.x),s=e.width/2,u=r.x<t.x?s-o:s+o,f=e.height/2,p=Math.abs(t.y-r.y),g=Math.abs(t.x-r.x);if(Math.abs(i-t.y)*s>Math.abs(n-t.x)*f){let y=r.y<t.y?t.y-f-i:i-f-t.y;u=g*y/p;let x={x:r.x<t.x?r.x+u:r.x-g+u,y:r.y<t.y?r.y+p-y:r.y-p+y};return u===0&&(x.x=t.x,x.y=t.y),g===0&&(x.x=t.x),p===0&&(x.y=t.y),ye.warn(`abc89 topp/bott calc, Q ${p}, q ${y}, R ${g}, r ${u}`,x),x}else{r.x<t.x?u=t.x-s-n:u=n-s-t.x;let y=p*u/g,x=r.x<t.x?r.x+g-u:r.x-g+u,b=r.y<t.y?r.y+y:r.y-y;return ye.warn(`sides calc abc89, Q ${p}, q ${y}, R ${g}, r ${u}`,{_x:x,_y:b}),u===0&&(x=t.x,b=t.y),g===0&&(x=t.x),p===0&&(b=t.y),{x,y:b}}},"intersection"),gZ=a((e,t)=>{ye.warn("abc88 cutPathAtIntersect",e,t);let r=[],n=e[0],i=!1;return e.forEach(o=>{if(ye.info("abc88 checking point",o,t),!V8e(t,o)&&!i){let s=W8e(t,n,o);ye.warn("abc88 inside",o,n,s),ye.warn("abc88 intersection",s);let u=!1;r.forEach(f=>{u=u||f.x===s.x&&f.y===s.y}),r.some(f=>f.x===s.x&&f.y===s.y)?ye.warn("abc88 no intersect",s,r):r.push(s),i=!0}else ye.warn("abc88 outside",o,n),n=o,i||r.push(o)}),ye.warn("abc88 returning points",r),r},"cutPathAtIntersect"),bZ=a(function(e,t,r,n,i,o,s){let u=r.points,f=!1,p=o.node(t.v);var g=o.node(t.w);ye.info("abc88 InsertEdge: ",r),g.intersect&&p.intersect&&(u=u.slice(1,r.points.length-1),u.unshift(p.intersect(u[0])),ye.info("Last point",u[u.length-1],g,g.intersect(u[u.length-1])),u.push(g.intersect(u[u.length-1]))),r.toCluster&&(ye.info("to cluster abc88",n[r.toCluster]),u=gZ(r.points,n[r.toCluster].node),f=!0),r.fromCluster&&(ye.info("from cluster abc88",n[r.fromCluster]),u=gZ(u.reverse(),n[r.fromCluster].node).reverse(),f=!0);let y=u.filter(X=>!Number.isNaN(X.y)),x=qs;r.curve&&(i==="graph"||i==="flowchart")&&(x=r.curve);let{x:b,y:E}=pZ(r),A=za().x(b).y(E).curve(x),O;switch(r.thickness){case"normal":O="edge-thickness-normal";break;case"thick":O="edge-thickness-thick";break;case"invisible":O="edge-thickness-thick";break;default:O=""}switch(r.pattern){case"solid":O+=" edge-pattern-solid";break;case"dotted":O+=" edge-pattern-dotted";break;case"dashed":O+=" edge-pattern-dashed";break}let N=e.append("path").attr("d",A(y)).attr("id",r.id).attr("class"," "+O+(r.classes?" "+r.classes:"")).attr("style",r.style),I="";switch((Me().flowchart.arrowMarkerAbsolute||Me().state.arrowMarkerAbsolute)&&(I=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,I=I.replace(/\(/g,"\\("),I=I.replace(/\)/g,"\\)")),ye.info("arrowTypeStart",r.arrowTypeStart),ye.info("arrowTypeEnd",r.arrowTypeEnd),r.arrowTypeStart){case"arrow_cross":N.attr("marker-start","url("+I+"#"+s+"_"+i+"-crossStart)");break;case"arrow_point":N.attr("marker-start","url("+I+"#"+s+"_"+i+"-pointStart)");break;case"arrow_barb":N.attr("marker-start","url("+I+"#"+s+"_"+i+"-barbStart)");break;case"arrow_circle":N.attr("marker-start","url("+I+"#"+s+"_"+i+"-circleStart)");break;case"aggregation":N.attr("marker-start","url("+I+"#"+s+"_"+i+"-aggregationStart)");break;case"extension":N.attr("marker-start","url("+I+"#"+s+"_"+i+"-extensionStart)");break;case"composition":N.attr("marker-start","url("+I+"#"+s+"_"+i+"-compositionStart)");break;case"dependency":N.attr("marker-start","url("+I+"#"+s+"_"+i+"-dependencyStart)");break;case"lollipop":N.attr("marker-start","url("+I+"#"+s+"_"+i+"-lollipopStart)");break;default:}switch(r.arrowTypeEnd){case"arrow_cross":N.attr("marker-end","url("+I+"#"+s+"_"+i+"-crossEnd)");break;case"arrow_point":N.attr("marker-end","url("+I+"#"+s+"_"+i+"-pointEnd)");break;case"arrow_barb":N.attr("marker-end","url("+I+"#"+s+"_"+i+"-barbEnd)");break;case"arrow_circle":N.attr("marker-end","url("+I+"#"+s+"_"+i+"-circleEnd)");break;case"aggregation":N.attr("marker-end","url("+I+"#"+s+"_"+i+"-aggregationEnd)");break;case"extension":N.attr("marker-end","url("+I+"#"+s+"_"+i+"-extensionEnd)");break;case"composition":N.attr("marker-end","url("+I+"#"+s+"_"+i+"-compositionEnd)");break;case"dependency":N.attr("marker-end","url("+I+"#"+s+"_"+i+"-dependencyEnd)");break;case"lollipop":N.attr("marker-end","url("+I+"#"+s+"_"+i+"-lollipopEnd)");break;default:}let $={};return f&&($.updatedPath=u),$.originalPath=r.points,$},"insertEdge")});var kZ,Tg,O_=F(()=>{"use strict";Vd();VD();cK();S_();GQ();cZ();dZ();TZ();br();kZ=a(async(e,t,r,n,i)=>{ye.info("Graph in recursive render: XXX",zl(t),i);let o=t.graph().rankdir;ye.trace("Dir in recursive render - dir:",o);let s=e.insert("g").attr("class","root");t.nodes()?ye.info("Recursive render XXX",t.nodes()):ye.info("No nodes found for",t),t.edges().length>0&&ye.trace("Recursive edges",t.edge(t.edges()[0]));let u=s.insert("g").attr("class","clusters"),f=s.insert("g").attr("class","edgePaths"),p=s.insert("g").attr("class","edgeLabels"),g=s.insert("g").attr("class","nodes");await Promise.all(t.nodes().map(async function(x){let b=t.node(x);if(i!==void 0){let E=JSON.parse(JSON.stringify(i.clusterData));ye.info("Setting data for cluster XXX (",x,") ",E,i),t.setNode(i.id,E),t.parent(x)||(ye.trace("Setting parent",x,i.id),t.setParent(x,i.id,E))}if(ye.info("(Insert) Node XXX"+x+": "+JSON.stringify(t.node(x))),b&&b.clusterNode){ye.info("Cluster identified",x,b.width,t.node(x));let E=await kZ(g,b.graph,r,n,t.node(x)),A=E.elem;yi(b,A),b.diff=E.diff||0,ye.info("Node bounds (abc123)",x,b,b.width,b.x,b.y),sZ(A,b),ye.warn("Recursive render complete ",A,b)}else t.children(x).length>0?(ye.info("Cluster - the non recursive path XXX",x,b.id,b,t),ye.info(xg(b.id,t)),Jr[b.id]={id:xg(b.id,t),node:b}):(ye.info("Node - the non recursive path",x,b.id,b),await oZ(g,t.node(x),o))})),t.edges().forEach(function(x){let b=t.edge(x.v,x.w,x.name);ye.info("Edge "+x.v+" -> "+x.w+": "+JSON.stringify(x)),ye.info("Edge "+x.v+" -> "+x.w+": ",x," ",JSON.stringify(t.edge(x))),ye.info("Fix",Jr,"ids:",x.v,x.w,"Translateing: ",Jr[x.v],Jr[x.w]),vZ(p,b)}),t.edges().forEach(function(x){ye.info("Edge "+x.v+" -> "+x.w+": "+JSON.stringify(x))}),ye.info("#############################################"),ye.info("###                Layout                 ###"),ye.info("#############################################"),ye.info(t),ds(t),ye.info("Graph after layout:",zl(t));let y=0;return $Q(t).forEach(function(x){let b=t.node(x);ye.info("Position "+x+": "+JSON.stringify(t.node(x))),ye.info("Position "+x+": ("+b.x,","+b.y,") width: ",b.width," height: ",b.height),b&&b.clusterNode?TL(b):t.children(x).length>0?(fZ(u,b),Jr[b.id].node=b):TL(b)}),t.edges().forEach(function(x){let b=t.edge(x);ye.info("Edge "+x.v+" -> "+x.w+": "+JSON.stringify(b),b);let E=bZ(f,x,b,Jr,r,t,n);xZ(b,E)}),t.nodes().forEach(function(x){let b=t.node(x);ye.info(x,b.type,b.diff),b.type==="group"&&(y=b.diff)}),{elem:s,diff:y}},"recursiveRender"),Tg=a(async(e,t,r,n,i)=>{lK(e,r,n,i),lZ(),yZ(),hZ(),MQ(),ye.warn("Graph at first:",JSON.stringify(zl(t))),qQ(t),ye.warn("Graph after:",JSON.stringify(zl(t))),await kZ(e,t,n,i)},"render")});var _Z,H8e,wZ,EZ,j8e,Y8e,$v,kL=F(()=>{"use strict";_a();Zr();Pr();An();O_();e_();br();en();An();Si();_Z={},H8e=a(function(e){let t=Object.keys(e);for(let r of t)_Z[r]=e[r]},"setConf"),wZ=a(function(e,t,r,n,i,o){let s=n.select(`[id="${r}"]`);Object.keys(e).forEach(function(f){let p=e[f],g="default";p.classes.length>0&&(g=p.classes.join(" ")),g=g+" flowchart-label";let y=Il(p.styles),x=p.text!==void 0?p.text:p.id,b;if(ye.info("vertex",p,p.labelType),p.labelType==="markdown")ye.info("vertex",p,p.labelType);else if(jn(Me().flowchart.htmlLabels)){let O={label:x.replace(/fa[blrs]?:fa-[\w-]+/g,N=>`<i class='${N.replace(":"," ")}'></i>`)};b=dg(s,O).node(),b.parentNode.removeChild(b)}else{let O=i.createElementNS("http://www.w3.org/2000/svg","text");O.setAttribute("style",y.labelStyle.replace("color:","fill:"));let N=x.split(Et.lineBreakRegex);for(let I of N){let $=i.createElementNS("http://www.w3.org/2000/svg","tspan");$.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),$.setAttribute("dy","1em"),$.setAttribute("x","1"),$.textContent=I,O.appendChild($)}b=O}let E=0,A="";switch(p.type){case"round":E=5,A="rect";break;case"square":A="rect";break;case"diamond":A="question";break;case"hexagon":A="hexagon";break;case"odd":A="rect_left_inv_arrow";break;case"lean_right":A="lean_right";break;case"lean_left":A="lean_left";break;case"trapezoid":A="trapezoid";break;case"inv_trapezoid":A="inv_trapezoid";break;case"odd_right":A="rect_left_inv_arrow";break;case"circle":A="circle";break;case"ellipse":A="ellipse";break;case"stadium":A="stadium";break;case"subroutine":A="subroutine";break;case"cylinder":A="cylinder";break;case"group":A="rect";break;case"doublecircle":A="doublecircle";break;default:A="rect"}t.setNode(p.id,{labelStyle:y.labelStyle,shape:A,labelText:x,labelType:p.labelType,rx:E,ry:E,class:g,style:y.style,id:p.id,link:p.link,linkTarget:p.linkTarget,tooltip:o.db.getTooltip(p.id)||"",domId:o.db.lookUpDomId(p.id),haveCallback:p.haveCallback,width:p.type==="group"?500:void 0,dir:p.dir,type:p.type,props:p.props,padding:Me().flowchart.padding}),ye.info("setNode",{labelStyle:y.labelStyle,labelType:p.labelType,shape:A,labelText:x,rx:E,ry:E,class:g,style:y.style,id:p.id,domId:o.db.lookUpDomId(p.id),width:p.type==="group"?500:void 0,type:p.type,dir:p.dir,props:p.props,padding:Me().flowchart.padding})})},"addVertices"),EZ=a(function(e,t,r){ye.info("abc78 edges = ",e);let n=0,i={},o,s;if(e.defaultStyle!==void 0){let u=Il(e.defaultStyle);o=u.style,s=u.labelStyle}e.forEach(function(u){n++;let f="L-"+u.start+"-"+u.end;i[f]===void 0?(i[f]=0,ye.info("abc78 new entry",f,i[f])):(i[f]++,ye.info("abc78 new entry",f,i[f]));let p=f+"-"+i[f];ye.info("abc78 new link id to be used is",f,p,i[f]);let g="LS-"+u.start,y="LE-"+u.end,x={style:"",labelStyle:""};switch(x.minlen=u.length||1,u.type==="arrow_open"?x.arrowhead="none":x.arrowhead="normal",x.arrowTypeStart="arrow_open",x.arrowTypeEnd="arrow_open",u.type){case"double_arrow_cross":x.arrowTypeStart="arrow_cross";case"arrow_cross":x.arrowTypeEnd="arrow_cross";break;case"double_arrow_point":x.arrowTypeStart="arrow_point";case"arrow_point":x.arrowTypeEnd="arrow_point";break;case"double_arrow_circle":x.arrowTypeStart="arrow_circle";case"arrow_circle":x.arrowTypeEnd="arrow_circle";break}let b="",E="";switch(u.stroke){case"normal":b="fill:none;",o!==void 0&&(b=o),s!==void 0&&(E=s),x.thickness="normal",x.pattern="solid";break;case"dotted":x.thickness="normal",x.pattern="dotted",x.style="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":x.thickness="thick",x.pattern="solid",x.style="stroke-width: 3.5px;fill:none;";break;case"invisible":x.thickness="invisible",x.pattern="solid",x.style="stroke-width: 0;fill:none;";break}if(u.style!==void 0){let A=Il(u.style);b=A.style,E=A.labelStyle}x.style=x.style+=b,x.labelStyle=x.labelStyle+=E,u.interpolate!==void 0?x.curve=Ws(u.interpolate,ra):e.defaultInterpolate!==void 0?x.curve=Ws(e.defaultInterpolate,ra):x.curve=Ws(_Z.curve,ra),u.text===void 0?u.style!==void 0&&(x.arrowheadStyle="fill: #333"):(x.arrowheadStyle="fill: #333",x.labelpos="c"),x.labelType=u.labelType,x.label=u.text.replace(Et.lineBreakRegex,`
`),u.style===void 0&&(x.style=x.style||"stroke: #333; stroke-width: 1.5px;fill:none;"),x.labelStyle=x.labelStyle.replace("color:","fill:"),x.id=p,x.classes="flowchart-link "+g+" "+y,t.setEdge(u.start,u.end,x,n)})},"addEdges"),j8e=a(function(e,t){return t.db.getClasses()},"getClasses"),Y8e=a(async function(e,t,r,n){ye.info("Drawing flowchart");let i=n.db.getDirection();i===void 0&&(i="TD");let{securityLevel:o,flowchart:s}=Me(),u=s.nodeSpacing||50,f=s.rankSpacing||50,p;o==="sandbox"&&(p=dt("#i"+t));let g=o==="sandbox"?dt(p.nodes()[0].contentDocument.body):dt("body"),y=o==="sandbox"?p.nodes()[0].contentDocument:document,x=new Yr({multigraph:!0,compound:!0}).setGraph({rankdir:i,nodesep:u,ranksep:f,marginx:0,marginy:0}).setDefaultEdgeLabel(function(){return{}}),b,E=n.db.getSubGraphs();ye.info("Subgraphs - ",E);for(let q=E.length-1;q>=0;q--)b=E[q],ye.info("Subgraph - ",b),n.db.addVertex(b.id,{text:b.title,type:b.labelType},"group",void 0,b.classes,b.dir);let A=n.db.getVertices(),O=n.db.getEdges();ye.info("Edges",O);let N=0;for(N=E.length-1;N>=0;N--){b=E[N],fm("cluster").append("text");for(let q=0;q<b.nodes.length;q++)ye.info("Setting up subgraphs",b.nodes[q],b.id),x.setParent(b.nodes[q],b.id)}wZ(A,x,t,g,y,n),EZ(O,x,n);let I=g.select(`[id="${t}"]`),$=g.select("#"+t+" g");if(await Tg($,x,["point","circle","cross"],"flowchart",t),yr.insertTitle(I,"flowchartTitleText",s.titleTopMargin,n.db.getDiagramTitle()),Ys(x,I,s.diagramPadding,s.useMaxWidth),n.db.indexNodes("subGraph"+N),!s.htmlLabels){let q=y.querySelectorAll('[id="'+t+'"] .edgeLabel .label');for(let M of q){let B=M.getBBox(),G=y.createElementNS("http://www.w3.org/2000/svg","rect");G.setAttribute("rx",0),G.setAttribute("ry",0),G.setAttribute("width",B.width),G.setAttribute("height",B.height),M.insertBefore(G,M.firstChild)}}Object.keys(A).forEach(function(q){let M=A[q];if(M.link){let B=dt("#"+t+' [id="'+q+'"]');if(B){let G=y.createElementNS("http://www.w3.org/2000/svg","a");G.setAttributeNS("http://www.w3.org/2000/svg","class",M.classes.join(" ")),G.setAttributeNS("http://www.w3.org/2000/svg","href",M.link),G.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),o==="sandbox"?G.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):M.linkTarget&&G.setAttributeNS("http://www.w3.org/2000/svg","target",M.linkTarget);let U=B.insert(function(){return G},":first-child"),W=B.select(".label-container");W&&U.append(function(){return W.node()});let D=B.select(".label");D&&U.append(function(){return D.node()})}}})},"draw"),$v={setConf:H8e,addVertices:wZ,addEdges:EZ,getClasses:j8e,draw:Y8e}});var X8e,K8e,M_,_L=F(()=>{"use strict";xc();X8e=a((e,t)=>{let r=mR,n=r(e,"r"),i=r(e,"g"),o=r(e,"b");return Sl(n,i,o,t)},"fade"),K8e=a(e=>`.label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }
  .cluster-label text {
    fill: ${e.titleColor};
  }
  .cluster-label span,p {
    color: ${e.titleColor};
  }

  .label text,span,p {
    fill: ${e.nodeTextColor||e.textColor};
    color: ${e.nodeTextColor||e.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }
  .flowchart-label text {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${X8e(e.edgeLabelBackground,.5)};
    // background-color: 
  }

  .cluster rect {
    fill: ${e.clusterBkg};
    stroke: ${e.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  .cluster span,p {
    color: ${e.titleColor};
  }
  /* .cluster div {
    color: ${e.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${e.fontFamily};
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }
`,"getStyles"),M_=K8e});var CZ={};ii(CZ,{diagram:()=>Q8e});var Q8e,SZ=F(()=>{"use strict";C5();I5();oK();kL();_L();Q8e={parser:ek,db:Jf,renderer:$v,styles:M_,init:e=>{e.flowchart||(e.flowchart={}),e.flowchart.arrowMarkerAbsolute=e.arrowMarkerAbsolute,aK.setConf(e.flowchart),Jf.clear(),Jf.setGen("gen-1")}}});var wL={};ii(wL,{diagram:()=>t7e});var t7e,EL=F(()=>{"use strict";C5();I5();kL();_L();Pr();t7e={parser:ek,db:Jf,renderer:$v,styles:M_,init:e=>{e.flowchart||(e.flowchart={}),e.flowchart.arrowMarkerAbsolute=e.arrowMarkerAbsolute,EG({flowchart:{arrowMarkerAbsolute:e.arrowMarkerAbsolute}}),$v.setConf(e.flowchart),Jf.clear(),Jf.setGen("gen-2")}}});var CL,IZ,NZ=F(()=>{"use strict";CL=function(){var e=a(function(G,U,W,D){for(W=W||{},D=G.length;D--;W[G[D]]=U);return W},"o"),t=[6,8,10,20,22,24,26,27,28],r=[1,10],n=[1,11],i=[1,12],o=[1,13],s=[1,14],u=[1,15],f=[1,21],p=[1,22],g=[1,23],y=[1,24],x=[1,25],b=[6,8,10,13,15,18,19,20,22,24,26,27,28,41,42,43,44,45],E=[1,34],A=[27,28,46,47],O=[41,42,43,44,45],N=[17,34],I=[1,54],$=[1,53],X=[17,34,36,38],q={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,entityName:11,relSpec:12,":":13,role:14,BLOCK_START:15,attributes:16,BLOCK_STOP:17,SQS:18,SQE:19,title:20,title_value:21,acc_title:22,acc_title_value:23,acc_descr:24,acc_descr_value:25,acc_descr_multiline_value:26,ALPHANUM:27,ENTITY_NAME:28,attribute:29,attributeType:30,attributeName:31,attributeKeyTypeList:32,attributeComment:33,ATTRIBUTE_WORD:34,attributeKeyType:35,COMMA:36,ATTRIBUTE_KEY:37,COMMENT:38,cardinality:39,relType:40,ZERO_OR_ONE:41,ZERO_OR_MORE:42,ONE_OR_MORE:43,ONLY_ONE:44,MD_PARENT:45,NON_IDENTIFYING:46,IDENTIFYING:47,WORD:48,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",8:"SPACE",10:"NEWLINE",13:":",15:"BLOCK_START",17:"BLOCK_STOP",18:"SQS",19:"SQE",20:"title",21:"title_value",22:"acc_title",23:"acc_title_value",24:"acc_descr",25:"acc_descr_value",26:"acc_descr_multiline_value",27:"ALPHANUM",28:"ENTITY_NAME",34:"ATTRIBUTE_WORD",36:"COMMA",37:"ATTRIBUTE_KEY",38:"COMMENT",41:"ZERO_OR_ONE",42:"ZERO_OR_MORE",43:"ONE_OR_MORE",44:"ONLY_ONE",45:"MD_PARENT",46:"NON_IDENTIFYING",47:"IDENTIFYING",48:"WORD"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,5],[9,4],[9,3],[9,1],[9,7],[9,6],[9,4],[9,2],[9,2],[9,2],[9,1],[11,1],[11,1],[16,1],[16,2],[29,2],[29,3],[29,3],[29,4],[30,1],[31,1],[32,1],[32,3],[35,1],[33,1],[12,3],[39,1],[39,1],[39,1],[39,1],[39,1],[40,1],[40,1],[14,1],[14,1],[14,1]],performAction:a(function(U,W,D,K,P,re,ce){var ee=re.length-1;switch(P){case 1:break;case 2:this.$=[];break;case 3:re[ee-1].push(re[ee]),this.$=re[ee-1];break;case 4:case 5:this.$=re[ee];break;case 6:case 7:this.$=[];break;case 8:K.addEntity(re[ee-4]),K.addEntity(re[ee-2]),K.addRelationship(re[ee-4],re[ee],re[ee-2],re[ee-3]);break;case 9:K.addEntity(re[ee-3]),K.addAttributes(re[ee-3],re[ee-1]);break;case 10:K.addEntity(re[ee-2]);break;case 11:K.addEntity(re[ee]);break;case 12:K.addEntity(re[ee-6],re[ee-4]),K.addAttributes(re[ee-6],re[ee-1]);break;case 13:K.addEntity(re[ee-5],re[ee-3]);break;case 14:K.addEntity(re[ee-3],re[ee-1]);break;case 15:case 16:this.$=re[ee].trim(),K.setAccTitle(this.$);break;case 17:case 18:this.$=re[ee].trim(),K.setAccDescription(this.$);break;case 19:case 43:this.$=re[ee];break;case 20:case 41:case 42:this.$=re[ee].replace(/"/g,"");break;case 21:case 29:this.$=[re[ee]];break;case 22:re[ee].push(re[ee-1]),this.$=re[ee];break;case 23:this.$={attributeType:re[ee-1],attributeName:re[ee]};break;case 24:this.$={attributeType:re[ee-2],attributeName:re[ee-1],attributeKeyTypeList:re[ee]};break;case 25:this.$={attributeType:re[ee-2],attributeName:re[ee-1],attributeComment:re[ee]};break;case 26:this.$={attributeType:re[ee-3],attributeName:re[ee-2],attributeKeyTypeList:re[ee-1],attributeComment:re[ee]};break;case 27:case 28:case 31:this.$=re[ee];break;case 30:re[ee-2].push(re[ee]),this.$=re[ee-2];break;case 32:this.$=re[ee].replace(/"/g,"");break;case 33:this.$={cardA:re[ee],relType:re[ee-1],cardB:re[ee-2]};break;case 34:this.$=K.Cardinality.ZERO_OR_ONE;break;case 35:this.$=K.Cardinality.ZERO_OR_MORE;break;case 36:this.$=K.Cardinality.ONE_OR_MORE;break;case 37:this.$=K.Cardinality.ONLY_ONE;break;case 38:this.$=K.Cardinality.MD_PARENT;break;case 39:this.$=K.Identification.NON_IDENTIFYING;break;case 40:this.$=K.Identification.IDENTIFYING;break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:9,20:r,22:n,24:i,26:o,27:s,28:u},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:16,11:9,20:r,22:n,24:i,26:o,27:s,28:u},e(t,[2,5]),e(t,[2,6]),e(t,[2,11],{12:17,39:20,15:[1,18],18:[1,19],41:f,42:p,43:g,44:y,45:x}),{21:[1,26]},{23:[1,27]},{25:[1,28]},e(t,[2,18]),e(b,[2,19]),e(b,[2,20]),e(t,[2,4]),{11:29,27:s,28:u},{16:30,17:[1,31],29:32,30:33,34:E},{11:35,27:s,28:u},{40:36,46:[1,37],47:[1,38]},e(A,[2,34]),e(A,[2,35]),e(A,[2,36]),e(A,[2,37]),e(A,[2,38]),e(t,[2,15]),e(t,[2,16]),e(t,[2,17]),{13:[1,39]},{17:[1,40]},e(t,[2,10]),{16:41,17:[2,21],29:32,30:33,34:E},{31:42,34:[1,43]},{34:[2,27]},{19:[1,44]},{39:45,41:f,42:p,43:g,44:y,45:x},e(O,[2,39]),e(O,[2,40]),{14:46,27:[1,49],28:[1,48],48:[1,47]},e(t,[2,9]),{17:[2,22]},e(N,[2,23],{32:50,33:51,35:52,37:I,38:$}),e([17,34,37,38],[2,28]),e(t,[2,14],{15:[1,55]}),e([27,28],[2,33]),e(t,[2,8]),e(t,[2,41]),e(t,[2,42]),e(t,[2,43]),e(N,[2,24],{33:56,36:[1,57],38:$}),e(N,[2,25]),e(X,[2,29]),e(N,[2,32]),e(X,[2,31]),{16:58,17:[1,59],29:32,30:33,34:E},e(N,[2,26]),{35:60,37:I},{17:[1,61]},e(t,[2,13]),e(X,[2,30]),e(t,[2,12])],defaultActions:{34:[2,27],41:[2,22]},parseError:a(function(U,W){if(W.recoverable)this.trace(U);else{var D=new Error(U);throw D.hash=W,D}},"parseError"),parse:a(function(U){var W=this,D=[0],K=[],P=[null],re=[],ce=this.table,ee="",H=0,te=0,J=0,Y=2,de=1,Fe=re.slice.call(arguments,1),oe=Object.create(this.lexer),rt={yy:{}};for(var We in this.yy)Object.prototype.hasOwnProperty.call(this.yy,We)&&(rt.yy[We]=this.yy[We]);oe.setInput(U,rt.yy),rt.yy.lexer=oe,rt.yy.parser=this,typeof oe.yylloc>"u"&&(oe.yylloc={});var _e=oe.yylloc;re.push(_e);var Ve=oe.options&&oe.options.ranges;typeof rt.yy.parseError=="function"?this.parseError=rt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ye(Kt){D.length=D.length-2*Kt,P.length=P.length-Kt,re.length=re.length-Kt}a(Ye,"popStack");function Le(){var Kt;return Kt=K.pop()||oe.lex()||de,typeof Kt!="number"&&(Kt instanceof Array&&(K=Kt,Kt=K.pop()),Kt=W.symbols_[Kt]||Kt),Kt}a(Le,"lex");for(var fe,le,he,xe,ke,pe,Ce={},Ue,He,Pt,Lt;;){if(he=D[D.length-1],this.defaultActions[he]?xe=this.defaultActions[he]:((fe===null||typeof fe>"u")&&(fe=Le()),xe=ce[he]&&ce[he][fe]),typeof xe>"u"||!xe.length||!xe[0]){var Xt="";Lt=[];for(Ue in ce[he])this.terminals_[Ue]&&Ue>Y&&Lt.push("'"+this.terminals_[Ue]+"'");oe.showPosition?Xt="Parse error on line "+(H+1)+`:
`+oe.showPosition()+`
Expecting `+Lt.join(", ")+", got '"+(this.terminals_[fe]||fe)+"'":Xt="Parse error on line "+(H+1)+": Unexpected "+(fe==de?"end of input":"'"+(this.terminals_[fe]||fe)+"'"),this.parseError(Xt,{text:oe.match,token:this.terminals_[fe]||fe,line:oe.yylineno,loc:_e,expected:Lt})}if(xe[0]instanceof Array&&xe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+he+", token: "+fe);switch(xe[0]){case 1:D.push(fe),P.push(oe.yytext),re.push(oe.yylloc),D.push(xe[1]),fe=null,le?(fe=le,le=null):(te=oe.yyleng,ee=oe.yytext,H=oe.yylineno,_e=oe.yylloc,J>0&&J--);break;case 2:if(He=this.productions_[xe[1]][1],Ce.$=P[P.length-He],Ce._$={first_line:re[re.length-(He||1)].first_line,last_line:re[re.length-1].last_line,first_column:re[re.length-(He||1)].first_column,last_column:re[re.length-1].last_column},Ve&&(Ce._$.range=[re[re.length-(He||1)].range[0],re[re.length-1].range[1]]),pe=this.performAction.apply(Ce,[ee,te,H,rt.yy,xe[1],P,re].concat(Fe)),typeof pe<"u")return pe;He&&(D=D.slice(0,-1*He*2),P=P.slice(0,-1*He),re=re.slice(0,-1*He)),D.push(this.productions_[xe[1]][0]),P.push(Ce.$),re.push(Ce._$),Pt=ce[D[D.length-2]][D[D.length-1]],D.push(Pt);break;case 3:return!0}}return!0},"parse")},M=function(){var G={EOF:1,parseError:a(function(W,D){if(this.yy.parser)this.yy.parser.parseError(W,D);else throw new Error(W)},"parseError"),setInput:function(U,W){return this.yy=W||this.yy||{},this._input=U,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var U=this._input[0];this.yytext+=U,this.yyleng++,this.offset++,this.match+=U,this.matched+=U;var W=U.match(/(?:\r\n?|\n).*/g);return W?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),U},unput:function(U){var W=U.length,D=U.split(/(?:\r\n?|\n)/g);this._input=U+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-W),this.offset-=W;var K=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),D.length-1&&(this.yylineno-=D.length-1);var P=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:D?(D.length===K.length?this.yylloc.first_column:0)+K[K.length-D.length].length-D[0].length:this.yylloc.first_column-W},this.options.ranges&&(this.yylloc.range=[P[0],P[0]+this.yyleng-W]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(U){this.unput(this.match.slice(U))},pastInput:function(){var U=this.matched.substr(0,this.matched.length-this.match.length);return(U.length>20?"...":"")+U.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var U=this.match;return U.length<20&&(U+=this._input.substr(0,20-U.length)),(U.substr(0,20)+(U.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var U=this.pastInput(),W=new Array(U.length+1).join("-");return U+this.upcomingInput()+`
`+W+"^"},test_match:function(U,W){var D,K,P;if(this.options.backtrack_lexer&&(P={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(P.yylloc.range=this.yylloc.range.slice(0))),K=U[0].match(/(?:\r\n?|\n).*/g),K&&(this.yylineno+=K.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:K?K[K.length-1].length-K[K.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+U[0].length},this.yytext+=U[0],this.match+=U[0],this.matches=U,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(U[0].length),this.matched+=U[0],D=this.performAction.call(this,this.yy,this,W,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),D)return D;if(this._backtrack){for(var re in P)this[re]=P[re];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var U,W,D,K;this._more||(this.yytext="",this.match="");for(var P=this._currentRules(),re=0;re<P.length;re++)if(D=this._input.match(this.rules[P[re]]),D&&(!W||D[0].length>W[0].length)){if(W=D,K=re,this.options.backtrack_lexer){if(U=this.test_match(D,P[re]),U!==!1)return U;if(this._backtrack){W=!1;continue}else return!1}else if(!this.options.flex)break}return W?(U=this.test_match(W,P[K]),U!==!1?U:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var W=this.next();return W||this.lex()},"lex"),begin:a(function(W){this.conditionStack.push(W)},"begin"),popState:a(function(){var W=this.conditionStack.length-1;return W>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(W){return W=this.conditionStack.length-1-Math.abs(W||0),W>=0?this.conditionStack[W]:"INITIAL"},"topState"),pushState:a(function(W){this.begin(W)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(W,D,K,P){var re=P;switch(K){case 0:return this.begin("acc_title"),22;break;case 1:return this.popState(),"acc_title_value";break;case 2:return this.begin("acc_descr"),24;break;case 3:return this.popState(),"acc_descr_value";break;case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return 10;case 8:break;case 9:return 8;case 10:return 28;case 11:return 48;case 12:return 4;case 13:return this.begin("block"),15;break;case 14:return 36;case 15:break;case 16:return 37;case 17:return 34;case 18:return 34;case 19:return 38;case 20:break;case 21:return this.popState(),17;break;case 22:return D.yytext[0];case 23:return 18;case 24:return 19;case 25:return 41;case 26:return 43;case 27:return 43;case 28:return 43;case 29:return 41;case 30:return 41;case 31:return 42;case 32:return 42;case 33:return 42;case 34:return 42;case 35:return 42;case 36:return 43;case 37:return 42;case 38:return 43;case 39:return 44;case 40:return 44;case 41:return 44;case 42:return 44;case 43:return 41;case 44:return 42;case 45:return 43;case 46:return 45;case 47:return 46;case 48:return 47;case 49:return 47;case 50:return 46;case 51:return 46;case 52:return 46;case 53:return 27;case 54:return D.yytext[0];case 55:return 6}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:,)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK)|(?:UK))\b)/i,/^(?:(.*?)[~](.*?)*[~])/i,/^(?:[\*A-Za-z_][A-Za-z0-9\-_\[\]\(\)]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\s*u\b)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z_][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},block:{rules:[14,15,16,17,18,19,20,21,22],inclusive:!1},INITIAL:{rules:[0,2,4,7,8,9,10,11,12,13,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55],inclusive:!0}}};return G}();q.lexer=M;function B(){this.yy={}}return a(B,"Parser"),B.prototype=q,q.Parser=B,new B}();CL.parser=CL;IZ=CL});var gh,SL,a7e,o7e,PZ,s7e,l7e,c7e,u7e,f7e,OZ,MZ=F(()=>{"use strict";br();Pr();Ua();gh={},SL=[],a7e={ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE",MD_PARENT:"MD_PARENT"},o7e={NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},PZ=a(function(e,t=void 0){return gh[e]===void 0?(gh[e]={attributes:[],alias:t},ye.info("Added new entity :",e)):gh[e]&&!gh[e].alias&&t&&(gh[e].alias=t,ye.info(`Add alias '${t}' to entity '${e}'`)),gh[e]},"addEntity"),s7e=a(()=>gh,"getEntities"),l7e=a(function(e,t){let r=PZ(e),n;for(n=t.length-1;n>=0;n--)r.attributes.push(t[n]),ye.debug("Added attribute ",t[n].attributeName)},"addAttributes"),c7e=a(function(e,t,r,n){let i={entityA:e,roleA:t,entityB:r,relSpec:n};SL.push(i),ye.debug("Added new relationship :",i)},"addRelationship"),u7e=a(()=>SL,"getRelationships"),f7e=a(function(){gh={},SL=[],In()},"clear"),OZ={Cardinality:a7e,Identification:o7e,getConfig:()=>Me().er,addEntity:PZ,addAttributes:l7e,getEntities:s7e,addRelationship:c7e,getRelationships:u7e,clear:f7e,setAccTitle:Rn,getAccTitle:Nn,setAccDescription:Pn,getAccDescription:On,setDiagramTitle:ci,getDiagramTitle:Yn}});var $l,h7e,Zs,FZ=F(()=>{"use strict";$l={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END",MD_PARENT_END:"MD_PARENT_END",MD_PARENT_START:"MD_PARENT_START"},h7e=a(function(e,t){let r;e.append("defs").append("marker").attr("id",$l.MD_PARENT_START).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",$l.MD_PARENT_END).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",$l.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),e.append("defs").append("marker").attr("id",$l.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),r=e.append("defs").append("marker").attr("id",$l.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M9,0 L9,18"),r=e.append("defs").append("marker").attr("id",$l.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M21,0 L21,18"),e.append("defs").append("marker").attr("id",$l.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),e.append("defs").append("marker").attr("id",$l.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),r=e.append("defs").append("marker").attr("id",$l.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),r=e.append("defs").append("marker").attr("id",$l.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"insertMarkers"),Zs={ERMarkers:$l,insertMarkers:h7e}});var BZ,qZ=F(()=>{"use strict";BZ=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function d7e(e){return typeof e=="string"&&BZ.test(e)}var zZ,UZ=F(()=>{"use strict";qZ();a(d7e,"validate");zZ=d7e});function $Z(e,t=0){return(Va[e[t+0]]+Va[e[t+1]]+Va[e[t+2]]+Va[e[t+3]]+"-"+Va[e[t+4]]+Va[e[t+5]]+"-"+Va[e[t+6]]+Va[e[t+7]]+"-"+Va[e[t+8]]+Va[e[t+9]]+"-"+Va[e[t+10]]+Va[e[t+11]]+Va[e[t+12]]+Va[e[t+13]]+Va[e[t+14]]+Va[e[t+15]]).toLowerCase()}var Va,GZ=F(()=>{"use strict";Va=[];for(let e=0;e<256;++e)Va.push((e+256).toString(16).slice(1));a($Z,"unsafeStringify")});function p7e(e){if(!zZ(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var VZ,WZ=F(()=>{"use strict";UZ();a(p7e,"parse");VZ=p7e});function m7e(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function AL(e,t,r){function n(i,o,s,u){var f;if(typeof i=="string"&&(i=m7e(i)),typeof o=="string"&&(o=VZ(o)),((f=o)===null||f===void 0?void 0:f.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let p=new Uint8Array(16+i.length);if(p.set(o),p.set(i,o.length),p=r(p),p[6]=p[6]&15|t,p[8]=p[8]&63|128,s){u=u||0;for(let g=0;g<16;++g)s[u+g]=p[g];return s}return $Z(p)}a(n,"generateUUID");try{n.name=e}catch{}return n.DNS=g7e,n.URL=y7e,n}var g7e,y7e,HZ=F(()=>{"use strict";GZ();WZ();a(m7e,"stringToBytes");g7e="6ba7b810-9dad-11d1-80b4-00c04fd430c8",y7e="6ba7b811-9dad-11d1-80b4-00c04fd430c8";a(AL,"v35")});function v7e(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function RL(e,t){return e<<t|e>>>32-t}function x7e(e){let t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){let s=unescape(encodeURIComponent(e));e=[];for(let u=0;u<s.length;++u)e.push(s.charCodeAt(u))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);let n=e.length/4+2,i=Math.ceil(n/16),o=new Array(i);for(let s=0;s<i;++s){let u=new Uint32Array(16);for(let f=0;f<16;++f)u[f]=e[s*64+f*4]<<24|e[s*64+f*4+1]<<16|e[s*64+f*4+2]<<8|e[s*64+f*4+3];o[s]=u}o[i-1][14]=(e.length-1)*8/Math.pow(2,32),o[i-1][14]=Math.floor(o[i-1][14]),o[i-1][15]=(e.length-1)*8&4294967295;for(let s=0;s<i;++s){let u=new Uint32Array(80);for(let b=0;b<16;++b)u[b]=o[s][b];for(let b=16;b<80;++b)u[b]=RL(u[b-3]^u[b-8]^u[b-14]^u[b-16],1);let f=r[0],p=r[1],g=r[2],y=r[3],x=r[4];for(let b=0;b<80;++b){let E=Math.floor(b/20),A=RL(f,5)+v7e(E,p,g,y)+x+t[E]+u[b]>>>0;x=y,y=g,g=RL(p,30)>>>0,p=f,f=A}r[0]=r[0]+f>>>0,r[1]=r[1]+p>>>0,r[2]=r[2]+g>>>0,r[3]=r[3]+y>>>0,r[4]=r[4]+x>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var jZ,YZ=F(()=>{"use strict";a(v7e,"f");a(RL,"ROTL");a(x7e,"sha1");jZ=x7e});var b7e,DL,XZ=F(()=>{"use strict";HZ();YZ();b7e=AL("v5",80,jZ),DL=b7e});var KZ=F(()=>{"use strict";XZ()});function D7e(e="",t=""){let r=e.replace(T7e,"");return`${ZZ(t)}${ZZ(r)}${DL(e,R7e)}`}function ZZ(e=""){return e.length>0?`${e}-`:""}var T7e,aa,Gv,k7e,_7e,w7e,E7e,JZ,C7e,QZ,S7e,A7e,R7e,eJ,tJ=F(()=>{"use strict";_a();Zr();Vd();Pr();br();An();FZ();Si();en();KZ();T7e=/[^\dA-Za-z](\W)*/g,aa={},Gv=new Map,k7e=a(function(e){let t=Object.keys(e);for(let r of t)aa[r]=e[r]},"setConf"),_7e=a((e,t,r)=>{let n=aa.entityPadding/3,i=aa.entityPadding/3,o=aa.fontSize*.85,s=t.node().getBBox(),u=[],f=!1,p=!1,g=0,y=0,x=0,b=0,E=s.height+n*2,A=1;r.forEach($=>{$.attributeKeyTypeList!==void 0&&$.attributeKeyTypeList.length>0&&(f=!0),$.attributeComment!==void 0&&(p=!0)}),r.forEach($=>{let X=`${t.node().id}-attr-${A}`,q=0,M=Cf($.attributeType),B=e.append("text").classed("er entityLabel",!0).attr("id",`${X}-type`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",Me().fontFamily).style("font-size",o+"px").text(M),G=e.append("text").classed("er entityLabel",!0).attr("id",`${X}-name`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",Me().fontFamily).style("font-size",o+"px").text($.attributeName),U={};U.tn=B,U.nn=G;let W=B.node().getBBox(),D=G.node().getBBox();if(g=Math.max(g,W.width),y=Math.max(y,D.width),q=Math.max(W.height,D.height),f){let K=$.attributeKeyTypeList!==void 0?$.attributeKeyTypeList.join(","):"",P=e.append("text").classed("er entityLabel",!0).attr("id",`${X}-key`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",Me().fontFamily).style("font-size",o+"px").text(K);U.kn=P;let re=P.node().getBBox();x=Math.max(x,re.width),q=Math.max(q,re.height)}if(p){let K=e.append("text").classed("er entityLabel",!0).attr("id",`${X}-comment`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",Me().fontFamily).style("font-size",o+"px").text($.attributeComment||"");U.cn=K;let P=K.node().getBBox();b=Math.max(b,P.width),q=Math.max(q,P.height)}U.height=q,u.push(U),E+=q+n*2,A+=1});let O=4;f&&(O+=2),p&&(O+=2);let N=g+y+x+b,I={width:Math.max(aa.minEntityWidth,Math.max(s.width+aa.entityPadding*2,N+i*O)),height:r.length>0?E:Math.max(aa.minEntityHeight,s.height+aa.entityPadding*2)};if(r.length>0){let $=Math.max(0,(I.width-N-i*O)/(O/2));t.attr("transform","translate("+I.width/2+","+(n+s.height/2)+")");let X=s.height+n*2,q="attributeBoxOdd";u.forEach(M=>{let B=X+n+M.height/2;M.tn.attr("transform","translate("+i+","+B+")");let G=e.insert("rect","#"+M.tn.node().id).classed(`er ${q}`,!0).attr("x",0).attr("y",X).attr("width",g+i*2+$).attr("height",M.height+n*2),U=parseFloat(G.attr("x"))+parseFloat(G.attr("width"));M.nn.attr("transform","translate("+(U+i)+","+B+")");let W=e.insert("rect","#"+M.nn.node().id).classed(`er ${q}`,!0).attr("x",U).attr("y",X).attr("width",y+i*2+$).attr("height",M.height+n*2),D=parseFloat(W.attr("x"))+parseFloat(W.attr("width"));if(f){M.kn.attr("transform","translate("+(D+i)+","+B+")");let K=e.insert("rect","#"+M.kn.node().id).classed(`er ${q}`,!0).attr("x",D).attr("y",X).attr("width",x+i*2+$).attr("height",M.height+n*2);D=parseFloat(K.attr("x"))+parseFloat(K.attr("width"))}p&&(M.cn.attr("transform","translate("+(D+i)+","+B+")"),e.insert("rect","#"+M.cn.node().id).classed(`er ${q}`,"true").attr("x",D).attr("y",X).attr("width",b+i*2+$).attr("height",M.height+n*2)),X+=M.height+n*2,q=q==="attributeBoxOdd"?"attributeBoxEven":"attributeBoxOdd"})}else I.height=Math.max(aa.minEntityHeight,E),t.attr("transform","translate("+I.width/2+","+I.height/2+")");return I},"drawAttributes"),w7e=a(function(e,t,r){let n=Object.keys(t),i;return n.forEach(function(o){let s=D7e(o,"entity");Gv.set(o,s);let u=e.append("g").attr("id",s);i=i===void 0?s:i;let f="text-"+s,p=u.append("text").classed("er entityLabel",!0).attr("id",f).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","middle").style("font-family",Me().fontFamily).style("font-size",aa.fontSize+"px").text(t[o].alias??o),{width:g,height:y}=_7e(u,p,t[o].attributes),b=u.insert("rect","#"+f).classed("er entityBox",!0).attr("x",0).attr("y",0).attr("width",g).attr("height",y).node().getBBox();r.setNode(s,{width:b.width,height:b.height,shape:"rect",id:s})}),i},"drawEntities"),E7e=a(function(e,t){t.nodes().forEach(function(r){r!==void 0&&t.node(r)!==void 0&&e.select("#"+r).attr("transform","translate("+(t.node(r).x-t.node(r).width/2)+","+(t.node(r).y-t.node(r).height/2)+" )")})},"adjustEntities"),JZ=a(function(e){return(e.entityA+e.roleA+e.entityB).replace(/\s/g,"")},"getEdgeName"),C7e=a(function(e,t){return e.forEach(function(r){t.setEdge(Gv.get(r.entityA),Gv.get(r.entityB),{relationship:r},JZ(r))}),e},"addRelationships"),QZ=0,S7e=a(function(e,t,r,n,i){QZ++;let o=r.edge(Gv.get(t.entityA),Gv.get(t.entityB),JZ(t)),s=za().x(function(E){return E.x}).y(function(E){return E.y}).curve(qs),u=e.insert("path","#"+n).classed("er relationshipLine",!0).attr("d",s(o.points)).style("stroke",aa.stroke).style("fill","none");t.relSpec.relType===i.db.Identification.NON_IDENTIFYING&&u.attr("stroke-dasharray","8,8");let f="";switch(aa.arrowMarkerAbsolute&&(f=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,f=f.replace(/\(/g,"\\("),f=f.replace(/\)/g,"\\)")),t.relSpec.cardA){case i.db.Cardinality.ZERO_OR_ONE:u.attr("marker-end","url("+f+"#"+Zs.ERMarkers.ZERO_OR_ONE_END+")");break;case i.db.Cardinality.ZERO_OR_MORE:u.attr("marker-end","url("+f+"#"+Zs.ERMarkers.ZERO_OR_MORE_END+")");break;case i.db.Cardinality.ONE_OR_MORE:u.attr("marker-end","url("+f+"#"+Zs.ERMarkers.ONE_OR_MORE_END+")");break;case i.db.Cardinality.ONLY_ONE:u.attr("marker-end","url("+f+"#"+Zs.ERMarkers.ONLY_ONE_END+")");break;case i.db.Cardinality.MD_PARENT:u.attr("marker-end","url("+f+"#"+Zs.ERMarkers.MD_PARENT_END+")");break}switch(t.relSpec.cardB){case i.db.Cardinality.ZERO_OR_ONE:u.attr("marker-start","url("+f+"#"+Zs.ERMarkers.ZERO_OR_ONE_START+")");break;case i.db.Cardinality.ZERO_OR_MORE:u.attr("marker-start","url("+f+"#"+Zs.ERMarkers.ZERO_OR_MORE_START+")");break;case i.db.Cardinality.ONE_OR_MORE:u.attr("marker-start","url("+f+"#"+Zs.ERMarkers.ONE_OR_MORE_START+")");break;case i.db.Cardinality.ONLY_ONE:u.attr("marker-start","url("+f+"#"+Zs.ERMarkers.ONLY_ONE_START+")");break;case i.db.Cardinality.MD_PARENT:u.attr("marker-start","url("+f+"#"+Zs.ERMarkers.MD_PARENT_START+")");break}let p=u.node().getTotalLength(),g=u.node().getPointAtLength(p*.5),y="rel"+QZ,b=e.append("text").classed("er relationshipLabel",!0).attr("id",y).attr("x",g.x).attr("y",g.y).style("text-anchor","middle").style("dominant-baseline","middle").style("font-family",Me().fontFamily).style("font-size",aa.fontSize+"px").text(t.roleA).node().getBBox();e.insert("rect","#"+y).classed("er relationshipLabelBox",!0).attr("x",g.x-b.width/2).attr("y",g.y-b.height/2).attr("width",b.width).attr("height",b.height)},"drawRelationshipFromLayout"),A7e=a(function(e,t,r,n){aa=Me().er,ye.info("Drawing ER diagram");let i=Me().securityLevel,o;i==="sandbox"&&(o=dt("#i"+t));let u=(i==="sandbox"?dt(o.nodes()[0].contentDocument.body):dt("body")).select(`[id='${t}']`);Zs.insertMarkers(u,aa);let f;f=new Yr({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:aa.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});let p=w7e(u,n.db.getEntities(),f),g=C7e(n.db.getRelationships(),f);ds(f),E7e(u,f),g.forEach(function(A){S7e(u,A,f,p,n)});let y=aa.diagramPadding;yr.insertTitle(u,"entityTitleText",aa.titleTopMargin,n.db.getDiagramTitle());let x=u.node().getBBox(),b=x.width+y*2,E=x.height+y*2;wn(u,E,b,aa.useMaxWidth),u.attr("viewBox",`${x.x-y} ${x.y-y} ${b} ${E}`)},"draw"),R7e="28e9f9db-3c8d-5aa5-9faf-44286ae5937c";a(D7e,"generateId");a(ZZ,"strWithHyphen");eJ={setConf:k7e,draw:A7e}});var L7e,rJ,nJ=F(()=>{"use strict";L7e=a(e=>`
  .entityBox {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
  }

  .attributeBoxOdd {
    fill: ${e.attributeBackgroundColorOdd};
    stroke: ${e.nodeBorder};
  }

  .attributeBoxEven {
    fill:  ${e.attributeBackgroundColorEven};
    stroke: ${e.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${e.tertiaryColor};
    opacity: 0.7;
    background-color: ${e.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

    .relationshipLine {
      stroke: ${e.lineColor};
    }

  .entityTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }    
  #MD_PARENT_START {
    fill: #f5f5f5 !important;
    stroke: ${e.lineColor} !important;
    stroke-width: 1;
  }
  #MD_PARENT_END {
    fill: #f5f5f5 !important;
    stroke: ${e.lineColor} !important;
    stroke-width: 1;
  }
  
`,"getStyles"),rJ=L7e});var iJ={};ii(iJ,{diagram:()=>I7e});var I7e,aJ=F(()=>{"use strict";NZ();MZ();tJ();nJ();I7e={parser:IZ,db:OZ,renderer:eJ,styles:rJ}});var LL,lJ,cJ=F(()=>{"use strict";LL=function(){var e=a(function(q,M,B,G){for(B=B||{},G=q.length;G--;B[q[G]]=M);return B},"o"),t=[1,3],r=[1,6],n=[1,4],i=[1,5],o=[2,5],s=[1,12],u=[5,7,13,19,21,23,24,26,28,31,36,39,46],f=[7,13,19,21,23,24,26,28,31,36,39],p=[7,12,13,19,21,23,24,26,28,31,36,39],g=[7,13,46],y=[1,42],x=[1,41],b=[7,13,29,32,34,37,46],E=[1,55],A=[1,56],O=[1,57],N=[7,13,32,34,41,46],I={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,eol:4,GG:5,document:6,EOF:7,":":8,DIR:9,options:10,body:11,OPT:12,NL:13,line:14,statement:15,commitStatement:16,mergeStatement:17,cherryPickStatement:18,acc_title:19,acc_title_value:20,acc_descr:21,acc_descr_value:22,acc_descr_multiline_value:23,section:24,branchStatement:25,CHECKOUT:26,ref:27,BRANCH:28,ORDER:29,NUM:30,CHERRY_PICK:31,COMMIT_ID:32,STR:33,COMMIT_TAG:34,EMPTYSTR:35,MERGE:36,COMMIT_TYPE:37,commitType:38,COMMIT:39,commit_arg:40,COMMIT_MSG:41,NORMAL:42,REVERSE:43,HIGHLIGHT:44,ID:45,";":46,$accept:0,$end:1},terminals_:{2:"error",5:"GG",7:"EOF",8:":",9:"DIR",12:"OPT",13:"NL",19:"acc_title",20:"acc_title_value",21:"acc_descr",22:"acc_descr_value",23:"acc_descr_multiline_value",24:"section",26:"CHECKOUT",28:"BRANCH",29:"ORDER",30:"NUM",31:"CHERRY_PICK",32:"COMMIT_ID",33:"STR",34:"COMMIT_TAG",35:"EMPTYSTR",36:"MERGE",37:"COMMIT_TYPE",39:"COMMIT",41:"COMMIT_MSG",42:"NORMAL",43:"REVERSE",44:"HIGHLIGHT",45:"ID",46:";"},productions_:[0,[3,2],[3,3],[3,4],[3,5],[6,0],[6,2],[10,2],[10,1],[11,0],[11,2],[14,2],[14,1],[15,1],[15,1],[15,1],[15,2],[15,2],[15,1],[15,1],[15,1],[15,2],[25,2],[25,4],[18,3],[18,5],[18,5],[18,5],[18,5],[17,2],[17,4],[17,4],[17,4],[17,6],[17,6],[17,6],[17,6],[17,6],[17,6],[17,8],[17,8],[17,8],[17,8],[17,8],[17,8],[16,2],[16,3],[16,3],[16,5],[16,5],[16,3],[16,5],[16,5],[16,5],[16,5],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,3],[16,5],[16,5],[16,5],[16,5],[16,5],[16,5],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[40,0],[40,1],[38,1],[38,1],[38,1],[27,1],[27,1],[4,1],[4,1],[4,1]],performAction:a(function(M,B,G,U,W,D,K){var P=D.length-1;switch(W){case 2:return D[P];case 3:return D[P-1];case 4:return U.setDirection(D[P-3]),D[P-1];break;case 6:U.setOptions(D[P-1]),this.$=D[P];break;case 7:D[P-1]+=D[P],this.$=D[P-1];break;case 9:this.$=[];break;case 10:D[P-1].push(D[P]),this.$=D[P-1];break;case 11:this.$=D[P-1];break;case 16:this.$=D[P].trim(),U.setAccTitle(this.$);break;case 17:case 18:this.$=D[P].trim(),U.setAccDescription(this.$);break;case 19:U.addSection(D[P].substr(8)),this.$=D[P].substr(8);break;case 21:U.checkout(D[P]);break;case 22:U.branch(D[P]);break;case 23:U.branch(D[P-2],D[P]);break;case 24:U.cherryPick(D[P],"",void 0);break;case 25:U.cherryPick(D[P-2],"",D[P]);break;case 26:case 28:U.cherryPick(D[P-2],"","");break;case 27:U.cherryPick(D[P],"",D[P-2]);break;case 29:U.merge(D[P],"","","");break;case 30:U.merge(D[P-2],D[P],"","");break;case 31:U.merge(D[P-2],"",D[P],"");break;case 32:U.merge(D[P-2],"","",D[P]);break;case 33:U.merge(D[P-4],D[P],"",D[P-2]);break;case 34:U.merge(D[P-4],"",D[P],D[P-2]);break;case 35:U.merge(D[P-4],"",D[P-2],D[P]);break;case 36:U.merge(D[P-4],D[P-2],D[P],"");break;case 37:U.merge(D[P-4],D[P-2],"",D[P]);break;case 38:U.merge(D[P-4],D[P],D[P-2],"");break;case 39:U.merge(D[P-6],D[P-4],D[P-2],D[P]);break;case 40:U.merge(D[P-6],D[P],D[P-4],D[P-2]);break;case 41:U.merge(D[P-6],D[P-4],D[P],D[P-2]);break;case 42:U.merge(D[P-6],D[P-2],D[P-4],D[P]);break;case 43:U.merge(D[P-6],D[P],D[P-2],D[P-4]);break;case 44:U.merge(D[P-6],D[P-2],D[P],D[P-4]);break;case 45:U.commit(D[P]);break;case 46:U.commit("","",U.commitType.NORMAL,D[P]);break;case 47:U.commit("","",D[P],"");break;case 48:U.commit("","",D[P],D[P-2]);break;case 49:U.commit("","",D[P-2],D[P]);break;case 50:U.commit("",D[P],U.commitType.NORMAL,"");break;case 51:U.commit("",D[P-2],U.commitType.NORMAL,D[P]);break;case 52:U.commit("",D[P],U.commitType.NORMAL,D[P-2]);break;case 53:U.commit("",D[P-2],D[P],"");break;case 54:U.commit("",D[P],D[P-2],"");break;case 55:U.commit("",D[P-4],D[P-2],D[P]);break;case 56:U.commit("",D[P-4],D[P],D[P-2]);break;case 57:U.commit("",D[P-2],D[P-4],D[P]);break;case 58:U.commit("",D[P],D[P-4],D[P-2]);break;case 59:U.commit("",D[P],D[P-2],D[P-4]);break;case 60:U.commit("",D[P-2],D[P],D[P-4]);break;case 61:U.commit(D[P],"",U.commitType.NORMAL,"");break;case 62:U.commit(D[P],"",U.commitType.NORMAL,D[P-2]);break;case 63:U.commit(D[P-2],"",U.commitType.NORMAL,D[P]);break;case 64:U.commit(D[P-2],"",D[P],"");break;case 65:U.commit(D[P],"",D[P-2],"");break;case 66:U.commit(D[P],D[P-2],U.commitType.NORMAL,"");break;case 67:U.commit(D[P-2],D[P],U.commitType.NORMAL,"");break;case 68:U.commit(D[P-4],"",D[P-2],D[P]);break;case 69:U.commit(D[P-4],"",D[P],D[P-2]);break;case 70:U.commit(D[P-2],"",D[P-4],D[P]);break;case 71:U.commit(D[P],"",D[P-4],D[P-2]);break;case 72:U.commit(D[P],"",D[P-2],D[P-4]);break;case 73:U.commit(D[P-2],"",D[P],D[P-4]);break;case 74:U.commit(D[P-4],D[P],D[P-2],"");break;case 75:U.commit(D[P-4],D[P-2],D[P],"");break;case 76:U.commit(D[P-2],D[P],D[P-4],"");break;case 77:U.commit(D[P],D[P-2],D[P-4],"");break;case 78:U.commit(D[P],D[P-4],D[P-2],"");break;case 79:U.commit(D[P-2],D[P-4],D[P],"");break;case 80:U.commit(D[P-4],D[P],U.commitType.NORMAL,D[P-2]);break;case 81:U.commit(D[P-4],D[P-2],U.commitType.NORMAL,D[P]);break;case 82:U.commit(D[P-2],D[P],U.commitType.NORMAL,D[P-4]);break;case 83:U.commit(D[P],D[P-2],U.commitType.NORMAL,D[P-4]);break;case 84:U.commit(D[P],D[P-4],U.commitType.NORMAL,D[P-2]);break;case 85:U.commit(D[P-2],D[P-4],U.commitType.NORMAL,D[P]);break;case 86:U.commit(D[P-6],D[P-4],D[P-2],D[P]);break;case 87:U.commit(D[P-6],D[P-4],D[P],D[P-2]);break;case 88:U.commit(D[P-6],D[P-2],D[P-4],D[P]);break;case 89:U.commit(D[P-6],D[P],D[P-4],D[P-2]);break;case 90:U.commit(D[P-6],D[P-2],D[P],D[P-4]);break;case 91:U.commit(D[P-6],D[P],D[P-2],D[P-4]);break;case 92:U.commit(D[P-4],D[P-6],D[P-2],D[P]);break;case 93:U.commit(D[P-4],D[P-6],D[P],D[P-2]);break;case 94:U.commit(D[P-2],D[P-6],D[P-4],D[P]);break;case 95:U.commit(D[P],D[P-6],D[P-4],D[P-2]);break;case 96:U.commit(D[P-2],D[P-6],D[P],D[P-4]);break;case 97:U.commit(D[P],D[P-6],D[P-2],D[P-4]);break;case 98:U.commit(D[P],D[P-4],D[P-2],D[P-6]);break;case 99:U.commit(D[P-2],D[P-4],D[P],D[P-6]);break;case 100:U.commit(D[P],D[P-2],D[P-4],D[P-6]);break;case 101:U.commit(D[P-2],D[P],D[P-4],D[P-6]);break;case 102:U.commit(D[P-4],D[P-2],D[P],D[P-6]);break;case 103:U.commit(D[P-4],D[P],D[P-2],D[P-6]);break;case 104:U.commit(D[P-2],D[P-4],D[P-6],D[P]);break;case 105:U.commit(D[P],D[P-4],D[P-6],D[P-2]);break;case 106:U.commit(D[P-2],D[P],D[P-6],D[P-4]);break;case 107:U.commit(D[P],D[P-2],D[P-6],D[P-4]);break;case 108:U.commit(D[P-4],D[P-2],D[P-6],D[P]);break;case 109:U.commit(D[P-4],D[P],D[P-6],D[P-2]);break;case 110:this.$="";break;case 111:this.$=D[P];break;case 112:this.$=U.commitType.NORMAL;break;case 113:this.$=U.commitType.REVERSE;break;case 114:this.$=U.commitType.HIGHLIGHT;break}},"anonymous"),table:[{3:1,4:2,5:t,7:r,13:n,46:i},{1:[3]},{3:7,4:2,5:t,7:r,13:n,46:i},{6:8,7:o,8:[1,9],9:[1,10],10:11,13:s},e(u,[2,117]),e(u,[2,118]),e(u,[2,119]),{1:[2,1]},{7:[1,13]},{6:14,7:o,10:11,13:s},{8:[1,15]},e(f,[2,9],{11:16,12:[1,17]}),e(p,[2,8]),{1:[2,2]},{7:[1,18]},{6:19,7:o,10:11,13:s},{7:[2,6],13:[1,22],14:20,15:21,16:23,17:24,18:25,19:[1,26],21:[1,27],23:[1,28],24:[1,29],25:30,26:[1,31],28:[1,35],31:[1,34],36:[1,33],39:[1,32]},e(p,[2,7]),{1:[2,3]},{7:[1,36]},e(f,[2,10]),{4:37,7:r,13:n,46:i},e(f,[2,12]),e(g,[2,13]),e(g,[2,14]),e(g,[2,15]),{20:[1,38]},{22:[1,39]},e(g,[2,18]),e(g,[2,19]),e(g,[2,20]),{27:40,33:y,45:x},e(g,[2,110],{40:43,32:[1,46],33:[1,48],34:[1,44],37:[1,45],41:[1,47]}),{27:49,33:y,45:x},{32:[1,50],34:[1,51]},{27:52,33:y,45:x},{1:[2,4]},e(f,[2,11]),e(g,[2,16]),e(g,[2,17]),e(g,[2,21]),e(b,[2,115]),e(b,[2,116]),e(g,[2,45]),{33:[1,53]},{38:54,42:E,43:A,44:O},{33:[1,58]},{33:[1,59]},e(g,[2,111]),e(g,[2,29],{32:[1,60],34:[1,62],37:[1,61]}),{33:[1,63]},{33:[1,64],35:[1,65]},e(g,[2,22],{29:[1,66]}),e(g,[2,46],{32:[1,68],37:[1,67],41:[1,69]}),e(g,[2,47],{32:[1,71],34:[1,70],41:[1,72]}),e(N,[2,112]),e(N,[2,113]),e(N,[2,114]),e(g,[2,50],{34:[1,73],37:[1,74],41:[1,75]}),e(g,[2,61],{32:[1,78],34:[1,76],37:[1,77]}),{33:[1,79]},{38:80,42:E,43:A,44:O},{33:[1,81]},e(g,[2,24],{34:[1,82]}),{32:[1,83]},{32:[1,84]},{30:[1,85]},{38:86,42:E,43:A,44:O},{33:[1,87]},{33:[1,88]},{33:[1,89]},{33:[1,90]},{33:[1,91]},{33:[1,92]},{38:93,42:E,43:A,44:O},{33:[1,94]},{33:[1,95]},{38:96,42:E,43:A,44:O},{33:[1,97]},e(g,[2,30],{34:[1,99],37:[1,98]}),e(g,[2,31],{32:[1,101],34:[1,100]}),e(g,[2,32],{32:[1,102],37:[1,103]}),{33:[1,104],35:[1,105]},{33:[1,106]},{33:[1,107]},e(g,[2,23]),e(g,[2,48],{32:[1,108],41:[1,109]}),e(g,[2,52],{37:[1,110],41:[1,111]}),e(g,[2,62],{32:[1,113],37:[1,112]}),e(g,[2,49],{32:[1,114],41:[1,115]}),e(g,[2,54],{34:[1,116],41:[1,117]}),e(g,[2,65],{32:[1,119],34:[1,118]}),e(g,[2,51],{37:[1,120],41:[1,121]}),e(g,[2,53],{34:[1,122],41:[1,123]}),e(g,[2,66],{34:[1,125],37:[1,124]}),e(g,[2,63],{32:[1,127],37:[1,126]}),e(g,[2,64],{32:[1,129],34:[1,128]}),e(g,[2,67],{34:[1,131],37:[1,130]}),{38:132,42:E,43:A,44:O},{33:[1,133]},{33:[1,134]},{33:[1,135]},{33:[1,136]},{38:137,42:E,43:A,44:O},e(g,[2,25]),e(g,[2,26]),e(g,[2,27]),e(g,[2,28]),{33:[1,138]},{33:[1,139]},{38:140,42:E,43:A,44:O},{33:[1,141]},{38:142,42:E,43:A,44:O},{33:[1,143]},{33:[1,144]},{33:[1,145]},{33:[1,146]},{33:[1,147]},{33:[1,148]},{33:[1,149]},{38:150,42:E,43:A,44:O},{33:[1,151]},{33:[1,152]},{33:[1,153]},{38:154,42:E,43:A,44:O},{33:[1,155]},{38:156,42:E,43:A,44:O},{33:[1,157]},{33:[1,158]},{33:[1,159]},{38:160,42:E,43:A,44:O},{33:[1,161]},e(g,[2,36],{34:[1,162]}),e(g,[2,37],{37:[1,163]}),e(g,[2,35],{32:[1,164]}),e(g,[2,38],{34:[1,165]}),e(g,[2,33],{37:[1,166]}),e(g,[2,34],{32:[1,167]}),e(g,[2,59],{41:[1,168]}),e(g,[2,72],{32:[1,169]}),e(g,[2,60],{41:[1,170]}),e(g,[2,83],{37:[1,171]}),e(g,[2,73],{32:[1,172]}),e(g,[2,82],{37:[1,173]}),e(g,[2,58],{41:[1,174]}),e(g,[2,71],{32:[1,175]}),e(g,[2,57],{41:[1,176]}),e(g,[2,77],{34:[1,177]}),e(g,[2,70],{32:[1,178]}),e(g,[2,76],{34:[1,179]}),e(g,[2,56],{41:[1,180]}),e(g,[2,84],{37:[1,181]}),e(g,[2,55],{41:[1,182]}),e(g,[2,78],{34:[1,183]}),e(g,[2,79],{34:[1,184]}),e(g,[2,85],{37:[1,185]}),e(g,[2,69],{32:[1,186]}),e(g,[2,80],{37:[1,187]}),e(g,[2,68],{32:[1,188]}),e(g,[2,74],{34:[1,189]}),e(g,[2,75],{34:[1,190]}),e(g,[2,81],{37:[1,191]}),{33:[1,192]},{38:193,42:E,43:A,44:O},{33:[1,194]},{33:[1,195]},{38:196,42:E,43:A,44:O},{33:[1,197]},{33:[1,198]},{33:[1,199]},{33:[1,200]},{38:201,42:E,43:A,44:O},{33:[1,202]},{38:203,42:E,43:A,44:O},{33:[1,204]},{33:[1,205]},{33:[1,206]},{33:[1,207]},{33:[1,208]},{33:[1,209]},{33:[1,210]},{38:211,42:E,43:A,44:O},{33:[1,212]},{33:[1,213]},{33:[1,214]},{38:215,42:E,43:A,44:O},{33:[1,216]},{38:217,42:E,43:A,44:O},{33:[1,218]},{33:[1,219]},{33:[1,220]},{38:221,42:E,43:A,44:O},e(g,[2,39]),e(g,[2,41]),e(g,[2,40]),e(g,[2,42]),e(g,[2,44]),e(g,[2,43]),e(g,[2,100]),e(g,[2,101]),e(g,[2,98]),e(g,[2,99]),e(g,[2,103]),e(g,[2,102]),e(g,[2,107]),e(g,[2,106]),e(g,[2,105]),e(g,[2,104]),e(g,[2,109]),e(g,[2,108]),e(g,[2,97]),e(g,[2,96]),e(g,[2,95]),e(g,[2,94]),e(g,[2,92]),e(g,[2,93]),e(g,[2,91]),e(g,[2,90]),e(g,[2,89]),e(g,[2,88]),e(g,[2,86]),e(g,[2,87])],defaultActions:{7:[2,1],13:[2,2],18:[2,3],36:[2,4]},parseError:a(function(M,B){if(B.recoverable)this.trace(M);else{var G=new Error(M);throw G.hash=B,G}},"parseError"),parse:a(function(M){var B=this,G=[0],U=[],W=[null],D=[],K=this.table,P="",re=0,ce=0,ee=0,H=2,te=1,J=D.slice.call(arguments,1),Y=Object.create(this.lexer),de={yy:{}};for(var Fe in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Fe)&&(de.yy[Fe]=this.yy[Fe]);Y.setInput(M,de.yy),de.yy.lexer=Y,de.yy.parser=this,typeof Y.yylloc>"u"&&(Y.yylloc={});var oe=Y.yylloc;D.push(oe);var rt=Y.options&&Y.options.ranges;typeof de.yy.parseError=="function"?this.parseError=de.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function We(Pt){G.length=G.length-2*Pt,W.length=W.length-Pt,D.length=D.length-Pt}a(We,"popStack");function _e(){var Pt;return Pt=U.pop()||Y.lex()||te,typeof Pt!="number"&&(Pt instanceof Array&&(U=Pt,Pt=U.pop()),Pt=B.symbols_[Pt]||Pt),Pt}a(_e,"lex");for(var Ve,Ye,Le,fe,le,he,xe={},ke,pe,Ce,Ue;;){if(Le=G[G.length-1],this.defaultActions[Le]?fe=this.defaultActions[Le]:((Ve===null||typeof Ve>"u")&&(Ve=_e()),fe=K[Le]&&K[Le][Ve]),typeof fe>"u"||!fe.length||!fe[0]){var He="";Ue=[];for(ke in K[Le])this.terminals_[ke]&&ke>H&&Ue.push("'"+this.terminals_[ke]+"'");Y.showPosition?He="Parse error on line "+(re+1)+`:
`+Y.showPosition()+`
Expecting `+Ue.join(", ")+", got '"+(this.terminals_[Ve]||Ve)+"'":He="Parse error on line "+(re+1)+": Unexpected "+(Ve==te?"end of input":"'"+(this.terminals_[Ve]||Ve)+"'"),this.parseError(He,{text:Y.match,token:this.terminals_[Ve]||Ve,line:Y.yylineno,loc:oe,expected:Ue})}if(fe[0]instanceof Array&&fe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Le+", token: "+Ve);switch(fe[0]){case 1:G.push(Ve),W.push(Y.yytext),D.push(Y.yylloc),G.push(fe[1]),Ve=null,Ye?(Ve=Ye,Ye=null):(ce=Y.yyleng,P=Y.yytext,re=Y.yylineno,oe=Y.yylloc,ee>0&&ee--);break;case 2:if(pe=this.productions_[fe[1]][1],xe.$=W[W.length-pe],xe._$={first_line:D[D.length-(pe||1)].first_line,last_line:D[D.length-1].last_line,first_column:D[D.length-(pe||1)].first_column,last_column:D[D.length-1].last_column},rt&&(xe._$.range=[D[D.length-(pe||1)].range[0],D[D.length-1].range[1]]),he=this.performAction.apply(xe,[P,ce,re,de.yy,fe[1],W,D].concat(J)),typeof he<"u")return he;pe&&(G=G.slice(0,-1*pe*2),W=W.slice(0,-1*pe),D=D.slice(0,-1*pe)),G.push(this.productions_[fe[1]][0]),W.push(xe.$),D.push(xe._$),Ce=K[G[G.length-2]][G[G.length-1]],G.push(Ce);break;case 3:return!0}}return!0},"parse")},$=function(){var q={EOF:1,parseError:a(function(B,G){if(this.yy.parser)this.yy.parser.parseError(B,G);else throw new Error(B)},"parseError"),setInput:function(M,B){return this.yy=B||this.yy||{},this._input=M,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var M=this._input[0];this.yytext+=M,this.yyleng++,this.offset++,this.match+=M,this.matched+=M;var B=M.match(/(?:\r\n?|\n).*/g);return B?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),M},unput:function(M){var B=M.length,G=M.split(/(?:\r\n?|\n)/g);this._input=M+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-B),this.offset-=B;var U=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),G.length-1&&(this.yylineno-=G.length-1);var W=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:G?(G.length===U.length?this.yylloc.first_column:0)+U[U.length-G.length].length-G[0].length:this.yylloc.first_column-B},this.options.ranges&&(this.yylloc.range=[W[0],W[0]+this.yyleng-B]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(M){this.unput(this.match.slice(M))},pastInput:function(){var M=this.matched.substr(0,this.matched.length-this.match.length);return(M.length>20?"...":"")+M.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var M=this.match;return M.length<20&&(M+=this._input.substr(0,20-M.length)),(M.substr(0,20)+(M.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var M=this.pastInput(),B=new Array(M.length+1).join("-");return M+this.upcomingInput()+`
`+B+"^"},test_match:function(M,B){var G,U,W;if(this.options.backtrack_lexer&&(W={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(W.yylloc.range=this.yylloc.range.slice(0))),U=M[0].match(/(?:\r\n?|\n).*/g),U&&(this.yylineno+=U.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:U?U[U.length-1].length-U[U.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+M[0].length},this.yytext+=M[0],this.match+=M[0],this.matches=M,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(M[0].length),this.matched+=M[0],G=this.performAction.call(this,this.yy,this,B,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),G)return G;if(this._backtrack){for(var D in W)this[D]=W[D];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var M,B,G,U;this._more||(this.yytext="",this.match="");for(var W=this._currentRules(),D=0;D<W.length;D++)if(G=this._input.match(this.rules[W[D]]),G&&(!B||G[0].length>B[0].length)){if(B=G,U=D,this.options.backtrack_lexer){if(M=this.test_match(G,W[D]),M!==!1)return M;if(this._backtrack){B=!1;continue}else return!1}else if(!this.options.flex)break}return B?(M=this.test_match(B,W[U]),M!==!1?M:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var B=this.next();return B||this.lex()},"lex"),begin:a(function(B){this.conditionStack.push(B)},"begin"),popState:a(function(){var B=this.conditionStack.length-1;return B>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(B){return B=this.conditionStack.length-1-Math.abs(B||0),B>=0?this.conditionStack[B]:"INITIAL"},"topState"),pushState:a(function(B){this.begin(B)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(B,G,U,W){var D=W;switch(U){case 0:return this.begin("acc_title"),19;break;case 1:return this.popState(),"acc_title_value";break;case 2:return this.begin("acc_descr"),21;break;case 3:return this.popState(),"acc_descr_value";break;case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return 13;case 8:break;case 9:break;case 10:return 5;case 11:return 39;case 12:return 32;case 13:return 37;case 14:return 41;case 15:return 42;case 16:return 43;case 17:return 44;case 18:return 34;case 19:return 28;case 20:return 29;case 21:return 36;case 22:return 31;case 23:return 26;case 24:return 9;case 25:return 9;case 26:return 8;case 27:return"CARET";case 28:this.begin("options");break;case 29:this.popState();break;case 30:return 12;case 31:return 35;case 32:this.begin("string");break;case 33:this.popState();break;case 34:return 33;case 35:return 30;case 36:return 45;case 37:return 7;case 38:break}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:gitGraph\b)/i,/^(?:commit(?=\s|$))/i,/^(?:id:)/i,/^(?:type:)/i,/^(?:msg:)/i,/^(?:NORMAL\b)/i,/^(?:REVERSE\b)/i,/^(?:HIGHLIGHT\b)/i,/^(?:tag:)/i,/^(?:branch(?=\s|$))/i,/^(?:order:)/i,/^(?:merge(?=\s|$))/i,/^(?:cherry-pick(?=\s|$))/i,/^(?:checkout(?=\s|$))/i,/^(?:LR\b)/i,/^(?:TB\b)/i,/^(?::)/i,/^(?:\^)/i,/^(?:options\r?\n)/i,/^(?:[ \r\n\t]+end\b)/i,/^(?:[\s\S]+(?=[ \r\n\t]+end))/i,/^(?:["]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[0-9]+(?=\s|$))/i,/^(?:\w([-\./\w]*[-\w])?)/i,/^(?:$)/i,/^(?:\s+)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},options:{rules:[29,30],inclusive:!1},string:{rules:[33,34],inclusive:!1},INITIAL:{rules:[0,2,4,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,31,32,35,36,37,38],inclusive:!0}}};return q}();I.lexer=$;function X(){this.yy={}}return a(X,"Parser"),X.prototype=I,I.Parser=X,new X}();LL.parser=LL;lJ=LL});function IL(){return JR({length:7})}function F7e(e,t){let r=Object.create(null);return e.reduce((n,i)=>{let o=t(i);return r[o]||(r[o]=!0,n.push(i)),n},[])}function uJ(e,t,r){let n=e.indexOf(t);n===-1?e.push(r):e.splice(n,1,r)}function pJ(e){let t=e.reduce((i,o)=>i.seq>o.seq?i:o,e[0]),r="";e.forEach(function(i){i===t?r+="	*":r+="	|"});let n=[r,t.id,t.seq];for(let i in Xi)Xi[i]===t.id&&n.push(i);if(ye.debug(n.join(" ")),t.parents&&t.parents.length==2){let i=oa[t.parents[0]];uJ(e,t,i),e.push(oa[t.parents[1]])}else{if(t.parents.length==0)return;{let i=oa[t.parents];uJ(e,t,i)}}e=F7e(e,i=>i.id),pJ(e)}var F_,M7e,oa,wo,Vv,Xi,Ra,fJ,Xd,B7e,hJ,q7e,z7e,U7e,$7e,G7e,V7e,dJ,W7e,H7e,j7e,Y7e,X7e,mJ,K7e,Q7e,Z7e,Wv,gJ,yJ=F(()=>{"use strict";br();An();Pr();en();Ua();F_=Me().gitGraph.mainBranchName,M7e=Me().gitGraph.mainBranchOrder,oa={},wo=null,Vv={};Vv[F_]={name:F_,order:M7e};Xi={};Xi[F_]=wo;Ra=F_,fJ="LR",Xd=0;a(IL,"getId");a(F7e,"uniqBy");B7e=a(function(e){fJ=e},"setDirection"),hJ={},q7e=a(function(e){ye.debug("options str",e),e=e&&e.trim(),e=e||"{}";try{hJ=JSON.parse(e)}catch(t){ye.error("error while parsing gitGraph options",t.message)}},"setOptions"),z7e=a(function(){return hJ},"getOptions"),U7e=a(function(e,t,r,n){ye.debug("Entering commit:",e,t,r,n),t=Et.sanitizeText(t,Me()),e=Et.sanitizeText(e,Me()),n=Et.sanitizeText(n,Me());let i={id:t||Xd+"-"+IL(),message:e,seq:Xd++,type:r||Wv.NORMAL,tag:n||"",parents:wo==null?[]:[wo.id],branch:Ra};wo=i,oa[i.id]=i,Xi[Ra]=i.id,ye.debug("in pushCommit "+i.id)},"commit"),$7e=a(function(e,t){if(e=Et.sanitizeText(e,Me()),Xi[e]===void 0)Xi[e]=wo!=null?wo.id:null,Vv[e]={name:e,order:t?parseInt(t,10):null},dJ(e),ye.debug("in createBranch");else{let r=new Error('Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout '+e+'")');throw r.hash={text:"branch "+e,token:"branch "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"checkout '+e+'"']},r}},"branch"),G7e=a(function(e,t,r,n){e=Et.sanitizeText(e,Me()),t=Et.sanitizeText(t,Me());let i=oa[Xi[Ra]],o=oa[Xi[e]];if(Ra===e){let u=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw u.hash={text:"merge "+e,token:"merge "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},u}else if(i===void 0||!i){let u=new Error('Incorrect usage of "merge". Current branch ('+Ra+")has no commits");throw u.hash={text:"merge "+e,token:"merge "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["commit"]},u}else if(Xi[e]===void 0){let u=new Error('Incorrect usage of "merge". Branch to be merged ('+e+") does not exist");throw u.hash={text:"merge "+e,token:"merge "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch "+e]},u}else if(o===void 0||!o){let u=new Error('Incorrect usage of "merge". Branch to be merged ('+e+") has no commits");throw u.hash={text:"merge "+e,token:"merge "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"commit"']},u}else if(i===o){let u=new Error('Incorrect usage of "merge". Both branches have same head');throw u.hash={text:"merge "+e,token:"merge "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},u}else if(t&&oa[t]!==void 0){let u=new Error('Incorrect usage of "merge". Commit with id:'+t+" already exists, use different custom Id");throw u.hash={text:"merge "+e+t+r+n,token:"merge "+e+t+r+n,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["merge "+e+" "+t+"_UNIQUE "+r+" "+n]},u}let s={id:t||Xd+"-"+IL(),message:"merged branch "+e+" into "+Ra,seq:Xd++,parents:[wo==null?null:wo.id,Xi[e]],branch:Ra,type:Wv.MERGE,customType:r,customId:!!t,tag:n||""};wo=s,oa[s.id]=s,Xi[Ra]=s.id,ye.debug(Xi),ye.debug("in mergeBranch")},"merge"),V7e=a(function(e,t,r){if(ye.debug("Entering cherryPick:",e,t,r),e=Et.sanitizeText(e,Me()),t=Et.sanitizeText(t,Me()),r=Et.sanitizeText(r,Me()),!e||oa[e]===void 0){let o=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw o.hash={text:"cherryPick "+e+" "+t,token:"cherryPick "+e+" "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},o}let n=oa[e],i=n.branch;if(n.type===Wv.MERGE){let o=new Error('Incorrect usage of "cherryPick". Source commit should not be a merge commit');throw o.hash={text:"cherryPick "+e+" "+t,token:"cherryPick "+e+" "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},o}if(!t||oa[t]===void 0){if(i===Ra){let u=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw u.hash={text:"cherryPick "+e+" "+t,token:"cherryPick "+e+" "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},u}let o=oa[Xi[Ra]];if(o===void 0||!o){let u=new Error('Incorrect usage of "cherry-pick". Current branch ('+Ra+")has no commits");throw u.hash={text:"cherryPick "+e+" "+t,token:"cherryPick "+e+" "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},u}let s={id:Xd+"-"+IL(),message:"cherry-picked "+n+" into "+Ra,seq:Xd++,parents:[wo==null?null:wo.id,n.id],branch:Ra,type:Wv.CHERRY_PICK,tag:r??"cherry-pick:"+n.id};wo=s,oa[s.id]=s,Xi[Ra]=s.id,ye.debug(Xi),ye.debug("in cherryPick")}},"cherryPick"),dJ=a(function(e){if(e=Et.sanitizeText(e,Me()),Xi[e]===void 0){let t=new Error('Trying to checkout branch which is not yet created. (Help try using "branch '+e+'")');throw t.hash={text:"checkout "+e,token:"checkout "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"branch '+e+'"']},t}else{Ra=e;let t=Xi[Ra];wo=oa[t]}},"checkout");a(uJ,"upsert");a(pJ,"prettyPrintCommitHistory");W7e=a(function(){ye.debug(oa);let e=mJ()[0];pJ([e])},"prettyPrint"),H7e=a(function(){oa={},wo=null;let e=Me().gitGraph.mainBranchName,t=Me().gitGraph.mainBranchOrder;Xi={},Xi[e]=null,Vv={},Vv[e]={name:e,order:t},Ra=e,Xd=0,In()},"clear"),j7e=a(function(){return Object.values(Vv).map((t,r)=>t.order!==null?t:{...t,order:parseFloat(`0.${r}`,10)}).sort((t,r)=>t.order-r.order).map(({name:t})=>({name:t}))},"getBranchesAsObjArray"),Y7e=a(function(){return Xi},"getBranches"),X7e=a(function(){return oa},"getCommits"),mJ=a(function(){let e=Object.keys(oa).map(function(t){return oa[t]});return e.forEach(function(t){ye.debug(t.id)}),e.sort((t,r)=>t.seq-r.seq),e},"getCommitsArray"),K7e=a(function(){return Ra},"getCurrentBranch"),Q7e=a(function(){return fJ},"getDirection"),Z7e=a(function(){return wo},"getHead"),Wv={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},gJ={getConfig:()=>Me().gitGraph,setDirection:B7e,setOptions:q7e,getOptions:z7e,commit:U7e,branch:$7e,merge:G7e,cherryPick:V7e,checkout:dJ,prettyPrint:W7e,clear:H7e,getBranchesAsObjArray:j7e,getBranches:Y7e,getCommits:X7e,getCommitsArray:mJ,getCurrentBranch:K7e,getDirection:Q7e,getHead:Z7e,setAccTitle:Rn,getAccTitle:Nn,getAccDescription:On,setAccDescription:Pn,setDiagramTitle:ci,getDiagramTitle:Yn,commitType:Wv}});var Hv,ys,Kd,Bi,Yv,B_,Xv,Wa,J7e,xJ,vJ,eFe,jv,tFe,rFe,nFe,iFe,bJ,TJ=F(()=>{"use strict";Zr();Pr();br();An();Hv={},ys={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},Kd=8,Bi={},Yv={},B_=[],Xv=0,Wa="LR",J7e=a(()=>{Bi={},Yv={},Hv={},Xv=0,B_=[],Wa="LR"},"clear"),xJ=a(e=>{let t=document.createElementNS("http://www.w3.org/2000/svg","text"),r=[];typeof e=="string"?r=e.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(e)?r=e:r=[];for(let n of r){let i=document.createElementNS("http://www.w3.org/2000/svg","tspan");i.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),i.setAttribute("dy","1em"),i.setAttribute("x","0"),i.setAttribute("class","row"),i.textContent=n.trim(),t.appendChild(i)}return t},"drawText"),vJ=a((e,t,r)=>{let n=Me().gitGraph,i=e.append("g").attr("class","commit-bullets"),o=e.append("g").attr("class","commit-labels"),s=0;Wa==="TB"&&(s=30),Object.keys(t).sort((p,g)=>t[p].seq-t[g].seq).forEach(p=>{let g=t[p],y=Wa==="TB"?s+10:Bi[g.branch].pos,x=Wa==="TB"?Bi[g.branch].pos:s+10;if(r){let b,E=g.customType!==void 0&&g.customType!==""?g.customType:g.type;switch(E){case ys.NORMAL:b="commit-normal";break;case ys.REVERSE:b="commit-reverse";break;case ys.HIGHLIGHT:b="commit-highlight";break;case ys.MERGE:b="commit-merge";break;case ys.CHERRY_PICK:b="commit-cherry-pick";break;default:b="commit-normal"}if(E===ys.HIGHLIGHT){let A=i.append("rect");A.attr("x",x-10),A.attr("y",y-10),A.attr("height",20),A.attr("width",20),A.attr("class",`commit ${g.id} commit-highlight${Bi[g.branch].index%Kd} ${b}-outer`),i.append("rect").attr("x",x-6).attr("y",y-6).attr("height",12).attr("width",12).attr("class",`commit ${g.id} commit${Bi[g.branch].index%Kd} ${b}-inner`)}else if(E===ys.CHERRY_PICK)i.append("circle").attr("cx",x).attr("cy",y).attr("r",10).attr("class",`commit ${g.id} ${b}`),i.append("circle").attr("cx",x-3).attr("cy",y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${g.id} ${b}`),i.append("circle").attr("cx",x+3).attr("cy",y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${g.id} ${b}`),i.append("line").attr("x1",x+3).attr("y1",y+1).attr("x2",x).attr("y2",y-5).attr("stroke","#fff").attr("class",`commit ${g.id} ${b}`),i.append("line").attr("x1",x-3).attr("y1",y+1).attr("x2",x).attr("y2",y-5).attr("stroke","#fff").attr("class",`commit ${g.id} ${b}`);else{let A=i.append("circle");if(A.attr("cx",x),A.attr("cy",y),A.attr("r",g.type===ys.MERGE?9:10),A.attr("class",`commit ${g.id} commit${Bi[g.branch].index%Kd}`),E===ys.MERGE){let O=i.append("circle");O.attr("cx",x),O.attr("cy",y),O.attr("r",6),O.attr("class",`commit ${b} ${g.id} commit${Bi[g.branch].index%Kd}`)}E===ys.REVERSE&&i.append("path").attr("d",`M ${x-5},${y-5}L${x+5},${y+5}M${x-5},${y+5}L${x+5},${y-5}`).attr("class",`commit ${b} ${g.id} commit${Bi[g.branch].index%Kd}`)}}if(Wa==="TB"?Yv[g.id]={x,y:s+10}:Yv[g.id]={x:s+10,y},r){if(g.type!==ys.CHERRY_PICK&&(g.customId&&g.type===ys.MERGE||g.type!==ys.MERGE)&&n.showCommitLabel){let A=o.append("g"),O=A.insert("rect").attr("class","commit-label-bkg"),N=A.append("text").attr("x",s).attr("y",y+25).attr("class","commit-label").text(g.id),I=N.node().getBBox();if(O.attr("x",s+10-I.width/2-2).attr("y",y+13.5).attr("width",I.width+2*2).attr("height",I.height+2*2),Wa==="TB"&&(O.attr("x",x-(I.width+4*4+5)).attr("y",y-12),N.attr("x",x-(I.width+4*4)).attr("y",y+I.height-12)),Wa!=="TB"&&N.attr("x",s+10-I.width/2),n.rotateCommitLabel)if(Wa==="TB")N.attr("transform","rotate(-45, "+x+", "+y+")"),O.attr("transform","rotate(-45, "+x+", "+y+")");else{let $=-7.5-(I.width+10)/25*9.5,X=10+I.width/25*8.5;A.attr("transform","translate("+$+", "+X+") rotate(-45, "+s+", "+y+")")}}if(g.tag){let A=o.insert("polygon"),O=o.append("circle"),N=o.append("text").attr("y",y-16).attr("class","tag-label").text(g.tag),I=N.node().getBBox();N.attr("x",s+10-I.width/2);let $=I.height/2,X=y-19.2;A.attr("class","tag-label-bkg").attr("points",`
          ${s-I.width/2-4/2},${X+2}
          ${s-I.width/2-4/2},${X-2}
          ${s+10-I.width/2-4},${X-$-2}
          ${s+10+I.width/2+4},${X-$-2}
          ${s+10+I.width/2+4},${X+$+2}
          ${s+10-I.width/2-4},${X+$+2}`),O.attr("cx",s-I.width/2+4/2).attr("cy",X).attr("r",1.5).attr("class","tag-hole"),Wa==="TB"&&(A.attr("class","tag-label-bkg").attr("points",`
            ${x},${s+2}
            ${x},${s-2}
            ${x+10},${s-$-2}
            ${x+10+I.width+4},${s-$-2}
            ${x+10+I.width+4},${s+$+2}
            ${x+10},${s+$+2}`).attr("transform","translate(12,12) rotate(45, "+x+","+s+")"),O.attr("cx",x+4/2).attr("cy",s).attr("transform","translate(12,12) rotate(45, "+x+","+s+")"),N.attr("x",x+5).attr("y",s+3).attr("transform","translate(14,14) rotate(45, "+x+","+s+")"))}}s+=50,s>Xv&&(Xv=s)})},"drawCommits"),eFe=a((e,t,r,n,i)=>{let s=(Wa==="TB"?r.x<n.x:r.y<n.y)?t.branch:e.branch,u=a(p=>p.branch===s,"isOnBranchToGetCurve"),f=a(p=>p.seq>e.seq&&p.seq<t.seq,"isBetweenCommits");return Object.values(i).some(p=>f(p)&&u(p))},"shouldRerouteArrow"),jv=a((e,t,r=0)=>{let n=e+Math.abs(e-t)/2;if(r>5)return n;if(B_.every(s=>Math.abs(s-n)>=10))return B_.push(n),n;let o=Math.abs(e-t);return jv(e,t-o/5,r+1)},"findLane"),tFe=a((e,t,r,n)=>{let i=Yv[t.id],o=Yv[r.id],s=eFe(t,r,i,o,n),u="",f="",p=0,g=0,y=Bi[r.branch].index,x;if(s){u="A 10 10, 0, 0, 0,",f="A 10 10, 0, 0, 1,",p=10,g=10;let b=i.y<o.y?jv(i.y,o.y):jv(o.y,i.y),E=i.x<o.x?jv(i.x,o.x):jv(o.x,i.x);Wa==="TB"?i.x<o.x?(y=Bi[r.branch].index,x=`M ${i.x} ${i.y} L ${E-p} ${i.y} ${f} ${E} ${i.y+g} L ${E} ${o.y-p} ${u} ${E+g} ${o.y} L ${o.x} ${o.y}`):(y=Bi[t.branch].index,x=`M ${i.x} ${i.y} L ${E+p} ${i.y} ${u} ${E} ${i.y+g} L ${E} ${o.y-p} ${f} ${E-g} ${o.y} L ${o.x} ${o.y}`):i.y<o.y?(y=Bi[r.branch].index,x=`M ${i.x} ${i.y} L ${i.x} ${b-p} ${u} ${i.x+g} ${b} L ${o.x-p} ${b} ${f} ${o.x} ${b+g} L ${o.x} ${o.y}`):(y=Bi[t.branch].index,x=`M ${i.x} ${i.y} L ${i.x} ${b+p} ${f} ${i.x+g} ${b} L ${o.x-p} ${b} ${u} ${o.x} ${b-g} L ${o.x} ${o.y}`)}else Wa==="TB"?(i.x<o.x&&(u="A 20 20, 0, 0, 0,",f="A 20 20, 0, 0, 1,",p=20,g=20,y=Bi[r.branch].index,x=`M ${i.x} ${i.y} L ${o.x-p} ${i.y} ${f} ${o.x} ${i.y+g} L ${o.x} ${o.y}`),i.x>o.x&&(u="A 20 20, 0, 0, 0,",f="A 20 20, 0, 0, 1,",p=20,g=20,y=Bi[t.branch].index,x=`M ${i.x} ${i.y} L ${i.x} ${o.y-p} ${f} ${i.x-g} ${o.y} L ${o.x} ${o.y}`),i.x===o.x&&(y=Bi[t.branch].index,x=`M ${i.x} ${i.y} L ${i.x+p} ${i.y} ${u} ${i.x+g} ${o.y+p} L ${o.x} ${o.y}`)):(i.y<o.y&&(u="A 20 20, 0, 0, 0,",p=20,g=20,y=Bi[r.branch].index,x=`M ${i.x} ${i.y} L ${i.x} ${o.y-p} ${u} ${i.x+g} ${o.y} L ${o.x} ${o.y}`),i.y>o.y&&(u="A 20 20, 0, 0, 0,",p=20,g=20,y=Bi[t.branch].index,x=`M ${i.x} ${i.y} L ${o.x-p} ${i.y} ${u} ${o.x} ${i.y-g} L ${o.x} ${o.y}`),i.y===o.y&&(y=Bi[t.branch].index,x=`M ${i.x} ${i.y} L ${i.x} ${o.y-p} ${u} ${i.x+g} ${o.y} L ${o.x} ${o.y}`));e.append("path").attr("d",x).attr("class","arrow arrow"+y%Kd)},"drawArrow"),rFe=a((e,t)=>{let r=e.append("g").attr("class","commit-arrows");Object.keys(t).forEach(n=>{let i=t[n];i.parents&&i.parents.length>0&&i.parents.forEach(o=>{tFe(r,t[o],i,t)})})},"drawArrows"),nFe=a((e,t)=>{let r=Me().gitGraph,n=e.append("g");t.forEach((i,o)=>{let s=o%Kd,u=Bi[i.name].pos,f=n.append("line");f.attr("x1",0),f.attr("y1",u),f.attr("x2",Xv),f.attr("y2",u),f.attr("class","branch branch"+s),Wa==="TB"&&(f.attr("y1",30),f.attr("x1",u),f.attr("y2",Xv),f.attr("x2",u)),B_.push(u);let p=i.name,g=xJ(p),y=n.insert("rect"),b=n.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+s);b.node().appendChild(g);let E=g.getBBox();y.attr("class","branchLabelBkg label"+s).attr("rx",4).attr("ry",4).attr("x",-E.width-4-(r.rotateCommitLabel===!0?30:0)).attr("y",-E.height/2+8).attr("width",E.width+18).attr("height",E.height+4),b.attr("transform","translate("+(-E.width-14-(r.rotateCommitLabel===!0?30:0))+", "+(u-E.height/2-1)+")"),Wa==="TB"&&(y.attr("x",u-E.width/2-10).attr("y",0),b.attr("transform","translate("+(u-E.width/2-5)+", 0)")),Wa!=="TB"&&y.attr("transform","translate(-19, "+(u-E.height/2)+")")})},"drawBranches"),iFe=a(function(e,t,r,n){J7e();let i=Me(),o=i.gitGraph;ye.debug("in gitgraph renderer",e+`
`,"id:",t,r),Hv=n.db.getCommits();let s=n.db.getBranchesAsObjArray();Wa=n.db.getDirection();let u=dt(`[id="${t}"]`),f=0;s.forEach((p,g)=>{let y=xJ(p.name),x=u.append("g"),b=x.insert("g").attr("class","branchLabel"),E=b.insert("g").attr("class","label branch-label");E.node().appendChild(y);let A=y.getBBox();Bi[p.name]={pos:f,index:g},f+=50+(o.rotateCommitLabel?40:0)+(Wa==="TB"?A.width/2:0),E.remove(),b.remove(),x.remove()}),vJ(u,Hv,!1),o.showBranches&&nFe(u,s),rFe(u,Hv),vJ(u,Hv,!0),yr.insertTitle(u,"gitTitleText",o.titleTopMargin,n.db.getDiagramTitle()),g5(void 0,u,o.diagramPadding,o.useMaxWidth??i.useMaxWidth)},"draw"),bJ={draw:iFe}});var aFe,kJ,_J=F(()=>{"use strict";aFe=a(e=>`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0,1,2,3,4,5,6,7].map(t=>`
        .branch-label${t} { fill: ${e["gitBranchLabel"+t]}; }
        .commit${t} { stroke: ${e["git"+t]}; fill: ${e["git"+t]}; }
        .commit-highlight${t} { stroke: ${e["gitInv"+t]}; fill: ${e["gitInv"+t]}; }
        .label${t}  { fill: ${e["git"+t]}; }
        .arrow${t} { stroke: ${e["git"+t]}; }
        `).join(`
`)}

  .branch {
    stroke-width: 1;
    stroke: ${e.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelColor};}
  .commit-label-bkg { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${e.tagLabelFontSize}; fill: ${e.tagLabelColor};}
  .tag-label-bkg { fill: ${e.tagLabelBackground}; stroke: ${e.tagLabelBorder}; }
  .tag-hole { fill: ${e.textColor}; }

  .commit-merge {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
  }
  .commit-reverse {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  .gitTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }
`,"getStyles"),kJ=aFe});var wJ={};ii(wJ,{diagram:()=>oFe});var oFe,EJ=F(()=>{"use strict";cJ();yJ();TJ();_J();oFe={parser:lJ,db:gJ,renderer:bJ,styles:kJ}});var NL,AJ,RJ=F(()=>{"use strict";NL=function(){var e=a(function(D,K,P,re){for(P=P||{},re=D.length;re--;P[D[re]]=K);return P},"o"),t=[6,8,10,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,30,32,33,35,37],r=[1,25],n=[1,26],i=[1,27],o=[1,28],s=[1,29],u=[1,30],f=[1,31],p=[1,9],g=[1,10],y=[1,11],x=[1,12],b=[1,13],E=[1,14],A=[1,15],O=[1,16],N=[1,18],I=[1,19],$=[1,20],X=[1,21],q=[1,22],M=[1,24],B=[1,32],G={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,gantt:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NL:10,weekday:11,weekday_monday:12,weekday_tuesday:13,weekday_wednesday:14,weekday_thursday:15,weekday_friday:16,weekday_saturday:17,weekday_sunday:18,dateFormat:19,inclusiveEndDates:20,topAxis:21,axisFormat:22,tickInterval:23,excludes:24,includes:25,todayMarker:26,title:27,acc_title:28,acc_title_value:29,acc_descr:30,acc_descr_value:31,acc_descr_multiline_value:32,section:33,clickStatement:34,taskTxt:35,taskData:36,click:37,callbackname:38,callbackargs:39,href:40,clickStatementDebug:41,$accept:0,$end:1},terminals_:{2:"error",4:"gantt",6:"EOF",8:"SPACE",10:"NL",12:"weekday_monday",13:"weekday_tuesday",14:"weekday_wednesday",15:"weekday_thursday",16:"weekday_friday",17:"weekday_saturday",18:"weekday_sunday",19:"dateFormat",20:"inclusiveEndDates",21:"topAxis",22:"axisFormat",23:"tickInterval",24:"excludes",25:"includes",26:"todayMarker",27:"title",28:"acc_title",29:"acc_title_value",30:"acc_descr",31:"acc_descr_value",32:"acc_descr_multiline_value",33:"section",35:"taskTxt",36:"taskData",37:"click",38:"callbackname",39:"callbackargs",40:"href"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,2],[34,2],[34,3],[34,3],[34,4],[34,3],[34,4],[34,2],[41,2],[41,3],[41,3],[41,4],[41,3],[41,4],[41,2]],performAction:a(function(K,P,re,ce,ee,H,te){var J=H.length-1;switch(ee){case 1:return H[J-1];case 2:this.$=[];break;case 3:H[J-1].push(H[J]),this.$=H[J-1];break;case 4:case 5:this.$=H[J];break;case 6:case 7:this.$=[];break;case 8:ce.setWeekday("monday");break;case 9:ce.setWeekday("tuesday");break;case 10:ce.setWeekday("wednesday");break;case 11:ce.setWeekday("thursday");break;case 12:ce.setWeekday("friday");break;case 13:ce.setWeekday("saturday");break;case 14:ce.setWeekday("sunday");break;case 15:ce.setDateFormat(H[J].substr(11)),this.$=H[J].substr(11);break;case 16:ce.enableInclusiveEndDates(),this.$=H[J].substr(18);break;case 17:ce.TopAxis(),this.$=H[J].substr(8);break;case 18:ce.setAxisFormat(H[J].substr(11)),this.$=H[J].substr(11);break;case 19:ce.setTickInterval(H[J].substr(13)),this.$=H[J].substr(13);break;case 20:ce.setExcludes(H[J].substr(9)),this.$=H[J].substr(9);break;case 21:ce.setIncludes(H[J].substr(9)),this.$=H[J].substr(9);break;case 22:ce.setTodayMarker(H[J].substr(12)),this.$=H[J].substr(12);break;case 24:ce.setDiagramTitle(H[J].substr(6)),this.$=H[J].substr(6);break;case 25:this.$=H[J].trim(),ce.setAccTitle(this.$);break;case 26:case 27:this.$=H[J].trim(),ce.setAccDescription(this.$);break;case 28:ce.addSection(H[J].substr(8)),this.$=H[J].substr(8);break;case 30:ce.addTask(H[J-1],H[J]),this.$="task";break;case 31:this.$=H[J-1],ce.setClickEvent(H[J-1],H[J],null);break;case 32:this.$=H[J-2],ce.setClickEvent(H[J-2],H[J-1],H[J]);break;case 33:this.$=H[J-2],ce.setClickEvent(H[J-2],H[J-1],null),ce.setLink(H[J-2],H[J]);break;case 34:this.$=H[J-3],ce.setClickEvent(H[J-3],H[J-2],H[J-1]),ce.setLink(H[J-3],H[J]);break;case 35:this.$=H[J-2],ce.setClickEvent(H[J-2],H[J],null),ce.setLink(H[J-2],H[J-1]);break;case 36:this.$=H[J-3],ce.setClickEvent(H[J-3],H[J-1],H[J]),ce.setLink(H[J-3],H[J-2]);break;case 37:this.$=H[J-1],ce.setLink(H[J-1],H[J]);break;case 38:case 44:this.$=H[J-1]+" "+H[J];break;case 39:case 40:case 42:this.$=H[J-2]+" "+H[J-1]+" "+H[J];break;case 41:case 43:this.$=H[J-3]+" "+H[J-2]+" "+H[J-1]+" "+H[J];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:17,12:r,13:n,14:i,15:o,16:s,17:u,18:f,19:p,20:g,21:y,22:x,23:b,24:E,25:A,26:O,27:N,28:I,30:$,32:X,33:q,34:23,35:M,37:B},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:33,11:17,12:r,13:n,14:i,15:o,16:s,17:u,18:f,19:p,20:g,21:y,22:x,23:b,24:E,25:A,26:O,27:N,28:I,30:$,32:X,33:q,34:23,35:M,37:B},e(t,[2,5]),e(t,[2,6]),e(t,[2,15]),e(t,[2,16]),e(t,[2,17]),e(t,[2,18]),e(t,[2,19]),e(t,[2,20]),e(t,[2,21]),e(t,[2,22]),e(t,[2,23]),e(t,[2,24]),{29:[1,34]},{31:[1,35]},e(t,[2,27]),e(t,[2,28]),e(t,[2,29]),{36:[1,36]},e(t,[2,8]),e(t,[2,9]),e(t,[2,10]),e(t,[2,11]),e(t,[2,12]),e(t,[2,13]),e(t,[2,14]),{38:[1,37],40:[1,38]},e(t,[2,4]),e(t,[2,25]),e(t,[2,26]),e(t,[2,30]),e(t,[2,31],{39:[1,39],40:[1,40]}),e(t,[2,37],{38:[1,41]}),e(t,[2,32],{40:[1,42]}),e(t,[2,33]),e(t,[2,35],{39:[1,43]}),e(t,[2,34]),e(t,[2,36])],defaultActions:{},parseError:a(function(K,P){if(P.recoverable)this.trace(K);else{var re=new Error(K);throw re.hash=P,re}},"parseError"),parse:a(function(K){var P=this,re=[0],ce=[],ee=[null],H=[],te=this.table,J="",Y=0,de=0,Fe=0,oe=2,rt=1,We=H.slice.call(arguments,1),_e=Object.create(this.lexer),Ve={yy:{}};for(var Ye in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ye)&&(Ve.yy[Ye]=this.yy[Ye]);_e.setInput(K,Ve.yy),Ve.yy.lexer=_e,Ve.yy.parser=this,typeof _e.yylloc>"u"&&(_e.yylloc={});var Le=_e.yylloc;H.push(Le);var fe=_e.options&&_e.options.ranges;typeof Ve.yy.parseError=="function"?this.parseError=Ve.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function le(gt){re.length=re.length-2*gt,ee.length=ee.length-gt,H.length=H.length-gt}a(le,"popStack");function he(){var gt;return gt=ce.pop()||_e.lex()||rt,typeof gt!="number"&&(gt instanceof Array&&(ce=gt,gt=ce.pop()),gt=P.symbols_[gt]||gt),gt}a(he,"lex");for(var xe,ke,pe,Ce,Ue,He,Pt={},Lt,Xt,Kt,kr;;){if(pe=re[re.length-1],this.defaultActions[pe]?Ce=this.defaultActions[pe]:((xe===null||typeof xe>"u")&&(xe=he()),Ce=te[pe]&&te[pe][xe]),typeof Ce>"u"||!Ce.length||!Ce[0]){var bt="";kr=[];for(Lt in te[pe])this.terminals_[Lt]&&Lt>oe&&kr.push("'"+this.terminals_[Lt]+"'");_e.showPosition?bt="Parse error on line "+(Y+1)+`:
`+_e.showPosition()+`
Expecting `+kr.join(", ")+", got '"+(this.terminals_[xe]||xe)+"'":bt="Parse error on line "+(Y+1)+": Unexpected "+(xe==rt?"end of input":"'"+(this.terminals_[xe]||xe)+"'"),this.parseError(bt,{text:_e.match,token:this.terminals_[xe]||xe,line:_e.yylineno,loc:Le,expected:kr})}if(Ce[0]instanceof Array&&Ce.length>1)throw new Error("Parse Error: multiple actions possible at state: "+pe+", token: "+xe);switch(Ce[0]){case 1:re.push(xe),ee.push(_e.yytext),H.push(_e.yylloc),re.push(Ce[1]),xe=null,ke?(xe=ke,ke=null):(de=_e.yyleng,J=_e.yytext,Y=_e.yylineno,Le=_e.yylloc,Fe>0&&Fe--);break;case 2:if(Xt=this.productions_[Ce[1]][1],Pt.$=ee[ee.length-Xt],Pt._$={first_line:H[H.length-(Xt||1)].first_line,last_line:H[H.length-1].last_line,first_column:H[H.length-(Xt||1)].first_column,last_column:H[H.length-1].last_column},fe&&(Pt._$.range=[H[H.length-(Xt||1)].range[0],H[H.length-1].range[1]]),He=this.performAction.apply(Pt,[J,de,Y,Ve.yy,Ce[1],ee,H].concat(We)),typeof He<"u")return He;Xt&&(re=re.slice(0,-1*Xt*2),ee=ee.slice(0,-1*Xt),H=H.slice(0,-1*Xt)),re.push(this.productions_[Ce[1]][0]),ee.push(Pt.$),H.push(Pt._$),Kt=te[re[re.length-2]][re[re.length-1]],re.push(Kt);break;case 3:return!0}}return!0},"parse")},U=function(){var D={EOF:1,parseError:a(function(P,re){if(this.yy.parser)this.yy.parser.parseError(P,re);else throw new Error(P)},"parseError"),setInput:function(K,P){return this.yy=P||this.yy||{},this._input=K,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var K=this._input[0];this.yytext+=K,this.yyleng++,this.offset++,this.match+=K,this.matched+=K;var P=K.match(/(?:\r\n?|\n).*/g);return P?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),K},unput:function(K){var P=K.length,re=K.split(/(?:\r\n?|\n)/g);this._input=K+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-P),this.offset-=P;var ce=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),re.length-1&&(this.yylineno-=re.length-1);var ee=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:re?(re.length===ce.length?this.yylloc.first_column:0)+ce[ce.length-re.length].length-re[0].length:this.yylloc.first_column-P},this.options.ranges&&(this.yylloc.range=[ee[0],ee[0]+this.yyleng-P]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(K){this.unput(this.match.slice(K))},pastInput:function(){var K=this.matched.substr(0,this.matched.length-this.match.length);return(K.length>20?"...":"")+K.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var K=this.match;return K.length<20&&(K+=this._input.substr(0,20-K.length)),(K.substr(0,20)+(K.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var K=this.pastInput(),P=new Array(K.length+1).join("-");return K+this.upcomingInput()+`
`+P+"^"},test_match:function(K,P){var re,ce,ee;if(this.options.backtrack_lexer&&(ee={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ee.yylloc.range=this.yylloc.range.slice(0))),ce=K[0].match(/(?:\r\n?|\n).*/g),ce&&(this.yylineno+=ce.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ce?ce[ce.length-1].length-ce[ce.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+K[0].length},this.yytext+=K[0],this.match+=K[0],this.matches=K,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(K[0].length),this.matched+=K[0],re=this.performAction.call(this,this.yy,this,P,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),re)return re;if(this._backtrack){for(var H in ee)this[H]=ee[H];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var K,P,re,ce;this._more||(this.yytext="",this.match="");for(var ee=this._currentRules(),H=0;H<ee.length;H++)if(re=this._input.match(this.rules[ee[H]]),re&&(!P||re[0].length>P[0].length)){if(P=re,ce=H,this.options.backtrack_lexer){if(K=this.test_match(re,ee[H]),K!==!1)return K;if(this._backtrack){P=!1;continue}else return!1}else if(!this.options.flex)break}return P?(K=this.test_match(P,ee[ce]),K!==!1?K:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var P=this.next();return P||this.lex()},"lex"),begin:a(function(P){this.conditionStack.push(P)},"begin"),popState:a(function(){var P=this.conditionStack.length-1;return P>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(P){return P=this.conditionStack.length-1-Math.abs(P||0),P>=0?this.conditionStack[P]:"INITIAL"},"topState"),pushState:a(function(P){this.begin(P)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(P,re,ce,ee){var H=ee;switch(ce){case 0:return this.begin("open_directive"),"open_directive";break;case 1:return this.begin("acc_title"),28;break;case 2:return this.popState(),"acc_title_value";break;case 3:return this.begin("acc_descr"),30;break;case 4:return this.popState(),"acc_descr_value";break;case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:break;case 9:break;case 10:break;case 11:return 10;case 12:break;case 13:break;case 14:break;case 15:this.begin("href");break;case 16:this.popState();break;case 17:return 40;case 18:this.begin("callbackname");break;case 19:this.popState();break;case 20:this.popState(),this.begin("callbackargs");break;case 21:return 38;case 22:this.popState();break;case 23:return 39;case 24:this.begin("click");break;case 25:this.popState();break;case 26:return 37;case 27:return 4;case 28:return 19;case 29:return 20;case 30:return 21;case 31:return 22;case 32:return 23;case 33:return 25;case 34:return 24;case 35:return 26;case 36:return 12;case 37:return 13;case 38:return 14;case 39:return 15;case 40:return 16;case 41:return 17;case 42:return 18;case 43:return"date";case 44:return 27;case 45:return"accDescription";case 46:return 33;case 47:return 35;case 48:return 36;case 49:return":";case 50:return 6;case 51:return"INVALID"}},"anonymous"),rules:[/^(?:%%\{)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:weekday\s+monday\b)/i,/^(?:weekday\s+tuesday\b)/i,/^(?:weekday\s+wednesday\b)/i,/^(?:weekday\s+thursday\b)/i,/^(?:weekday\s+friday\b)/i,/^(?:weekday\s+saturday\b)/i,/^(?:weekday\s+sunday\b)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},callbackargs:{rules:[22,23],inclusive:!1},callbackname:{rules:[19,20,21],inclusive:!1},href:{rules:[16,17],inclusive:!1},click:{rules:[25,26],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,15,18,24,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}};return D}();G.lexer=U;function W(){this.yy={}}return a(W,"Parser"),W.prototype=G,G.Parser=W,new W}();NL.parser=NL;AJ=NL});var DJ=fc((PL,OL)=>{"use strict";(function(e,t){typeof PL=="object"&&typeof OL<"u"?OL.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).dayjs_plugin_isoWeek=t()})(PL,function(){"use strict";var e="day";return function(t,r,n){var i=a(function(u){return u.add(4-u.isoWeekday(),e)},"a"),o=r.prototype;o.isoWeekYear=function(){return i(this).year()},o.isoWeek=function(u){if(!this.$utils().u(u))return this.add(7*(u-this.isoWeek()),e);var f,p,g,y,x=i(this),b=(f=this.isoWeekYear(),p=this.$u,g=(p?n.utc:n)().year(f).startOf("year"),y=4-g.isoWeekday(),g.isoWeekday()>4&&(y+=7),g.add(y,e));return x.diff(b,"week")+1},o.isoWeekday=function(u){return this.$utils().u(u)?this.day()||7:this.day(this.day()%7?u:u-7)};var s=o.startOf;o.startOf=function(u,f){var p=this.$utils(),g=!!p.u(f)||f;return p.p(u)==="isoweek"?g?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):s.bind(this)(u,f)}}})});var LJ=fc((ML,FL)=>{"use strict";(function(e,t){typeof ML=="object"&&typeof FL<"u"?FL.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).dayjs_plugin_customParseFormat=t()})(ML,function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d\d/,n=/\d\d?/,i=/\d*[^-_:/,()\s\d]+/,o={},s=a(function(b){return(b=+b)+(b>68?1900:2e3)},"s"),u=a(function(b){return function(E){this[b]=+E}},"a"),f=[/[+-]\d\d:?(\d\d)?|Z/,function(b){(this.zone||(this.zone={})).offset=function(E){if(!E||E==="Z")return 0;var A=E.match(/([+-]|\d\d)/g),O=60*A[1]+(+A[2]||0);return O===0?0:A[0]==="+"?-O:O}(b)}],p=a(function(b){var E=o[b];return E&&(E.indexOf?E:E.s.concat(E.f))},"h"),g=a(function(b,E){var A,O=o.meridiem;if(O){for(var N=1;N<=24;N+=1)if(b.indexOf(O(N,0,E))>-1){A=N>12;break}}else A=b===(E?"pm":"PM");return A},"u"),y={A:[i,function(b){this.afternoon=g(b,!1)}],a:[i,function(b){this.afternoon=g(b,!0)}],S:[/\d/,function(b){this.milliseconds=100*+b}],SS:[r,function(b){this.milliseconds=10*+b}],SSS:[/\d{3}/,function(b){this.milliseconds=+b}],s:[n,u("seconds")],ss:[n,u("seconds")],m:[n,u("minutes")],mm:[n,u("minutes")],H:[n,u("hours")],h:[n,u("hours")],HH:[n,u("hours")],hh:[n,u("hours")],D:[n,u("day")],DD:[r,u("day")],Do:[i,function(b){var E=o.ordinal,A=b.match(/\d+/);if(this.day=A[0],E)for(var O=1;O<=31;O+=1)E(O).replace(/\[|\]/g,"")===b&&(this.day=O)}],M:[n,u("month")],MM:[r,u("month")],MMM:[i,function(b){var E=p("months"),A=(p("monthsShort")||E.map(function(O){return O.slice(0,3)})).indexOf(b)+1;if(A<1)throw new Error;this.month=A%12||A}],MMMM:[i,function(b){var E=p("months").indexOf(b)+1;if(E<1)throw new Error;this.month=E%12||E}],Y:[/[+-]?\d+/,u("year")],YY:[r,function(b){this.year=s(b)}],YYYY:[/\d{4}/,u("year")],Z:f,ZZ:f};function x(b){var E,A;E=b,A=o&&o.formats;for(var O=(b=E.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(B,G,U){var W=U&&U.toUpperCase();return G||A[U]||e[U]||A[W].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(D,K,P){return K||P.slice(1)})})).match(t),N=O.length,I=0;I<N;I+=1){var $=O[I],X=y[$],q=X&&X[0],M=X&&X[1];O[I]=M?{regex:q,parser:M}:$.replace(/^\[|\]$/g,"")}return function(B){for(var G={},U=0,W=0;U<N;U+=1){var D=O[U];if(typeof D=="string")W+=D.length;else{var K=D.regex,P=D.parser,re=B.slice(W),ce=K.exec(re)[0];P.call(G,ce),B=B.replace(ce,"")}}return function(ee){var H=ee.afternoon;if(H!==void 0){var te=ee.hours;H?te<12&&(ee.hours+=12):te===12&&(ee.hours=0),delete ee.afternoon}}(G),G}}return a(x,"c"),function(b,E,A){A.p.customParseFormat=!0,b&&b.parseTwoDigitYear&&(s=b.parseTwoDigitYear);var O=E.prototype,N=O.parse;O.parse=function(I){var $=I.date,X=I.utc,q=I.args;this.$u=X;var M=q[1];if(typeof M=="string"){var B=q[2]===!0,G=q[3]===!0,U=B||G,W=q[2];G&&(W=q[2]),o=this.$locale(),!B&&W&&(o=A.Ls[W]),this.$d=function(re,ce,ee){try{if(["x","X"].indexOf(ce)>-1)return new Date((ce==="X"?1e3:1)*re);var H=x(ce)(re),te=H.year,J=H.month,Y=H.day,de=H.hours,Fe=H.minutes,oe=H.seconds,rt=H.milliseconds,We=H.zone,_e=new Date,Ve=Y||(te||J?1:_e.getDate()),Ye=te||_e.getFullYear(),Le=0;te&&!J||(Le=J>0?J-1:_e.getMonth());var fe=de||0,le=Fe||0,he=oe||0,xe=rt||0;return We?new Date(Date.UTC(Ye,Le,Ve,fe,le,he,xe+60*We.offset*1e3)):ee?new Date(Date.UTC(Ye,Le,Ve,fe,le,he,xe)):new Date(Ye,Le,Ve,fe,le,he,xe)}catch{return new Date("")}}($,M,X),this.init(),W&&W!==!0&&(this.$L=this.locale(W).$L),U&&$!=this.format(M)&&(this.$d=new Date("")),o={}}else if(M instanceof Array)for(var D=M.length,K=1;K<=D;K+=1){q[1]=M[K-1];var P=A.apply(this,q);if(P.isValid()){this.$d=P.$d,this.$L=P.$L,this.init();break}K===D&&(this.$d=new Date(""))}else N.call(this,I)}}})});var IJ=fc((BL,qL)=>{"use strict";(function(e,t){typeof BL=="object"&&typeof qL<"u"?qL.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).dayjs_plugin_advancedFormat=t()})(BL,function(){"use strict";return function(e,t){var r=t.prototype,n=r.format;r.format=function(i){var o=this,s=this.$locale();if(!this.isValid())return n.bind(this)(i);var u=this.$utils(),f=(i||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(p){switch(p){case"Q":return Math.ceil((o.$M+1)/3);case"Do":return s.ordinal(o.$D);case"gggg":return o.weekYear();case"GGGG":return o.isoWeekYear();case"wo":return s.ordinal(o.week(),"W");case"w":case"ww":return u.s(o.week(),p==="w"?1:2,"0");case"W":case"WW":return u.s(o.isoWeek(),p==="W"?1:2,"0");case"k":case"kk":return u.s(String(o.$H===0?24:o.$H),p==="k"?1:2,"0");case"X":return Math.floor(o.$d.getTime()/1e3);case"x":return o.$d.getTime();case"z":return"["+o.offsetName()+"]";case"zzz":return"["+o.offsetName("long")+"]";default:return p}});return n.bind(this)(f)}}})});function jJ(e,t,r){let n=!0;for(;n;)n=!1,r.forEach(function(i){let o="^\\s*"+i+"\\s*$",s=new RegExp(o);e[0].match(s)&&(t[i]=!0,e.shift(1),n=!0)})}var PJ,vs,OJ,MJ,FJ,Pc,GL,VL,WL,Kv,Qv,HL,jL,U_,_g,YL,BJ,XL,Zv,KL,QL,zL,uFe,fFe,hFe,dFe,pFe,mFe,gFe,yFe,vFe,xFe,bFe,TFe,kFe,_Fe,wFe,EFe,CFe,SFe,AFe,RFe,DFe,LFe,IFe,qJ,NFe,PFe,zJ,OFe,UL,UJ,$J,q_,kg,MFe,FFe,$L,z_,sa,GJ,BFe,wg,qFe,NJ,zFe,VJ,UFe,WJ,$Fe,GFe,HJ,YJ=F(()=>{"use strict";PJ=go(om(),1),vs=go(Ib(),1),OJ=go(DJ(),1),MJ=go(LJ(),1),FJ=go(IJ(),1);br();Pr();An();Ua();vs.default.extend(OJ.default);vs.default.extend(MJ.default);vs.default.extend(FJ.default);Pc="",GL="",WL="",Kv=[],Qv=[],HL={},jL=[],U_=[],_g="",YL="",BJ=["active","done","crit","milestone"],XL=[],Zv=!1,KL=!1,QL="sunday",zL=0,uFe=a(function(){jL=[],U_=[],_g="",XL=[],q_=0,$L=void 0,z_=void 0,sa=[],Pc="",GL="",YL="",VL=void 0,WL="",Kv=[],Qv=[],Zv=!1,KL=!1,zL=0,HL={},In(),QL="sunday"},"clear"),fFe=a(function(e){GL=e},"setAxisFormat"),hFe=a(function(){return GL},"getAxisFormat"),dFe=a(function(e){VL=e},"setTickInterval"),pFe=a(function(){return VL},"getTickInterval"),mFe=a(function(e){WL=e},"setTodayMarker"),gFe=a(function(){return WL},"getTodayMarker"),yFe=a(function(e){Pc=e},"setDateFormat"),vFe=a(function(){Zv=!0},"enableInclusiveEndDates"),xFe=a(function(){return Zv},"endDatesAreInclusive"),bFe=a(function(){KL=!0},"enableTopAxis"),TFe=a(function(){return KL},"topAxisEnabled"),kFe=a(function(e){YL=e},"setDisplayMode"),_Fe=a(function(){return YL},"getDisplayMode"),wFe=a(function(){return Pc},"getDateFormat"),EFe=a(function(e){Kv=e.toLowerCase().split(/[\s,]+/)},"setIncludes"),CFe=a(function(){return Kv},"getIncludes"),SFe=a(function(e){Qv=e.toLowerCase().split(/[\s,]+/)},"setExcludes"),AFe=a(function(){return Qv},"getExcludes"),RFe=a(function(){return HL},"getLinks"),DFe=a(function(e){_g=e,jL.push(e)},"addSection"),LFe=a(function(){return jL},"getSections"),IFe=a(function(){let e=NJ(),t=10,r=0;for(;!e&&r<t;)e=NJ(),r++;return U_=sa,U_},"getTasks"),qJ=a(function(e,t,r,n){return n.includes(e.format(t.trim()))?!1:e.isoWeekday()>=6&&r.includes("weekends")||r.includes(e.format("dddd").toLowerCase())?!0:r.includes(e.format(t.trim()))},"isInvalidDate"),NFe=a(function(e){QL=e},"setWeekday"),PFe=a(function(){return QL},"getWeekday"),zJ=a(function(e,t,r,n){if(!r.length||e.manualEndTime)return;let i;e.startTime instanceof Date?i=(0,vs.default)(e.startTime):i=(0,vs.default)(e.startTime,t,!0),i=i.add(1,"d");let o;e.endTime instanceof Date?o=(0,vs.default)(e.endTime):o=(0,vs.default)(e.endTime,t,!0);let[s,u]=OFe(i,o,t,r,n);e.endTime=s.toDate(),e.renderEndTime=u},"checkTaskDates"),OFe=a(function(e,t,r,n,i){let o=!1,s=null;for(;e<=t;)o||(s=t.toDate()),o=qJ(e,r,n,i),o&&(t=t.add(1,"d")),e=e.add(1,"d");return[t,s]},"fixTaskDates"),UL=a(function(e,t,r){r=r.trim();let i=/^after\s+([\d\w- ]+)/.exec(r.trim());if(i!==null){let s=null;if(i[1].split(" ").forEach(function(u){let f=wg(u);f!==void 0&&(s?f.endTime>s.endTime&&(s=f):s=f)}),s)return s.endTime;{let u=new Date;return u.setHours(0,0,0,0),u}}let o=(0,vs.default)(r,t.trim(),!0);if(o.isValid())return o.toDate();{ye.debug("Invalid date:"+r),ye.debug("With date format:"+t.trim());let s=new Date(r);if(s===void 0||isNaN(s.getTime())||s.getFullYear()<-1e4||s.getFullYear()>1e4)throw new Error("Invalid date:"+r);return s}},"getStartDate"),UJ=a(function(e){let t=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(e.trim());return t!==null?[Number.parseFloat(t[1]),t[2]]:[NaN,"ms"]},"parseDuration"),$J=a(function(e,t,r,n=!1){r=r.trim();let i=(0,vs.default)(r,t.trim(),!0);if(i.isValid())return n&&(i=i.add(1,"d")),i.toDate();let o=(0,vs.default)(e),[s,u]=UJ(r);if(!Number.isNaN(s)){let f=o.add(s,u);f.isValid()&&(o=f)}return o.toDate()},"getEndDate"),q_=0,kg=a(function(e){return e===void 0?(q_=q_+1,"task"+q_):e},"parseId"),MFe=a(function(e,t){let r;t.substr(0,1)===":"?r=t.substr(1,t.length):r=t;let n=r.split(","),i={};jJ(n,i,BJ);for(let s=0;s<n.length;s++)n[s]=n[s].trim();let o="";switch(n.length){case 1:i.id=kg(),i.startTime=e.endTime,o=n[0];break;case 2:i.id=kg(),i.startTime=UL(void 0,Pc,n[0]),o=n[1];break;case 3:i.id=kg(n[0]),i.startTime=UL(void 0,Pc,n[1]),o=n[2];break;default:}return o&&(i.endTime=$J(i.startTime,Pc,o,Zv),i.manualEndTime=(0,vs.default)(o,"YYYY-MM-DD",!0).isValid(),zJ(i,Pc,Qv,Kv)),i},"compileData"),FFe=a(function(e,t){let r;t.substr(0,1)===":"?r=t.substr(1,t.length):r=t;let n=r.split(","),i={};jJ(n,i,BJ);for(let o=0;o<n.length;o++)n[o]=n[o].trim();switch(n.length){case 1:i.id=kg(),i.startTime={type:"prevTaskEnd",id:e},i.endTime={data:n[0]};break;case 2:i.id=kg(),i.startTime={type:"getStartDate",startData:n[0]},i.endTime={data:n[1]};break;case 3:i.id=kg(n[0]),i.startTime={type:"getStartDate",startData:n[1]},i.endTime={data:n[2]};break;default:}return i},"parseData"),sa=[],GJ={},BFe=a(function(e,t){let r={section:_g,type:_g,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:t},task:e,classes:[]},n=FFe(z_,t);r.raw.startTime=n.startTime,r.raw.endTime=n.endTime,r.id=n.id,r.prevTaskId=z_,r.active=n.active,r.done=n.done,r.crit=n.crit,r.milestone=n.milestone,r.order=zL,zL++;let i=sa.push(r);z_=r.id,GJ[r.id]=i-1},"addTask"),wg=a(function(e){let t=GJ[e];return sa[t]},"findTaskById"),qFe=a(function(e,t){let r={section:_g,type:_g,description:e,task:e,classes:[]},n=MFe($L,t);r.startTime=n.startTime,r.endTime=n.endTime,r.id=n.id,r.active=n.active,r.done=n.done,r.crit=n.crit,r.milestone=n.milestone,$L=r,U_.push(r)},"addTaskOrg"),NJ=a(function(){let e=a(function(r){let n=sa[r],i="";switch(sa[r].raw.startTime.type){case"prevTaskEnd":{let o=wg(n.prevTaskId);n.startTime=o.endTime;break}case"getStartDate":i=UL(void 0,Pc,sa[r].raw.startTime.startData),i&&(sa[r].startTime=i);break}return sa[r].startTime&&(sa[r].endTime=$J(sa[r].startTime,Pc,sa[r].raw.endTime.data,Zv),sa[r].endTime&&(sa[r].processed=!0,sa[r].manualEndTime=(0,vs.default)(sa[r].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),zJ(sa[r],Pc,Qv,Kv))),sa[r].processed},"compileTask"),t=!0;for(let[r,n]of sa.entries())e(r),t=t&&n.processed;return t},"compileTasks"),zFe=a(function(e,t){let r=t;Me().securityLevel!=="loose"&&(r=(0,PJ.sanitizeUrl)(t)),e.split(",").forEach(function(n){wg(n)!==void 0&&(WJ(n,()=>{window.open(r,"_self")}),HL[n]=r)}),VJ(e,"clickable")},"setLink"),VJ=a(function(e,t){e.split(",").forEach(function(r){let n=wg(r);n!==void 0&&n.classes.push(t)})},"setClass"),UFe=a(function(e,t,r){if(Me().securityLevel!=="loose"||t===void 0)return;let n=[];if(typeof r=="string"){n=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let o=0;o<n.length;o++){let s=n[o].trim();s.charAt(0)==='"'&&s.charAt(s.length-1)==='"'&&(s=s.substr(1,s.length-2)),n[o]=s}}n.length===0&&n.push(e),wg(e)!==void 0&&WJ(e,()=>{yr.runFunc(t,...n)})},"setClickFun"),WJ=a(function(e,t){XL.push(function(){let r=document.querySelector(`[id="${e}"]`);r!==null&&r.addEventListener("click",function(){t()})},function(){let r=document.querySelector(`[id="${e}-text"]`);r!==null&&r.addEventListener("click",function(){t()})})},"pushFun"),$Fe=a(function(e,t,r){e.split(",").forEach(function(n){UFe(n,t,r)}),VJ(e,"clickable")},"setClickEvent"),GFe=a(function(e){XL.forEach(function(t){t(e)})},"bindFunctions"),HJ={getConfig:()=>Me().gantt,clear:uFe,setDateFormat:yFe,getDateFormat:wFe,enableInclusiveEndDates:vFe,endDatesAreInclusive:xFe,enableTopAxis:bFe,topAxisEnabled:TFe,setAxisFormat:fFe,getAxisFormat:hFe,setTickInterval:dFe,getTickInterval:pFe,setTodayMarker:mFe,getTodayMarker:gFe,setAccTitle:Rn,getAccTitle:Nn,setDiagramTitle:ci,getDiagramTitle:Yn,setDisplayMode:kFe,getDisplayMode:_Fe,setAccDescription:Pn,getAccDescription:On,addSection:DFe,getSections:LFe,getTasks:IFe,addTask:BFe,findTaskById:wg,addTaskOrg:qFe,setIncludes:EFe,getIncludes:CFe,setExcludes:SFe,getExcludes:AFe,setClickEvent:$Fe,setLink:zFe,getLinks:RFe,bindFunctions:GFe,parseDuration:UJ,isInvalidDate:qJ,setWeekday:NFe,getWeekday:PFe};a(jJ,"getTaskTags")});var $_,VFe,XJ,WFe,Nu,HFe,KJ,QJ=F(()=>{"use strict";$_=go(Ib(),1);br();Zr();en();Pr();Si();VFe=a(function(){ye.debug("Something is calling, setConf, remove the call")},"setConf"),XJ={monday:kf,tuesday:A2,wednesday:R2,thursday:yc,friday:D2,saturday:L2,sunday:_l},WFe=a((e,t)=>{let r=[...e].map(()=>-1/0),n=[...e].sort((o,s)=>o.startTime-s.startTime||o.order-s.order),i=0;for(let o of n)for(let s=0;s<r.length;s++)if(o.startTime>=r[s]){r[s]=o.endTime,o.order=s+t,s>i&&(i=s);break}return i},"getMaxIntersections"),HFe=a(function(e,t,r,n){let i=Me().gantt,o=Me().securityLevel,s;o==="sandbox"&&(s=dt("#i"+t));let u=o==="sandbox"?dt(s.nodes()[0].contentDocument.body):dt("body"),f=o==="sandbox"?s.nodes()[0].contentDocument:document,p=f.getElementById(t);Nu=p.parentElement.offsetWidth,Nu===void 0&&(Nu=1200),i.useWidth!==void 0&&(Nu=i.useWidth);let g=n.db.getTasks(),y=[];for(let G of g)y.push(G.type);y=B(y);let x={},b=2*i.topPadding;if(n.db.getDisplayMode()==="compact"||i.displayMode==="compact"){let G={};for(let W of g)G[W.section]===void 0?G[W.section]=[W]:G[W.section].push(W);let U=0;for(let W of Object.keys(G)){let D=WFe(G[W],U)+1;U+=D,b+=D*(i.barHeight+i.barGap),x[W]=D}}else{b+=g.length*(i.barHeight+i.barGap);for(let G of y)x[G]=g.filter(U=>U.type===G).length}p.setAttribute("viewBox","0 0 "+Nu+" "+b);let E=u.select(`[id="${t}"]`),A=P2().domain([Fb(g,function(G){return G.startTime}),Mb(g,function(G){return G.endTime})]).rangeRound([0,Nu-i.leftPadding-i.rightPadding]);function O(G,U){let W=G.startTime,D=U.startTime,K=0;return W>D?K=1:W<D&&(K=-1),K}a(O,"taskCompare"),g.sort(O),N(g,Nu,b),wn(E,b,Nu,i.useMaxWidth),E.append("text").text(n.db.getDiagramTitle()).attr("x",Nu/2).attr("y",i.titleTopMargin).attr("class","titleText");function N(G,U,W){let D=i.barHeight,K=D+i.barGap,P=i.topPadding,re=i.leftPadding,ce=kl().domain([0,y.length]).range(["#00B9FA","#F95002"]).interpolate(n3);$(K,P,re,U,W,G,n.db.getExcludes(),n.db.getIncludes()),X(re,P,U,W),I(G,K,P,re,D,ce,U,W),q(K,P,re,D,ce),M(re,P,U,W)}a(N,"makeGant");function I(G,U,W,D,K,P,re){let ee=[...new Set(G.map(Y=>Y.order))].map(Y=>G.find(de=>de.order===Y));E.append("g").selectAll("rect").data(ee).enter().append("rect").attr("x",0).attr("y",function(Y,de){return de=Y.order,de*U+W-2}).attr("width",function(){return re-i.rightPadding/2}).attr("height",U).attr("class",function(Y){for(let[de,Fe]of y.entries())if(Y.type===Fe)return"section section"+de%i.numberSectionStyles;return"section section0"});let H=E.append("g").selectAll("rect").data(G).enter(),te=n.db.getLinks();if(H.append("rect").attr("id",function(Y){return Y.id}).attr("rx",3).attr("ry",3).attr("x",function(Y){return Y.milestone?A(Y.startTime)+D+.5*(A(Y.endTime)-A(Y.startTime))-.5*K:A(Y.startTime)+D}).attr("y",function(Y,de){return de=Y.order,de*U+W}).attr("width",function(Y){return Y.milestone?K:A(Y.renderEndTime||Y.endTime)-A(Y.startTime)}).attr("height",K).attr("transform-origin",function(Y,de){return de=Y.order,(A(Y.startTime)+D+.5*(A(Y.endTime)-A(Y.startTime))).toString()+"px "+(de*U+W+.5*K).toString()+"px"}).attr("class",function(Y){let de="task",Fe="";Y.classes.length>0&&(Fe=Y.classes.join(" "));let oe=0;for(let[We,_e]of y.entries())Y.type===_e&&(oe=We%i.numberSectionStyles);let rt="";return Y.active?Y.crit?rt+=" activeCrit":rt=" active":Y.done?Y.crit?rt=" doneCrit":rt=" done":Y.crit&&(rt+=" crit"),rt.length===0&&(rt=" task"),Y.milestone&&(rt=" milestone "+rt),rt+=oe,rt+=" "+Fe,de+rt}),H.append("text").attr("id",function(Y){return Y.id+"-text"}).text(function(Y){return Y.task}).attr("font-size",i.fontSize).attr("x",function(Y){let de=A(Y.startTime),Fe=A(Y.renderEndTime||Y.endTime);Y.milestone&&(de+=.5*(A(Y.endTime)-A(Y.startTime))-.5*K),Y.milestone&&(Fe=de+K);let oe=this.getBBox().width;return oe>Fe-de?Fe+oe+1.5*i.leftPadding>re?de+D-5:Fe+D+5:(Fe-de)/2+de+D}).attr("y",function(Y,de){return de=Y.order,de*U+i.barHeight/2+(i.fontSize/2-2)+W}).attr("text-height",K).attr("class",function(Y){let de=A(Y.startTime),Fe=A(Y.endTime);Y.milestone&&(Fe=de+K);let oe=this.getBBox().width,rt="";Y.classes.length>0&&(rt=Y.classes.join(" "));let We=0;for(let[Ve,Ye]of y.entries())Y.type===Ye&&(We=Ve%i.numberSectionStyles);let _e="";return Y.active&&(Y.crit?_e="activeCritText"+We:_e="activeText"+We),Y.done?Y.crit?_e=_e+" doneCritText"+We:_e=_e+" doneText"+We:Y.crit&&(_e=_e+" critText"+We),Y.milestone&&(_e+=" milestoneText"),oe>Fe-de?Fe+oe+1.5*i.leftPadding>re?rt+" taskTextOutsideLeft taskTextOutside"+We+" "+_e:rt+" taskTextOutsideRight taskTextOutside"+We+" "+_e+" width-"+oe:rt+" taskText taskText"+We+" "+_e+" width-"+oe}),Me().securityLevel==="sandbox"){let Y;Y=dt("#i"+t);let de=Y.nodes()[0].contentDocument;H.filter(function(Fe){return te[Fe.id]!==void 0}).each(function(Fe){var oe=de.querySelector("#"+Fe.id),rt=de.querySelector("#"+Fe.id+"-text");let We=oe.parentNode;var _e=de.createElement("a");_e.setAttribute("xlink:href",te[Fe.id]),_e.setAttribute("target","_top"),We.appendChild(_e),_e.appendChild(oe),_e.appendChild(rt)})}}a(I,"drawRects");function $(G,U,W,D,K,P,re,ce){if(re.length===0&&ce.length===0)return;let ee,H;for(let{startTime:oe,endTime:rt}of P)(ee===void 0||oe<ee)&&(ee=oe),(H===void 0||rt>H)&&(H=rt);if(!ee||!H)return;if((0,$_.default)(H).diff((0,$_.default)(ee),"year")>5){ye.warn("The difference between the min and max time is more than 5 years. This will cause performance issues. Skipping drawing exclude days.");return}let te=n.db.getDateFormat(),J=[],Y=null,de=(0,$_.default)(ee);for(;de.valueOf()<=H;)n.db.isInvalidDate(de,te,re,ce)?Y?Y.end=de:Y={start:de,end:de}:Y&&(J.push(Y),Y=null),de=de.add(1,"d");E.append("g").selectAll("rect").data(J).enter().append("rect").attr("id",function(oe){return"exclude-"+oe.start.format("YYYY-MM-DD")}).attr("x",function(oe){return A(oe.start)+W}).attr("y",i.gridLineStartPadding).attr("width",function(oe){let rt=oe.end.add(1,"day");return A(rt)-A(oe.start)}).attr("height",K-U-i.gridLineStartPadding).attr("transform-origin",function(oe,rt){return(A(oe.start)+W+.5*(A(oe.end)-A(oe.start))).toString()+"px "+(rt*G+.5*K).toString()+"px"}).attr("class","exclude-range")}a($,"drawExcludeDays");function X(G,U,W,D){let K=BS(A).tickSize(-D+U+i.gridLineStartPadding).tickFormat(_d(n.db.getAxisFormat()||i.axisFormat||"%Y-%m-%d")),re=/^([1-9]\d*)(millisecond|second|minute|hour|day|week|month)$/.exec(n.db.getTickInterval()||i.tickInterval);if(re!==null){let ce=re[1],ee=re[2],H=n.db.getWeekday()||i.weekday;switch(ee){case"millisecond":K.ticks(mc.every(ce));break;case"second":K.ticks(ss.every(ce));break;case"minute":K.ticks(hu.every(ce));break;case"hour":K.ticks(du.every(ce));break;case"day":K.ticks(Bs.every(ce));break;case"week":K.ticks(XJ[H].every(ce));break;case"month":K.ticks(pu.every(ce));break}}if(E.append("g").attr("class","grid").attr("transform","translate("+G+", "+(D-50)+")").call(K).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),n.db.topAxisEnabled()||i.topAxis){let ce=FS(A).tickSize(-D+U+i.gridLineStartPadding).tickFormat(_d(n.db.getAxisFormat()||i.axisFormat||"%Y-%m-%d"));if(re!==null){let ee=re[1],H=re[2],te=n.db.getWeekday()||i.weekday;switch(H){case"millisecond":ce.ticks(mc.every(ee));break;case"second":ce.ticks(ss.every(ee));break;case"minute":ce.ticks(hu.every(ee));break;case"hour":ce.ticks(du.every(ee));break;case"day":ce.ticks(Bs.every(ee));break;case"week":ce.ticks(XJ[te].every(ee));break;case"month":ce.ticks(pu.every(ee));break}}E.append("g").attr("class","grid").attr("transform","translate("+G+", "+U+")").call(ce).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}a(X,"makeGrid");function q(G,U){let W=0,D=Object.keys(x).map(K=>[K,x[K]]);E.append("g").selectAll("text").data(D).enter().append(function(K){let P=K[0].split(Et.lineBreakRegex),re=-(P.length-1)/2,ce=f.createElementNS("http://www.w3.org/2000/svg","text");ce.setAttribute("dy",re+"em");for(let[ee,H]of P.entries()){let te=f.createElementNS("http://www.w3.org/2000/svg","tspan");te.setAttribute("alignment-baseline","central"),te.setAttribute("x","10"),ee>0&&te.setAttribute("dy","1em"),te.textContent=H,ce.appendChild(te)}return ce}).attr("x",10).attr("y",function(K,P){if(P>0)for(let re=0;re<P;re++)return W+=D[P-1][1],K[1]*G/2+W*G+U;else return K[1]*G/2+U}).attr("font-size",i.sectionFontSize).attr("class",function(K){for(let[P,re]of y.entries())if(K[0]===re)return"sectionTitle sectionTitle"+P%i.numberSectionStyles;return"sectionTitle"})}a(q,"vertLabels");function M(G,U,W,D){let K=n.db.getTodayMarker();if(K==="off")return;let P=E.append("g").attr("class","today"),re=new Date,ce=P.append("line");ce.attr("x1",A(re)+G).attr("x2",A(re)+G).attr("y1",i.titleTopMargin).attr("y2",D-i.titleTopMargin).attr("class","today"),K!==""&&ce.attr("style",K.replace(/,/g,";"))}a(M,"drawToday");function B(G){let U={},W=[];for(let D=0,K=G.length;D<K;++D)Object.prototype.hasOwnProperty.call(U,G[D])||(U[G[D]]=!0,W.push(G[D]));return W}a(B,"checkUnique")},"draw"),KJ={setConf:VFe,draw:HFe}});var jFe,ZJ,JJ=F(()=>{"use strict";jFe=a(e=>`
  .mermaid-main-font {
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .exclude-range {
    fill: ${e.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${e.sectionBkgColor};
  }

  .section2 {
    fill: ${e.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${e.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${e.titleColor};
  }

  .sectionTitle1 {
    fill: ${e.titleColor};
  }

  .sectionTitle2 {
    fill: ${e.titleColor};
  }

  .sectionTitle3 {
    fill: ${e.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${e.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
  }

  .grid .tick text {
    font-family: ${e.fontFamily};
    fill: ${e.textColor};
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${e.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .taskTextOutsideRight {
    fill: ${e.taskTextDarkColor};
    text-anchor: start;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .taskTextOutsideLeft {
    fill: ${e.taskTextDarkColor};
    text-anchor: end;
  }


  /* Special case clickable */

  .task.clickable {
    cursor: pointer;
  }

  .taskText.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }


  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${e.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${e.taskBkgColor};
    stroke: ${e.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${e.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${e.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${e.activeTaskBkgColor};
    stroke: ${e.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${e.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${e.doneTaskBorderColor};
    fill: ${e.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${e.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${e.taskTextDarkColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${e.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.titleColor||e.textColor};
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }
`,"getStyles"),ZJ=jFe});var eee={};ii(eee,{diagram:()=>YFe});var YFe,tee=F(()=>{"use strict";RJ();YJ();QJ();JJ();YFe={parser:AJ,db:HJ,renderer:KJ,styles:ZJ}});function pw(e,t){if(e.length<=1)return e;var r=e.length/2|0,n=e.slice(0,r),i=e.slice(r);pw(n,t),pw(i,t);for(var o=0,s=0,u=0;o<n.length&&s<i.length;){var f=t(n[o],i[s]);f<=0?e[u++]=n[o++]:e[u++]=i[s++]}for(;o<n.length;)e[u++]=n[o++];for(;s<i.length;)e[u++]=i[s++];return e}function dI(e,t,r){r===void 0&&(r=0);for(var n=t?[r]:[],i=0;i<e.length;i++){var o=e.charCodeAt(i);(o===13||o===10)&&(o===13&&i+1<e.length&&e.charCodeAt(i+1)===10&&i++,n.push(r+i+1))}return n}function mN(e){var t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}function Ere(e){var t=mN(e.range);return t!==e.range?{newText:e.newText,range:t}:e}function ao(e){return typeof e=="object"&&e!==null&&typeof e.$type=="string"}function ap(e){return typeof e=="object"&&e!==null&&typeof e.$refText=="string"}function Cre(e){return typeof e=="object"&&e!==null&&typeof e.name=="string"&&typeof e.type=="string"&&typeof e.path=="string"}function l1(e){return typeof e=="object"&&e!==null&&ao(e.container)&&ap(e.reference)&&typeof e.message=="string"}function hp(e){return typeof e=="object"&&e!==null&&Array.isArray(e.content)}function Og(e){return typeof e=="object"&&e!==null&&typeof e.tokenType=="object"}function Are(e){return hp(e)&&typeof e.fullText=="string"}function Rre(e){return typeof e=="string"?e:typeof e>"u"?"undefined":typeof e.toString=="function"?e.toString():Object.prototype.toString.call(e)}function v1(e){return!!e&&typeof e[Symbol.iterator]=="function"}function Xn(...e){if(e.length===1){let t=e[0];if(t instanceof zu)return t;if(v1(t))return new zu(()=>t[Symbol.iterator](),r=>r.next());if(typeof t.length=="number")return new zu(()=>({index:0}),r=>r.index<t.length?{done:!1,value:t[r.index++]}:xs)}return e.length>1?new zu(()=>({collIndex:0,arrIndex:0}),t=>{do{if(t.iterator){let r=t.iterator.next();if(!r.done)return r;t.iterator=void 0}if(t.array){if(t.arrIndex<t.array.length)return{done:!1,value:t.array[t.arrIndex++]};t.array=void 0,t.arrIndex=0}if(t.collIndex<e.length){let r=e[t.collIndex++];v1(r)?t.iterator=r[Symbol.iterator]():r&&typeof r.length=="number"&&(t.array=r)}}while(t.iterator||t.array||t.collIndex<e.length);return xs}):mw}function gN(e){return new Mg(e,t=>hp(t)?t.content:[],{includeRoot:!0})}function Dre(e){return gN(e).filter(Og)}function Lre(e,t){for(;e.container;)if(e=e.container,e===t)return!0;return!1}function gw(e){return{start:{character:e.startColumn-1,line:e.startLine-1},end:{character:e.endColumn,line:e.endLine-1}}}function rl(e){if(!e)return;let{offset:t,end:r,range:n}=e;return{range:n,offset:t,end:r,length:r-t}}function Ire(e,t){if(e.end.line<t.start.line||e.end.line===t.start.line&&e.end.character<e.start.character)return Fu.Before;if(e.start.line>t.end.line||e.start.line===t.end.line&&e.start.character>t.end.character)return Fu.After;let r=e.start.line>t.start.line||e.start.line===t.start.line&&e.start.character>=t.start.character,n=e.end.line<t.end.line||e.end.line===t.end.line&&e.end.character<=t.end.character;return r&&n?Fu.Inside:r?Fu.OverlapBack:Fu.OverlapFront}function yN(e,t){return Ire(e,t)>Fu.After}function jl(e,t,r=Nre){if(e){if(t>0){let n=t-e.offset,i=e.text.charAt(n);r.test(i)||t--}return Wl(e,t)}}function Pre(e,t){if(e){let r=Ore(e,!0);if(r&&pI(r,t))return r;if(Are(e)){let n=e.content.findIndex(i=>!i.hidden);for(let i=n-1;i>=0;i--){let o=e.content[i];if(pI(o,t))return o}}}}function pI(e,t){return Og(e)&&t.includes(e.tokenType.name)}function Wl(e,t){if(Og(e))return e;if(hp(e)){let r=0,n=e.content.length-1;for(;r<n;){let i=Math.floor((r+n)/2),o=e.content[i];if(o.offset>t)n=i-1;else if(o.end<=t)r=i+1;else return Wl(o,t)}if(r===n)return Wl(e.content[r],t)}}function Ore(e,t=!0){for(;e.container;){let r=e.container,n=r.content.indexOf(e);for(;n>0;){n--;let i=r.content[n];if(t||!i.hidden)return i}e=r}}function Mre(e,t=!0){for(;e.container;){let r=e.container,n=r.content.indexOf(e),i=r.content.length-1;for(;n<i;){n++;let o=r.content[n];if(t||!o.hidden)return o}e=r}}function Fre(e,t){let r=Bre(e,t);return r?r.parent.content.slice(r.a+1,r.b):[]}function Bre(e,t){let r=mI(e),n=mI(t),i;for(let o=0;o<r.length&&o<n.length;o++){let s=r[o],u=n[o];if(s.parent===u.parent)i={parent:s.parent,a:s.index,b:u.index};else break}return i}function mI(e){let t=[];for(;e.container;){let r=e.container,n=r.content.indexOf(e);t.push({parent:r,index:n}),e=r}return t.reverse()}function x1(e,t,r,n){let i=[e,t,r,n].reduce(xN,{});return vN(i)}function yw(e){if(e&&e[gI])for(let t of Object.values(e))yw(t);return e}function vN(e,t){let r=new Proxy({},{deleteProperty:()=>!1,get:(n,i)=>yI(n,i,e,t||r),getOwnPropertyDescriptor:(n,i)=>(yI(n,i,e,t||r),Object.getOwnPropertyDescriptor(n,i)),has:(n,i)=>i in e,ownKeys:()=>[...Reflect.ownKeys(e),gI]});return r[gI]=!0,r}function yI(e,t,r,n){if(t in e){if(e[t]instanceof Error)throw new Error("Construction failure. Please make sure that your dependencies are constructable.",{cause:e[t]});if(e[t]===lee)throw new Error('Cycle detected. Please make "'+String(t)+'" lazy. See https://langium.org/docs/configuration-services/#resolving-cyclic-dependencies');return e[t]}else if(t in r){let i=r[t];e[t]=lee;try{e[t]=typeof i=="function"?i(n):vN(i,n)}catch(o){throw e[t]=o instanceof Error?o:void 0,o}return e[t]}else return}function xN(e,t){if(t){for(let[r,n]of Object.entries(t))if(n!==void 0){let i=e[r];i!==null&&n!==null&&typeof i=="object"&&typeof n=="object"?e[r]=xN(i,n):e[r]=n}}return e}function tE(e){return on.isInstance(e,vI)}function G1(e){return on.isInstance(e,qre)}function Ure(e){return on.isInstance(e,zre)}function Gre(e){return on.isInstance(e,$re)}function vw(e){return on.isInstance(e,Vre)}function bN(e){return on.isInstance(e,ZBe)}function rE(e){return on.isInstance(e,JBe)}function Kl(e){return on.isInstance(e,xw)}function Hre(e){return on.isInstance(e,Wre)}function Yre(e){return on.isInstance(e,jre)}function Kre(e){return on.isInstance(e,Xre)}function nE(e){return on.isInstance(e,Qre)}function Ir(e){return on.isInstance(e,Zre)}function V1(e){return on.isInstance(e,Jre)}function iE(e){return on.isInstance(e,e9e)}function Vc(e){return on.isInstance(e,ene)}function zi(e){return on.isInstance(e,xI)}function Zo(e){return on.isInstance(e,bw)}function TN(e){return on.isInstance(e,t9e)}function Dh(e){return on.isInstance(e,tne)}function fa(e){return on.isInstance(e,rne)}function Hu(e){return on.isInstance(e,nne)}function Qi(e){return on.isInstance(e,ine)}function kN(e){return on.isInstance(e,ane)}function zc(e){return on.isInstance(e,one)}function Xo(e){return on.isInstance(e,sne)}function Co(e){return on.isInstance(e,lne)}function une(e){return on.isInstance(e,cne)}function hne(e){return on.isInstance(e,fne)}function ha(e){return on.isInstance(e,dne)}function mne(e){return on.isInstance(e,pne)}function yne(e){return on.isInstance(e,gne)}function _N(e){return on.isInstance(e,vne)}function ju(e){return on.isInstance(e,xne)}function Tne(e){return on.isInstance(e,bne)}function _ne(e){return on.isInstance(e,kne)}function Ene(e){for(let[t,r]of Object.entries(e))t.startsWith("$")||(Array.isArray(r)?r.forEach((n,i)=>{ao(n)&&(n.$container=e,n.$containerProperty=t,n.$containerIndex=i)}):ao(r)&&(r.$container=e,r.$containerProperty=t))}function Ki(e,t){let r=e;for(;r;){if(t(r))return r;r=r.$container}}function Gn(e){let r=aE(e).$document;if(!r)throw new Error("AST node has no document.");return r}function aE(e){for(;e.$container;)e=e.$container;return e}function Vg(e,t){if(!e)throw new Error("Node must be an AstNode.");let r=t?.range;return new zu(()=>({keys:Object.keys(e),keyIndex:0,arrayIndex:0}),n=>{for(;n.keyIndex<n.keys.length;){let i=n.keys[n.keyIndex];if(!i.startsWith("$")){let o=e[i];if(ao(o)){if(n.keyIndex++,Tw(o,r))return{done:!1,value:o}}else if(Array.isArray(o)){for(;n.arrayIndex<o.length;){let s=n.arrayIndex++,u=o[s];if(ao(u)&&Tw(u,r))return{done:!1,value:u}}n.arrayIndex=0}}n.keyIndex++}return xs})}function oo(e,t){if(!e)throw new Error("Root node must be an AstNode.");return new Mg(e,r=>Vg(r,t))}function W1(e,t){if(e){if(t?.range&&!Tw(e,t.range))return new Mg(e,()=>[])}else throw new Error("Root node must be an AstNode.");return new Mg(e,r=>Vg(r,t),{includeRoot:!0})}function Tw(e,t){var r;if(!t)return!0;let n=(r=e.$cstNode)===null||r===void 0?void 0:r.range;return n?yN(n,t):!1}function wN(e){return new zu(()=>({keys:Object.keys(e),keyIndex:0,arrayIndex:0}),t=>{for(;t.keyIndex<t.keys.length;){let r=t.keys[t.keyIndex];if(!r.startsWith("$")){let n=e[r];if(ap(n))return t.keyIndex++,{done:!1,value:{reference:n,container:e,property:r}};if(Array.isArray(n)){for(;t.arrayIndex<n.length;){let i=t.arrayIndex++,o=n[i];if(ap(o))return{done:!1,value:{reference:o,container:e,property:r,index:i}}}t.arrayIndex=0}}t.keyIndex++}return xs})}function Cne(e){var t,r;if(e){if("astNode"in e)return Rne(e);if(Array.isArray(e))return e.reduce(EN,void 0);{let n=e,i=Sne(n)?Ane((r=(t=n?.root)===null||t===void 0?void 0:t.astNode)!==null&&r!==void 0?r:n?.astNode):void 0;return tp(n,i)}}else return}function Sne(e){return typeof e<"u"&&"element"in e&&"text"in e}function Ane(e){try{return Gn(e).uri.toString()}catch{return}}function Rne(e){var t,r;let{astNode:n,property:i,index:o}=e??{},s=(t=n?.$cstNode)!==null&&t!==void 0?t:n?.$textRegion;if(!(n===void 0||s===void 0)){if(i===void 0)return tp(s,J_(n));{let u=_(f=>o!==void 0&&o>-1&&Array.isArray(n[i])?o<f.length?f[o]:void 0:f.reduce(EN,void 0),"getSingleOrCompoundRegion");if(!((r=s.assignments)===null||r===void 0)&&r[i]){let f=u(s.assignments[i]);return f&&tp(f,J_(n))}else if(n.$cstNode){let f=u(X1(n.$cstNode,i));return f&&tp(f,J_(n))}else return}}}function J_(e){var t,r,n,i;return e.$cstNode?(r=(t=Gn(e))===null||t===void 0?void 0:t.uri)===null||r===void 0?void 0:r.toString():e.$textRegion?e.$textRegion.documentURI||((i=(n=new Mg(e,o=>o.$container?[o.$container]:[]).find(o=>{var s;return(s=o.$textRegion)===null||s===void 0?void 0:s.documentURI}))===null||n===void 0?void 0:n.$textRegion)===null||i===void 0?void 0:i.documentURI):void 0}function tp(e,t){var r,n;let i={offset:e.offset,end:(r=e.end)!==null&&r!==void 0?r:e.offset+e.length,length:(n=e.length)!==null&&n!==void 0?n:e.end-e.offset};return e.range&&(i.range=e.range),t??(t=e.fileURI),t&&(i.fileURI=t),i}function EN(e,t){var r,n;if(e){if(!t)return e&&tp(e)}else return t&&tp(t);let i=(r=e.end)!==null&&r!==void 0?r:e.offset+e.length,o=(n=t.end)!==null&&n!==void 0?n:t.offset+t.length,s=Math.min(e.offset,t.offset),u=Math.max(i,o),f=u-s,p={offset:s,end:u,length:f};if(e.range&&t.range&&(p.range={start:t.range.start.line<e.range.start.line||t.range.start.line===e.range.start.line&&t.range.start.character<e.range.start.character?t.range.start:e.range.start,end:t.range.end.line>e.range.end.line||t.range.end.line===e.range.end.line&&t.range.end.character>e.range.end.character?t.range.end:e.range.end}),e.fileURI||t.fileURI){let g=e.fileURI,y=t.fileURI,x=g&&y&&g!==y?`<unmergable text regions of ${g}, ${y}>`:g??y;p.fileURI=x}return p}function Dne(e,t,r){let n={sourceRegion:e,targetRegion:void 0,children:[],targetStart:t,complete:i=>{var o,s;return n.targetRegion={offset:n.targetStart.offset,end:i.offset,length:i.offset-n.targetStart.offset,range:{start:{line:n.targetStart.line,character:n.targetStart.character},end:{line:i.line,character:i.character}}},delete n.targetStart,((o=n.children)===null||o===void 0?void 0:o.length)===0&&delete n.children,!((s=n.targetRegion)===null||s===void 0)&&s.length&&r(n),delete n.complete,n}};return n}function Lne(e,t){let r=new r9e(t),n=r.pushTraceRegion(void 0);CN(e,r),r.popTraceRegion(n),n.complete&&n.complete(r.currentPosition);let i=n.children&&n.children.length===1?n.children[0]:void 0,o=i?.targetRegion,s=n.targetRegion;return o&&i.sourceRegion&&o.offset===s.offset&&o.length===s.length?{text:r.content,trace:i}:{text:r.content,trace:n}}function CN(e,t){typeof e=="string"?Ine(e,t):e instanceof IN?Nne(e,t):e instanceof Ql?RN(e,t):e instanceof H1&&Pne(e,t)}function SN(e,t){return typeof e=="string"?e.length!==0:e instanceof Ql?e.contents.some(r=>SN(r,t)):e instanceof H1?!(e.ifNotEmpty&&t.currentLineContent.length===0):!1}function Ine(e,t){e&&(t.pendingIndent&&AN(t,!1),t.append(e))}function AN(e,t){var r;let n="";for(let i of e.relevantIndents.filter(o=>o.indentEmptyLines||!t))n+=(r=i.indentation)!==null&&r!==void 0?r:e.defaultIndentation;e.append(n,!0),e.pendingIndent=!1}function RN(e,t){let r,n=Cne(e.tracedSource);n&&(r=t.pushTraceRegion(n));for(let i of e.contents)CN(i,t);if(r){t.popTraceRegion(r);let i=t.getParentTraceSourceFileURI();i&&n?.fileURI===i&&delete n.fileURI,r.complete&&r.complete(t.currentPosition)}}function Nne(e,t){var r;if(SN(e,t)){e.indentImmediately&&!t.pendingIndent&&t.append((r=e.indentation)!==null&&r!==void 0?r:t.defaultIndentation,!0);try{t.increaseIndent(e),RN(e,t)}finally{t.decreaseIndent()}}}function Pne(e,t){e.ifNotEmpty&&!One(t.currentLineContent)?t.resetCurrentLine():(t.pendingIndent&&AN(t,!0),t.append(e.lineDelimiter),t.addNewLine())}function One(e){return e.trimStart()!==""}function Mne(e){let t=e.filter(n=>n.length>0).map(n=>n.search(n9e)),r=t.length===0?0:Math.min(...t);return Math.max(0,r)}function LN(e,...t){let r=Bne(e),n=qne(e,t,r);return Une(n)}function Fne(e,t,r){return(n,...i)=>Gne(e,t,r)(LN(n,...i))}function Bne(e){let t=e.join("_").split(DN),r=t.length>1&&t[0].trim().length===0,n=r&&t.length>1&&t[t.length-1].trim().length===0;if(t.length===1||t.length!==0&&t[0].trim().length!==0||t.length===2&&t[1].trim().length===0)return{indentation:0,omitFirstLine:r,omitLastLine:n,trimLastLine:t.length!==1&&t[t.length-1].trim().length===0};{let i=r?t.slice(1):t;i=n?i.slice(0,i.length-1):i,i=i.filter(s=>s.length!==0);let o=Mne(i);return{indentation:o,omitFirstLine:r,omitLastLine:n&&(t[t.length-1].length<o||!t[t.length-1].startsWith(i[0].substring(0,o)))}}}function qne(e,t,{indentation:r,omitFirstLine:n,omitLastLine:i,trimLastLine:o}){let s=[];e.forEach((p,g)=>{s.push(...p.split(DN).map((y,x)=>x===0||y.length<r?y:y.substring(r)).reduce(g===0?(y,x,b)=>b===0?n?[]:[x]:b===1&&y.length===0?[x]:y.concat(ew,x):(y,x,b)=>b===0?[x]:y.concat(ew,x),[]).filter(y=>!(typeof y=="string"&&y.length===0)).concat(b1(t[g])?t[g]:t[g]!==void 0?{content:String(t[g])}:g<t.length?zne:[]))});let u=s.length,f=u!==0?s[u-1]:void 0;return(i||o)&&typeof f=="string"&&f.trim().length===0?n&&u!==1&&s[u-2]===ew?s.slice(0,u-2):s.slice(0,u-1):s}function Une(e){return e.reduce((r,n,i)=>JL(n)?r:cee(n)?{node:i!==0&&(JL(e[i-1])||b1(e[i-1]))||i>1&&typeof e[i-1]=="string"&&(JL(e[i-2])||b1(e[i-2]))?r.node.appendNewLineIfNotEmpty():r.node.appendNewLine()}:(()=>{var o;let s=(i===0||cee(e[i-1]))&&typeof n=="string"&&n.length!==0?"".padStart(n.length-n.trimStart().length):"",u=i9e(n)?n.content:n,f;return{node:r.indented?r.node:s.length!==0?r.node.indent({indentation:s,indentImmediately:!1,indentedChildren:p=>f=p.append(u)}):r.node.append(u),indented:f??((o=r.indented)===null||o===void 0?void 0:o.append(u))}})(),{node:new Ql}).node}function b1(e){return e instanceof Ql||e instanceof IN||e instanceof H1}function T1(e,t){return b1(e)?Lne(e,t).text:String(e)}function Gne(e,t,r){return n=>n instanceof Ql&&n.tracedSource===void 0?n.trace(e,t,r):new Ql().trace(e,t,r).append(n)}function _h(e){return"referenceType"in e}function wh(e){return"elementType"in e}function Ya(e){return"types"in e}function NN(e){if(Ya(e)){let t=[];for(let r of e.types)t.push(...NN(r));return t}else return[e]}function Hl(e){return"value"in e}function nl(e){return"primitive"in e}function Uc(e){return"string"in e}function Fc(e){return e&&"type"in e}function Bc(e){return e&&"properties"in e}function k1(e,t){return Ou(e,t,new Map)}function Ou(e,t,r){let n=`${Lg(e)}\xBB${Lg(t)}`,i=r.get(n);return i!==void 0||(r.set(n,!1),i=!1,Ya(e)?i=e.types.every(o=>Ou(o,t,r)):Ya(t)?i=t.types.some(o=>Ou(e,o,r)):Hl(t)&&Fc(t.value)?Hl(e)&&Fc(e.value)&&t.value.name===e.value.name?i=!0:i=Ou(e,t.value.type,r):_h(e)?i=_h(t)&&Ou(e.referenceType,t.referenceType,r):wh(e)?i=wh(t)&&Ou(e.elementType,t.elementType,r):Hl(e)?Fc(e.value)?i=Ou(e.value.type,t,r):Hl(t)?Fc(t.value)?i=Ou(e,t.value.type,r):i=PN(e.value,t.value,new Set):i=!1:nl(e)?i=nl(t)&&e.primitive===t.primitive:Uc(e)&&(i=nl(t)&&t.primitive==="string"||Uc(t)&&t.string===e.string),i&&r.set(n,i)),i}function PN(e,t,r){let n=e.name;if(r.has(n))return!1;if(r.add(n),e.name===t.name)return!0;for(let i of e.superTypes)if(Bc(i)&&PN(i,t,r))return!0;return!1}function Lg(e){if(_h(e))return`@(${Lg(e.referenceType)})}`;if(wh(e))return`(${Lg(e.elementType)})[]`;if(Ya(e)){let t=e.types.map(r=>Lg(r)).join(" | ");return e.types.length<=1?`Union<${t}>`:t}else{if(Hl(e))return`Value<${e.value.name}>`;if(nl(e))return e.primitive;if(Uc(e))return`'${e.string}'`}throw new Error("Invalid type")}function Yl(e,t="AstType"){if(_h(e)){let r=Yl(e.referenceType,t);return t==="AstType"?`Reference<${r}>`:`@${tw(e.referenceType,r)}`}else if(wh(e)){let r=Yl(e.elementType,t);return t==="AstType"?`Array<${r}>`:`${tw(e.elementType,r)}[]`}else if(Ya(e)){let r=e.types.map(n=>tw(n,Yl(n,t)));return Jd(r).join(" | ")}else{if(Hl(e))return e.value.name;if(nl(e))return e.primitive;if(Uc(e)){let r=t==="AstType"?"'":'"';return`${r}${e.string}${r}`}}throw new Error("Invalid type")}function tw(e,t){return Ya(e)&&(t=`(${t})`),t}function bI(e,t,r,n=new Set){function i(o){let s=r==="AstType"?o.name:sE(o.name,n),u=o.optional&&!oE(o.type),f=Yl(o.type,r);return`${s}${u?"?":""}: ${f}`}a(i,"propertyToString"),_(i,"propertyToString"),Jd(t,(o,s)=>o.name.localeCompare(s.name)).forEach(o=>e.append(i(o),Ri))}function oE(e){return wh(e)?!0:_h(e)?!1:Ya(e)?e.types.every(t=>oE(t)):nl(e)?e.primitive==="boolean":!1}function ON(e,t){e.append(`export const ${t} = '${t}';`,Ri),e.append(Ri),e.append(`export function is${t}(item: unknown): item is ${t} {`,Ri),e.indent(r=>r.append(`return reflection.isInstance(item, ${t});`,Ri)),e.append("}",Ri)}function Hne(e,t){switch(t.dataType){case"string":if(kw(t.type)){let r=Array.from(t.subTypes).map(o=>o.name),n=MN(t.type),i=FN(t.type);if(r.length===0&&n.length===0&&i.length===0)e1(e,t.name,`typeof item === '${t.dataType}'`);else{let o=jne(r,n,i);e1(e,t.name,o)}}break;case"number":case"boolean":case"bigint":e1(e,t.name,`typeof item === '${t.dataType}'`);break;case"Date":e1(e,t.name,"item instanceof Date");break;default:return}}function kw(e){let t=!0;if(nl(e))return e.primitive==="string";if(Uc(e))return!0;if(Ya(e)){for(let r of e.types)if(Hl(r))if(Fc(r.value)){if(!kw(r.value.type))return!1}else return!1;else if(nl(r)){if(r.primitive!=="string"||!r.regex)return!1}else if(Ya(r))t=kw(r);else if(!Uc(r))return!1}else return!1;return t}function jne(e,t,r){let n=[...e.map(i=>`is${i}(item)`),...t.map(i=>`item === '${i}'`)];if(r.length>0){let i=r.map(o=>`${o}.test(item)`).join(" || ");n.push(`(typeof item === 'string' && (${i}))`)}return n.join(" || ")}function sE(e,t){return t.has(e)?`^${e}`:e}function MN(e){let t=[];if(Uc(e))return[e.string];if(Ya(e))for(let r of e.types)Uc(r)?t.push(r.string):Ya(r)&&t.push(...MN(r));return t}function FN(e){let t=[];if(nl(e)&&e.primitive==="string"&&e.regex&&t.push(e.regex),Ya(e))for(let r of e.types)nl(r)&&r.primitive==="string"&&r.regex?t.push(r.regex):Ya(r)&&t.push(...FN(r));return t}function e1(e,t,r){e.append(Ri,`export function is${t}(item: unknown): item is ${t} {`,Ri),e.indent(n=>n.append(`return ${r};`,Ri)),e.append("}",Ri)}function Jd(e,t){return Array.from(new Set(e)).sort(t)}function BN(e,t,r,n){let i=new Set;return i.add(e),t.findReferences(e,{}).forEach(s=>{let u=r.getOrCreateDocument(s.sourceUri),f=n.getAstNode(u.parseResult.value,s.sourcePath);Kl(f)?(i.add(f),BN(f,t,r,n).forEach(g=>i.add(g))):f&&Zo(f.$container)&&i.add(f.$container)}),i}function _1(e){let t=new Set;if(Kl(e))t.add(e),e.superTypes.forEach(r=>{if(Kl(r.ref)){t.add(r.ref);let n=_1(r.ref);for(let i of n)t.add(i)}});else if(Zo(e)){let r=qN(e.type);for(let n of r){let i=_1(n);for(let o of i)t.add(o)}}return t}function qN(e){var t;if(Dh(e))return e.types.flatMap(r=>qN(r));if(Vc(e)){let r=(t=e.typeRef)===null||t===void 0?void 0:t.ref;if(Zo(r)||Kl(r))return[r]}return[]}function TI(e,t){return e.interfaces.concat(t.interfaces)}function kI(e){return e.interfaces.concat(e.unions)}function Yne(e){let t=e.sort((i,o)=>i.name.localeCompare(o.name)).map(i=>({value:i,nodes:[]}));for(let i of t)i.nodes=t.filter(o=>i.value.superTypes.has(o.value.name));let r=[],n=t.filter(i=>i.nodes.length===0);for(;n.length>0;){let i=n.shift();r.includes(i)||(r.push(i),t.filter(o=>o.nodes.includes(i)).forEach(o=>n.push(o)))}return r.map(i=>i.value)}function Xne(e){return c1(e,new Set)}function c1(e,t){if(t.has(e))return[];if(t.add(e),Ya(e))return e.types.flatMap(r=>c1(r,t));if(Hl(e)){let r=e.value;return"type"in r?c1(r.type,t):[r.name]}else if(wh(e))return c1(e.elementType,t);return[]}function lE(e){return typeof e.name=="string"}function Lr(e){return e.charCodeAt(0)}function rw(e,t){Array.isArray(e)?e.forEach(function(r){t.push(r)}):t.push(e)}function Eg(e,t){if(e[t]===!0)throw"duplicate flag "+t;let r=e[t];e[t]=!0}function Qd(e){if(e===void 0)throw Error("Internal Error - Should never get here!");return!0}function t1(){throw Error("Internal Error - Should never get here!")}function _I(e){return e.type==="Character"}function Zne(e){try{return typeof e=="string"&&(e=new RegExp(e)),e=e.toString(),eI.reset(e),eI.visit(f9e.pattern(e)),eI.multiline}catch{return!1}}function wI(e){return(typeof e=="string"?new RegExp(e):e).test(" ")}function op(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Jne(e){return Array.prototype.map.call(e,t=>/\w/.test(t)?`[${t.toLowerCase()}${t.toUpperCase()}]`:op(t)).join("")}function eie(e,t){let r=tie(e),n=t.match(r);return!!n&&n[0].length>0}function tie(e){typeof e=="string"&&(e=new RegExp(e));let t=e,r=e.source,n=0;function i(){let o="",s;function u(p){o+=r.substr(n,p),n+=p}a(u,"appendRaw"),_(u,"appendRaw");function f(p){o+="(?:"+r.substr(n,p)+"|$)",n+=p}for(a(f,"appendOptional"),_(f,"appendOptional");n<r.length;)switch(r[n]){case"\\":switch(r[n+1]){case"c":f(3);break;case"x":f(4);break;case"u":t.unicode?r[n+2]==="{"?f(r.indexOf("}",n)-n+1):f(6):f(2);break;case"p":case"P":t.unicode?f(r.indexOf("}",n)-n+1):f(2);break;case"k":f(r.indexOf(">",n)-n+1);break;default:f(2);break}break;case"[":s=/\[(?:\\.|.)*?\]/g,s.lastIndex=n,s=s.exec(r)||[],f(s[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":u(1);break;case"{":s=/\{\d+,?\d*\}/g,s.lastIndex=n,s=s.exec(r),s?u(s[0].length):f(1);break;case"(":if(r[n+1]==="?")switch(r[n+2]){case":":o+="(?:",n+=3,o+=i()+"|$)";break;case"=":o+="(?=",n+=3,o+=i()+")";break;case"!":s=n,n+=3,i(),o+=r.substr(s,n-s);break;case"<":switch(r[n+3]){case"=":case"!":s=n,n+=4,i(),o+=r.substr(s,n-s);break;default:u(r.indexOf(">",n)-n+1),o+=i()+"|$)";break}break}else u(1),o+=i()+"|$)";break;case")":return++n,o;default:f(1);break}return o}return a(i,"process2"),_(i,"process"),new RegExp(i(),e.flags)}function iie(){return new Promise(e=>{typeof setImmediate>"u"?setTimeout(e,0):setImmediate(e)})}function uE(e){return e===aie}async function Eo(e){if(e===NI.CancellationToken.None)return;let t=Date.now();if(t-ite>=y9e&&(ite=t,await iie()),e.isCancellationRequested)throw aie}function el(e){return{code:e}}function oie(e,t){let r={unions:[],interfaces:[]};for(let n of e){let i=[];for(let u of n.attributes)i.push({name:u.name,optional:u.isOptional,astNodes:new Set([u]),type:rp(u.type)});let o=new Set;for(let u of n.superTypes)u.ref&&o.add(Lh(u.ref));let s={name:n.name,declared:!0,abstract:!1,properties:i,superTypes:o,subTypes:new Set};r.interfaces.push(s)}for(let n of t){let i={name:n.name,declared:!0,type:rp(n.type),superTypes:new Set,subTypes:new Set};r.unions.push(i)}return r}function rp(e){if(G1(e))return{elementType:rp(e.elementType)};if(V1(e))return{referenceType:rp(e.referenceType)};if(Dh(e))return{types:e.types.map(rp)};if(Vc(e)){let t;if(e.primitiveType)return t=e.primitiveType,{primitive:t};if(e.stringType)return t=e.stringType,{string:t};if(e.typeRef){let r=e.typeRef.ref,n=Th(r);if(n)return fE(n)?{primitive:n}:{value:n}}}return{primitive:"unknown"}}function qg(e){return"referenceType"in e}function Iw(e){return"elementType"in e}function zN(e){return"types"in e}function Nw(e){return"value"in e}function sie(e){return"primitive"in e}function lie(e){return"string"in e}function cie(e){let t=new Map,r=new Map;for(let n of e.interfaces){let i=new Vne(n.name,n.declared,n.abstract);t.set(n.name,i)}for(let n of e.unions){let i=new s9e(n.name,{declared:n.declared,dataType:n.dataType});r.set(n.name,i)}for(let n of e.interfaces){let i=t.get(n.name);for(let o of n.superTypes){let s=t.get(o)||r.get(o);s&&i.superTypes.add(s)}for(let o of n.subTypes){let s=t.get(o)||r.get(o);s&&i.subTypes.add(s)}for(let o of n.properties){let s=uie(o,t,r);i.properties.push(s)}}for(let n of e.unions){let i=r.get(n.name);i.type=Ng(n.type,i,t,r)}return{interfaces:Array.from(t.values()),unions:Array.from(r.values())}}function uie(e,t,r){return{name:e.name,optional:e.optional,astNodes:e.astNodes,type:Ng(e.type,void 0,t,r)}}function Ng(e,t,r,n){if(Iw(e))return{elementType:Ng(e.elementType,t,r,n)};if(qg(e))return{referenceType:Ng(e.referenceType,void 0,r,n)};if(zN(e))return{types:e.types.map(i=>Ng(i,t,r,n))};if(lie(e))return{string:e.string};if(sie(e))return{primitive:e.primitive,regex:e.regex};if(Nw(e)){let i=r.get(e.value)||n.get(e.value);return i?(t&&t.subTypes.add(i),{value:i}):{primitive:"unknown"}}else throw new Error("Invalid property type")}function UN(e,t){let r=A1(e),n=A1(t);for(let i of n)fie(r,i)||r.push(i);return r.length===1?r[0]:{types:r}}function fie(e,t){return e.some(r=>Pw(r,t))}function Pw(e,t){return Iw(e)&&Iw(t)?Pw(e.elementType,t.elementType):qg(e)&&qg(t)?Pw(e.referenceType,t.referenceType):Nw(e)&&Nw(t)?e.value===t.value:!1}function A1(e){return zN(e)?e.types.flatMap(t=>A1(t)):[e]}function hie(e){let t=e.validation.ValidationRegistry,r=e.validation.LangiumGrammarValidator,n={Action:[r.checkAssignmentReservedName],AbstractRule:r.checkRuleName,Assignment:[r.checkAssignmentWithFeatureName,r.checkAssignmentToFragmentRule,r.checkAssignmentTypes,r.checkAssignmentReservedName],ParserRule:[r.checkParserRuleDataType,r.checkRuleParametersUsed,r.checkParserRuleReservedName],TerminalRule:[r.checkTerminalRuleReturnType,r.checkHiddenTerminalRule,r.checkEmptyTerminalRule],InferredType:r.checkTypeReservedName,Keyword:r.checkKeyword,UnorderedGroup:r.checkUnorderedGroup,Grammar:[r.checkGrammarName,r.checkEntryGrammarRule,r.checkUniqueRuleName,r.checkUniqueTypeName,r.checkUniqueImportedRules,r.checkDuplicateImportedGrammar,r.checkGrammarHiddenTokens,r.checkGrammarForUnusedRules,r.checkGrammarTypeInfer,r.checkClashingTerminalNames],GrammarImport:r.checkPackageImport,CharacterRange:r.checkInvalidCharacterRange,Interface:[r.checkTypeReservedName,r.checkInterfacePropertyTypes],Type:[r.checkTypeReservedName],TypeAttribute:r.checkTypeReservedName,RuleCall:[r.checkUsedHiddenTerminalRule,r.checkUsedFragmentTerminalRule,r.checkRuleCallParameters],TerminalRuleCall:r.checkUsedHiddenTerminalRule,CrossReference:[r.checkCrossReferenceSyntax,r.checkCrossRefNameAssignment,r.checkCrossRefTerminalType,r.checkCrossRefType,r.checkCrossReferenceToTypeUnion],SimpleType:r.checkFragmentsInTypes,ReferenceType:r.checkReferenceTypeUnion,RegexToken:[r.checkInvalidRegexFlags,r.checkDirectlyUsedRegexFlags]};t.register(n,r)}function Cg(e){return!e.definition||!e.definition.$cstNode||e.definition.$cstNode.length===0}function $N(e){let t=[];return e.types.forEach(r=>{var n;Vc(r)&&(!((n=r.typeRef)===null||n===void 0)&&n.ref?Zo(r.typeRef.ref)&&(Dh(r.typeRef.ref.type)?t.push(...$N(r.typeRef.ref.type)):t.push(r.typeRef.ref.name)):r.stringType?t.push(`"${r.stringType}"`):r.primitiveType&&t.push(r.primitiveType))}),Array.from(new Set(t))}function $c(e,t){return e==="?"||e==="*"||Xo(t)&&!!t.guardCondition}function die(e){return e==="*"||e==="+"}function Gl(e){return GN(e,new Set)}function GN(e,t){if(t.has(e))return!0;t.add(e);for(let r of oo(e))if(ha(r)){if(!r.rule.ref||Ir(r.rule.ref)&&!GN(r.rule.ref,t))return!1}else{if(Qi(r))return!1;if(fa(r))return!1}return!!e.definition}function pie(e){var t;let r=(t=e.returnType)===null||t===void 0?void 0:t.ref;return e.dataType!==void 0||Zo(r)&&mie(r)}function mie(e){return Ow(e.type,new Set)}function Ow(e,t){if(t.has(e))return!0;if(t.add(e),G1(e))return!1;if(V1(e))return!1;if(Dh(e))return e.types.every(r=>Ow(r,t));if(Vc(e)){if(e.primitiveType!==void 0)return!0;if(e.stringType!==void 0)return!0;if(e.typeRef!==void 0){let r=e.typeRef.ref;return Zo(r)?Ow(r.type,t):!1}else return!1}else return!1}function gie(e){return Rg(e,new Set)}function Rg(e,t){var r,n;if(t.has(e))return!0;if(t.add(e),Ir(e)){if(e.dataType)return e.dataType==="string";if(!((r=e.returnType)===null||r===void 0)&&r.ref)return Rg(e.returnType.ref,t)}else{if(Zo(e))return Rg(e.type,t);if(G1(e))return!1;if(V1(e))return!1;if(Dh(e))return e.types.every(i=>Rg(i,t));if(Vc(e)){if(e.primitiveType==="string")return!0;if(e.stringType)return!0;if(!((n=e.typeRef)===null||n===void 0)&&n.ref)return Rg(e.typeRef.ref,t)}}return!1}function VN(e){let t=e.$container;if(Xo(t)){let r=t.elements,n=r.indexOf(e);for(let i=n-1;i>=0;i--){let o=r[i];if(fa(o))return o;{let s=oo(r[i]).find(fa);if(s)return s}}}if(tE(t))return VN(t)}function Lh(e){var t;if(Ir(e))return Gl(e)?e.name:(t=j1(e))!==null&&t!==void 0?t:e.name;if(Kl(e)||Zo(e)||iE(e))return e.name;if(fa(e)){let r=R1(e);if(r)return r}else if(rE(e))return e.name;throw new l9e("Cannot get name of Unknown Type",e.$cstNode)}function Th(e){if(e)try{return Lh(e)}catch{return}}function j1(e){if(e.inferredType)return e.inferredType.name;if(e.dataType)return e.dataType;if(e.returnType){let t=e.returnType.ref;if(t){if(Ir(t))return t.name;if(Kl(t)||Zo(t))return t.name}}}function R1(e){var t;if(e.inferredType)return e.inferredType.name;if(!((t=e.type)===null||t===void 0)&&t.ref)return Lh(e.type.ref)}function Y1(e){var t,r,n;return zi(e)?(r=(t=e.type)===null||t===void 0?void 0:t.name)!==null&&r!==void 0?r:"string":Gl(e)?e.name:(n=j1(e))!==null&&n!==void 0?n:e.name}function dp(e){let t={s:!1,i:!1,u:!1},r=pp(e.definition,t),n=Object.entries(t).filter(([,i])=>i).map(([i])=>i).join("");return new RegExp(r,n)}function pp(e,t){if(mne(e))return yie(e);if(yne(e))return vie(e);if(kN(e))return Tie(e);if(_N(e)){let r=e.rule.ref;if(!r)throw new Error("Missing rule reference.");return qc(pp(r.definition),{cardinality:e.cardinality,lookahead:e.lookahead})}else{if(une(e))return bie(e);if(Tne(e))return xie(e);if(hne(e)){let r=e.regex.lastIndexOf("/"),n=e.regex.substring(1,r),i=e.regex.substring(r+1);return t&&(t.i=i.includes("i"),t.s=i.includes("s"),t.u=i.includes("u")),qc(n,{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1})}else{if(_ne(e))return qc(WN,{cardinality:e.cardinality,lookahead:e.lookahead});throw new Error(`Invalid terminal element: ${e?.$type}`)}}}function yie(e){return qc(e.elements.map(t=>pp(t)).join("|"),{cardinality:e.cardinality,lookahead:e.lookahead})}function vie(e){return qc(e.elements.map(t=>pp(t)).join(""),{cardinality:e.cardinality,lookahead:e.lookahead})}function xie(e){return qc(`${WN}*?${pp(e.terminal)}`,{cardinality:e.cardinality,lookahead:e.lookahead})}function bie(e){return qc(`(?!${pp(e.terminal)})${WN}*?`,{cardinality:e.cardinality,lookahead:e.lookahead})}function Tie(e){return e.right?qc(`[${nw(e.left)}-${nw(e.right)}]`,{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1}):qc(nw(e.left),{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1})}function nw(e){return op(e.value)}function qc(e,t){var r;return(t.wrap!==!1||t.lookahead)&&(e=`(${(r=t.lookahead)!==null&&r!==void 0?r:""}${e})`),t.cardinality?`${e}${t.cardinality}`:e}function HN(e){if(e.path===void 0||e.path.length===0)return;let t=bi.dirname(Gn(e).uri),r=e.path;return r.endsWith(".langium")||(r+=".langium"),bi.resolvePath(t,r)}function sp(e,t){let r=HN(t);try{if(r){let i=e.getOrCreateDocument(r).parseResult.value;if(vw(i))return i}}catch{}}function r1(e,t){if(bN(t)){let r=sp(e,t);if(r){let n=Mw(e,r);return n.push(r),n}return[]}else return Mw(e,t)}function Mw(e,t,r=t,n=new Set,i=new Set){let o=Gn(t);if(r!==t&&i.add(t),!n.has(o.uri)){n.add(o.uri);for(let s of t.imports){let u=sp(e,s);u&&Mw(e,u,r,n,i)}}return Array.from(i)}function D1(e){return Qi(e)?[e]:Hu(e)||Xo(e)||ju(e)?e.elements.flatMap(t=>D1(t)):ha(e)&&e.rule.ref?D1(e.rule.ref.definition):[]}function fE(e){return k9e.includes(e)}function kie(e){return{name:e.name,children:[],parents:[],actionWithAssignment:e.actionWithAssignment,ruleCalls:[...e.ruleCalls],properties:e.properties.map(jN)}}function PI(e){return{name:e.name,super:e.super,ruleCalls:e.ruleCalls,properties:e.properties.map(t=>jN(t))}}function jN(e){return{name:e.name,optional:e.optional,type:e.type,astNodes:e.astNodes}}function _ie(e,t,r){let n=[],i={fragments:new Map};for(let f of e)n.push(...YN(i,f));let o=Rie(n),s=Die(o),u=Lie(o,s,r);for(let f of t){let p=wie(f);u.unions.push({name:f.name,declared:!1,type:p,subTypes:new Set,superTypes:new Set,dataType:f.dataType})}return u}function wie(e){if(e.dataType&&e.dataType!=="string")return{primitive:e.dataType};let t=!1,r=_(()=>(t=!0,{primitive:"unknown"}),"cancel"),n=Fw(e.definition,r);return t?{primitive:"string"}:n}function Fw(e,t){var r,n,i;if(e.cardinality)return t();if(Hu(e))return{types:e.elements.map(o=>Fw(o,t))};if(Xo(e)||ju(e))return e.elements.length!==1?t():Fw(e.elements[0],t);if(ha(e)){let o=(r=e.rule)===null||r===void 0?void 0:r.ref;return o?zi(o)?{primitive:(i=(n=o.type)===null||n===void 0?void 0:n.name)!==null&&i!==void 0?i:"string",regex:dp(o).toString()}:{value:o.name}:t()}else if(Co(e))return{string:e.value};return t()}function YN(e,t){let r=bh(t),n=new _9e(e,r);return t.definition&&Bw(n,n.root,t.definition),n.getTypes()}function bh(e){return{name:Ir(e)||fa(e)?Th(e):e,properties:[],ruleCalls:[],children:[],parents:[],actionWithAssignment:!1}}function Bw(e,t,r){let n=$c(r.cardinality,r);if(Hu(r)){let i=[];n&&i.push(e.connect(t,bh()));for(let o of r.elements){let s=e.connect(t,bh());i.push(Bw(e,s,o))}return e.merge(...i)}else if(Xo(r)||ju(r)){let i=e.connect(t,bh()),o;n&&(o=e.connect(t,bh()));for(let s of r.elements)i=Bw(e,i,s);return o?e.merge(o,i):i}else{if(fa(r))return Eie(e,t,r);Qi(r)?Cie(t,r):ha(r)&&Sie(e,t,r)}return t}function Eie(e,t,r){var n;if(!e.hasLeafNode(t)){let o=kie(t);e.connect(t,o)}let i=e.connect(t,bh(r));if(r.type){let o=(n=r.type)===null||n===void 0?void 0:n.ref;o&&lE(o)&&(i.name=o.name)}return r.feature&&r.operator&&(i.actionWithAssignment=!0,i.properties.push({name:r.feature,optional:!1,type:kh(r.operator==="+=",!1,e.root.ruleCalls.length!==0?e.root.ruleCalls:e.getSuperTypes(i)),astNodes:new Set([r])})),i}function Cie(e,t){let r={types:new Set,reference:!1};XN(t.terminal,r);let n=kh(t.operator==="+=",r.reference,t.operator==="?="?["boolean"]:Array.from(r.types));e.properties.push({name:t.feature,optional:$c(t.cardinality),type:n,astNodes:new Set([t])})}function XN(e,t){if(Hu(e)||ju(e)||Xo(e))for(let r of e.elements)XN(r,t);else if(Co(e))t.types.add(`'${e.value}'`);else if(ha(e)&&e.rule.ref)t.types.add(Y1(e.rule.ref));else if(zc(e)&&e.type.ref){let r=Th(e.type.ref);r&&t.types.add(r),t.reference=!0}}function Sie(e,t,r){let n=r.rule.ref;if(Ir(n)&&n.fragment){let i=Aie(n,e.context);$c(r.cardinality)?t.properties.push(...i.map(o=>Object.assign(Object.assign({},o),{optional:!0}))):t.properties.push(...i)}else Ir(n)&&t.ruleCalls.push(Y1(n))}function Aie(e,t){let r=t.fragments.get(e);if(r)return r;let n=[];t.fragments.set(e,n);let i=Th(e),o=YN(t,e).filter(s=>s.alt.name===i);return n.push(...o.flatMap(s=>s.alt.properties)),n}function Rie(e){let t=new Map,r=[],n=KN(e).map(i=>i.alt);for(let i of n){let o={name:i.name,properties:i.properties,superTypes:new Set(i.super),subTypes:new Set,declared:!1,abstract:!1};t.set(o.name,o),i.ruleCalls.length>0&&(r.push(i),i.ruleCalls.forEach(s=>{s!==o.name&&o.subTypes.add(s)}))}for(let i of r)for(let o of i.ruleCalls){let s=t.get(o);s&&s.name!==i.name&&s.superTypes.add(i.name)}return Array.from(t.values())}function KN(e){let t=e.reduce((n,i)=>n.add(i.alt.name,i),new no),r=[];for(let[n,i]of t.entriesGroupedByKey()){let o=[],s=new Set,u={alt:{name:n,properties:o,ruleCalls:[],super:[]},next:[]};for(let f of i){let p=f.alt;u.alt.super.push(...p.super),u.next.push(...f.next);let g=p.properties;for(let y of g){let x=o.find(b=>b.name===y.name);x?(x.type=UN(x.type,y.type),y.astNodes.forEach(b=>x.astNodes.add(b))):o.push(Object.assign({},y))}p.ruleCalls.forEach(y=>s.add(y))}for(let f of i){let p=f.alt;if(p.ruleCalls.length===0)for(let g of o)p.properties.find(y=>y.name===g.name)||(g.optional=!0)}u.alt.ruleCalls=Array.from(s),r.push(u)}return r}function Die(e){let t=new Map(e.map(i=>[i.name,i])),r=[],n=new no;for(let i of e)for(let o of i.superTypes)n.add(o,i.name);for(let[i,o]of n.entriesGroupedByKey())if(!t.has(i)){let s={declared:!1,name:i,subTypes:new Set,superTypes:new Set,type:kh(!1,!1,o)};r.push(s)}return r}function Lie(e,t,r){let n=new no;for(let u of e)for(let f of u.superTypes)n.add(f,u.name);let i=new Set(r.interfaces.map(u=>u.name)),o={interfaces:[],unions:t},s=new Map(t.map(u=>[u.name,u]));for(let u of e){let f=new Set(n.get(u.name));if(u.properties.length===0&&f.size>0)if(i.has(u.name))u.abstract=!0,o.interfaces.push(u);else{let p=kh(!1,!1,Array.from(f)),g=s.get(u.name);if(g)g.type=UN(g.type,p);else{let y={name:u.name,declared:!1,subTypes:f,superTypes:u.superTypes,type:p};o.unions.push(y),s.set(u.name,y)}}else o.interfaces.push(u)}for(let u of o.interfaces)u.superTypes=new Set([...u.superTypes].filter(f=>!s.has(f)));return o}function kh(e,t,r){if(e)return{elementType:kh(!1,t,r)};if(t)return{referenceType:kh(!1,!1,r)};if(r.length===1){let n=r[0];return n.startsWith("'")?{string:n.substring(1,n.length-1)}:fE(n)?{primitive:n}:{value:n}}else return{types:r.map(n=>kh(!1,!1,[n]))}}function Iie(e,t){let r=QN(e,t),n=oie(r.interfaces,r.types),i=_ie(r.parserRules,r.datatypeRules,n);return{astResources:r,inferred:i,declared:n}}function QN(e,t,r=new Set,n={parserRules:[],datatypeRules:[],interfaces:[],types:[]}){Array.isArray(e)||(e=[e]);for(let i of e){let o=Gn(i);if(!r.has(o.uri)){r.add(o.uri);for(let s of i.rules)Ir(s)&&!s.fragment&&(Gl(s)?n.datatypeRules.push(s):n.parserRules.push(s));if(i.interfaces.forEach(s=>n.interfaces.push(s)),i.types.forEach(s=>n.types.push(s)),t){let s=i.imports.map(u=>sp(t,u)).filter(u=>u!==void 0);QN(s,t,r,n)}}}return n}function Nie(e,t){let{inferred:r,declared:n,astResources:i}=Iie(e,t);return{astResources:i,inferred:OI(n,r),declared:OI(r,n)}}function OI(e,t){var r,n;let i={interfaces:Yne(MI(...e.interfaces,...(r=t?.interfaces)!==null&&r!==void 0?r:[])),unions:MI(...e.unions,...(n=t?.unions)!==null&&n!==void 0?n:[])},o=cie(i);return Pie(o),o}function MI(...e){return Array.from(e.reduce((t,r)=>(t.set(r.name,r),t),new Map).values()).sort((t,r)=>t.name.localeCompare(r.name))}function Pie(e){let t=Mie(e),r=Array.from(t.values());Fie(r),Bie(e.interfaces),Oie(r)}function Oie(e){let t=new Set,r=_(n=>{if(!t.has(n)){t.add(n),n.typeNames.add(n.name);for(let i of n.subTypes)r(i),i.typeNames.forEach(o=>n.typeNames.add(o))}},"collect");e.forEach(r)}function Mie({interfaces:e,unions:t}){let r=e.concat(t).reduce((i,o)=>(i.set(o.name,o),i),new Map),n=new Map;for(let i of t)n.set(i,qw(i.type,new Set));for(let[i,o]of n)o&&r.delete(i.name);return r}function qw(e,t){if(t.has(e))return!0;if(t.add(e),Ya(e))return e.types.every(r=>qw(r,t));if(Hl(e)){let r=e.value;return Fc(r)?qw(r.type,t):!1}else return nl(e)||Uc(e)}function Fie(e){for(let t of e)for(let r of t.superTypes)r.subTypes.add(t)}function Bie(e){var t;let r=e.reduce((s,u)=>(s.set(u.name,u),s),new Map);for(let s of e){let u=s.properties.flatMap(f=>Xne(f.type));for(let f of u)(t=r.get(f))===null||t===void 0||t.containerTypes.add(s)}let n=new Set,i=e.filter(s=>s.subTypes.size===0),o=new Set(i);for(;i.length>0;){let s=i.shift();if(s)for(let u of s.superTypes)Bc(u)&&(s.containerTypes.size===0?(n.add(u.name),u.containerTypes.clear()):n.has(u.name)||s.containerTypes.forEach(f=>u.containerTypes.add(f)),o.has(u)||(o.add(u),i.push(u)))}}function Gie(e){if(tl.Range.is(e.range))return e.range;let t;return typeof e.property=="string"?t=Gc(e.node.$cstNode,e.property,e.index):typeof e.keyword=="string"&&(t=qu(e.node.$cstNode,e.keyword,e.index)),t??(t=e.node.$cstNode),t?t.range:{start:{line:0,character:0},end:{line:0,character:0}}}function Vie(e){switch(e){case"error":return tl.DiagnosticSeverity.Error;case"warning":return tl.DiagnosticSeverity.Warning;case"info":return tl.DiagnosticSeverity.Information;case"hint":return tl.DiagnosticSeverity.Hint;default:throw new Error("Invalid diagnostic severity: "+e)}}function Wie(e,t){let r=bi.dirname(e),n=bi.relative(r,t);return!n.startsWith("./")&&!n.startsWith("../")&&(n="./"+n),n.endsWith(".langium")&&(n=n.substring(0,n.length-8)),n}function FI(e,t){let r={stacks:e,tokens:t};return Hie(r),r.stacks.flat().forEach(i=>{i.property=void 0}),JN(r.stacks).map(i=>i[i.length-1])}function hE(e){let{next:t,cardinalities:r,visited:n,plus:i}=e,o=[],s=t.feature;if(n.has(s))return[];n.add(s);let u,f=s;for(;f.$container;)if(Xo(f.$container)){u=f.$container;break}else if(tE(f.$container))f=f.$container;else break;if(die(f.cardinality)){let p=np({next:{feature:f,type:t.type,new:!1},cardinalities:r,visited:n,plus:i});for(let g of p)i.add(g.feature);o.push(...p)}if(u){let p=u.elements.indexOf(f);p!==void 0&&p<u.elements.length-1&&o.push(...ZN({feature:u,type:t.type,new:!1},p+1,r,n,i)),o.every(g=>$c(g.feature.cardinality,g.feature)||$c(r.get(g.feature))||i.has(g.feature))&&o.push(...hE({next:{feature:u,type:t.type,new:!1},cardinalities:r,visited:n,plus:i}))}return o}function h1(e){return ao(e)&&(e={feature:e}),np({next:e,cardinalities:new Map,visited:new Set,plus:new Set})}function np(e){var t,r,n;let{next:i,cardinalities:o,visited:s,plus:u}=e;if(i===void 0)return[];let{feature:f,type:p}=i;if(Xo(f)){if(s.has(f))return[];s.add(f)}if(Xo(f))return ZN(i,0,o,s,u).map(g=>n1(g,f.cardinality,o));if(Hu(f)||ju(f))return f.elements.flatMap(g=>np({next:{feature:g,new:!1,type:p},cardinalities:o,visited:s,plus:u})).map(g=>n1(g,f.cardinality,o));if(Qi(f)){let g={feature:f.terminal,new:!1,type:p,property:(t=i.property)!==null&&t!==void 0?t:f.feature};return np({next:g,cardinalities:o,visited:s,plus:u}).map(y=>n1(y,f.cardinality,o))}else{if(fa(f))return hE({next:{feature:f,new:!0,type:Lh(f),property:(r=i.property)!==null&&r!==void 0?r:f.feature},cardinalities:o,visited:s,plus:u});if(ha(f)&&Ir(f.rule.ref)){let g=f.rule.ref,y={feature:g.definition,new:!0,type:g.fragment?void 0:(n=j1(g))!==null&&n!==void 0?n:g.name,property:i.property};return np({next:y,cardinalities:o,visited:s,plus:u}).map(x=>n1(x,f.cardinality,o))}else return[i]}}function n1(e,t,r){return r.set(e.feature,t),e}function ZN(e,t,r,n,i){var o;let s=[],u;for(;t<e.feature.elements.length&&(u={feature:e.feature.elements[t++],new:!1,type:e.type},s.push(...np({next:u,cardinalities:r,visited:n,plus:i})),!!$c((o=u.feature.cardinality)!==null&&o!==void 0?o:r.get(u.feature),u.feature)););return s}function Hie(e){for(let t of e.tokens){let r=JN(e.stacks,t);e.stacks=r}}function JN(e,t){let r=[];for(let n of e)r.push(...jie(n,t));return r}function jie(e,t){let r=new Map,n=new Set(e.map(o=>o.feature).filter(Yie)),i=[];for(;e.length>0;){let o=e.pop(),s=hE({next:o,cardinalities:r,plus:n,visited:new Set}).filter(u=>t?dE(u.feature,t):!0);for(let u of s)i.push([...e,u]);if(!s.every(u=>$c(u.feature.cardinality,u.feature)||$c(r.get(u.feature))))break}return i}function Yie(e){if(e.cardinality==="+")return!0;let t=Ki(e,Qi);return!!(t&&t.cardinality==="+")}function dE(e,t){if(Co(e))return e.value===t.image;if(ha(e))return Xie(e.rule.ref,t);if(zc(e)){let r=rP(e);if(r)return dE(r,t)}return!1}function Xie(e,t){return Ir(e)?h1(e.definition).some(n=>dE(n.feature,t)):zi(e)?dp(e).test(t.image):!1}function Kie(e){let t=Array.from(new Set(e.flatMap(n=>{var i;return(i=n?.triggerCharacters)!==null&&i!==void 0?i:[]}))),r=Array.from(new Set(e.flatMap(n=>{var i;return(i=n?.allCommitCharacters)!==null&&i!==void 0?i:[]})));return{triggerCharacters:t.length>0?t:void 0,allCommitCharacters:r.length>0?r:void 0}}function nae(e){let t=[],r=[];e.forEach(i=>{i?.triggerCharacters&&t.push(...i.triggerCharacters),i?.retriggerCharacters&&r.push(...i.retriggerCharacters)});let n={triggerCharacters:t.length>0?Array.from(new Set(t)).sort():void 0,retriggerCharacters:r.length>0?Array.from(new Set(r)).sort():void 0};return n.triggerCharacters?n:void 0}function iae({parserRules:e,datatypeRules:t}){let r=new no;Xn(e).concat(t).forEach(i=>r.add(Y1(i),i));function n(i){if(fa(i)){let o=R1(i);o&&r.add(o,i)}(Hu(i)||Xo(i)||ju(i))&&i.elements.forEach(o=>n(o))}return a(n,"collectActions"),_(n,"collectActions"),e.forEach(i=>n(i.definition)),r}function aae(e){return e&&"declared"in e}function oae(e){return e&&"inferred"in e}function sae(e){return e&&"inferred"in e&&"declared"in e}function lae(e){let t=e.validation.ValidationRegistry,r=e.validation.LangiumGrammarTypesValidator,n={Action:[r.checkActionIsNotUnionType],Grammar:[r.checkDeclaredTypesConsistency,r.checkDeclaredAndInferredTypesConsistency],Interface:[r.checkCyclicInterface],Type:[r.checkCyclicType]};t.register(n,r)}function Mu(e,t){var r;if(t.has(e))return!0;if(t.add(e),Zo(e))return Mu(e.type,t);if(Kl(e))return e.superTypes.some(n=>n.ref&&Mu(n.ref,t));if(Vc(e)){if(!((r=e.typeRef)===null||r===void 0)&&r.ref)return Mu(e.typeRef.ref,t)}else{if(V1(e))return Mu(e.referenceType,t);if(G1(e))return Mu(e.elementType,t);if(Dh(e))return e.types.some(n=>Mu(n,t))}return!1}function cae(e,t){e.properties.forEach(r=>{var n;let i=NN(r.type);if(i.length>1){let o=_(u=>_h(u)?"ref":"other","typeKind"),s=o(i[0]);if(i.slice(1).some(u=>o(u)!==s)){let u=(n=r.astNodes.values().next())===null||n===void 0?void 0:n.value;u&&t("error",`Mixing a cross-reference with other types is not supported. Consider splitting property "${r.name}" into two or more different properties.`,{node:u})}}})}function uae({declared:e,declaredNode:t},r){Array.from(e.superTypes).forEach((n,i)=>{n&&(Fc(n)&&r("error","Interfaces cannot extend union types.",{node:t,property:"superTypes",index:i}),n.declared||r("error","Extending an inferred type is discouraged.",{node:t,property:"superTypes",index:i}))})}function fae({declared:e,declaredNode:t},r){let n=e.properties.reduce((s,u)=>s.add(u.name,u),new no);for(let[s,u]of n.entriesGroupedByKey())if(u.length>1)for(let f of u)r("error",`Cannot have two properties with the same name '${s}'.`,{node:Array.from(f.astNodes)[0],property:"name"});let i=Array.from(e.superTypes);for(let s=0;s<i.length;s++)for(let u=s+1;u<i.length;u++){let f=i[s],p=i[u],g=Bc(f)?f.superProperties:[],y=Bc(p)?p.superProperties:[],x=hae(g,y);x.length>0&&r("error",`Cannot simultaneously inherit from '${f}' and '${p}'. Their ${x.map(b=>"'"+b+"'").join(", ")} properties are not identical.`,{node:t,property:"name"})}let o=new Set;for(let s of i){let u=Bc(s)?s.superProperties:[];for(let f of u)o.add(f.name)}for(let s of e.properties)if(o.has(s.name)){let u=t.attributes.find(f=>f.name===s.name);u&&r("error",`Cannot redeclare property '${s.name}'. It is already inherited from another interface.`,{node:u,property:"name"})}}function hae(e,t){let r=[];for(let n of e){let i=t.find(o=>o.name===n.name);i&&!dae(n,i)&&r.push(n.name)}return r}function dae(e,t){return k1(e.type,t.type)&&k1(t.type,e.type)}function pae(e,t,r){let{inferred:n,declared:i,declaredNode:o,inferredNodes:s}=e,u=i.name,f=_(y=>x=>s.forEach(b=>r("error",`${x}${y?` ${y}`:""}.`,b?.inferredType?{node:b?.inferredType,property:"name"}:{node:b,property:fa(b)?"type":"name"})),"applyErrorToRulesAndActions"),p=_((y,x)=>y.forEach(b=>r("error",x,{node:b,property:Qi(b)||fa(b)?"feature":"name"})),"applyErrorToProperties"),g=_(y=>{s.forEach(x=>{Ir(x)&&D1(x.definition).find(E=>E.feature===y)===void 0&&r("error",`Property '${y}' is missing in a rule '${x.name}', but is required in type '${u}'.`,{node:x,property:"parameters"})})},"applyMissingPropErrorToRules");if(Fc(n)&&Fc(i))mae(n.type,i.type,f(`in a rule that returns type '${u}'`));else if(Bc(n)&&Bc(i))gae(n,i,t,f(`in a rule that returns type '${u}'`),p,g);else{let y=`Inferred and declared versions of type '${u}' both have to be interfaces or unions.`;f()(y),r("error",y,{node:o,property:"name"})}}function mae(e,t,r){k1(e,t)||r(`Cannot assign type '${Yl(e,"DeclaredType")}' to '${Yl(t,"DeclaredType")}'`)}function BI(e){return e.optional||oE(e.type)}function gae(e,t,r,n,i,o){let s=new Set(e.properties.map(y=>y.name)),u=new Map(e.allProperties.map(y=>[y.name,y])),f=new Map(t.superProperties.map(y=>[y.name,y])),p=_(y=>{if(Ya(y))return{types:y.types.map(x=>p(x))};if(_h(y))return{referenceType:p(y.referenceType)};if(wh(y))return{elementType:p(y.elementType)};if(Hl(y)){let x=r.typeToValidationInfo.get(y.value.name);return x?{value:"declared"in x?x.declared:x.inferred}:y}return y},"matchingProp");for(let[y,x]of u.entries()){let b=f.get(y);if(b){let E=Yl(x.type,"DeclaredType"),A=Yl(b.type,"DeclaredType");if(!k1(p(x.type),b.type)&&A!=="unknown"){let N=`The assigned type '${E}' is not compatible with the declared property '${y}' of type '${A}'.`;i(x.astNodes,N)}x.optional&&!BI(b)&&o(y)}else s.has(y)&&i(x.astNodes,`A property '${y}' is not expected.`)}let g=new Set;for(let[y,x]of f.entries())!u.get(y)&&!BI(x)&&g.add(y);if(g.size>0){let y=g.size>1?"Properties":"A property",x=g.size>1?"are expected":"is expected",b=Array.from(g).map(E=>`'${E}'`).sort().join(", ");n(`${y} ${b} ${x}.`)}}function yae(e,t){let r=x1(h6(e),C9e,t),n=x1(f6({shared:r}),S9e,vqe);return vae(r,n),r.ServiceRegistry.register(n),hie(n),lae(n),{shared:r,grammar:n}}function vae(e,t){e.workspace.DocumentBuilder.onBuildPhase(qi.IndexedReferences,async(n,i)=>{for(let o of n){await Eo(i);let s=t.validation.ValidationResourcesCollector,u=o.parseResult.value;o.validationResources=s.collectValidationResources(u)}})}function zw(e){return e.rules.find(t=>Ir(t)&&t.entry)}function bae(e){return e.rules.filter(t=>zi(t)&&t.hidden)}function pE(e,t){let r=new Set,n=zw(e);if(!n)return new Set(e.rules);let i=[n].concat(bae(e));for(let s of i)tP(s,r,t);let o=new Set;for(let s of e.rules)(r.has(s.name)||zi(s)&&s.hidden)&&o.add(s);return o}function tP(e,t,r){t.add(e.name),oo(e).forEach(n=>{if(ha(n)||r&&_N(n)){let i=n.rule.ref;i&&!t.has(i.name)&&tP(i,t,r)}})}function rP(e){if(e.terminal)return e.terminal;if(e.type.ref){let t=yE(e.type.ref);return t?.terminal}}function Tae(e){return e.hidden&&!dp(e).test(" ")}function X1(e,t){return!e||!t?[]:mE(e,t,e.astNode,!0)}function Gc(e,t,r){if(!e||!t)return;let n=mE(e,t,e.astNode,!0);if(n.length!==0)return r!==void 0?r=Math.max(0,Math.min(r,n.length-1)):r=0,n[r]}function mE(e,t,r,n){if(!n){let i=Ki(e.grammarSource,Qi);if(i&&i.feature===t)return[e]}return hp(e)&&e.astNode===r?e.content.flatMap(i=>mE(i,t,r,!1)):[]}function nP(e,t){return e?iP(e,t,e?.astNode):[]}function qu(e,t,r){if(!e)return;let n=iP(e,t,e?.astNode);if(n.length!==0)return r!==void 0?r=Math.max(0,Math.min(r,n.length-1)):r=0,n[r]}function iP(e,t,r){if(e.astNode!==r)return[];if(Co(e.grammarSource)&&e.grammarSource.value===t)return[e];let n=gN(e).iterator(),i,o=[];do if(i=n.next(),!i.done){let s=i.value;s.astNode===r?Co(s.grammarSource)&&s.grammarSource.value===t&&o.push(s):n.prune()}while(!i.done);return o}function gE(e){var t;let r=e.astNode;for(;r===((t=e.container)===null||t===void 0?void 0:t.astNode);){let n=Ki(e.grammarSource,Qi);if(n)return n;e=e.container}}function yE(e){return rE(e)&&(e=e.$container),aP(e,new Map)}function aP(e,t){var r;function n(i,o){let s;return Ki(i,Qi)||(s=aP(o,t)),t.set(e,s),s}if(a(n,"go"),_(n,"go"),t.has(e))return t.get(e);t.set(e,void 0);for(let i of oo(e)){if(Qi(i)&&i.feature.toLowerCase()==="name")return t.set(e,i),i;if(ha(i)&&Ir(i.rule.ref))return n(i,i.rule.ref);if(Vc(i)&&(!((r=i.typeRef)===null||r===void 0)&&r.ref))return n(i,i.typeRef.ref)}}function oP(e){var t;let r=yae(xae).grammar,n=r.serializer.JsonSerializer.deserialize(e);return r.shared.workspace.LangiumDocumentFactory.fromModel(n,Fg.parse(`memory://${(t=n.name)!==null&&t!==void 0?t:"grammar"}.langium`)),n}function kae(e){let t=[],r=e.Grammar;for(let n of r.rules)zi(n)&&Tae(n)&&Zne(dp(n))&&t.push(n.name);return{multilineCommentRules:t,nameRegexp:Nre}}function Eae(e){var t=wqe.call(e,Jv),r=e[Jv];try{e[Jv]=void 0;var n=!0}catch{}var i=Eqe.call(e);return n&&(t?e[Jv]=r:delete e[Jv]),i}function Cae(e){return Aqe.call(e)}function Sae(e){return e==null?e===void 0?Lqe:Dqe:fte&&fte in Object(e)?Cqe(e):Rqe(e)}function Aae(e){return e!=null&&typeof e=="object"}function Rae(e){return typeof e=="symbol"||Zl(e)&&Ih(e)==Iqe}function Dae(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function sP(e){if(typeof e=="string")return e;if(yn(e))return Q1(e,sP)+"";if(K1(e))return dte?dte.call(e):"";var t=e+"";return t=="0"&&1/e==-Pqe?"-0":t}function Lae(e){for(var t=e.length;t--&&Mqe.test(e.charAt(t)););return t}function Iae(e){return e&&e.slice(0,Fqe(e)+1).replace(Bqe,"")}function Nae(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Pae(e){if(typeof e=="number")return e;if(K1(e))return pte;if(ol(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ol(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=qqe(e);var r=Uqe.test(e);return r||$qe.test(e)?Gqe(e.slice(2),r?2:8):zqe.test(e)?pte:+e}function Oae(e){if(!e)return e===0?e:0;if(e=Vqe(e),e===mte||e===-mte){var t=e<0?-1:1;return t*Wqe}return e===e?e:0}function Mae(e){var t=Hqe(e),r=t%1;return t===t?r?t-r:t:0}function Fae(e){return e}function Bae(e){if(!ol(e))return!1;var t=Ih(e);return t==Yqe||t==Xqe||t==jqe||t==Kqe}function qae(e){return!!gte&&gte in e}function zae(e){if(e!=null){try{return eze.call(e)}catch{}try{return e+""}catch{}}return""}function Uae(e){if(!ol(e)||Zqe(e))return!1;var t=Yu(e)?sze:rze;return t.test(mp(e))}function $ae(e,t){return e?.[t]}function Gae(e,t){var r=cze(e,t);return lze(r)?r:void 0}function Vae(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function Wae(){}function Hae(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}function jae(e){var t=0,r=0;return function(){var n=yze(),i=gze-(n-r);if(r=n,i>0){if(++t>=mze)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Yae(e){return function(){return e}}function Xae(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}function Qae(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Jae(e){return e!==e}function eoe(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}function toe(e,t,r){return t===t?Cze(e,t,r):Zae(e,Eze,r)}function roe(e,t){var r=e==null?0:e.length;return!!r&&lP(e,t,0)>-1}function ioe(e,t){var r=typeof e;return t=t??Sze,!!t&&(r=="number"||r!="symbol"&&Aze.test(e))&&e>-1&&e%1==0&&e<t}function aoe(e,t,r){t=="__proto__"&&Uw?Uw(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function ooe(e,t){return e===t||e!==e&&t!==t}function soe(e,t,r){var n=e[t];(!(Dze.call(e,t)&&J1(n,r))||r===void 0&&!(t in e))&&cP(e,t,r)}function loe(e,t,r,n){var i=!r;r||(r={});for(var o=-1,s=t.length;++o<s;){var u=t[o],f=n?n(r[u],e[u],u,r,e):void 0;f===void 0&&(f=e[u]),i?cP(r,u,f):xE(r,u,f)}return r}function coe(e,t,r){return t=vte(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=vte(n.length-t,0),s=Array(o);++i<o;)s[i]=n[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=n[i];return u[t]=r(s),dze(e,this,u)}}function uoe(e,t){return wze(Lze(e,t,lp),e+"")}function foe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ize}function hoe(e){return e!=null&&fP(e.length)&&!Yu(e)}function doe(e,t,r){if(!ol(r))return!1;var n=typeof t;return(n=="number"?Hc(r)&&vE(t,r.length):n=="string"&&t in r)?J1(r[t],e):!1}function poe(e){return uP(function(t,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,s&&bE(r[0],r[1],s)&&(o=i<3?void 0:o,i=1),t=Object(t);++n<i;){var u=r[n];u&&e(t,u,n,o)}return t})}function moe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Pze;return e===r}function goe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function yoe(e){return Zl(e)&&Ih(e)==Mze}function xoe(){return!1}function Toe(e){return Zl(e)&&fP(e.length)&&!!fi[Ih(e)]}function koe(e){return function(t){return e(t)}}function woe(e,t){var r=yn(e),n=!r&&TE(e),i=!r&&!n&&L1(e),o=!r&&!n&&!i&&hP(e),s=r||n||i||o,u=s?Oze(e.length,String):[],f=u.length;for(var p in e)(t||xUe.call(e,p))&&!(s&&(p=="length"||i&&(p=="offset"||p=="parent")||o&&(p=="buffer"||p=="byteLength"||p=="byteOffset")||vE(p,f)))&&u.push(p);return u}function Coe(e,t){return function(r){return e(t(r))}}function Aoe(e){if(!tx(e))return TUe(e);var t=[];for(var r in Object(e))_Ue.call(e,r)&&r!="constructor"&&t.push(r);return t}function Doe(e){return Hc(e)?Eoe(e):Roe(e)}function Loe(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}function Ioe(e){if(!ol(e))return SUe(e);var t=tx(e),r=[];for(var n in e)n=="constructor"&&(t||!RUe.call(e,n))||r.push(n);return r}function Noe(e){return Hc(e)?Eoe(e,!0):DUe(e)}function Poe(e,t){if(yn(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||K1(e)?!0:IUe.test(e)||!LUe.test(e)||t!=null&&e in Object(t)}function Ooe(){this.__data__=I1?I1(null):{},this.size=0}function Moe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Foe(e){var t=this.__data__;if(I1){var r=t[e];return r===MUe?void 0:r}return BUe.call(t,e)?t[e]:void 0}function Boe(e){var t=this.__data__;return I1?t[e]!==void 0:UUe.call(t,e)}function qoe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=I1&&t===void 0?GUe:t,this}function yp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function zoe(){this.__data__=[],this.size=0}function Uoe(e,t){for(var r=e.length;r--;)if(J1(e[r][0],t))return r;return-1}function $oe(e){var t=this.__data__,r=_E(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():jUe.call(t,r,1),--this.size,!0}function Goe(e){var t=this.__data__,r=_E(t,e);return r<0?void 0:t[r][1]}function Voe(e){return _E(this.__data__,e)>-1}function Woe(e,t){var r=this.__data__,n=_E(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function vp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Hoe(){this.size=0,this.__data__={hash:new _te,map:new(N1||wE),string:new _te}}function joe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Yoe(e,t){var r=e.__data__;return e$e(t)?r[typeof t=="string"?"string":"hash"]:r.map}function Xoe(e){var t=EE(this,e).delete(e);return this.size-=t?1:0,t}function Koe(e){return EE(this,e).get(e)}function Qoe(e){return EE(this,e).has(e)}function Zoe(e,t){var r=EE(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function xp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function SE(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(a$e);var r=_(function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return r.cache=o.set(i,s)||o,s},"memoized");return r.cache=new(SE.Cache||CE),r}function Joe(e){var t=o$e(e,function(n){return r.size===s$e&&r.clear(),n}),r=t.cache;return t}function ese(e){return e==null?"":Oqe(e)}function tse(e,t){return yn(e)?e:dP(e,t)?[e]:h$e(d$e(e))}function rse(e){if(typeof e=="string"||K1(e))return e;var t=e+"";return t=="0"&&1/e==-p$e?"-0":t}function nse(e,t){t=AE(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[nx(t[r++])];return r&&r==n?e:void 0}function ise(e,t,r){var n=e==null?void 0:pP(e,t);return n===void 0?r:n}function ase(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function ose(e){return yn(e)||TE(e)||!!(wte&&e&&e[wte])}function gP(e,t,r,n,i){var o=-1,s=e.length;for(r||(r=g$e),i||(i=[]);++o<s;){var u=e[o];t>0&&r(u)?t>1?gP(u,t-1,r,n,i):mP(i,u):n||(i[i.length]=u)}return i}function sse(e){var t=e==null?0:e.length;return t?yP(e,1):[]}function cse(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}function fse(e,t,r,n){var i=-1,o=e==null?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function hse(){this.__data__=new wE,this.size=0}function dse(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function pse(e){return this.__data__.get(e)}function mse(e){return this.__data__.has(e)}function gse(e,t){var r=this.__data__;if(r instanceof wE){var n=r.__data__;if(!N1||n.length<_$e-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new CE(n)}return r.set(e,t),this.size=r.size,this}function bp(e){var t=this.__data__=new wE(e);this.size=t.size}function yse(e,t){return e&&ex(t,ks(t),e)}function vse(e,t){return e&&ex(t,kE(t),e)}function bse(e,t){if(t)return e.slice();var r=e.length,n=Ste?Ste(r):new e.constructor(r);return e.copy(n),n}function Tse(e,t){for(var r=-1,n=e==null?0:e.length,i=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[i++]=s)}return o}function kse(){return[]}function wse(e,t){return ex(e,xP(e),t)}function Cse(e,t){return ex(e,Ese(e),t)}function Sse(e,t,r){var n=t(e);return yn(e)?n:mP(n,r(e))}function Rse(e){return Ase(e,ks,xP)}function Dse(e){return Ase(e,kE,Ese)}function Ise(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&H$e.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function Nse(e){var t=new e.constructor(e.byteLength);return new $w(t).set(new $w(e)),t}function Pse(e,t){var r=t?bP(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function Ose(e){var t=new e.constructor(e.source,K$e.exec(e));return t.lastIndex=e.lastIndex,t}function Mse(e){return Ote?Object(Ote.call(e)):{}}function Fse(e,t){var r=t?bP(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Bse(e,t,r){var n=e.constructor;switch(t){case lGe:return bP(e);case eGe:case tGe:return new n(+e);case cGe:return X$e(e,r);case uGe:case fGe:case hGe:case dGe:case pGe:case mGe:case gGe:case yGe:case vGe:return J$e(e,r);case rGe:return new n;case nGe:case oGe:return new n(e);case iGe:return Q$e(e);case aGe:return new n;case sGe:return Z$e(e)}}function qse(e){return typeof e.constructor=="function"&&!tx(e)?hze(lse(e)):{}}function zse(e){return Zl(e)&&zg(e)==TGe}function Use(e){return Zl(e)&&zg(e)==EGe}function m1(e,t,r,n,i,o){var s,u=t&RGe,f=t&DGe,p=t&LGe;if(r&&(s=i?r(e,n,i,o):r(e)),s!==void 0)return s;if(!ol(e))return e;var g=yn(e);if(g){if(s=j$e(e),!u)return pze(e,s)}else{var y=zg(e),x=y==Gse||y==MGe;if(L1(e))return A$e(e,u);if(y==Vse||y==$se||x&&!i){if(s=f||x?{}:bGe(e),!u)return f?O$e(e,C$e(s,e)):I$e(e,E$e(s,e))}else{if(!ti[y])return i?e:{};s=xGe(e,y,u)}}o||(o=new p1);var b=o.get(e);if(b)return b;o.set(e,s),AGe(e)?e.forEach(function(O){s.add(m1(O,t,r,O,e,o))}):wGe(e)&&e.forEach(function(O,N){s.set(N,m1(O,t,r,N,e,o))});var E=p?f?Lse:zI:f?kE:ks,A=g?void 0:E(e);return Kae(A||e,function(O,N){A&&(N=O,O=e[N]),xE(s,N,m1(O,t,r,N,e,o))}),s}function Wse(e){return tVe(e,rVe)}function Hse(e){for(var t=-1,r=e==null?0:e.length,n=0,i=[];++t<r;){var o=e[t];o&&(i[n++]=o)}return i}function jse(e){return this.__data__.set(e,nVe),this}function Yse(e){return this.__data__.has(e)}function P1(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new CE;++t<r;)this.add(e[t])}function Xse(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function Qse(e,t){return e.has(t)}function Zse(e,t,r,n,i,o){var s=r&oVe,u=e.length,f=t.length;if(u!=f&&!(s&&f>u))return!1;var p=o.get(e),g=o.get(t);if(p&&g)return p==t&&g==e;var y=-1,x=!0,b=r&sVe?new TP:void 0;for(o.set(e,t),o.set(t,e);++y<u;){var E=e[y],A=t[y];if(n)var O=s?n(A,E,y,t,e,o):n(E,A,y,e,t,o);if(O!==void 0){if(O)continue;x=!1;break}if(b){if(!Kse(t,function(N,I){if(!kP(b,I)&&(E===N||i(E,N,r,n,o)))return b.push(I)})){x=!1;break}}else if(!(E===A||i(E,A,r,n,o))){x=!1;break}}return o.delete(e),o.delete(t),x}function ele(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}function tle(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}function rle(e,t,r,n,i,o,s){switch(r){case TVe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case bVe:return!(e.byteLength!=t.byteLength||!o(new $w(e),new $w(t)));case fVe:case hVe:case mVe:return J1(+e,+t);case dVe:return e.name==t.name&&e.message==t.message;case gVe:case vVe:return e==t+"";case pVe:var u=lVe;case yVe:var f=n&cVe;if(u||(u=_P),e.size!=t.size&&!f)return!1;var p=s.get(e);if(p)return p==t;n|=uVe,s.set(e,t);var g=Jse(u(e),u(t),n,i,o,s);return s.delete(e),g;case xVe:if(cI)return cI.call(e)==cI.call(t)}return!1}function nle(e,t,r,n,i,o){var s=r&_Ve,u=zI(e),f=u.length,p=zI(t),g=p.length;if(f!=g&&!s)return!1;for(var y=f;y--;){var x=u[y];if(!(s?x in t:EVe.call(t,x)))return!1}var b=o.get(e),E=o.get(t);if(b&&E)return b==t&&E==e;var A=!0;o.set(e,t),o.set(t,e);for(var O=s;++y<f;){x=u[y];var N=e[x],I=t[x];if(n)var $=s?n(I,N,x,t,e,o):n(N,I,x,e,t,o);if(!($===void 0?N===I||i(N,I,r,n,o):$)){A=!1;break}O||(O=x=="constructor")}if(A&&!O){var X=e.constructor,q=t.constructor;X!=q&&"constructor"in e&&"constructor"in t&&!(typeof X=="function"&&X instanceof X&&typeof q=="function"&&q instanceof q)&&(A=!1)}return o.delete(e),o.delete(t),A}function ile(e,t,r,n,i,o){var s=yn(e),u=yn(t),f=s?zte:zg(e),p=u?zte:zg(t);f=f==qte?H_:f,p=p==qte?H_:p;var g=f==H_,y=p==H_,x=f==p;if(x&&L1(e)){if(!L1(t))return!1;s=!0,g=!1}if(x&&!g)return o||(o=new p1),s||hP(e)?Jse(e,t,r,n,i,o):kVe(e,t,f,r,n,i,o);if(!(r&SVe)){var b=g&&Ute.call(e,"__wrapped__"),E=y&&Ute.call(t,"__wrapped__");if(b||E){var A=b?e.value():e,O=E?t.value():t;return o||(o=new p1),i(A,O,r,n,o)}}return x?(o||(o=new p1),CVe(e,t,r,n,i,o)):!1}function wP(e,t,r,n,i){return e===t?!0:e==null||t==null||!Zl(e)&&!Zl(t)?e!==e&&t!==t:RVe(e,t,r,n,wP,i)}function ole(e,t,r,n){var i=r.length,o=i,s=!n;if(e==null)return!o;for(e=Object(e);i--;){var u=r[i];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<o;){u=r[i];var f=u[0],p=e[f],g=u[1];if(s&&u[2]){if(p===void 0&&!(f in e))return!1}else{var y=new p1;if(n)var x=n(p,g,f,e,t,y);if(!(x===void 0?ale(g,p,DVe|LVe,n,y):x))return!1}}return!0}function sle(e){return e===e&&!ol(e)}function cle(e){for(var t=ks(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,lle(i)]}return t}function ule(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}function hle(e){var t=NVe(e);return t.length==1&&t[0][2]?fle(t[0][0],t[0][1]):function(r){return r===e||IVe(r,e,t)}}function dle(e,t){return e!=null&&t in Object(e)}function ple(e,t,r){t=AE(t,e);for(var n=-1,i=t.length,o=!1;++n<i;){var s=nx(t[n]);if(!(o=e!=null&&r(e,s)))break;e=e[s]}return o||++n!=i?o:(i=e==null?0:e.length,!!i&&fP(i)&&vE(s,i)&&(yn(e)||TE(e)))}function gle(e,t){return e!=null&&mle(e,t,OVe)}function yle(e,t){return dP(e)&&lle(t)?fle(nx(e),t):function(r){var n=m$e(r,e);return n===void 0&&n===t?MVe(r,e):ale(t,n,FVe|BVe)}}function vle(e){return function(t){return t?.[e]}}function xle(e){return function(t){return pP(t,e)}}function ble(e){return dP(e)?zVe(nx(e)):UVe(e)}function Tle(e){return typeof e=="function"?e:e==null?lp:typeof e=="object"?yn(e)?qVe(e[0],e[1]):PVe(e):$Ve(e)}function kle(e,t,r,n){for(var i=-1,o=e==null?0:e.length;++i<o;){var s=e[i];t(n,s,r(s),e)}return n}function _le(e){return function(t,r,n){for(var i=-1,o=Object(t),s=n(t),u=s.length;u--;){var f=s[e?u:++i];if(r(o[f],f,o)===!1)break}return t}}function wle(e,t){return e&&HVe(e,t,ks)}function Ele(e,t){return function(r,n){if(r==null)return r;if(!Hc(r))return e(r,n);for(var i=r.length,o=t?i:-1,s=Object(r);(t?o--:++o<i)&&n(s[o],o,s)!==!1;);return r}}function Cle(e,t,r,n){return Tp(e,function(i,o,s){t(n,i,r(i),s)}),n}function Sle(e,t){return function(r,n){var i=yn(r)?GVe:KVe,o=t?t():{};return i(r,e,ec(n,2),o)}}function Rle(e){return Zl(e)&&Hc(e)}function Dle(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function Ile(e,t,r,n){var i=-1,o=noe,s=!0,u=e.length,f=[],p=t.length;if(!u)return f;r&&(t=Q1(t,rx(r))),n?(o=Lle,s=!1):t.length>=eWe&&(o=kP,s=!1,t=new TP(t));e:for(;++i<u;){var g=e[i],y=r==null?g:r(g);if(g=n||g!==0?g:0,s&&y===y){for(var x=p;x--;)if(t[x]===y)continue e;f.push(g)}else o(t,y,n)||f.push(g)}return f}function Nle(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}function Ple(e,t,r){var n=e==null?0:e.length;return n?(t=r||t===void 0?1:Z1(t),use(e,t<0?0:t,n)):[]}function Ole(e,t,r){var n=e==null?0:e.length;return n?(t=r||t===void 0?1:Z1(t),t=n-t,use(e,0,t<0?0:t)):[]}function Mle(e){return typeof e=="function"?e:lp}function Fle(e,t){var r=yn(e)?Kae:Tp;return r(e,nWe(t))}function Ble(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function qle(e,t){var r=!0;return Tp(e,function(n,i,o){return r=!!t(n,i,o),r}),r}function zle(e,t,r){var n=yn(e)?iWe:aWe;return r&&bE(e,t,r)&&(t=void 0),n(e,ec(t,3))}function Ule(e,t){var r=[];return Tp(e,function(n,i,o){t(n,i,o)&&r.push(n)}),r}function Gle(e,t){var r=yn(e)?vP:$le;return r(e,ec(t,3))}function Vle(e){return function(t,r,n){var i=Object(t);if(!Hc(t)){var o=ec(r,3);t=ks(t),r=_(function(u){return o(i[u],u,i)},"predicate")}var s=e(t,r,n);return s>-1?i[o?t[s]:s]:void 0}}function Wle(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:Z1(r);return i<0&&(i=sWe(n+i,0)),Zae(e,ec(t,3),i)}function Hle(e){return e&&e.length?e[0]:void 0}function jle(e,t){var r=-1,n=Hc(e)?Array(e.length):[];return Tp(e,function(i,o,s){n[++r]=t(i,o,s)}),n}function Yle(e,t){var r=yn(e)?Q1:uWe;return r(e,ec(t,3))}function Xle(e,t){return yP(sr(e,t),1)}function Kle(e,t){return e!=null&&gWe.call(e,t)}function Qle(e,t){return e!=null&&mle(e,t,yWe)}function Zle(e){return typeof e=="string"||!yn(e)&&Zl(e)&&Ih(e)==vWe}function Jle(e,t){return Q1(t,function(r){return e[r]})}function ece(e){return e==null?[]:xWe(e,ks(e))}function tce(e,t,r,n){e=Hc(e)?e:ca(e),r=r&&!n?Z1(r):0;var i=e.length;return r<0&&(r=bWe(i+r,0)),Ko(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&lP(e,t,r)>-1}function rce(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:Z1(r);return i<0&&(i=TWe(n+i,0)),lP(e,t,i)}function nce(e){if(e==null)return!0;if(Hc(e)&&(yn(e)||typeof e=="string"||typeof e.splice=="function"||L1(e)||hP(e)||TE(e)))return!e.length;var t=zg(e);if(t==kWe||t==_We)return!e.size;if(tx(e))return!Roe(e).length;for(var r in e)if(EWe.call(e,r))return!1;return!0}function ice(e){return Zl(e)&&Ih(e)==CWe}function ace(e){return e===void 0}function oce(e,t){return e<t}function sce(e,t,r){for(var n=-1,i=e.length;++n<i;){var o=e[n],s=t(o);if(s!=null&&(u===void 0?s===s&&!K1(s):r(s,u)))var u=s,f=o}return f}function lce(e){return e&&e.length?DWe(e,lp,RWe):void 0}function cce(e){if(typeof e!="function")throw new TypeError(IWe);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function uce(e,t,r,n){if(!ol(e))return e;t=AE(t,e);for(var i=-1,o=t.length,s=o-1,u=e;u!=null&&++i<o;){var f=nx(t[i]),p=r;if(f==="__proto__"||f==="constructor"||f==="prototype")return e;if(i!=s){var g=u[f];p=n?n(g,f,u):void 0,p===void 0&&(p=ol(g)?g:vE(t[i+1])?[]:{})}xE(u,f,p),u=u[f]}return e}function fce(e,t,r){for(var n=-1,i=t.length,o={};++n<i;){var s=t[n],u=pP(e,s);r(u,s)&&PWe(o,AE(s,e),u)}return o}function hce(e,t){if(e==null)return{};var r=Q1(Lse(e),function(n){return[n]});return t=ec(t),OWe(e,r,function(n,i){return t(n,i[0])})}function dce(e,t,r,n,i){return i(e,function(o,s,u){r=n?(n=!1,o):t(r,o,s,u)}),r}function pce(e,t,r){var n=yn(e)?v$e:MWe,i=arguments.length<3;return n(e,ec(t,4),r,i,Tp)}function mce(e,t){var r=yn(e)?vP:$le;return r(e,NWe(ec(t,3)))}function gce(e,t){var r;return Tp(e,function(n,i,o){return r=t(n,i,o),!r}),!!r}function yce(e,t,r){var n=yn(e)?Kse:FWe;return r&&bE(e,t,r)&&(t=void 0),n(e,ec(t,3))}function xce(e,t,r){var n=-1,i=noe,o=e.length,s=!0,u=[],f=u;if(r)s=!1,i=Lle;else if(o>=UWe){var p=t?null:zWe(e);if(p)return _P(p);s=!1,i=kP,f=new TP}else f=t?[]:u;e:for(;++n<o;){var g=e[n],y=t?t(g):g;if(g=r||g!==0?g:0,s&&y===y){for(var x=f.length;x--;)if(f[x]===y)continue e;t&&f.push(y),u.push(g)}else i(f,y,r)||(f!==u&&f.push(y),u.push(g))}return u}function Tce(e){return e&&e.length?bce(e):[]}function kce(e,t){return e&&e.length?bce(e,ec(t,2)):[]}function Gw(e){console&&console.error&&console.error(`Error: ${e}`)}function SP(e){console&&console.warn&&console.warn(`Warning: ${e}`)}function AP(e){let t=new Date().getTime(),r=e();return{time:new Date().getTime()-t,value:r}}function RP(e){function t(){}a(t,"FakeConstructor"),_(t,"FakeConstructor"),t.prototype=e;let r=new t;function n(){return typeof r.bar}return a(n,"fakeAccess"),_(n,"fakeAccess"),n(),n(),e;(0,eval)(e)}function _ce(e){return wce(e)?e.LABEL:e.name}function wce(e){return Ko(e.LABEL)&&e.LABEL!==""}function Ece(e){return sr(e,g1)}function g1(e){function t(r){return sr(r,g1)}if(a(t,"convertDefinition"),_(t,"convertDefinition"),e instanceof Ao){let r={type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};return Ko(e.label)&&(r.label=e.label),r}else{if(e instanceof Qo)return{type:"Alternative",definition:t(e.definition)};if(e instanceof ja)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof Es)return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)};if(e instanceof Cs)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:g1(new hi({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof Jo)return{type:"RepetitionWithSeparator",idx:e.idx,separator:g1(new hi({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof Di)return{type:"Repetition",idx:e.idx,definition:t(e.definition)};if(e instanceof es)return{type:"Alternation",idx:e.idx,definition:t(e.definition)};if(e instanceof hi){let r={type:"Terminal",name:e.terminalType.name,label:_ce(e.terminalType),idx:e.idx};Ko(e.label)&&(r.terminalLabel=e.label);let n=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(r.pattern=$u(n)?n.source:n),r}else{if(e instanceof Wg)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}}}function Cce(e){return e instanceof Qo||e instanceof ja||e instanceof Di||e instanceof Es||e instanceof Cs||e instanceof Jo||e instanceof hi||e instanceof Wg}function M1(e,t=[]){return e instanceof ja||e instanceof Di||e instanceof Jo?!0:e instanceof es?vce(e.definition,n=>M1(n,t)):e instanceof Ao&&Do(t,e)?!1:e instanceof jc?(e instanceof Ao&&t.push(e),Xl(e.definition,n=>M1(n,t))):!1}function Sce(e){return e instanceof es}function Vl(e){if(e instanceof Ao)return"SUBRULE";if(e instanceof ja)return"OPTION";if(e instanceof es)return"OR";if(e instanceof Es)return"AT_LEAST_ONE";if(e instanceof Cs)return"AT_LEAST_ONE_SEP";if(e instanceof Jo)return"MANY_SEP";if(e instanceof Di)return"MANY";if(e instanceof hi)return"CONSUME";throw Error("non exhaustive match")}function GI(e,t,r){return[new ja({definition:[new hi({terminalType:e.separator})].concat(e.definition)})].concat(t,r)}function jg(e){if(e instanceof Ao)return jg(e.referencedRule);if(e instanceof hi)return Dce(e);if(Cce(e))return Ace(e);if(Sce(e))return Rce(e);throw Error("non exhaustive match")}function Ace(e){let t=[],r=e.definition,n=0,i=r.length>n,o,s=!0;for(;i&&s;)o=r[n],s=M1(o),t=t.concat(jg(o)),n=n+1,i=r.length>n;return CP(t)}function Rce(e){let t=sr(e.definition,r=>jg(r));return CP(il(t))}function Dce(e){return[e.terminalType]}function Ice(e){let t={};return Sr(e,r=>{let n=new GWe(r).startWalking();_s(t,n)}),t}function Nce(e,t){return e.name+t+Lce}function ax(e){let t=e.toString();if(iw.hasOwnProperty(t))return iw[t];{let r=VWe.pattern(t);return iw[t]=r,r}}function Pce(){iw={}}function Mce(e,t=!1){try{let r=ax(e);return Ww(r.value,{},r.flags.ignoreCase)}catch(r){if(r.message===Oce)t&&SP(`${Vw}	Unable to optimize: < ${e.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let n="";t&&(n=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),Gw(`${Vw}
	Failed parsing: < ${e.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+n)}}return[]}function Ww(e,t,r){switch(e.type){case"Disjunction":for(let i=0;i<e.value.length;i++)Ww(e.value[i],t,r);break;case"Alternative":let n=e.value;for(let i=0;i<n.length;i++){let o=n[i];switch(o.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}let s=o;switch(s.type){case"Character":i1(s.value,t,r);break;case"Set":if(s.complement===!0)throw Error(Oce);Sr(s.value,f=>{if(typeof f=="number")i1(f,t,r);else{let p=f;if(r===!0)for(let g=p.from;g<=p.to;g++)i1(g,t,r);else{for(let g=p.from;g<=p.to&&g<o1;g++)i1(g,t,r);if(p.to>=o1){let g=p.from>=o1?p.from:o1,y=p.to,x=Vu(g),b=Vu(y);for(let E=x;E<=b;E++)t[E]=E}}}});break;case"Group":Ww(s.value,t,r);break;default:throw Error("Non Exhaustive Match")}let u=s.quantifier!==void 0&&s.quantifier.atLeast===0;if(s.type==="Group"&&Hw(s)===!1||s.type!=="Group"&&u===!1)break}break;default:throw Error("non exhaustive match!")}return ca(t)}function i1(e,t,r){let n=Vu(e);t[n]=n,r===!0&&Fce(e,t)}function Fce(e,t){let r=String.fromCharCode(e),n=r.toUpperCase();if(n!==r){let i=Vu(n.charCodeAt(0));t[i]=i}else{let i=r.toLowerCase();if(i!==r){let o=Vu(i.charCodeAt(0));t[o]=o}}}function VI(e,t){return $g(e.value,r=>{if(typeof r=="number")return Do(t,r);{let n=r;return $g(t,i=>n.from<=i&&i<=n.to)!==void 0}})}function Hw(e){let t=e.quantifier;return t&&t.atLeast===0?!0:e.value?yn(e.value)?Xl(e.value,Hw):Hw(e.value):!1}function IE(e,t){if(t instanceof RegExp){let r=ax(t),n=new WWe(e);return n.visit(r),n.found}else return $g(t,r=>Do(e,r.charCodeAt(0)))!==void 0}function qce(e,t){t=EP(t,{useSticky:Bce,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:(I,$)=>$()});let r=t.tracer;r("initCharCodeToOptimizedIndexMap",()=>{aue()});let n;r("Reject Lexer.NA",()=>{n=DE(e,I=>I[cp]===Yo.NA)});let i=!1,o;r("Transform Patterns",()=>{i=!1,o=sr(n,I=>{let $=I[cp];if($u($)){let X=$.source;return X.length===1&&X!=="^"&&X!=="$"&&X!=="."&&!$.ignoreCase?X:X.length===2&&X[0]==="\\"&&!Do(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],X[1])?X[1]:t.useSticky?HI($):WI($)}else{if(Yu($))return i=!0,{exec:$};if(typeof $=="object")return i=!0,$;if(typeof $=="string"){if($.length===1)return $;{let X=$.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),q=new RegExp(X);return t.useSticky?HI(q):WI(q)}}else throw Error("non exhaustive match")}})});let s,u,f,p,g;r("misc mapping",()=>{s=sr(n,I=>I.tokenTypeIdx),u=sr(n,I=>{let $=I.GROUP;if($!==Yo.SKIPPED){if(Ko($))return $;if(Gu($))return!1;throw Error("non exhaustive match")}}),f=sr(n,I=>{let $=I.LONGER_ALT;if($)return yn($)?sr($,q=>Gte(n,q)):[Gte(n,$)]}),p=sr(n,I=>I.PUSH_MODE),g=sr(n,I=>Rr(I,"POP_MODE"))});let y;r("Line Terminator Handling",()=>{let I=IP(t.lineTerminatorCharacters);y=sr(n,$=>!1),t.positionTracking!=="onlyOffset"&&(y=sr(n,$=>Rr($,"LINE_BREAKS")?!!$.LINE_BREAKS:LP($,I)===!1&&IE(I,$.PATTERN)))});let x,b,E,A;r("Misc Mapping #2",()=>{x=sr(n,DP),b=sr(o,nue),E=So(n,(I,$)=>{let X=$.GROUP;return Ko(X)&&X!==Yo.SKIPPED&&(I[X]=[]),I},{}),A=sr(o,(I,$)=>({pattern:o[$],longerAlt:f[$],canLineTerminator:y[$],isCustom:x[$],short:b[$],group:u[$],push:p[$],pop:g[$],tokenTypeIdx:s[$],tokenType:n[$]}))});let O=!0,N=[];return t.safeMode||r("First Char Optimization",()=>{N=So(n,(I,$,X)=>{if(typeof $.PATTERN=="string"){let q=$.PATTERN.charCodeAt(0),M=Vu(q);aw(I,M,A[X])}else if(yn($.START_CHARS_HINT)){let q;Sr($.START_CHARS_HINT,M=>{let B=typeof M=="string"?M.charCodeAt(0):M,G=Vu(B);q!==G&&(q=G,aw(I,G,A[X]))})}else if($u($.PATTERN))if($.PATTERN.unicode)O=!1,t.ensureOptimizations&&Gw(`${Vw}	Unable to analyze < ${$.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{let q=Mce($.PATTERN,t.ensureOptimizations);Kn(q)&&(O=!1),Sr(q,M=>{aw(I,M,A[X])})}else t.ensureOptimizations&&Gw(`${Vw}	TokenType: <${$.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),O=!1;return I},[])}),{emptyGroups:E,patternIdxToConfig:A,charCodeToPatternIdxToConfig:N,hasCustom:i,canBeOptimized:O}}function zce(e,t){let r=[],n=$ce(e);r=r.concat(n.errors);let i=Gce(n.valid),o=i.valid;return r=r.concat(i.errors),r=r.concat(Uce(o)),r=r.concat(Xce(o)),r=r.concat(Kce(o,t)),r=r.concat(Qce(o)),r}function Uce(e){let t=[],r=ws(e,n=>$u(n[cp]));return t=t.concat(Vce(r)),t=t.concat(Hce(r)),t=t.concat(jce(r)),t=t.concat(Yce(r)),t=t.concat(Wce(r)),t}function $ce(e){let t=ws(e,i=>!Rr(i,cp)),r=sr(t,i=>({message:"Token Type: ->"+i.name+"<- missing static 'PATTERN' property",type:Li.MISSING_PATTERN,tokenTypes:[i]})),n=RE(e,t);return{errors:r,valid:n}}function Gce(e){let t=ws(e,i=>{let o=i[cp];return!$u(o)&&!Yu(o)&&!Rr(o,"exec")&&!Ko(o)}),r=sr(t,i=>({message:"Token Type: ->"+i.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:Li.INVALID_PATTERN,tokenTypes:[i]})),n=RE(e,t);return{errors:r,valid:n}}function Vce(e){class t extends cE{static{a(this,"EndAnchorFinder")}static{_(this,"EndAnchorFinder")}constructor(){super(...arguments),this.found=!1}visitEndAnchor(o){this.found=!0}}let r=ws(e,i=>{let o=i.PATTERN;try{let s=ax(o),u=new t;return u.visit(s),u.found}catch{return HWe.test(o.source)}});return sr(r,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Li.EOI_ANCHOR_FOUND,tokenTypes:[i]}))}function Wce(e){let t=ws(e,n=>n.PATTERN.test(""));return sr(t,n=>({message:"Token Type: ->"+n.name+"<- static 'PATTERN' must not match an empty string",type:Li.EMPTY_MATCH_PATTERN,tokenTypes:[n]}))}function Hce(e){class t extends cE{static{a(this,"StartAnchorFinder")}static{_(this,"StartAnchorFinder")}constructor(){super(...arguments),this.found=!1}visitStartAnchor(o){this.found=!0}}let r=ws(e,i=>{let o=i.PATTERN;try{let s=ax(o),u=new t;return u.visit(s),u.found}catch{return jWe.test(o.source)}});return sr(r,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Li.SOI_ANCHOR_FOUND,tokenTypes:[i]}))}function jce(e){let t=ws(e,n=>{let i=n[cp];return i instanceof RegExp&&(i.multiline||i.global)});return sr(t,n=>({message:"Token Type: ->"+n.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:Li.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[n]}))}function Yce(e){let t=[],r=sr(e,o=>So(e,(s,u)=>(o.PATTERN.source===u.PATTERN.source&&!Do(t,u)&&u.PATTERN!==Yo.NA&&(t.push(u),s.push(u)),s),[]));r=ix(r);let n=ws(r,o=>o.length>1);return sr(n,o=>{let s=sr(o,f=>f.name);return{message:`The same RegExp pattern ->${Jl(o).PATTERN}<-has been used in all of the following Token Types: ${s.join(", ")} <-`,type:Li.DUPLICATE_PATTERNS_FOUND,tokenTypes:o}})}function Xce(e){let t=ws(e,n=>{if(!Rr(n,"GROUP"))return!1;let i=n.GROUP;return i!==Yo.SKIPPED&&i!==Yo.NA&&!Ko(i)});return sr(t,n=>({message:"Token Type: ->"+n.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:Li.INVALID_GROUP_TYPE_FOUND,tokenTypes:[n]}))}function Kce(e,t){let r=ws(e,i=>i.PUSH_MODE!==void 0&&!Do(t,i.PUSH_MODE));return sr(r,i=>({message:`Token Type: ->${i.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${i.PUSH_MODE}<-which does not exist`,type:Li.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[i]}))}function Qce(e){let t=[],r=So(e,(n,i,o)=>{let s=i.PATTERN;return s===Yo.NA||(Ko(s)?n.push({str:s,idx:o,tokenType:i}):$u(s)&&Jce(s)&&n.push({str:s.source,idx:o,tokenType:i})),n},[]);return Sr(e,(n,i)=>{Sr(r,({str:o,idx:s,tokenType:u})=>{if(i<s&&Zce(o,n.PATTERN)){let f=`Token: ->${u.name}<- can never be matched.
Because it appears AFTER the Token Type ->${n.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;t.push({message:f,type:Li.UNREACHABLE_PATTERN,tokenTypes:[n,u]})}})}),t}function Zce(e,t){if($u(t)){let r=t.exec(e);return r!==null&&r.index===0}else{if(Yu(t))return t(e,0,[],{});if(Rr(t,"exec"))return t.exec(e,0,[],{});if(typeof t=="string")return t===e;throw Error("non exhaustive match")}}function Jce(e){return $g([".","\\","[","]","|","^","$","(",")","?","*","+","{"],r=>e.source.indexOf(r)!==-1)===void 0}function WI(e){let t=e.ignoreCase?"i":"";return new RegExp(`^(?:${e.source})`,t)}function HI(e){let t=e.ignoreCase?"iy":"y";return new RegExp(`${e.source}`,t)}function eue(e,t,r){let n=[];return Rr(e,a1)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+a1+`> property in its definition
`,type:Li.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),Rr(e,j_)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+j_+`> property in its definition
`,type:Li.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),Rr(e,j_)&&Rr(e,a1)&&!Rr(e.modes,e.defaultMode)&&n.push({message:`A MultiMode Lexer cannot be initialized with a ${a1}: <${e.defaultMode}>which does not exist
`,type:Li.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),Rr(e,j_)&&Sr(e.modes,(i,o)=>{Sr(i,(s,u)=>{if(Gu(s))n.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${o}> at index: <${u}>
`,type:Li.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(Rr(s,"LONGER_ALT")){let f=yn(s.LONGER_ALT)?s.LONGER_ALT:[s.LONGER_ALT];Sr(f,p=>{!Gu(p)&&!Do(i,p)&&n.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${p.name}> on token <${s.name}> outside of mode <${o}>
`,type:Li.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),n}function tue(e,t,r){let n=[],i=!1,o=ix(il(ca(e.modes))),s=DE(o,f=>f[cp]===Yo.NA),u=IP(r);return t&&Sr(s,f=>{let p=LP(f,u);if(p!==!1){let y={message:iue(f,p),type:p.issue,tokenType:f};n.push(y)}else Rr(f,"LINE_BREAKS")?f.LINE_BREAKS===!0&&(i=!0):IE(u,f.PATTERN)&&(i=!0)}),t&&!i&&n.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:Li.NO_LINE_BREAKS_FLAGS}),n}function rue(e){let t={},r=ks(e);return Sr(r,n=>{let i=e[n];if(yn(i))t[n]=[];else throw Error("non exhaustive match")}),t}function DP(e){let t=e.PATTERN;if($u(t))return!1;if(Yu(t))return!0;if(Rr(t,"exec"))return!0;if(Ko(t))return!1;throw Error("non exhaustive match")}function nue(e){return Ko(e)&&e.length===1?e.charCodeAt(0):!1}function LP(e,t){if(Rr(e,"LINE_BREAKS"))return!1;if($u(e.PATTERN)){try{IE(t,e.PATTERN)}catch(r){return{issue:Li.IDENTIFY_TERMINATOR,errMsg:r.message}}return!1}else{if(Ko(e.PATTERN))return!1;if(DP(e))return{issue:Li.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function iue(e,t){if(t.issue===Li.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${e.name}> Token Type
	 Root cause: ${t.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(t.issue===Li.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${e.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function IP(e){return sr(e,r=>Ko(r)?r.charCodeAt(0):r)}function aw(e,t,r){e[t]===void 0?e[t]=[r]:e[t].push(r)}function Vu(e){return e<o1?e:ow[e]}function aue(){if(Kn(ow)){ow=new Array(65536);for(let e=0;e<65536;e++)ow[e]=e>255?255+~~(e/255):e}}function Yg(e,t){let r=e.tokenTypeIdx;return r===t.tokenTypeIdx?!0:t.isParent===!0&&t.categoryMatchesMap[r]===!0}function F1(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}function Xg(e){let t=sue(e);lue(t),uue(t),cue(t),Sr(t,r=>{r.isParent=r.categoryMatches.length>0})}function sue(e){let t=Xa(e),r=e,n=!0;for(;n;){r=ix(il(sr(r,o=>o.CATEGORIES)));let i=RE(r,t);t=t.concat(i),Kn(i)?n=!1:r=i}return t}function lue(e){Sr(e,t=>{PP(t)||(oue[Wte]=t,t.tokenTypeIdx=Wte++),jI(t)&&!yn(t.CATEGORIES)&&(t.CATEGORIES=[t.CATEGORIES]),jI(t)||(t.CATEGORIES=[]),fue(t)||(t.categoryMatches=[]),hue(t)||(t.categoryMatchesMap={})})}function cue(e){Sr(e,t=>{t.categoryMatches=[],Sr(t.categoryMatchesMap,(r,n)=>{t.categoryMatches.push(oue[n].tokenTypeIdx)})})}function uue(e){Sr(e,t=>{NP([],t)})}function NP(e,t){Sr(e,r=>{t.categoryMatchesMap[r.tokenTypeIdx]=!0}),Sr(t.CATEGORIES,r=>{let n=e.concat(t);Do(n,r)||NP(n,r)})}function PP(e){return Rr(e,"tokenTypeIdx")}function jI(e){return Rr(e,"CATEGORIES")}function fue(e){return Rr(e,"categoryMatches")}function hue(e){return Rr(e,"categoryMatchesMap")}function due(e){return Rr(e,"tokenTypeIdx")}function ip(e){return OP(e)?e.LABEL:e.name}function OP(e){return Ko(e.LABEL)&&e.LABEL!==""}function MP(e){return pue(e)}function pue(e){let t=e.pattern,r={};if(r.name=e.name,Gu(t)||(r.PATTERN=t),Rr(e,KWe))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return Rr(e,Hte)&&(r.CATEGORIES=e[Hte]),Xg([r]),Rr(e,jte)&&(r.LABEL=e[jte]),Rr(e,Yte)&&(r.GROUP=e[Yte]),Rr(e,Kte)&&(r.POP_MODE=e[Kte]),Rr(e,Xte)&&(r.PUSH_MODE=e[Xte]),Rr(e,Qte)&&(r.LONGER_ALT=e[Qte]),Rr(e,Zte)&&(r.LINE_BREAKS=e[Zte]),Rr(e,Jte)&&(r.START_CHARS_HINT=e[Jte]),r}function NE(e,t,r,n,i,o,s,u){return{image:t,startOffset:r,endOffset:n,startLine:i,endLine:o,startColumn:s,endColumn:u,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}function FP(e,t){return Yg(e,t)}function mue(e,t){let r=new ZWe(e,t);return r.resolveRefs(),r.errors}function jw(e,t,r=[]){r=Xa(r);let n=[],i=0;function o(u){return u.concat(Ha(e,i+1))}a(o,"remainingPathWith"),_(o,"remainingPathWith");function s(u){let f=jw(o(u),t,r);return n.concat(f)}for(a(s,"getAlternativesForProd"),_(s,"getAlternativesForProd");r.length<t&&i<e.length;){let u=e[i];if(u instanceof Qo)return s(u.definition);if(u instanceof Ao)return s(u.definition);if(u instanceof ja)n=s(u.definition);else if(u instanceof Es){let f=u.definition.concat([new Di({definition:u.definition})]);return s(f)}else if(u instanceof Cs){let f=[new Qo({definition:u.definition}),new Di({definition:[new hi({terminalType:u.separator})].concat(u.definition)})];return s(f)}else if(u instanceof Jo){let f=u.definition.concat([new Di({definition:[new hi({terminalType:u.separator})].concat(u.definition)})]);n=s(f)}else if(u instanceof Di){let f=u.definition.concat([new Di({definition:u.definition})]);n=s(f)}else{if(u instanceof es)return Sr(u.definition,f=>{Kn(f.definition)===!1&&(n=s(f.definition))}),n;if(u instanceof hi)r.push(u.terminalType);else throw Error("non exhaustive match")}i++}return n.push({partialPath:r,suffixDef:Ha(e,i)}),n}function BP(e,t,r,n){let i="EXIT_NONE_TERMINAL",o=[i],s="EXIT_ALTERNATIVE",u=!1,f=t.length,p=f-n-1,g=[],y=[];for(y.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!Kn(y);){let x=y.pop();if(x===s){u&&Ug(y).idx<=p&&y.pop();continue}let b=x.def,E=x.idx,A=x.ruleStack,O=x.occurrenceStack;if(Kn(b))continue;let N=b[0];if(N===i){let I={idx:E,def:Ha(b),ruleStack:O1(A),occurrenceStack:O1(O)};y.push(I)}else if(N instanceof hi)if(E<f-1){let I=E+1,$=t[I];if(r($,N.terminalType)){let X={idx:I,def:Ha(b),ruleStack:A,occurrenceStack:O};y.push(X)}}else if(E===f-1)g.push({nextTokenType:N.terminalType,nextTokenOccurrence:N.idx,ruleStack:A,occurrenceStack:O}),u=!0;else throw Error("non exhaustive match");else if(N instanceof Ao){let I=Xa(A);I.push(N.nonTerminalName);let $=Xa(O);$.push(N.idx);let X={idx:E,def:N.definition.concat(o,Ha(b)),ruleStack:I,occurrenceStack:$};y.push(X)}else if(N instanceof ja){let I={idx:E,def:Ha(b),ruleStack:A,occurrenceStack:O};y.push(I),y.push(s);let $={idx:E,def:N.definition.concat(Ha(b)),ruleStack:A,occurrenceStack:O};y.push($)}else if(N instanceof Es){let I=new Di({definition:N.definition,idx:N.idx}),$=N.definition.concat([I],Ha(b)),X={idx:E,def:$,ruleStack:A,occurrenceStack:O};y.push(X)}else if(N instanceof Cs){let I=new hi({terminalType:N.separator}),$=new Di({definition:[I].concat(N.definition),idx:N.idx}),X=N.definition.concat([$],Ha(b)),q={idx:E,def:X,ruleStack:A,occurrenceStack:O};y.push(q)}else if(N instanceof Jo){let I={idx:E,def:Ha(b),ruleStack:A,occurrenceStack:O};y.push(I),y.push(s);let $=new hi({terminalType:N.separator}),X=new Di({definition:[$].concat(N.definition),idx:N.idx}),q=N.definition.concat([X],Ha(b)),M={idx:E,def:q,ruleStack:A,occurrenceStack:O};y.push(M)}else if(N instanceof Di){let I={idx:E,def:Ha(b),ruleStack:A,occurrenceStack:O};y.push(I),y.push(s);let $=new Di({definition:N.definition,idx:N.idx}),X=N.definition.concat([$],Ha(b)),q={idx:E,def:X,ruleStack:A,occurrenceStack:O};y.push(q)}else if(N instanceof es)for(let I=N.definition.length-1;I>=0;I--){let $=N.definition[I],X={idx:E,def:$.definition.concat(Ha(b)),ruleStack:A,occurrenceStack:O};y.push(X),y.push(s)}else if(N instanceof Qo)y.push({idx:E,def:N.definition.concat(Ha(b)),ruleStack:A,occurrenceStack:O});else if(N instanceof Wg)y.push(gue(N,E,A,O));else throw Error("non exhaustive match")}return g}function gue(e,t,r,n){let i=Xa(r);i.push(e.name);let o=Xa(n);return o.push(1),{idx:t,def:e.definition,ruleStack:i,occurrenceStack:o}}function OE(e){if(e instanceof ja||e==="Option")return xi.OPTION;if(e instanceof Di||e==="Repetition")return xi.REPETITION;if(e instanceof Es||e==="RepetitionMandatory")return xi.REPETITION_MANDATORY;if(e instanceof Cs||e==="RepetitionMandatoryWithSeparator")return xi.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof Jo||e==="RepetitionWithSeparator")return xi.REPETITION_WITH_SEPARATOR;if(e instanceof es||e==="Alternation")return xi.ALTERNATION;throw Error("non exhaustive match")}function YI(e){let{occurrence:t,rule:r,prodType:n,maxLookahead:i}=e,o=OE(n);return o===xi.ALTERNATION?ox(t,r,i):sx(t,r,o,i)}function yue(e,t,r,n,i,o){let s=ox(e,t,r),u=zP(s)?F1:Yg;return o(s,n,u,i)}function vue(e,t,r,n,i,o){let s=sx(e,t,i,r),u=zP(s)?F1:Yg;return o(s[0],u,n)}function xue(e,t,r,n){let i=e.length,o=Xl(e,s=>Xl(s,u=>u.length===1));if(t)return function(s){let u=sr(s,f=>f.GATE);for(let f=0;f<i;f++){let p=e[f],g=p.length,y=u[f];if(!(y!==void 0&&y.call(this)===!1))e:for(let x=0;x<g;x++){let b=p[x],E=b.length;for(let A=0;A<E;A++){let O=this.LA(A+1);if(r(O,b[A])===!1)continue e}return f}}};if(o&&!n){let s=sr(e,f=>il(f)),u=So(s,(f,p,g)=>(Sr(p,y=>{Rr(f,y.tokenTypeIdx)||(f[y.tokenTypeIdx]=g),Sr(y.categoryMatches,x=>{Rr(f,x)||(f[x]=g)})}),f),{});return function(){let f=this.LA(1);return u[f.tokenTypeIdx]}}else return function(){for(let s=0;s<i;s++){let u=e[s],f=u.length;e:for(let p=0;p<f;p++){let g=u[p],y=g.length;for(let x=0;x<y;x++){let b=this.LA(x+1);if(r(b,g[x])===!1)continue e}return s}}}}function bue(e,t,r){let n=Xl(e,o=>o.length===1),i=e.length;if(n&&!r){let o=il(e);if(o.length===1&&Kn(o[0].categoryMatches)){let u=o[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===u}}else{let s=So(o,(u,f,p)=>(u[f.tokenTypeIdx]=!0,Sr(f.categoryMatches,g=>{u[g]=!0}),u),[]);return function(){let u=this.LA(1);return s[u.tokenTypeIdx]===!0}}}else return function(){e:for(let o=0;o<i;o++){let s=e[o],u=s.length;for(let f=0;f<u;f++){let p=this.LA(f+1);if(t(p,s[f])===!1)continue e}return!0}return!1}}function XI(e){let t=new Array(e);for(let r=0;r<e;r++)t[r]=[];return t}function sw(e){let t=[""];for(let r=0;r<e.length;r++){let n=e[r],i=[];for(let o=0;o<t.length;o++){let s=t[o];i.push(s+"_"+n.tokenTypeIdx);for(let u=0;u<n.categoryMatches.length;u++){let f="_"+n.categoryMatches[u];i.push(s+f)}}t=i}return t}function kue(e,t,r){for(let n=0;n<e.length;n++){if(n===r)continue;let i=e[n];for(let o=0;o<t.length;o++){let s=t[o];if(i[s]===!0)return!1}}return!0}function qP(e,t){let r=sr(e,s=>jw([s],1)),n=XI(r.length),i=sr(r,s=>{let u={};return Sr(s,f=>{let p=sw(f.partialPath);Sr(p,g=>{u[g]=!0})}),u}),o=r;for(let s=1;s<=t;s++){let u=o;o=XI(u.length);for(let f=0;f<u.length;f++){let p=u[f];for(let g=0;g<p.length;g++){let y=p[g].partialPath,x=p[g].suffixDef,b=sw(y);if(kue(i,b,f)||Kn(x)||y.length===t){let A=n[f];if(Yw(A,y)===!1){A.push(y);for(let O=0;O<b.length;O++){let N=b[O];i[f][N]=!0}}}else{let A=jw(x,s+1,y);o[f]=o[f].concat(A),Sr(A,O=>{let N=sw(O.partialPath);Sr(N,I=>{i[f][I]=!0})})}}}}return n}function ox(e,t,r,n){let i=new Tue(e,xi.ALTERNATION,n);return t.accept(i),qP(i.result,r)}function sx(e,t,r,n){let i=new Tue(e,r);t.accept(i);let o=i.result,u=new nHe(t,e,r).startWalking(),f=new Qo({definition:o}),p=new Qo({definition:u});return qP([f,p],n)}function Yw(e,t){e:for(let r=0;r<e.length;r++){let n=e[r];if(n.length===t.length){for(let i=0;i<n.length;i++){let o=t[i],s=n[i];if((o===s||s.categoryMatchesMap[o.tokenTypeIdx]!==void 0)===!1)continue e}return!0}}return!1}function _ue(e,t){return e.length<t.length&&Xl(e,(r,n)=>{let i=t[n];return r===i||i.categoryMatchesMap[r.tokenTypeIdx]})}function zP(e){return Xl(e,t=>Xl(t,r=>Xl(r,n=>Kn(n.categoryMatches))))}function wue(e){let t=e.lookaheadStrategy.validate({rules:e.rules,tokenTypes:e.tokenTypes,grammarName:e.grammarName});return sr(t,r=>Object.assign({type:Ro.CUSTOM_LOOKAHEAD_VALIDATION},r))}function Eue(e,t,r,n){let i=Ts(e,f=>Cue(f,r)),o=Mue(e,t,r),s=Ts(e,f=>Iue(f,r)),u=Ts(e,f=>Aue(f,e,n,r));return i.concat(o,s,u)}function Cue(e,t){let r=new iHe;e.accept(r);let n=r.allProductions,i=pWe(n,Sue),o=tc(i,u=>u.length>1);return sr(ca(o),u=>{let f=Jl(u),p=t.buildDuplicateFoundError(e,u),g=Vl(f),y={message:p,type:Ro.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:g,occurrence:f.idx},x=UP(f);return x&&(y.parameter=x),y})}function Sue(e){return`${Vl(e)}_#_${e.idx}_#_${UP(e)}`}function UP(e){return e instanceof hi?e.terminalType.name:e instanceof Ao?e.nonTerminalName:""}function Aue(e,t,r,n){let i=[];if(So(t,(s,u)=>u.name===e.name?s+1:s,0)>1){let s=n.buildDuplicateRuleNameError({topLevelRule:e,grammarName:r});i.push({message:s,type:Ro.DUPLICATE_RULE_NAME,ruleName:e.name})}return i}function Rue(e,t,r){let n=[],i;return Do(t,e)||(i=`Invalid rule override, rule: ->${e}<- cannot be overridden in the grammar: ->${r}<-as it is not defined in any of the super grammars `,n.push({message:i,type:Ro.INVALID_RULE_OVERRIDE,ruleName:e})),n}function $P(e,t,r,n=[]){let i=[],o=y1(t.definition);if(Kn(o))return[];{let s=e.name;Do(o,e)&&i.push({message:r.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:n}),type:Ro.LEFT_RECURSION,ruleName:s});let f=RE(o,n.concat([e])),p=Ts(f,g=>{let y=Xa(n);return y.push(g),$P(e,g,r,y)});return i.concat(p)}}function y1(e){let t=[];if(Kn(e))return t;let r=Jl(e);if(r instanceof Ao)t.push(r.referencedRule);else if(r instanceof Qo||r instanceof ja||r instanceof Es||r instanceof Cs||r instanceof Jo||r instanceof Di)t=t.concat(y1(r.definition));else if(r instanceof es)t=il(sr(r.definition,o=>y1(o.definition)));else if(!(r instanceof hi))throw Error("non exhaustive match");let n=M1(r),i=e.length>1;if(n&&i){let o=Ha(e);return t.concat(y1(o))}else return t}function Due(e,t){let r=new GP;e.accept(r);let n=r.alternations;return Ts(n,o=>{let s=O1(o.definition);return Ts(s,(u,f)=>{let p=BP([u],[],Yg,1);return Kn(p)?[{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:o,emptyChoiceIdx:f}),type:Ro.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:o.idx,alternative:f+1}]:[]})})}function Lue(e,t,r){let n=new GP;e.accept(n);let i=n.alternations;return i=DE(i,s=>s.ignoreAmbiguities===!0),Ts(i,s=>{let u=s.idx,f=s.maxLookahead||t,p=ox(u,e,f,s),g=Pue(p,s,e,r),y=Oue(p,s,e,r);return g.concat(y)})}function Iue(e,t){let r=new GP;e.accept(r);let n=r.alternations;return Ts(n,o=>o.definition.length>255?[{message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:o}),type:Ro.TOO_MANY_ALTS,ruleName:e.name,occurrence:o.idx}]:[])}function Nue(e,t,r){let n=[];return Sr(e,i=>{let o=new aHe;i.accept(o);let s=o.allProductions;Sr(s,u=>{let f=OE(u),p=u.maxLookahead||t,g=u.idx,x=sx(g,i,f,p)[0];if(Kn(il(x))){let b=r.buildEmptyRepetitionError({topLevelRule:i,repetition:u});n.push({message:b,type:Ro.NO_NON_EMPTY_LOOKAHEAD,ruleName:i.name})}})}),n}function Pue(e,t,r,n){let i=[],o=So(e,(u,f,p)=>(t.definition[p].ignoreAmbiguities===!0||Sr(f,g=>{let y=[p];Sr(e,(x,b)=>{p!==b&&Yw(x,g)&&t.definition[b].ignoreAmbiguities!==!0&&y.push(b)}),y.length>1&&!Yw(i,g)&&(i.push(g),u.push({alts:y,path:g}))}),u),[]);return sr(o,u=>{let f=sr(u.alts,g=>g+1);return{message:n.buildAlternationAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:f,prefixPath:u.path}),type:Ro.AMBIGUOUS_ALTS,ruleName:r.name,occurrence:t.idx,alternatives:u.alts}})}function Oue(e,t,r,n){let i=So(e,(s,u,f)=>{let p=sr(u,g=>({idx:f,path:g}));return s.concat(p)},[]);return ix(Ts(i,s=>{if(t.definition[s.idx].ignoreAmbiguities===!0)return[];let f=s.idx,p=s.path,g=ws(i,x=>t.definition[x.idx].ignoreAmbiguities!==!0&&x.idx<f&&_ue(x.path,p));return sr(g,x=>{let b=[x.idx+1,f+1],E=t.idx===0?"":t.idx;return{message:n.buildAlternationPrefixAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:b,prefixPath:x.path}),type:Ro.AMBIGUOUS_PREFIX_ALTS,ruleName:r.name,occurrence:E,alternatives:b}})}))}function Mue(e,t,r){let n=[],i=sr(t,o=>o.name);return Sr(e,o=>{let s=o.name;if(Do(i,s)){let u=r.buildNamespaceConflictError(o);n.push({message:u,type:Ro.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:s})}}),n}function Fue(e){let t=EP(e,{errMsgProvider:QWe}),r={};return Sr(e.rules,n=>{r[n.name]=n}),mue(r,t.errMsgProvider)}function Bue(e){return e=EP(e,{errMsgProvider:ep}),Eue(e.rules,e.tokenTypes,e.errMsgProvider,e.grammarName)}function B1(e){return Do(Gue,e.name)}function Hue(e,t,r,n,i,o,s){let u=this.getKeyForAutomaticLookahead(n,i),f=this.firstAfterRepMap[u];if(f===void 0){let x=this.getCurrRuleFullName(),b=this.getGAstProductions()[x];f=new o(b,i).startWalking(),this.firstAfterRepMap[u]=f}let p=f.token,g=f.occurrence,y=f.isEndOfRule;this.RULE_STACK.length===1&&y&&p===void 0&&(p=up,g=1),!(p===void 0||g===void 0)&&this.shouldInRepetitionRecoveryBeTried(p,g,s)&&this.tryInRepetitionRecovery(e,t,r,p)}function cw(e,t,r){return r|t|e}function Xue(e){Y_.reset(),e.accept(Y_);let t=Y_.dslMethods;return Y_.reset(),t}function JI(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset)}function eN(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}function Kue(e,t,r){e.children[r]===void 0?e.children[r]=[t]:e.children[r].push(t)}function Que(e,t,r){e.children[t]===void 0?e.children[t]=[r]:e.children[t].push(r)}function WP(e,t){Object.defineProperty(e,mHe,{enumerable:!1,configurable:!0,writable:!1,value:t})}function Zue(e,t){let r=ks(e),n=r.length;for(let i=0;i<n;i++){let o=r[i],s=e[o],u=s.length;for(let f=0;f<u;f++){let p=s[f];p.tokenTypeIdx===void 0&&this[p.name](p.children,t)}}}function Jue(e,t){let r=_(function(){},"derivedConstructor");WP(r,e+"BaseSemantics");let n={visit:function(i,o){if(yn(i)&&(i=i[0]),!Gu(i))return this[i.name](i.children,o)},validateVisitor:function(){let i=tfe(this,t);if(!Kn(i)){let o=sr(i,s=>s.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${o.join(`

`).replace(/\n/g,`
	`)}`)}}};return r.prototype=n,r.prototype.constructor=r,r._RULE_NAMES=t,r}function efe(e,t,r){let n=_(function(){},"derivedConstructor");WP(n,e+"BaseSemanticsWithDefaults");let i=Object.create(r.prototype);return Sr(t,o=>{i[o]=Zue}),n.prototype=i,n.prototype.constructor=n,n}function tfe(e,t){return rfe(e,t)}function rfe(e,t){let r=ws(t,i=>Yu(e[i])===!1),n=sr(r,i=>({msg:`Missing visitor method: <${i}> on ${e.constructor.name} CST Visitor.`,type:tN.MISSING_METHOD,methodName:i}));return ix(n)}function Sg(e,t,r,n=!1){q1(r);let i=Ug(this.recordingProdStack),o=Yu(t)?t:t.DEF,s=new e({definition:[],idx:r});return n&&(s.separator=t.SEP),Rr(t,"MAX_LOOKAHEAD")&&(s.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(s),o.call(this),i.definition.push(s),this.recordingProdStack.pop(),FE}function afe(e,t){q1(t);let r=Ug(this.recordingProdStack),n=yn(e)===!1,i=n===!1?e:e.DEF,o=new es({definition:[],idx:t,ignoreAmbiguities:n&&e.IGNORE_AMBIGUITIES===!0});Rr(e,"MAX_LOOKAHEAD")&&(o.maxLookahead=e.MAX_LOOKAHEAD);let s=vce(i,u=>Yu(u.GATE));return o.hasPredicates=s,r.definition.push(o),Sr(i,u=>{let f=new Qo({definition:[]});o.definition.push(f),Rr(u,"IGNORE_AMBIGUITIES")?f.ignoreAmbiguities=u.IGNORE_AMBIGUITIES:Rr(u,"GATE")&&(f.ignoreAmbiguities=!0),this.recordingProdStack.push(f),u.ALT.call(this),this.recordingProdStack.pop()}),FE}function rN(e){return e===0?"":`${e}`}function q1(e){if(e<0||e>nre){let t=new Error(`Invalid DSL Method idx value: <${e}>
	Idx value must be a none negative value smaller than ${nre+1}`);throw t.KNOWN_RECORDER_ERROR=!0,t}}function ofe(e,t){t.forEach(r=>{let n=r.prototype;Object.getOwnPropertyNames(n).forEach(i=>{if(i==="constructor")return;let o=Object.getOwnPropertyDescriptor(n,i);o&&(o.get||o.set)?Object.defineProperty(e.prototype,i,o):e.prototype[i]=r.prototype[i]})})}function nN(e=void 0){return function(){return e}}function fp(e,t,r){return`${e.name}_${t}_${r}`}function hfe(e){let t={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};dfe(t,e);let r=e.length;for(let n=0;n<r;n++){let i=e[n],o=Ph(t,i,i);o!==void 0&&wfe(t,i,o)}return t}function dfe(e,t){let r=t.length;for(let n=0;n<r;n++){let i=t[n],o=ua(e,i,void 0,{type:CHe}),s=ua(e,i,void 0,{type:lx});o.stop=s,e.ruleToStartState.set(i,o),e.ruleToStopState.set(i,s)}}function KP(e,t,r){return r instanceof hi?BE(e,t,r.terminalType,r):r instanceof Ao?_fe(e,t,r):r instanceof es?vfe(e,t,r):r instanceof ja?xfe(e,t,r):r instanceof Di?pfe(e,t,r):r instanceof Jo?mfe(e,t,r):r instanceof Es?gfe(e,t,r):r instanceof Cs?yfe(e,t,r):Ph(e,t,r)}function pfe(e,t,r){let n=ua(e,t,r,{type:cfe});Xu(e,n);let i=kp(e,t,n,r,Ph(e,t,r));return ZP(e,t,r,i)}function mfe(e,t,r){let n=ua(e,t,r,{type:cfe});Xu(e,n);let i=kp(e,t,n,r,Ph(e,t,r)),o=BE(e,t,r.separator,r);return ZP(e,t,r,i,o)}function gfe(e,t,r){let n=ua(e,t,r,{type:lfe});Xu(e,n);let i=kp(e,t,n,r,Ph(e,t,r));return QP(e,t,r,i)}function yfe(e,t,r){let n=ua(e,t,r,{type:lfe});Xu(e,n);let i=kp(e,t,n,r,Ph(e,t,r)),o=BE(e,t,r.separator,r);return QP(e,t,r,i,o)}function vfe(e,t,r){let n=ua(e,t,r,{type:Ch});Xu(e,n);let i=sr(r.definition,s=>KP(e,t,s));return kp(e,t,n,r,...i)}function xfe(e,t,r){let n=ua(e,t,r,{type:Ch});Xu(e,n);let i=kp(e,t,n,r,Ph(e,t,r));return bfe(e,t,r,i)}function Ph(e,t,r){let n=ws(sr(r.definition,i=>KP(e,t,i)),i=>i!==void 0);return n.length===1?n[0]:n.length===0?void 0:kfe(e,n)}function QP(e,t,r,n,i){let o=n.left,s=n.right,u=ua(e,t,r,{type:DHe});Xu(e,u);let f=ua(e,t,r,{type:ufe});return o.loopback=u,f.loopback=u,e.decisionMap[fp(t,i?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",r.idx)]=u,Ui(s,u),i===void 0?(Ui(u,o),Ui(u,f)):(Ui(u,f),Ui(u,i.left),Ui(i.right,o)),{left:o,right:f}}function ZP(e,t,r,n,i){let o=n.left,s=n.right,u=ua(e,t,r,{type:RHe});Xu(e,u);let f=ua(e,t,r,{type:ufe}),p=ua(e,t,r,{type:AHe});return u.loopback=p,f.loopback=p,Ui(u,o),Ui(u,f),Ui(s,p),i!==void 0?(Ui(p,f),Ui(p,i.left),Ui(i.right,o)):Ui(p,u),e.decisionMap[fp(t,i?"RepetitionWithSeparator":"Repetition",r.idx)]=u,{left:u,right:f}}function bfe(e,t,r,n){let i=n.left,o=n.right;return Ui(i,o),e.decisionMap[fp(t,"Option",r.idx)]=i,n}function Xu(e,t){return e.decisionStates.push(t),t.decision=e.decisionStates.length-1,t.decision}function kp(e,t,r,n,...i){let o=ua(e,t,n,{type:SHe,start:r});r.end=o;for(let u of i)u!==void 0?(Ui(r,u.left),Ui(u.right,o)):Ui(r,o);let s={left:r,right:o};return e.decisionMap[fp(t,Tfe(n),n.idx)]=r,s}function Tfe(e){if(e instanceof es)return"Alternation";if(e instanceof ja)return"Option";if(e instanceof Di)return"Repetition";if(e instanceof Jo)return"RepetitionWithSeparator";if(e instanceof Es)return"RepetitionMandatory";if(e instanceof Cs)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")}function kfe(e,t){let r=t.length;for(let o=0;o<r-1;o++){let s=t[o],u;s.left.transitions.length===1&&(u=s.left.transitions[0]);let f=u instanceof XP,p=u,g=t[o+1].left;s.left.type===Ch&&s.right.type===Ch&&u!==void 0&&(f&&p.followState===s.right||u.target===s.right)?(f?p.followState=g:u.target=g,Efe(e,s.right)):Ui(s.right,g)}let n=t[0],i=t[r-1];return{left:n.left,right:i.right}}function BE(e,t,r,n){let i=ua(e,t,n,{type:Ch}),o=ua(e,t,n,{type:Ch});return qE(i,new YP(o,r)),{left:i,right:o}}function _fe(e,t,r){let n=r.referencedRule,i=e.ruleToStartState.get(n),o=ua(e,t,r,{type:Ch}),s=ua(e,t,r,{type:Ch}),u=new XP(i,n,s);return qE(o,u),{left:o,right:s}}function wfe(e,t,r){let n=e.ruleToStartState.get(t);Ui(n,r.left);let i=e.ruleToStopState.get(t);return Ui(r.right,i),{left:n,right:i}}function Ui(e,t){let r=new ffe(t);qE(e,r)}function ua(e,t,r,n){let i=Object.assign({atn:e,production:r,epsilonOnlyTransitions:!1,rule:t,transitions:[],nextTokenWithinRule:[],stateNumber:e.states.length},n);return e.states.push(i),i}function qE(e,t){e.transitions.length===0&&(e.epsilonOnlyTransitions=t.isEpsilon()),e.transitions.push(t)}function Efe(e,t){e.states.splice(e.states.indexOf(t),1)}function JP(e,t=!0){return`${t?`a${e.alt}`:""}s${e.state.stateNumber}:${e.stack.map(r=>r.stateNumber.toString()).join("_")}`}function Cfe(e,t){let r={};return n=>{let i=n.toString(),o=r[i];return o!==void 0||(o={atnStartState:e,decision:t,states:{}},r[i]=o),o}}function aN(e,t=!0){let r=new Set;for(let n of e){let i=new Set;for(let o of n){if(o===void 0){if(t)break;return!1}let s=[o.tokenTypeIdx].concat(o.categoryMatches);for(let u of s)if(r.has(u)){if(!i.has(u))return!1}else r.add(u),i.add(u)}}return!0}function Afe(e){let t=e.decisionStates.length,r=Array(t);for(let n=0;n<t;n++)r[n]=Cfe(e.decisionStates[n],n);return r}function uw(e,t,r,n){let i=e[t](r),o=i.start;if(o===void 0){let u=qfe(i.atnStartState);o=t6(i,e6(u)),i.start=o}return Rfe.apply(this,[i,o,r,n])}function Rfe(e,t,r,n){let i=t,o=1,s=[],u=this.LA(o++);for(;;){let f=Ofe(i,u);if(f===void 0&&(f=Dfe.apply(this,[e,i,u,o,r,n])),f===Qw)return Pfe(s,i,u);if(f.isAcceptState===!0)return f.prediction;i=f,s.push(u),u=this.LA(o++)}}function Dfe(e,t,r,n,i,o){let s=Mfe(t.configs,r,i);if(s.size===0)return oN(e,t,r,Qw),Qw;let u=e6(s),f=Bfe(s,i);if(f!==void 0)u.isAcceptState=!0,u.prediction=f,u.configs.uniqueAlt=f;else if(Gfe(s)){let p=LWe(s.alts);u.isAcceptState=!0,u.prediction=p,u.configs.uniqueAlt=p,Lfe.apply(this,[e,n,s.alts,o])}return u=oN(e,t,r,u),u}function Lfe(e,t,r,n){let i=[];for(let p=1;p<=t;p++)i.push(this.LA(p).tokenType);let o=e.atnStartState,s=o.rule,u=o.production,f=Ife({topLevelRule:s,ambiguityIndices:r,production:u,prefixPath:i});n(f)}function Ife(e){let t=sr(e.prefixPath,i=>ip(i)).join(", "),r=e.production.idx===0?"":e.production.idx,n=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(", ")}> in <${Nfe(e.production)}${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
`;return n=n+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,n}function Nfe(e){if(e instanceof Ao)return"SUBRULE";if(e instanceof ja)return"OPTION";if(e instanceof es)return"OR";if(e instanceof Es)return"AT_LEAST_ONE";if(e instanceof Cs)return"AT_LEAST_ONE_SEP";if(e instanceof Jo)return"MANY_SEP";if(e instanceof Di)return"MANY";if(e instanceof hi)return"CONSUME";throw Error("non exhaustive match")}function Pfe(e,t,r){let n=Ts(t.configs.elements,o=>o.state.transitions),i=$We(n.filter(o=>o instanceof YP).map(o=>o.tokenType),o=>o.tokenTypeIdx);return{actualToken:r,possibleTokenTypes:i,tokenPath:e}}function Ofe(e,t){return e.edges[t.tokenTypeIdx]}function Mfe(e,t,r){let n=new iN,i=[];for(let s of e.elements){if(r.is(s.alt)===!1)continue;if(s.state.type===lx){i.push(s);continue}let u=s.state.transitions.length;for(let f=0;f<u;f++){let p=s.state.transitions[f],g=Ffe(p,t);g!==void 0&&n.add({state:g,alt:s.alt,stack:s.stack})}}let o;if(i.length===0&&n.size===1&&(o=n),o===void 0){o=new iN;for(let s of n.elements)z1(s,o)}if(i.length>0&&!Ufe(o))for(let s of i)o.add(s);return o}function Ffe(e,t){if(e instanceof YP&&FP(t,e.tokenType))return e.target}function Bfe(e,t){let r;for(let n of e.elements)if(t.is(n.alt)===!0){if(r===void 0)r=n.alt;else if(r!==n.alt)return}return r}function e6(e){return{configs:e,edges:{},isAcceptState:!1,prediction:-1}}function oN(e,t,r,n){return n=t6(e,n),t.edges[r.tokenTypeIdx]=n,n}function t6(e,t){if(t===Qw)return t;let r=t.configs.key,n=e.states[r];return n!==void 0?n:(t.configs.finalize(),e.states[r]=t,t)}function qfe(e){let t=new iN,r=e.transitions.length;for(let n=0;n<r;n++){let o={state:e.transitions[n].target,alt:n,stack:[]};z1(o,t)}return t}function z1(e,t){let r=e.state;if(r.type===lx){if(e.stack.length>0){let i=[...e.stack],s={state:i.pop(),alt:e.alt,stack:i};z1(s,t)}else t.add(e);return}r.epsilonOnlyTransitions||t.add(e);let n=r.transitions.length;for(let i=0;i<n;i++){let o=r.transitions[i],s=zfe(e,o);s!==void 0&&z1(s,t)}}function zfe(e,t){if(t instanceof ffe)return{state:t.target,alt:e.alt,stack:e.stack};if(t instanceof XP){let r=[...e.stack,t.followState];return{state:t.target,alt:e.alt,stack:r}}}function Ufe(e){for(let t of e.elements)if(t.state.type===lx)return!0;return!1}function $fe(e){for(let t of e.elements)if(t.state.type!==lx)return!1;return!0}function Gfe(e){if($fe(e))return!0;let t=Vfe(e.elements);return Wfe(t)&&!Hfe(t)}function Vfe(e){let t=new Map;for(let r of e){let n=JP(r,!1),i=t.get(n);i===void 0&&(i={},t.set(n,i)),i[r.alt]=!0}return t}function Wfe(e){for(let t of Array.from(e.values()))if(Object.keys(t).length>1)return!0;return!1}function Hfe(e){for(let t of Array.from(e.values()))if(Object.keys(t).length===1)return!0;return!1}function fw(e){return e.$type===sN}function zE(e){throw new Error("Error! The input value was not handled.")}function r6(e,t,r){return ehe({parser:t,tokens:r,rules:new Map,ruleNames:new Map},e),t}function ehe(e,t){let r=pE(t,!1),n=Xn(t.rules).filter(Ir).filter(i=>r.has(i));for(let i of n){let o=Object.assign(Object.assign({},e),{consume:1,optional:1,subrule:1,many:1,or:1});o.rules.set(i.name,e.parser.rule(i,Sh(o,i.definition)))}}function Sh(e,t,r=!1){let n;if(Co(t))n=she(e,t);else if(fa(t))n=the(e,t);else if(Qi(t))n=Sh(e,t.terminal);else if(zc(t))n=n6(e,t);else if(ha(t))n=rhe(e,t);else if(Hu(t))n=ihe(e,t);else if(ju(t))n=ahe(e,t);else if(Xo(t))n=ohe(e,t);else throw new Jfe(t.$cstNode,`Unexpected element type: ${t.$type}`);return i6(e,r?void 0:U1(t),n,t.cardinality)}function the(e,t){let r=Lh(t);return()=>e.parser.action(r,t)}function rhe(e,t){let r=t.rule.ref;if(Ir(r)){let n=e.subrule++,i=t.arguments.length>0?nhe(r,t.arguments):()=>({});return o=>e.parser.subrule(n,a6(e,r),t,i(o))}else if(zi(r)){let n=e.consume++,i=Zw(e,r.name);return()=>e.parser.consume(n,i,t)}else if(r)zE(r);else throw new Jfe(t.$cstNode,`Undefined rule type: ${t.$type}`)}function nhe(e,t){let r=t.map(n=>Mc(n.value));return n=>{let i={};for(let o=0;o<r.length;o++){let s=e.parameters[o],u=r[o];i[s.name]=u(n)}return i}}function Mc(e){if(Gre(e)){let t=Mc(e.left),r=Mc(e.right);return n=>t(n)||r(n)}else if(Ure(e)){let t=Mc(e.left),r=Mc(e.right);return n=>t(n)&&r(n)}else if(Yre(e)){let t=Mc(e.value);return r=>!t(r)}else if(nE(e)){let t=e.parameter.ref.name;return r=>r!==void 0&&r[t]===!0}else if(Hre(e)){let t=!!e.true;return()=>t}zE(e)}function ihe(e,t){if(t.elements.length===1)return Sh(e,t.elements[0]);{let r=[];for(let i of t.elements){let o={ALT:Sh(e,i,!0)},s=U1(i);s&&(o.GATE=Mc(s)),r.push(o)}let n=e.or++;return i=>e.parser.alternatives(n,r.map(o=>{let s={ALT:()=>o.ALT(i)},u=o.GATE;return u&&(s.GATE=()=>u(i)),s}))}}function ahe(e,t){if(t.elements.length===1)return Sh(e,t.elements[0]);let r=[];for(let u of t.elements){let f={ALT:Sh(e,u,!0)},p=U1(u);p&&(f.GATE=Mc(p)),r.push(f)}let n=e.or++,i=_((u,f)=>{let p=f.getRuleStack().join("-");return`uGroup_${u}_${p}`},"idFunc"),o=_(u=>e.parser.alternatives(n,r.map((f,p)=>{let g={ALT:()=>!0},y=e.parser;g.ALT=()=>{if(f.ALT(u),!y.isRecording()){let b=i(n,y);y.unorderedGroups.get(b)||y.unorderedGroups.set(b,[]);let E=y.unorderedGroups.get(b);typeof E?.[p]>"u"&&(E[p]=!0)}};let x=f.GATE;return x?g.GATE=()=>x(u):g.GATE=()=>{let b=y.unorderedGroups.get(i(n,y));return!b?.[p]},g})),"alternatives"),s=i6(e,U1(t),o,"*");return u=>{s(u),e.parser.isRecording()||e.parser.unorderedGroups.delete(i(n,e.parser))}}function ohe(e,t){let r=t.elements.map(n=>Sh(e,n));return n=>r.forEach(i=>i(n))}function U1(e){if(Xo(e))return e.guardCondition}function n6(e,t,r=t.terminal){if(r)if(ha(r)&&Ir(r.rule.ref)){let n=e.subrule++;return i=>e.parser.subrule(n,a6(e,r.rule.ref),t,i)}else if(ha(r)&&zi(r.rule.ref)){let n=e.consume++,i=Zw(e,r.rule.ref.name);return()=>e.parser.consume(n,i,t)}else if(Co(r)){let n=e.consume++,i=Zw(e,r.value);return()=>e.parser.consume(n,i,t)}else throw new Error("Could not build cross reference parser");else{if(!t.type.ref)throw new Error("Could not resolve reference to type: "+t.type.$refText);let n=yE(t.type.ref),i=n?.terminal;if(!i)throw new Error("Could not find name assignment for type: "+Lh(t.type.ref));return n6(e,t,i)}}function she(e,t){let r=e.consume++,n=e.tokens[t.value];if(!n)throw new Error("Could not find token for keyword: "+t.value);return()=>e.parser.consume(r,n,t)}function i6(e,t,r,n){let i=t&&Mc(t);if(!n)if(i){let o=e.or++;return s=>e.parser.alternatives(o,[{ALT:()=>r(s),GATE:()=>i(s)},{ALT:nN(),GATE:()=>!i(s)}])}else return r;if(n==="*"){let o=e.many++;return s=>e.parser.many(o,{DEF:()=>r(s),GATE:i?()=>i(s):void 0})}else if(n==="+"){let o=e.many++;if(i){let s=e.or++;return u=>e.parser.alternatives(s,[{ALT:()=>e.parser.atLeastOne(o,{DEF:()=>r(u)}),GATE:()=>i(u)},{ALT:nN(),GATE:()=>!i(u)}])}else return s=>e.parser.atLeastOne(o,{DEF:()=>r(s)})}else if(n==="?"){let o=e.optional++;return s=>e.parser.optional(o,{DEF:()=>r(s),GATE:i?()=>i(s):void 0})}else zE(n)}function a6(e,t){let r=lhe(e,t),n=e.rules.get(r);if(!n)throw new Error(`Rule "${r}" not found."`);return n}function lhe(e,t){if(Ir(t))return t.name;if(e.ruleNames.has(t))return e.ruleNames.get(t);{let r=t,n=r.$container,i=t.$type;for(;!Ir(n);)(Xo(n)||Hu(n)||ju(n))&&(i=n.elements.indexOf(r).toString()+":"+i),r=n,n=n.$container;return i=n.name+":"+i,e.ruleNames.set(t,i),i}}function Zw(e,t){let r=e.tokens[t];if(!r)throw new Error(`Token "${t}" not found."`);return r}function che(e){let t=e.Grammar,r=e.parser.Lexer,n=new FHe(e);return r6(t,n,r.definition),n.finalize(),n}function uhe(e){let t=fhe(e);return t.finalize(),t}function fhe(e){let t=e.Grammar,r=e.parser.Lexer,n=new OHe(e);return r6(t,n,r.definition)}function phe(e){let t="";for(let r=1;r<e.length-1;r++){let n=e.charAt(r);if(n==="\\"){let i=e.charAt(++r);t+=mhe(i)}else t+=n}return t}function mhe(e){switch(e){case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";case"v":return"\v";case"0":return"\0";default:return e}}function ghe(e){return e.charAt(0)==="^"?e.substring(1):e}function yhe(e){return parseInt(e)}function vhe(e){return BigInt(e)}function xhe(e){return new Date(e)}function bhe(e){return Number(e)}function The(e){return e.toLowerCase()==="true"}function khe(e){return typeof e.$comment=="string"}function lN(e){return typeof e=="object"&&!!e&&("$ref"in e||"$error"in e)}function whe(e){return Array.isArray(e)&&(e.length===0||"name"in e[0])}function o6(e){return e&&"modes"in e&&"defaultMode"in e}function cN(e){return!whe(e)&&!o6(e)}function Ehe(e,t,r){let n,i;typeof e=="string"?(i=t,n=r):(i=e.range.start,n=t),i||(i=Dn.Position.create(0,0));let o=s6(e),s=UE(n),u=She({lines:o,position:i,options:s});return Dhe({index:0,tokens:u,position:i})}function Che(e,t){let r=UE(t),n=s6(e);if(n.length===0)return!1;let i=n[0],o=n[n.length-1],s=r.start,u=r.end;return!!s?.exec(i)&&!!u?.exec(o)}function s6(e){let t="";return typeof e=="string"?t=e:t=e.text,t.split(DN)}function She(e){var t,r,n;let i=[],o=e.position.line,s=e.position.character;for(let u=0;u<e.lines.length;u++){let f=u===0,p=u===e.lines.length-1,g=e.lines[u],y=0;if(f&&e.options.start){let b=(t=e.options.start)===null||t===void 0?void 0:t.exec(g);b&&(y=b.index+b[0].length)}else{let b=(r=e.options.line)===null||r===void 0?void 0:r.exec(g);b&&(y=b.index+b[0].length)}if(p){let b=(n=e.options.end)===null||n===void 0?void 0:n.exec(g);b&&(g=g.substring(0,b.index))}if(g=g.substring(0,Rhe(g)),Jw(g,0)>=g.length){if(i.length>0){let b=Dn.Position.create(o,s);i.push({type:"break",content:"",range:Dn.Range.create(b,b)})}}else{lre.lastIndex=y;let b=lre.exec(g);if(b){let E=b[0],A=b[1],O=Dn.Position.create(o,s+y),N=Dn.Position.create(o,s+y+E.length);i.push({type:"tag",content:A,range:Dn.Range.create(O,N)}),y+=E.length,y=Jw(g,y)}if(y<g.length){let E=g.substring(y),A=Array.from(E.matchAll(eje));i.push(...Ahe(A,E,o,s+y))}}o++,s=0}return i.length>0&&i[i.length-1].type==="break"?i.slice(0,-1):i}function Ahe(e,t,r,n){let i=[];if(e.length===0){let o=Dn.Position.create(r,n),s=Dn.Position.create(r,n+t.length);i.push({type:"text",content:t,range:Dn.Range.create(o,s)})}else{let o=0;for(let u of e){let f=u.index,p=t.substring(o,f);p.length>0&&i.push({type:"text",content:t.substring(o,f),range:Dn.Range.create(Dn.Position.create(r,o+n),Dn.Position.create(r,f+n))});let g=p.length+1,y=u[1];if(i.push({type:"inline-tag",content:y,range:Dn.Range.create(Dn.Position.create(r,o+g+n),Dn.Position.create(r,o+g+y.length+n))}),g+=y.length,u.length===4){g+=u[2].length;let x=u[3];i.push({type:"text",content:x,range:Dn.Range.create(Dn.Position.create(r,o+g+n),Dn.Position.create(r,o+g+x.length+n))})}else i.push({type:"text",content:"",range:Dn.Range.create(Dn.Position.create(r,o+g+n),Dn.Position.create(r,o+g+n))});o=f+u[0].length}let s=t.substring(o);s.length>0&&i.push({type:"text",content:s,range:Dn.Range.create(Dn.Position.create(r,o+n),Dn.Position.create(r,o+n+s.length))})}return i}function Jw(e,t){let r=e.substring(t).match(tje);return r?t+r.index:e.length}function Rhe(e){let t=e.match(rje);if(t&&typeof t.index=="number")return t.index}function Dhe(e){var t,r,n,i;let o=Dn.Position.create(e.position.line,e.position.character);if(e.tokens.length===0)return new cre([],Dn.Range.create(o,o));let s=[];for(;e.index<e.tokens.length;){let p=Lhe(e,s[s.length-1]);p&&s.push(p)}let u=(r=(t=s[0])===null||t===void 0?void 0:t.range.start)!==null&&r!==void 0?r:o,f=(i=(n=s[s.length-1])===null||n===void 0?void 0:n.range.end)!==null&&i!==void 0?i:o;return new cre(s,Dn.Range.create(u,f))}function Lhe(e,t){let r=e.tokens[e.index];if(r.type==="tag")return c6(e,!1);if(r.type==="text"||r.type==="inline-tag")return l6(e);Ihe(r,t),e.index++}function Ihe(e,t){if(t){let r=new Mhe("",e.range);"inlines"in t?t.inlines.push(r):t.content.inlines.push(r)}}function l6(e){let t=e.tokens[e.index],r=t,n=t,i=[];for(;t&&t.type!=="break"&&t.type!=="tag";)i.push(Nhe(e)),n=t,t=e.tokens[e.index];return new uN(i,Dn.Range.create(r.range.start,n.range.end))}function Nhe(e){return e.tokens[e.index].type==="inline-tag"?c6(e,!0):u6(e)}function c6(e,t){let r=e.tokens[e.index++],n=r.content.substring(1),i=e.tokens[e.index];if(i?.type==="text")if(t){let o=u6(e);return new fI(n,new uN([o],o.range),t,Dn.Range.create(r.range.start,o.range.end))}else{let o=l6(e);return new fI(n,o,t,Dn.Range.create(r.range.start,o.range.end))}else{let o=r.range;return new fI(n,new uN([],o),t,o)}}function u6(e){let t=e.tokens[e.index++];return new Mhe(t.content,t.range)}function UE(e){if(!e)return UE({start:"/**",end:"*/",line:"*"});let{start:t,end:r,line:n}=e;return{start:hw(t,!0),end:hw(r,!1),line:hw(n,!0)}}function hw(e,t){if(typeof e=="string"||typeof e=="object"){let r=typeof e=="string"?op(e):e.source;return t?new RegExp(`^\\s*${r}`):new RegExp(`\\s*${r}\\s*$`)}else return e}function Phe(e,t,r){var n,i;if(e==="linkplain"||e==="linkcode"||e==="link"){let o=t.indexOf(" "),s=t;if(o>0){let f=Jw(t,o);s=t.substring(f),t=t.substring(0,o)}return(e==="linkcode"||e==="link"&&r.link==="code")&&(s=`\`${s}\``),(i=(n=r.renderLink)===null||n===void 0?void 0:n.call(r,t,s))!==null&&i!==void 0?i:Ohe(t,s)}}function Ohe(e,t){try{return Fg.parse(e,!0),`[${t}](${e})`}catch{return e}}function fN(e){return e.endsWith(`
`)?`
`:`

`}function f6(e){return{documentation:{CommentProvider:t=>new ije(t),DocumentationProvider:t=>new nje(t)},parser:{GrammarConfig:t=>kae(t),LangiumParser:t=>uhe(t),CompletionParser:t=>che(t),ValueConverter:()=>new dhe,TokenBuilder:()=>new hhe,Lexer:t=>new _he(t),ParserErrorMessageProvider:()=>new Zfe},lsp:{CompletionProvider:t=>new Qie(t),DocumentSymbolProvider:t=>new Z9e(t),HoverProvider:t=>new nqe(t),FoldingRangeProvider:t=>new Zie(t),ReferencesProvider:t=>new cqe(t),DefinitionProvider:t=>new rae(t),DocumentHighlightProvider:t=>new Q9e(t),RenameProvider:t=>new fqe(t)},workspace:{AstNodeLocator:()=>new jHe,AstNodeDescriptionProvider:t=>new WHe(t),ReferenceDescriptionProvider:t=>new HHe(t)},references:{Linker:t=>new UHe(t),NameProvider:()=>new Kne,ScopeProvider:t=>new $ie(t),ScopeComputation:t=>new zie(t),References:t=>new tae(t)},serializer:{JsonSerializer:t=>new $He(t)},validation:{DocumentValidator:t=>new P9e(t),ValidationRegistry:t=>new x9e(t)},shared:()=>e.shared}}function h6(e){return{ServiceRegistry:()=>new GHe,lsp:{Connection:()=>e.connection,LanguageServer:t=>new oqe(t),WorkspaceSymbolProvider:t=>new dqe(t),NodeKindProvider:()=>new sqe,FuzzyMatcher:()=>new J9e},workspace:{LangiumDocuments:t=>new aqe(t),LangiumDocumentFactory:t=>new iqe(t),DocumentBuilder:t=>new KHe(t),TextDocuments:()=>new YBe.TextDocuments(dw),IndexManager:t=>new QHe(t),WorkspaceManager:t=>new JHe(t),FileSystemProvider:t=>e.fileSystemProvider(t),MutexLock:()=>new v9e,ConfigurationProvider:t=>new XHe(t)}}}function Bhe(e=xae){let t=x1(h6(e),sje),r=x1(f6({shared:t}),lje,vje);return t.ServiceRegistry.register(r),{shared:t,Info:r}}function d6(e,t){let r=xje[e];if(!r)throw new Error(`Unknown diagram type: ${e}`);hN[e]||r();let i=hN[e].parse(t);if(i.lexerErrors.length>0||i.parserErrors.length>0)throw new bje(i);return i.value}var ZFe,eE,JFe,fre,eBe,tBe,_,rBe,lr,nBe,iBe,En,Ah,hre,Gg,aBe,oBe,$1,mre,yre,vre,sBe,lBe,cBe,uBe,iee,Rh,aee,dN,Ii,pN,fBe,hBe,dBe,pBe,mBe,gBe,yBe,vBe,xBe,bBe,TBe,kBe,_Be,wBe,EBe,CBe,SBe,ABe,RBe,DBe,LBe,IBe,NBe,da,bre,Tre,kre,_re,wre,PBe,OBe,MBe,FBe,BBe,qBe,zBe,UBe,$Be,GBe,VBe,WBe,HBe,oee,jBe,Vn,YBe,XBe,see,dw,Sre,zu,mw,xs,Mg,Z_,Fu,Nre,gI,lee,no,ZL,Ag,KBe,QBe,vI,qre,zre,$re,Vre,ZBe,JBe,xw,Wre,jre,Xre,Qre,Zre,Jre,e9e,ene,xI,bw,t9e,tne,rne,nne,ine,ane,one,sne,lne,cne,fne,dne,pne,gne,vne,xne,bne,kne,wne,on,r9e,$$t,DN,n9e,ew,zne,cee,JL,i9e,a9e,Ql,IN,H1,Ri,o9e,s9e,Vne,l9e,Kne,_w,ww,uee,c9e,G_,u9e,Qne,cE,f9e,h9e,eI,rie,nie,d9e,p9e,Bu,Fg,bi,G$t,V$t,V_,m9e,fee,EI,hee,Ew,bs,$i,Cw,dee,CI,pee,mee,gee,yee,SI,vee,u1,xee,Sw,Bg,Uu,Ig,io,xh,Aw,w1,E1,C1,AI,W_,bee,W$t,Tee,kee,Rw,_ee,RI,S1,DI,wee,Eee,Cee,See,Aee,Ree,Dee,Dw,Lee,Iee,Nee,Pee,Oee,Mee,Fee,Bee,qee,zee,Uee,Lw,$ee,Gee,Vee,Wee,Hee,jee,Yee,Xee,Kee,Qee,Zee,Jee,ete,LI,II,tte,rte,nte,g9e,ct,NI,ite,y9e,aie,v9e,f1,x9e,Mn,b9e,T9e,WN,k9e,_9e,w9e,E9e,C9e,S9e,ate,qie,A9e,tI,zie,Uie,R9e,D9e,L9e,$ie,I9e,N9e,Js,tl,P9e,Oc,O9e,rI,Qie,M9e,nI,Zie,F9e,B9e,q9e,Pu,gn,z9e,yh,an,eP,eae,U9e,$9e,G9e,iI,V9e,W9e,tae,H9e,aI,j9e,Y9e,X9e,rae,K9e,Q9e,Z9e,H$t,J9e,ote,ste,eqe,tqe,lte,rqe,nqe,j$t,Y$t,oI,qi,iqe,aqe,X$t,oqe,cte,sqe,lqe,cqe,uqe,fqe,K$t,hqe,dqe,pqe,ute,mqe,gqe,yqe,vqe,xqe,xae,bqe,_ae,Tqe,kqe,Wc,_qe,al,wae,wqe,Eqe,Jv,Cqe,Sqe,Aqe,Rqe,Dqe,Lqe,fte,Ih,Zl,Iqe,K1,Q1,Nqe,yn,Pqe,hte,dte,Oqe,Mqe,Fqe,Bqe,qqe,ol,pte,zqe,Uqe,$qe,Gqe,Vqe,mte,Wqe,Hqe,Z1,lp,jqe,Yqe,Xqe,Kqe,Yu,Qqe,sI,gte,Zqe,Jqe,eze,mp,tze,rze,nze,ize,aze,oze,sze,lze,cze,gp,uze,qI,yte,fze,hze,dze,la,pze,mze,gze,yze,vze,xze,bze,Uw,Tze,kze,_ze,wze,Kae,Zae,Eze,Cze,lP,noe,Sze,Aze,vE,cP,J1,Rze,Dze,xE,ex,vte,Lze,uP,Ize,fP,Hc,bE,Nze,Pze,tx,Oze,Mze,xte,voe,Fze,Bze,qze,TE,zze,boe,bte,Uze,Tte,$ze,Gze,L1,Vze,Wze,Hze,jze,Yze,Xze,Kze,Qze,Zze,Jze,eUe,tUe,rUe,nUe,iUe,aUe,oUe,sUe,lUe,cUe,uUe,fUe,hUe,dUe,fi,pUe,rx,_oe,d1,mUe,lI,gUe,Eh,kte,yUe,hP,vUe,xUe,Eoe,Soe,bUe,TUe,kUe,_Ue,Roe,ks,wUe,EUe,CUe,_s,SUe,AUe,RUe,DUe,kE,LUe,IUe,dP,NUe,I1,PUe,OUe,MUe,FUe,BUe,qUe,zUe,UUe,$Ue,GUe,VUe,_te,WUe,_E,HUe,jUe,YUe,XUe,KUe,QUe,wE,ZUe,N1,JUe,e$e,EE,t$e,r$e,n$e,i$e,CE,a$e,o$e,s$e,l$e,c$e,u$e,f$e,h$e,d$e,AE,p$e,nx,pP,m$e,mP,wte,g$e,yP,il,y$e,lse,use,v$e,x$e,b$e,T$e,k$e,_$e,w$e,p1,E$e,C$e,xse,Ete,S$e,Cte,Ste,A$e,vP,_se,R$e,D$e,Ate,L$e,xP,I$e,N$e,P$e,Ese,O$e,Ase,zI,Lse,M$e,UI,F$e,$I,B$e,Pg,Rte,q$e,Dte,Lte,Ite,Nte,z$e,U$e,$$e,G$e,V$e,Zd,zg,W$e,H$e,j$e,Y$e,$w,bP,X$e,K$e,Q$e,Pte,Ote,Z$e,J$e,eGe,tGe,rGe,nGe,iGe,aGe,oGe,sGe,lGe,cGe,uGe,fGe,hGe,dGe,pGe,mGe,gGe,yGe,vGe,xGe,bGe,TGe,kGe,Mte,_Ge,wGe,EGe,CGe,Fte,SGe,AGe,RGe,DGe,LGe,$se,IGe,NGe,PGe,OGe,Gse,MGe,FGe,BGe,Vse,qGe,zGe,UGe,$Ge,GGe,VGe,WGe,HGe,jGe,YGe,XGe,KGe,QGe,ZGe,JGe,eVe,ti,tVe,rVe,Xa,ix,nVe,iVe,aVe,TP,Kse,kP,oVe,sVe,Jse,lVe,_P,cVe,uVe,fVe,hVe,dVe,pVe,mVe,gVe,yVe,vVe,xVe,bVe,TVe,Bte,cI,kVe,_Ve,wVe,EVe,CVe,SVe,qte,zte,H_,AVe,Ute,RVe,ale,DVe,LVe,IVe,lle,NVe,fle,PVe,OVe,mle,MVe,FVe,BVe,qVe,zVe,UVe,$Ve,ec,GVe,VVe,WVe,HVe,jVe,YVe,XVe,Tp,KVe,QVe,Ale,ZVe,JVe,EP,$te,Lle,eWe,tWe,rWe,RE,Ug,Ha,O1,nWe,Sr,iWe,aWe,Xl,$le,ws,oWe,sWe,lWe,cWe,$g,Jl,uWe,sr,Ts,fWe,hWe,dWe,pWe,mWe,gWe,yWe,Rr,vWe,Ko,xWe,ca,bWe,Do,TWe,Gte,kWe,_We,wWe,EWe,Kn,CWe,SWe,Vte,AWe,$u,Gu,RWe,DWe,LWe,IWe,NWe,PWe,OWe,tc,MWe,So,DE,FWe,vce,BWe,qWe,zWe,UWe,bce,CP,$We,jc,Ao,Wg,Qo,ja,Es,Cs,Di,Jo,es,hi,Hg,LE,Lce,GWe,iw,VWe,Oce,Vw,WWe,cp,a1,j_,Bce,HWe,jWe,YWe,o1,ow,Wte,oue,XWe,Li,s1,Yo,KWe,Hte,jte,Yte,Xte,Kte,Qte,Zte,Jte,up,Dg,QWe,ep,ZWe,JWe,eHe,PE,tHe,ere,rHe,tre,xi,nHe,Tue,iHe,GP,aHe,que,zue,Uue,$ue,Gue,ME,Vue,oHe,sHe,lHe,uI,Wue,cHe,uHe,fHe,Nh,hHe,jue,Yue,KI,QI,ZI,lw,Q$t,VP,dHe,pHe,Y_,mHe,tN,gHe,yHe,vHe,xHe,bHe,THe,FE,rre,nre,nfe,ife,kHe,_He,wHe,Xw,Wu,Kw,Ro,HP,EHe,Ch,CHe,lfe,cfe,lx,SHe,AHe,RHe,DHe,ufe,jP,YP,ffe,XP,Qw,iN,Sfe,ire,LHe,IHe,jfe,are,Yfe,NHe,PHe,sN,ore,Kfe,Qfe,OHe,MHe,Zfe,FHe,BHe,qHe,Jfe,hhe,dhe,zHe,UHe,$He,GHe,VHe,WHe,HHe,jHe,YHe,XHe,X_,KHe,sre,QHe,ZHe,JHe,_he,Dn,lre,eje,tje,rje,cre,fI,uN,Mhe,nje,ije,Fhe,Z$t,ure,aje,oje,sje,lje,cje,uje,fje,hje,dje,pje,mje,gje,yje,vje,hN,xje,bje,qhe=F(()=>{"use strict";ZFe=Object.create,eE=Object.defineProperty,JFe=Object.getOwnPropertyDescriptor,fre=Object.getOwnPropertyNames,eBe=Object.getPrototypeOf,tBe=Object.prototype.hasOwnProperty,_=a((e,t)=>eE(e,"name",{value:t,configurable:!0}),"__name"),rBe=(e=>typeof ad<"u"?ad:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof ad<"u"?ad:t)[r]}):e)(function(e){if(typeof ad<"u")return ad.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')}),lr=a((e,t)=>a(function(){return t||(0,e[fre(e)[0]])((t={exports:{}}).exports,t),t.exports},"__require2"),"__commonJS"),nBe=a((e,t)=>{for(var r in t)eE(e,r,{get:t[r],enumerable:!0})},"__export"),iBe=a((e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of fre(t))!tBe.call(e,i)&&i!==r&&eE(e,i,{get:()=>t[i],enumerable:!(n=JFe(t,i))||n.enumerable});return e},"__copyProps"),En=a((e,t,r)=>(r=e!=null?ZFe(eBe(e)):{},iBe(t||!e||!e.__esModule?eE(r,"default",{value:e,enumerable:!0}):r,e)),"__toESM"),Ah=lr({"../../node_modules/.pnpm/vscode-jsonrpc@8.0.2/node_modules/vscode-jsonrpc/lib/common/ral.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t;function r(){if(t===void 0)throw new Error("No runtime abstraction layer installed");return t}a(r,"RAL"),_(r,"RAL"),function(n){function i(o){if(o===void 0)throw new Error("No runtime abstraction layer provided");t=o}a(i,"install"),_(i,"install"),n.install=i}(r||(r={})),e.default=r}}),hre=lr({"../../node_modules/.pnpm/vscode-jsonrpc@8.0.2/node_modules/vscode-jsonrpc/lib/common/disposable.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Disposable=void 0;var t;(function(r){function n(i){return{dispose:i}}a(n,"create"),_(n,"create"),r.create=n})(t=e.Disposable||(e.Disposable={}))}}),Gg=lr({"../../node_modules/.pnpm/vscode-jsonrpc@8.0.2/node_modules/vscode-jsonrpc/lib/common/events.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Emitter=e.Event=void 0;var t=Ah(),r;(function(o){let s={dispose(){}};o.None=function(){return s}})(r=e.Event||(e.Event={}));var n=class{static{a(this,"CallbackList")}static{_(this,"CallbackList")}add(o,s=null,u){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(o),this._contexts.push(s),Array.isArray(u)&&u.push({dispose:()=>this.remove(o,s)})}remove(o,s=null){if(!this._callbacks)return;let u=!1;for(let f=0,p=this._callbacks.length;f<p;f++)if(this._callbacks[f]===o)if(this._contexts[f]===s){this._callbacks.splice(f,1),this._contexts.splice(f,1);return}else u=!0;if(u)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...o){if(!this._callbacks)return[];let s=[],u=this._callbacks.slice(0),f=this._contexts.slice(0);for(let p=0,g=u.length;p<g;p++)try{s.push(u[p].apply(f[p],o))}catch(y){(0,t.default)().console.error(y)}return s}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},i=class dre{static{a(this,"_Emitter")}static{_(this,"Emitter")}constructor(s){this._options=s}get event(){return this._event||(this._event=(s,u,f)=>{this._callbacks||(this._callbacks=new n),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(s,u);let p={dispose:()=>{this._callbacks&&(this._callbacks.remove(s,u),p.dispose=dre._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(f)&&f.push(p),p}),this._event}fire(s){this._callbacks&&this._callbacks.invoke.call(this._callbacks,s)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};e.Emitter=i,i._noop=function(){}}}),aBe=lr({"../../node_modules/.pnpm/vscode-jsonrpc@8.0.2/node_modules/vscode-jsonrpc/lib/common/messageBuffer.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractMessageBuffer=void 0;var t=13,r=10,n=`\r
`,i=class{static{a(this,"AbstractMessageBuffer")}static{_(this,"AbstractMessageBuffer")}constructor(o="utf-8"){this._encoding=o,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(o){let s=typeof o=="string"?this.fromString(o,this._encoding):o;this._chunks.push(s),this._totalLength+=s.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let o=0,s=0,u=0,f=0;e:for(;s<this._chunks.length;){let x=this._chunks[s];for(u=0;u<x.length;){switch(x[u]){case t:switch(o){case 0:o=1;break;case 2:o=3;break;default:o=0}break;case r:switch(o){case 1:o=2;break;case 3:o=4,u++;break e;default:o=0}break;default:o=0}u++}f+=x.byteLength,s++}if(o!==4)return;let p=this._read(f+u),g=new Map,y=this.toString(p,"ascii").split(n);if(y.length<2)return g;for(let x=0;x<y.length-2;x++){let b=y[x],E=b.indexOf(":");if(E===-1)throw new Error("Message header must separate key and value using :");let A=b.substr(0,E),O=b.substr(E+1).trim();g.set(A,O)}return g}tryReadBody(o){if(!(this._totalLength<o))return this._read(o)}get numberOfBytes(){return this._totalLength}_read(o){if(o===0)return this.emptyBuffer();if(o>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===o){let p=this._chunks[0];return this._chunks.shift(),this._totalLength-=o,this.asNative(p)}if(this._chunks[0].byteLength>o){let p=this._chunks[0],g=this.asNative(p,o);return this._chunks[0]=p.slice(o),this._totalLength-=o,g}let s=this.allocNative(o),u=0,f=0;for(;o>0;){let p=this._chunks[f];if(p.byteLength>o){let g=p.slice(0,o);s.set(g,u),u+=o,this._chunks[f]=p.slice(o),this._totalLength-=o,o-=o}else s.set(p,u),u+=p.byteLength,this._chunks.shift(),this._totalLength-=p.byteLength,o-=p.byteLength}return s}};e.AbstractMessageBuffer=i}}),oBe=lr({"../../node_modules/.pnpm/vscode-jsonrpc@8.0.2/node_modules/vscode-jsonrpc/lib/browser/ril.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Ah(),r=hre(),n=Gg(),i=aBe(),o=class pre extends i.AbstractMessageBuffer{static{a(this,"_MessageBuffer")}static{_(this,"MessageBuffer")}constructor(x="utf-8"){super(x),this.asciiDecoder=new TextDecoder("ascii")}emptyBuffer(){return pre.emptyBuffer}fromString(x,b){return new TextEncoder().encode(x)}toString(x,b){return b==="ascii"?this.asciiDecoder.decode(x):new TextDecoder(b).decode(x)}asNative(x,b){return b===void 0?x:x.slice(0,b)}allocNative(x){return new Uint8Array(x)}};o.emptyBuffer=new Uint8Array(0);var s=class{static{a(this,"ReadableStreamWrapper")}static{_(this,"ReadableStreamWrapper")}constructor(y){this.socket=y,this._onData=new n.Emitter,this._messageListener=x=>{x.data.arrayBuffer().then(E=>{this._onData.fire(new Uint8Array(E))},()=>{(0,t.default)().console.error("Converting blob to array buffer failed.")})},this.socket.addEventListener("message",this._messageListener)}onClose(y){return this.socket.addEventListener("close",y),r.Disposable.create(()=>this.socket.removeEventListener("close",y))}onError(y){return this.socket.addEventListener("error",y),r.Disposable.create(()=>this.socket.removeEventListener("error",y))}onEnd(y){return this.socket.addEventListener("end",y),r.Disposable.create(()=>this.socket.removeEventListener("end",y))}onData(y){return this._onData.event(y)}},u=class{static{a(this,"WritableStreamWrapper")}static{_(this,"WritableStreamWrapper")}constructor(y){this.socket=y}onClose(y){return this.socket.addEventListener("close",y),r.Disposable.create(()=>this.socket.removeEventListener("close",y))}onError(y){return this.socket.addEventListener("error",y),r.Disposable.create(()=>this.socket.removeEventListener("error",y))}onEnd(y){return this.socket.addEventListener("end",y),r.Disposable.create(()=>this.socket.removeEventListener("end",y))}write(y,x){if(typeof y=="string"){if(x!==void 0&&x!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${x}`);this.socket.send(y)}else this.socket.send(y);return Promise.resolve()}end(){this.socket.close()}},f=new TextEncoder,p=Object.freeze({messageBuffer:Object.freeze({create:y=>new o(y)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(y,x)=>{if(x.charset!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${x.charset}`);return Promise.resolve(f.encode(JSON.stringify(y,void 0,0)))}}),decoder:Object.freeze({name:"application/json",decode:(y,x)=>{if(!(y instanceof Uint8Array))throw new Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(x.charset).decode(y)))}})}),stream:Object.freeze({asReadableStream:y=>new s(y),asWritableStream:y=>new u(y)}),console,timer:Object.freeze({setTimeout(y,x,...b){let E=setTimeout(y,x,...b);return{dispose:()=>clearTimeout(E)}},setImmediate(y,...x){let b=setTimeout(y,0,...x);return{dispose:()=>clearTimeout(b)}},setInterval(y,x,...b){let E=setInterval(y,x,...b);return{dispose:()=>clearInterval(E)}}})});function g(){return p}a(g,"RIL"),_(g,"RIL"),function(y){function x(){t.default.install(p)}a(x,"install"),_(x,"install"),y.install=x}(g||(g={})),e.default=g}}),$1=lr({"../../node_modules/.pnpm/vscode-jsonrpc@8.0.2/node_modules/vscode-jsonrpc/lib/common/is.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stringArray=e.array=e.func=e.error=e.number=e.string=e.boolean=void 0;function t(f){return f===!0||f===!1}a(t,"boolean"),_(t,"boolean"),e.boolean=t;function r(f){return typeof f=="string"||f instanceof String}a(r,"string"),_(r,"string"),e.string=r;function n(f){return typeof f=="number"||f instanceof Number}a(n,"number"),_(n,"number"),e.number=n;function i(f){return f instanceof Error}a(i,"error"),_(i,"error"),e.error=i;function o(f){return typeof f=="function"}a(o,"func"),_(o,"func"),e.func=o;function s(f){return Array.isArray(f)}a(s,"array"),_(s,"array"),e.array=s;function u(f){return s(f)&&f.every(p=>r(p))}a(u,"stringArray"),_(u,"stringArray"),e.stringArray=u}}),mre=lr({"../../node_modules/.pnpm/vscode-jsonrpc@8.0.2/node_modules/vscode-jsonrpc/lib/common/messages.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Message=e.NotificationType9=e.NotificationType8=e.NotificationType7=e.NotificationType6=e.NotificationType5=e.NotificationType4=e.NotificationType3=e.NotificationType2=e.NotificationType1=e.NotificationType0=e.NotificationType=e.RequestType9=e.RequestType8=e.RequestType7=e.RequestType6=e.RequestType5=e.RequestType4=e.RequestType3=e.RequestType2=e.RequestType1=e.RequestType=e.RequestType0=e.AbstractMessageSignature=e.ParameterStructures=e.ResponseError=e.ErrorCodes=void 0;var t=$1(),r;(function(P){P.ParseError=-32700,P.InvalidRequest=-32600,P.MethodNotFound=-32601,P.InvalidParams=-32602,P.InternalError=-32603,P.jsonrpcReservedErrorRangeStart=-32099,P.serverErrorStart=-32099,P.MessageWriteError=-32099,P.MessageReadError=-32098,P.PendingResponseRejected=-32097,P.ConnectionInactive=-32096,P.ServerNotInitialized=-32002,P.UnknownErrorCode=-32001,P.jsonrpcReservedErrorRangeEnd=-32e3,P.serverErrorEnd=-32e3})(r=e.ErrorCodes||(e.ErrorCodes={}));var n=class gre extends Error{static{a(this,"_ResponseError")}static{_(this,"ResponseError")}constructor(re,ce,ee){super(ce),this.code=t.number(re)?re:r.UnknownErrorCode,this.data=ee,Object.setPrototypeOf(this,gre.prototype)}toJson(){let re={code:this.code,message:this.message};return this.data!==void 0&&(re.data=this.data),re}};e.ResponseError=n;var i=class K_{static{a(this,"_ParameterStructures")}static{_(this,"ParameterStructures")}constructor(re){this.kind=re}static is(re){return re===K_.auto||re===K_.byName||re===K_.byPosition}toString(){return this.kind}};e.ParameterStructures=i,i.auto=new i("auto"),i.byPosition=new i("byPosition"),i.byName=new i("byName");var o=class{static{a(this,"AbstractMessageSignature")}static{_(this,"AbstractMessageSignature")}constructor(P,re){this.method=P,this.numberOfParams=re}get parameterStructures(){return i.auto}};e.AbstractMessageSignature=o;var s=class extends o{static{a(this,"RequestType0")}static{_(this,"RequestType0")}constructor(P){super(P,0)}};e.RequestType0=s;var u=class extends o{static{a(this,"RequestType")}static{_(this,"RequestType")}constructor(P,re=i.auto){super(P,1),this._parameterStructures=re}get parameterStructures(){return this._parameterStructures}};e.RequestType=u;var f=class extends o{static{a(this,"RequestType1")}static{_(this,"RequestType1")}constructor(P,re=i.auto){super(P,1),this._parameterStructures=re}get parameterStructures(){return this._parameterStructures}};e.RequestType1=f;var p=class extends o{static{a(this,"RequestType2")}static{_(this,"RequestType2")}constructor(P){super(P,2)}};e.RequestType2=p;var g=class extends o{static{a(this,"RequestType3")}static{_(this,"RequestType3")}constructor(P){super(P,3)}};e.RequestType3=g;var y=class extends o{static{a(this,"RequestType4")}static{_(this,"RequestType4")}constructor(P){super(P,4)}};e.RequestType4=y;var x=class extends o{static{a(this,"RequestType5")}static{_(this,"RequestType5")}constructor(P){super(P,5)}};e.RequestType5=x;var b=class extends o{static{a(this,"RequestType6")}static{_(this,"RequestType6")}constructor(P){super(P,6)}};e.RequestType6=b;var E=class extends o{static{a(this,"RequestType7")}static{_(this,"RequestType7")}constructor(P){super(P,7)}};e.RequestType7=E;var A=class extends o{static{a(this,"RequestType8")}static{_(this,"RequestType8")}constructor(P){super(P,8)}};e.RequestType8=A;var O=class extends o{static{a(this,"RequestType9")}static{_(this,"RequestType9")}constructor(P){super(P,9)}};e.RequestType9=O;var N=class extends o{static{a(this,"NotificationType")}static{_(this,"NotificationType")}constructor(P,re=i.auto){super(P,1),this._parameterStructures=re}get parameterStructures(){return this._parameterStructures}};e.NotificationType=N;var I=class extends o{static{a(this,"NotificationType0")}static{_(this,"NotificationType0")}constructor(P){super(P,0)}};e.NotificationType0=I;var $=class extends o{static{a(this,"NotificationType1")}static{_(this,"NotificationType1")}constructor(P,re=i.auto){super(P,1),this._parameterStructures=re}get parameterStructures(){return this._parameterStructures}};e.NotificationType1=$;var X=class extends o{static{a(this,"NotificationType2")}static{_(this,"NotificationType2")}constructor(P){super(P,2)}};e.NotificationType2=X;var q=class extends o{static{a(this,"NotificationType3")}static{_(this,"NotificationType3")}constructor(P){super(P,3)}};e.NotificationType3=q;var M=class extends o{static{a(this,"NotificationType4")}static{_(this,"NotificationType4")}constructor(P){super(P,4)}};e.NotificationType4=M;var B=class extends o{static{a(this,"NotificationType5")}static{_(this,"NotificationType5")}constructor(P){super(P,5)}};e.NotificationType5=B;var G=class extends o{static{a(this,"NotificationType6")}static{_(this,"NotificationType6")}constructor(P){super(P,6)}};e.NotificationType6=G;var U=class extends o{static{a(this,"NotificationType7")}static{_(this,"NotificationType7")}constructor(P){super(P,7)}};e.NotificationType7=U;var W=class extends o{static{a(this,"NotificationType8")}static{_(this,"NotificationType8")}constructor(P){super(P,8)}};e.NotificationType8=W;var D=class extends o{static{a(this,"NotificationType9")}static{_(this,"NotificationType9")}constructor(P){super(P,9)}};e.NotificationType9=D;var K;(function(P){function re(H){let te=H;return te&&t.string(te.method)&&(t.string(te.id)||t.number(te.id))}a(re,"isRequest"),_(re,"isRequest"),P.isRequest=re;function ce(H){let te=H;return te&&t.string(te.method)&&H.id===void 0}a(ce,"isNotification"),_(ce,"isNotification"),P.isNotification=ce;function ee(H){let te=H;return te&&(te.result!==void 0||!!te.error)&&(t.string(te.id)||t.number(te.id)||te.id===null)}a(ee,"isResponse"),_(ee,"isResponse"),P.isResponse=ee})(K=e.Message||(e.Message={}))}}),yre=lr({"../../node_modules/.pnpm/vscode-jsonrpc@8.0.2/node_modules/vscode-jsonrpc/lib/common/linkedMap.js"(e){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=e.LinkedMap=e.Touch=void 0;var r;(function(o){o.None=0,o.First=1,o.AsOld=o.First,o.Last=2,o.AsNew=o.Last})(r=e.Touch||(e.Touch={}));var n=class{static{a(this,"LinkedMap")}static{_(this,"LinkedMap")}constructor(){this[t]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(o){return this._map.has(o)}get(o,s=r.None){let u=this._map.get(o);if(u)return s!==r.None&&this.touch(u,s),u.value}set(o,s,u=r.None){let f=this._map.get(o);if(f)f.value=s,u!==r.None&&this.touch(f,u);else{switch(f={key:o,value:s,next:void 0,previous:void 0},u){case r.None:this.addItemLast(f);break;case r.First:this.addItemFirst(f);break;case r.Last:this.addItemLast(f);break;default:this.addItemLast(f);break}this._map.set(o,f),this._size++}return this}delete(o){return!!this.remove(o)}remove(o){let s=this._map.get(o);if(s)return this._map.delete(o),this.removeItem(s),this._size--,s.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let o=this._head;return this._map.delete(o.key),this.removeItem(o),this._size--,o.value}forEach(o,s){let u=this._state,f=this._head;for(;f;){if(s?o.bind(s)(f.value,f.key,this):o(f.value,f.key,this),this._state!==u)throw new Error("LinkedMap got modified during iteration.");f=f.next}}keys(){let o=this._state,s=this._head,u={[Symbol.iterator]:()=>u,next:()=>{if(this._state!==o)throw new Error("LinkedMap got modified during iteration.");if(s){let f={value:s.key,done:!1};return s=s.next,f}else return{value:void 0,done:!0}}};return u}values(){let o=this._state,s=this._head,u={[Symbol.iterator]:()=>u,next:()=>{if(this._state!==o)throw new Error("LinkedMap got modified during iteration.");if(s){let f={value:s.value,done:!1};return s=s.next,f}else return{value:void 0,done:!0}}};return u}entries(){let o=this._state,s=this._head,u={[Symbol.iterator]:()=>u,next:()=>{if(this._state!==o)throw new Error("LinkedMap got modified during iteration.");if(s){let f={value:[s.key,s.value],done:!1};return s=s.next,f}else return{value:void 0,done:!0}}};return u}[(t=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(o){if(o>=this.size)return;if(o===0){this.clear();return}let s=this._head,u=this.size;for(;s&&u>o;)this._map.delete(s.key),s=s.next,u--;this._head=s,this._size=u,s&&(s.previous=void 0),this._state++}addItemFirst(o){if(!this._head&&!this._tail)this._tail=o;else if(this._head)o.next=this._head,this._head.previous=o;else throw new Error("Invalid list");this._head=o,this._state++}addItemLast(o){if(!this._head&&!this._tail)this._head=o;else if(this._tail)o.previous=this._tail,this._tail.next=o;else throw new Error("Invalid list");this._tail=o,this._state++}removeItem(o){if(o===this._head&&o===this._tail)this._head=void 0,this._tail=void 0;else if(o===this._head){if(!o.next)throw new Error("Invalid list");o.next.previous=void 0,this._head=o.next}else if(o===this._tail){if(!o.previous)throw new Error("Invalid list");o.previous.next=void 0,this._tail=o.previous}else{let s=o.next,u=o.previous;if(!s||!u)throw new Error("Invalid list");s.previous=u,u.next=s}o.next=void 0,o.previous=void 0,this._state++}touch(o,s){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(s!==r.First&&s!==r.Last)){if(s===r.First){if(o===this._head)return;let u=o.next,f=o.previous;o===this._tail?(f.next=void 0,this._tail=f):(u.previous=f,f.next=u),o.previous=void 0,o.next=this._head,this._head.previous=o,this._head=o,this._state++}else if(s===r.Last){if(o===this._tail)return;let u=o.next,f=o.previous;o===this._head?(u.previous=void 0,this._head=u):(u.previous=f,f.next=u),o.next=void 0,o.previous=this._tail,this._tail.next=o,this._tail=o,this._state++}}}toJSON(){let o=[];return this.forEach((s,u)=>{o.push([u,s])}),o}fromJSON(o){this.clear();for(let[s,u]of o)this.set(s,u)}};e.LinkedMap=n;var i=class extends n{static{a(this,"LRUCache")}static{_(this,"LRUCache")}constructor(o,s=1){super(),this._limit=o,this._ratio=Math.min(Math.max(0,s),1)}get limit(){return this._limit}set limit(o){this._limit=o,this.checkTrim()}get ratio(){return this._ratio}set ratio(o){this._ratio=Math.min(Math.max(0,o),1),this.checkTrim()}get(o,s=r.AsNew){return super.get(o,s)}peek(o){return super.get(o,r.None)}set(o,s){return super.set(o,s,r.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};e.LRUCache=i}}),vre=lr({"../../node_modules/.pnpm/vscode-jsonrpc@8.0.2/node_modules/vscode-jsonrpc/lib/common/cancellation.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;var t=Ah(),r=$1(),n=Gg(),i;(function(f){f.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:n.Event.None}),f.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:n.Event.None});function p(g){let y=g;return y&&(y===f.None||y===f.Cancelled||r.boolean(y.isCancellationRequested)&&!!y.onCancellationRequested)}a(p,"is"),_(p,"is"),f.is=p})(i=e.CancellationToken||(e.CancellationToken={}));var o=Object.freeze(function(f,p){let g=(0,t.default)().timer.setTimeout(f.bind(p),0);return{dispose(){g.dispose()}}}),s=class{static{a(this,"MutableToken")}static{_(this,"MutableToken")}constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?o:(this._emitter||(this._emitter=new n.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},u=class{static{a(this,"CancellationTokenSource2")}static{_(this,"CancellationTokenSource")}get token(){return this._token||(this._token=new s),this._token}cancel(){this._token?this._token.cancel():this._token=i.Cancelled}dispose(){this._token?this._token instanceof s&&this._token.dispose():this._token=i.None}};e.CancellationTokenSource=u}}),sBe=lr({"../../node_modules/.pnpm/vscode-jsonrpc@8.0.2/node_modules/vscode-jsonrpc/lib/common/messageReader.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReadableStreamMessageReader=e.AbstractMessageReader=e.MessageReader=void 0;var t=Ah(),r=$1(),n=Gg(),i;(function(f){function p(g){let y=g;return y&&r.func(y.listen)&&r.func(y.dispose)&&r.func(y.onError)&&r.func(y.onClose)&&r.func(y.onPartialMessage)}a(p,"is"),_(p,"is"),f.is=p})(i=e.MessageReader||(e.MessageReader={}));var o=class{static{a(this,"AbstractMessageReader")}static{_(this,"AbstractMessageReader")}constructor(){this.errorEmitter=new n.Emitter,this.closeEmitter=new n.Emitter,this.partialMessageEmitter=new n.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(f){this.errorEmitter.fire(this.asError(f))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(f){this.partialMessageEmitter.fire(f)}asError(f){return f instanceof Error?f:new Error(`Reader received error. Reason: ${r.string(f.message)?f.message:"unknown"}`)}};e.AbstractMessageReader=o;var s;(function(f){function p(g){let y,x,b,E=new Map,A,O=new Map;if(g===void 0||typeof g=="string")y=g??"utf-8";else{if(y=g.charset??"utf-8",g.contentDecoder!==void 0&&(b=g.contentDecoder,E.set(b.name,b)),g.contentDecoders!==void 0)for(let N of g.contentDecoders)E.set(N.name,N);if(g.contentTypeDecoder!==void 0&&(A=g.contentTypeDecoder,O.set(A.name,A)),g.contentTypeDecoders!==void 0)for(let N of g.contentTypeDecoders)O.set(N.name,N)}return A===void 0&&(A=(0,t.default)().applicationJson.decoder,O.set(A.name,A)),{charset:y,contentDecoder:b,contentDecoders:E,contentTypeDecoder:A,contentTypeDecoders:O}}a(p,"fromOptions"),_(p,"fromOptions"),f.fromOptions=p})(s||(s={}));var u=class extends o{static{a(this,"ReadableStreamMessageReader")}static{_(this,"ReadableStreamMessageReader")}constructor(f,p){super(),this.readable=f,this.options=s.fromOptions(p),this.buffer=(0,t.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(f){this._partialMessageTimeout=f}get partialMessageTimeout(){return this._partialMessageTimeout}listen(f){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=f;let p=this.readable.onData(g=>{this.onData(g)});return this.readable.onError(g=>this.fireError(g)),this.readable.onClose(()=>this.fireClose()),p}onData(f){for(this.buffer.append(f);;){if(this.nextMessageLength===-1){let y=this.buffer.tryReadHeaders();if(!y)return;let x=y.get("Content-Length");if(!x)throw new Error("Header must provide a Content-Length property.");let b=parseInt(x);if(isNaN(b))throw new Error("Content-Length value must be a number.");this.nextMessageLength=b}let p=this.buffer.tryReadBody(this.nextMessageLength);if(p===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let g;this.options.contentDecoder!==void 0?g=this.options.contentDecoder.decode(p):g=Promise.resolve(p),g.then(y=>{this.options.contentTypeDecoder.decode(y,this.options).then(x=>{this.callback(x)},x=>{this.fireError(x)})},y=>{this.fireError(y)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,t.default)().timer.setTimeout((f,p)=>{this.partialMessageTimer=void 0,f===this.messageToken&&(this.firePartialMessage({messageToken:f,waitingTime:p}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};e.ReadableStreamMessageReader=u}}),lBe=lr({"../../node_modules/.pnpm/vscode-jsonrpc@8.0.2/node_modules/vscode-jsonrpc/lib/common/semaphore.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Semaphore=void 0;var t=Ah(),r=class{static{a(this,"Semaphore")}static{_(this,"Semaphore")}constructor(n=1){if(n<=0)throw new Error("Capacity must be greater than 0");this._capacity=n,this._active=0,this._waiting=[]}lock(n){return new Promise((i,o)=>{this._waiting.push({thunk:n,resolve:i,reject:o}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,t.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let n=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let i=n.thunk();i instanceof Promise?i.then(o=>{this._active--,n.resolve(o),this.runNext()},o=>{this._active--,n.reject(o),this.runNext()}):(this._active--,n.resolve(i),this.runNext())}catch(i){this._active--,n.reject(i),this.runNext()}}};e.Semaphore=r}}),cBe=lr({"../../node_modules/.pnpm/vscode-jsonrpc@8.0.2/node_modules/vscode-jsonrpc/lib/common/messageWriter.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WriteableStreamMessageWriter=e.AbstractMessageWriter=e.MessageWriter=void 0;var t=Ah(),r=$1(),n=lBe(),i=Gg(),o="Content-Length: ",s=`\r
`,u;(function(y){function x(b){let E=b;return E&&r.func(E.dispose)&&r.func(E.onClose)&&r.func(E.onError)&&r.func(E.write)}a(x,"is"),_(x,"is"),y.is=x})(u=e.MessageWriter||(e.MessageWriter={}));var f=class{static{a(this,"AbstractMessageWriter")}static{_(this,"AbstractMessageWriter")}constructor(){this.errorEmitter=new i.Emitter,this.closeEmitter=new i.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(y,x,b){this.errorEmitter.fire([this.asError(y),x,b])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(y){return y instanceof Error?y:new Error(`Writer received error. Reason: ${r.string(y.message)?y.message:"unknown"}`)}};e.AbstractMessageWriter=f;var p;(function(y){function x(b){return b===void 0||typeof b=="string"?{charset:b??"utf-8",contentTypeEncoder:(0,t.default)().applicationJson.encoder}:{charset:b.charset??"utf-8",contentEncoder:b.contentEncoder,contentTypeEncoder:b.contentTypeEncoder??(0,t.default)().applicationJson.encoder}}a(x,"fromOptions"),_(x,"fromOptions"),y.fromOptions=x})(p||(p={}));var g=class extends f{static{a(this,"WriteableStreamMessageWriter")}static{_(this,"WriteableStreamMessageWriter")}constructor(y,x){super(),this.writable=y,this.options=p.fromOptions(x),this.errorCount=0,this.writeSemaphore=new n.Semaphore(1),this.writable.onError(b=>this.fireError(b)),this.writable.onClose(()=>this.fireClose())}async write(y){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(y,this.options).then(b=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(b):b).then(b=>{let E=[];return E.push(o,b.byteLength.toString(),s),E.push(s),this.doWrite(y,E,b)},b=>{throw this.fireError(b),b}))}async doWrite(y,x,b){try{return await this.writable.write(x.join(""),"ascii"),this.writable.write(b)}catch(E){return this.handleError(E,y),Promise.reject(E)}}handleError(y,x){this.errorCount++,this.fireError(y,x,this.errorCount)}end(){this.writable.end()}};e.WriteableStreamMessageWriter=g}}),uBe=lr({"../../node_modules/.pnpm/vscode-jsonrpc@8.0.2/node_modules/vscode-jsonrpc/lib/common/connection.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMessageConnection=e.ConnectionOptions=e.CancellationStrategy=e.CancellationSenderStrategy=e.CancellationReceiverStrategy=e.ConnectionStrategy=e.ConnectionError=e.ConnectionErrors=e.LogTraceNotification=e.SetTraceNotification=e.TraceFormat=e.TraceValues=e.Trace=e.NullLogger=e.ProgressType=e.ProgressToken=void 0;var t=Ah(),r=$1(),n=mre(),i=yre(),o=Gg(),s=vre(),u;(function(W){W.type=new n.NotificationType("$/cancelRequest")})(u||(u={}));var f;(function(W){function D(K){return typeof K=="string"||typeof K=="number"}a(D,"is"),_(D,"is"),W.is=D})(f=e.ProgressToken||(e.ProgressToken={}));var p;(function(W){W.type=new n.NotificationType("$/progress")})(p||(p={}));var g=class{static{a(this,"ProgressType")}static{_(this,"ProgressType")}constructor(){}};e.ProgressType=g;var y;(function(W){function D(K){return r.func(K)}a(D,"is"),_(D,"is"),W.is=D})(y||(y={})),e.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var x;(function(W){W[W.Off=0]="Off",W[W.Messages=1]="Messages",W[W.Compact=2]="Compact",W[W.Verbose=3]="Verbose"})(x=e.Trace||(e.Trace={}));var b;(function(W){W.Off="off",W.Messages="messages",W.Compact="compact",W.Verbose="verbose"})(b=e.TraceValues||(e.TraceValues={})),function(W){function D(P){if(!r.string(P))return W.Off;switch(P=P.toLowerCase(),P){case"off":return W.Off;case"messages":return W.Messages;case"compact":return W.Compact;case"verbose":return W.Verbose;default:return W.Off}}a(D,"fromString"),_(D,"fromString"),W.fromString=D;function K(P){switch(P){case W.Off:return"off";case W.Messages:return"messages";case W.Compact:return"compact";case W.Verbose:return"verbose";default:return"off"}}a(K,"toString4"),_(K,"toString"),W.toString=K}(x=e.Trace||(e.Trace={}));var E;(function(W){W.Text="text",W.JSON="json"})(E=e.TraceFormat||(e.TraceFormat={})),function(W){function D(K){return r.string(K)?(K=K.toLowerCase(),K==="json"?W.JSON:W.Text):W.Text}a(D,"fromString"),_(D,"fromString"),W.fromString=D}(E=e.TraceFormat||(e.TraceFormat={}));var A;(function(W){W.type=new n.NotificationType("$/setTrace")})(A=e.SetTraceNotification||(e.SetTraceNotification={}));var O;(function(W){W.type=new n.NotificationType("$/logTrace")})(O=e.LogTraceNotification||(e.LogTraceNotification={}));var N;(function(W){W[W.Closed=1]="Closed",W[W.Disposed=2]="Disposed",W[W.AlreadyListening=3]="AlreadyListening"})(N=e.ConnectionErrors||(e.ConnectionErrors={}));var I=class xre extends Error{static{a(this,"_ConnectionError")}static{_(this,"ConnectionError")}constructor(D,K){super(K),this.code=D,Object.setPrototypeOf(this,xre.prototype)}};e.ConnectionError=I;var $;(function(W){function D(K){let P=K;return P&&r.func(P.cancelUndispatched)}a(D,"is"),_(D,"is"),W.is=D})($=e.ConnectionStrategy||(e.ConnectionStrategy={}));var X;(function(W){W.Message=Object.freeze({createCancellationTokenSource(K){return new s.CancellationTokenSource}});function D(K){let P=K;return P&&r.func(P.createCancellationTokenSource)}a(D,"is"),_(D,"is"),W.is=D})(X=e.CancellationReceiverStrategy||(e.CancellationReceiverStrategy={}));var q;(function(W){W.Message=Object.freeze({sendCancellation(K,P){return K.sendNotification(u.type,{id:P})},cleanup(K){}});function D(K){let P=K;return P&&r.func(P.sendCancellation)&&r.func(P.cleanup)}a(D,"is"),_(D,"is"),W.is=D})(q=e.CancellationSenderStrategy||(e.CancellationSenderStrategy={}));var M;(function(W){W.Message=Object.freeze({receiver:X.Message,sender:q.Message});function D(K){let P=K;return P&&X.is(P.receiver)&&q.is(P.sender)}a(D,"is"),_(D,"is"),W.is=D})(M=e.CancellationStrategy||(e.CancellationStrategy={}));var B;(function(W){function D(K){let P=K;return P&&(M.is(P.cancellationStrategy)||$.is(P.connectionStrategy))}a(D,"is"),_(D,"is"),W.is=D})(B=e.ConnectionOptions||(e.ConnectionOptions={}));var G;(function(W){W[W.New=1]="New",W[W.Listening=2]="Listening",W[W.Closed=3]="Closed",W[W.Disposed=4]="Disposed"})(G||(G={}));function U(W,D,K,P){let re=K!==void 0?K:e.NullLogger,ce=0,ee=0,H=0,te="2.0",J,Y=new Map,de,Fe=new Map,oe=new Map,rt,We=new i.LinkedMap,_e=new Map,Ve=new Set,Ye=new Map,Le=x.Off,fe=E.Text,le,he=G.New,xe=new o.Emitter,ke=new o.Emitter,pe=new o.Emitter,Ce=new o.Emitter,Ue=new o.Emitter,He=P&&P.cancellationStrategy?P.cancellationStrategy:M.Message;function Pt(Ae){if(Ae===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+Ae.toString()}a(Pt,"createRequestQueueKey"),_(Pt,"createRequestQueueKey");function Lt(Ae){return Ae===null?"res-unknown-"+(++H).toString():"res-"+Ae.toString()}a(Lt,"createResponseQueueKey"),_(Lt,"createResponseQueueKey");function Xt(){return"not-"+(++ee).toString()}a(Xt,"createNotificationQueueKey"),_(Xt,"createNotificationQueueKey");function Kt(Ae,et){n.Message.isRequest(et)?Ae.set(Pt(et.id),et):n.Message.isResponse(et)?Ae.set(Lt(et.id),et):Ae.set(Xt(),et)}a(Kt,"addMessageToQueue"),_(Kt,"addMessageToQueue");function kr(Ae){}a(kr,"cancelUndispatched"),_(kr,"cancelUndispatched");function bt(){return he===G.Listening}a(bt,"isListening"),_(bt,"isListening");function gt(){return he===G.Closed}a(gt,"isClosed"),_(gt,"isClosed");function qt(){return he===G.Disposed}a(qt,"isDisposed"),_(qt,"isDisposed");function ze(){(he===G.New||he===G.Listening)&&(he=G.Closed,ke.fire(void 0))}a(ze,"closeHandler"),_(ze,"closeHandler");function $e(Ae){xe.fire([Ae,void 0,void 0])}a($e,"readErrorHandler"),_($e,"readErrorHandler");function Te(Ae){xe.fire(Ae)}a(Te,"writeErrorHandler"),_(Te,"writeErrorHandler"),W.onClose(ze),W.onError($e),D.onClose(ze),D.onError(Te);function pt(){rt||We.size===0||(rt=(0,t.default)().timer.setImmediate(()=>{rt=void 0,it()}))}a(pt,"triggerMessageQueue"),_(pt,"triggerMessageQueue");function it(){if(We.size===0)return;let Ae=We.shift();try{n.Message.isRequest(Ae)?_r(Ae):n.Message.isNotification(Ae)?mr(Ae):n.Message.isResponse(Ae)?Zt(Ae):sn(Ae)}finally{pt()}}a(it,"processMessageQueue"),_(it,"processMessageQueue");let Qt=_(Ae=>{try{if(n.Message.isNotification(Ae)&&Ae.method===u.type.method){let et=Ae.params.id,vt=Pt(et),It=We.get(vt);if(n.Message.isRequest(It)){let jt=P?.connectionStrategy,Or=jt&&jt.cancelUndispatched?jt.cancelUndispatched(It,kr):void 0;if(Or&&(Or.error!==void 0||Or.result!==void 0)){We.delete(vt),Ye.delete(et),Or.id=It.id,hn(Or,Ae.method,Date.now()),D.write(Or).catch(()=>re.error("Sending response for canceled message failed."));return}}let Cr=Ye.get(et);if(Cr!==void 0){Cr.cancel(),pn(Ae);return}else Ve.add(et)}Kt(We,Ae)}finally{pt()}},"callback");function _r(Ae){if(qt())return;function et(hr,Vr,Nr){let ln={jsonrpc:te,id:Ae.id};hr instanceof n.ResponseError?ln.error=hr.toJson():ln.result=hr===void 0?null:hr,hn(ln,Vr,Nr),D.write(ln).catch(()=>re.error("Sending response failed."))}a(et,"reply"),_(et,"reply");function vt(hr,Vr,Nr){let ln={jsonrpc:te,id:Ae.id,error:hr.toJson()};hn(ln,Vr,Nr),D.write(ln).catch(()=>re.error("Sending response failed."))}a(vt,"replyError"),_(vt,"replyError");function It(hr,Vr,Nr){hr===void 0&&(hr=null);let ln={jsonrpc:te,id:Ae.id,result:hr};hn(ln,Vr,Nr),D.write(ln).catch(()=>re.error("Sending response failed."))}a(It,"replySuccess"),_(It,"replySuccess"),dn(Ae);let Cr=Y.get(Ae.method),jt,Or;Cr&&(jt=Cr.type,Or=Cr.handler);let $r=Date.now();if(Or||J){let hr=Ae.id??String(Date.now()),Vr=He.receiver.createCancellationTokenSource(hr);Ae.id!==null&&Ve.has(Ae.id)&&Vr.cancel(),Ae.id!==null&&Ye.set(hr,Vr);try{let Nr;if(Or)if(Ae.params===void 0){if(jt!==void 0&&jt.numberOfParams!==0){vt(new n.ResponseError(n.ErrorCodes.InvalidParams,`Request ${Ae.method} defines ${jt.numberOfParams} params but received none.`),Ae.method,$r);return}Nr=Or(Vr.token)}else if(Array.isArray(Ae.params)){if(jt!==void 0&&jt.parameterStructures===n.ParameterStructures.byName){vt(new n.ResponseError(n.ErrorCodes.InvalidParams,`Request ${Ae.method} defines parameters by name but received parameters by position`),Ae.method,$r);return}Nr=Or(...Ae.params,Vr.token)}else{if(jt!==void 0&&jt.parameterStructures===n.ParameterStructures.byPosition){vt(new n.ResponseError(n.ErrorCodes.InvalidParams,`Request ${Ae.method} defines parameters by position but received parameters by name`),Ae.method,$r);return}Nr=Or(Ae.params,Vr.token)}else J&&(Nr=J(Ae.method,Ae.params,Vr.token));let ln=Nr;Nr?ln.then?ln.then(di=>{Ye.delete(hr),et(di,Ae.method,$r)},di=>{Ye.delete(hr),di instanceof n.ResponseError?vt(di,Ae.method,$r):di&&r.string(di.message)?vt(new n.ResponseError(n.ErrorCodes.InternalError,`Request ${Ae.method} failed with message: ${di.message}`),Ae.method,$r):vt(new n.ResponseError(n.ErrorCodes.InternalError,`Request ${Ae.method} failed unexpectedly without providing any details.`),Ae.method,$r)}):(Ye.delete(hr),et(Nr,Ae.method,$r)):(Ye.delete(hr),It(Nr,Ae.method,$r))}catch(Nr){Ye.delete(hr),Nr instanceof n.ResponseError?et(Nr,Ae.method,$r):Nr&&r.string(Nr.message)?vt(new n.ResponseError(n.ErrorCodes.InternalError,`Request ${Ae.method} failed with message: ${Nr.message}`),Ae.method,$r):vt(new n.ResponseError(n.ErrorCodes.InternalError,`Request ${Ae.method} failed unexpectedly without providing any details.`),Ae.method,$r)}}else vt(new n.ResponseError(n.ErrorCodes.MethodNotFound,`Unhandled method ${Ae.method}`),Ae.method,$r)}a(_r,"handleRequest"),_(_r,"handleRequest");function Zt(Ae){if(!qt())if(Ae.id===null)Ae.error?re.error(`Received response message without id: Error is: 
${JSON.stringify(Ae.error,void 0,4)}`):re.error("Received response message without id. No further error information provided.");else{let et=Ae.id,vt=_e.get(et);if(tn(Ae,vt),vt!==void 0){_e.delete(et);try{if(Ae.error){let It=Ae.error;vt.reject(new n.ResponseError(It.code,It.message,It.data))}else if(Ae.result!==void 0)vt.resolve(Ae.result);else throw new Error("Should never happen.")}catch(It){It.message?re.error(`Response handler '${vt.method}' failed with message: ${It.message}`):re.error(`Response handler '${vt.method}' failed unexpectedly.`)}}}}a(Zt,"handleResponse"),_(Zt,"handleResponse");function mr(Ae){if(qt())return;let et,vt;if(Ae.method===u.type.method){let It=Ae.params.id;Ve.delete(It),pn(Ae);return}else{let It=Fe.get(Ae.method);It&&(vt=It.handler,et=It.type)}if(vt||de)try{if(pn(Ae),vt)if(Ae.params===void 0)et!==void 0&&et.numberOfParams!==0&&et.parameterStructures!==n.ParameterStructures.byName&&re.error(`Notification ${Ae.method} defines ${et.numberOfParams} params but received none.`),vt();else if(Array.isArray(Ae.params)){let It=Ae.params;Ae.method===p.type.method&&It.length===2&&f.is(It[0])?vt({token:It[0],value:It[1]}):(et!==void 0&&(et.parameterStructures===n.ParameterStructures.byName&&re.error(`Notification ${Ae.method} defines parameters by name but received parameters by position`),et.numberOfParams!==Ae.params.length&&re.error(`Notification ${Ae.method} defines ${et.numberOfParams} params but received ${It.length} arguments`)),vt(...It))}else et!==void 0&&et.parameterStructures===n.ParameterStructures.byPosition&&re.error(`Notification ${Ae.method} defines parameters by position but received parameters by name`),vt(Ae.params);else de&&de(Ae.method,Ae.params)}catch(It){It.message?re.error(`Notification handler '${Ae.method}' failed with message: ${It.message}`):re.error(`Notification handler '${Ae.method}' failed unexpectedly.`)}else pe.fire(Ae)}a(mr,"handleNotification"),_(mr,"handleNotification");function sn(Ae){if(!Ae){re.error("Received empty message.");return}re.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(Ae,null,4)}`);let et=Ae;if(r.string(et.id)||r.number(et.id)){let vt=et.id,It=_e.get(vt);It&&It.reject(new Error("The received response has neither a result nor an error property."))}}a(sn,"handleInvalidMessage"),_(sn,"handleInvalidMessage");function ir(Ae){if(Ae!=null)switch(Le){case x.Verbose:return JSON.stringify(Ae,null,4);case x.Compact:return JSON.stringify(Ae);default:return}}a(ir,"stringifyTrace"),_(ir,"stringifyTrace");function xr(Ae){if(!(Le===x.Off||!le))if(fe===E.Text){let et;(Le===x.Verbose||Le===x.Compact)&&Ae.params&&(et=`Params: ${ir(Ae.params)}

`),le.log(`Sending request '${Ae.method} - (${Ae.id})'.`,et)}else rn("send-request",Ae)}a(xr,"traceSendingRequest"),_(xr,"traceSendingRequest");function Yt(Ae){if(!(Le===x.Off||!le))if(fe===E.Text){let et;(Le===x.Verbose||Le===x.Compact)&&(Ae.params?et=`Params: ${ir(Ae.params)}

`:et=`No parameters provided.

`),le.log(`Sending notification '${Ae.method}'.`,et)}else rn("send-notification",Ae)}a(Yt,"traceSendingNotification"),_(Yt,"traceSendingNotification");function hn(Ae,et,vt){if(!(Le===x.Off||!le))if(fe===E.Text){let It;(Le===x.Verbose||Le===x.Compact)&&(Ae.error&&Ae.error.data?It=`Error data: ${ir(Ae.error.data)}

`:Ae.result?It=`Result: ${ir(Ae.result)}

`:Ae.error===void 0&&(It=`No result returned.

`)),le.log(`Sending response '${et} - (${Ae.id})'. Processing request took ${Date.now()-vt}ms`,It)}else rn("send-response",Ae)}a(hn,"traceSendingResponse"),_(hn,"traceSendingResponse");function dn(Ae){if(!(Le===x.Off||!le))if(fe===E.Text){let et;(Le===x.Verbose||Le===x.Compact)&&Ae.params&&(et=`Params: ${ir(Ae.params)}

`),le.log(`Received request '${Ae.method} - (${Ae.id})'.`,et)}else rn("receive-request",Ae)}a(dn,"traceReceivedRequest"),_(dn,"traceReceivedRequest");function pn(Ae){if(!(Le===x.Off||!le||Ae.method===O.type.method))if(fe===E.Text){let et;(Le===x.Verbose||Le===x.Compact)&&(Ae.params?et=`Params: ${ir(Ae.params)}

`:et=`No parameters provided.

`),le.log(`Received notification '${Ae.method}'.`,et)}else rn("receive-notification",Ae)}a(pn,"traceReceivedNotification"),_(pn,"traceReceivedNotification");function tn(Ae,et){if(!(Le===x.Off||!le))if(fe===E.Text){let vt;if((Le===x.Verbose||Le===x.Compact)&&(Ae.error&&Ae.error.data?vt=`Error data: ${ir(Ae.error.data)}

`:Ae.result?vt=`Result: ${ir(Ae.result)}

`:Ae.error===void 0&&(vt=`No result returned.

`)),et){let It=Ae.error?` Request failed: ${Ae.error.message} (${Ae.error.code}).`:"";le.log(`Received response '${et.method} - (${Ae.id})' in ${Date.now()-et.timerStart}ms.${It}`,vt)}else le.log(`Received response ${Ae.id} without active response promise.`,vt)}else rn("receive-response",Ae)}a(tn,"traceReceivedResponse"),_(tn,"traceReceivedResponse");function rn(Ae,et){if(!le||Le===x.Off)return;let vt={isLSPMessage:!0,type:Ae,message:et,timestamp:Date.now()};le.log(vt)}a(rn,"logLSPMessage"),_(rn,"logLSPMessage");function Qe(){if(gt())throw new I(N.Closed,"Connection is closed.");if(qt())throw new I(N.Disposed,"Connection is disposed.")}a(Qe,"throwIfClosedOrDisposed"),_(Qe,"throwIfClosedOrDisposed");function ge(){if(bt())throw new I(N.AlreadyListening,"Connection is already listening")}a(ge,"throwIfListening"),_(ge,"throwIfListening");function Re(){if(!bt())throw new Error("Call listen() first.")}a(Re,"throwIfNotListening"),_(Re,"throwIfNotListening");function Pe(Ae){return Ae===void 0?null:Ae}a(Pe,"undefinedToNull"),_(Pe,"undefinedToNull");function Ee(Ae){if(Ae!==null)return Ae}a(Ee,"nullToUndefined"),_(Ee,"nullToUndefined");function se(Ae){return Ae!=null&&!Array.isArray(Ae)&&typeof Ae=="object"}a(se,"isNamedParam"),_(se,"isNamedParam");function Ze(Ae,et){switch(Ae){case n.ParameterStructures.auto:return se(et)?Ee(et):[Pe(et)];case n.ParameterStructures.byName:if(!se(et))throw new Error("Received parameters by name but param is not an object literal.");return Ee(et);case n.ParameterStructures.byPosition:return[Pe(et)];default:throw new Error(`Unknown parameter structure ${Ae.toString()}`)}}a(Ze,"computeSingleParam"),_(Ze,"computeSingleParam");function ue(Ae,et){let vt,It=Ae.numberOfParams;switch(It){case 0:vt=void 0;break;case 1:vt=Ze(Ae.parameterStructures,et[0]);break;default:vt=[];for(let Cr=0;Cr<et.length&&Cr<It;Cr++)vt.push(Pe(et[Cr]));if(et.length<It)for(let Cr=et.length;Cr<It;Cr++)vt.push(null);break}return vt}a(ue,"computeMessageParams"),_(ue,"computeMessageParams");let Ot={sendNotification:(Ae,...et)=>{Qe();let vt,It;if(r.string(Ae)){vt=Ae;let jt=et[0],Or=0,$r=n.ParameterStructures.auto;n.ParameterStructures.is(jt)&&(Or=1,$r=jt);let hr=et.length,Vr=hr-Or;switch(Vr){case 0:It=void 0;break;case 1:It=Ze($r,et[Or]);break;default:if($r===n.ParameterStructures.byName)throw new Error(`Received ${Vr} parameters for 'by Name' notification parameter structure.`);It=et.slice(Or,hr).map(Nr=>Pe(Nr));break}}else{let jt=et;vt=Ae.method,It=ue(Ae,jt)}let Cr={jsonrpc:te,method:vt,params:It};return Yt(Cr),D.write(Cr).catch(()=>re.error("Sending notification failed."))},onNotification:(Ae,et)=>{Qe();let vt;return r.func(Ae)?de=Ae:et&&(r.string(Ae)?(vt=Ae,Fe.set(Ae,{type:void 0,handler:et})):(vt=Ae.method,Fe.set(Ae.method,{type:Ae,handler:et}))),{dispose:()=>{vt!==void 0?Fe.delete(vt):de=void 0}}},onProgress:(Ae,et,vt)=>{if(oe.has(et))throw new Error(`Progress handler for token ${et} already registered`);return oe.set(et,vt),{dispose:()=>{oe.delete(et)}}},sendProgress:(Ae,et,vt)=>Ot.sendNotification(p.type,{token:et,value:vt}),onUnhandledProgress:Ce.event,sendRequest:(Ae,...et)=>{Qe(),Re();let vt,It,Cr;if(r.string(Ae)){vt=Ae;let hr=et[0],Vr=et[et.length-1],Nr=0,ln=n.ParameterStructures.auto;n.ParameterStructures.is(hr)&&(Nr=1,ln=hr);let di=et.length;s.CancellationToken.is(Vr)&&(di=di-1,Cr=Vr);let ri=di-Nr;switch(ri){case 0:It=void 0;break;case 1:It=Ze(ln,et[Nr]);break;default:if(ln===n.ParameterStructures.byName)throw new Error(`Received ${ri} parameters for 'by Name' request parameter structure.`);It=et.slice(Nr,di).map(Da=>Pe(Da));break}}else{let hr=et;vt=Ae.method,It=ue(Ae,hr);let Vr=Ae.numberOfParams;Cr=s.CancellationToken.is(hr[Vr])?hr[Vr]:void 0}let jt=ce++,Or;return Cr&&(Or=Cr.onCancellationRequested(()=>{let hr=He.sender.sendCancellation(Ot,jt);return hr===void 0?(re.log(`Received no promise from cancellation strategy when cancelling id ${jt}`),Promise.resolve()):hr.catch(()=>{re.log(`Sending cancellation messages for id ${jt} failed`)})})),new Promise((hr,Vr)=>{let Nr={jsonrpc:te,id:jt,method:vt,params:It},ln=_(Da=>{hr(Da),He.sender.cleanup(jt),Or?.dispose()},"resolveWithCleanup"),di=_(Da=>{Vr(Da),He.sender.cleanup(jt),Or?.dispose()},"rejectWithCleanup"),ri={method:vt,timerStart:Date.now(),resolve:ln,reject:di};xr(Nr);try{D.write(Nr).catch(()=>re.error("Sending request failed."))}catch(Da){ri.reject(new n.ResponseError(n.ErrorCodes.MessageWriteError,Da.message?Da.message:"Unknown reason")),ri=null}ri&&_e.set(jt,ri)})},onRequest:(Ae,et)=>{Qe();let vt=null;return y.is(Ae)?(vt=void 0,J=Ae):r.string(Ae)?(vt=null,et!==void 0&&(vt=Ae,Y.set(Ae,{handler:et,type:void 0}))):et!==void 0&&(vt=Ae.method,Y.set(Ae.method,{type:Ae,handler:et})),{dispose:()=>{vt!==null&&(vt!==void 0?Y.delete(vt):J=void 0)}}},hasPendingResponse:()=>_e.size>0,trace:async(Ae,et,vt)=>{let It=!1,Cr=E.Text;vt!==void 0&&(r.boolean(vt)?It=vt:(It=vt.sendNotification||!1,Cr=vt.traceFormat||E.Text)),Le=Ae,fe=Cr,Le===x.Off?le=void 0:le=et,It&&!gt()&&!qt()&&await Ot.sendNotification(A.type,{value:x.toString(Ae)})},onError:xe.event,onClose:ke.event,onUnhandledNotification:pe.event,onDispose:Ue.event,end:()=>{D.end()},dispose:()=>{if(qt())return;he=G.Disposed,Ue.fire(void 0);let Ae=new n.ResponseError(n.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let et of _e.values())et.reject(Ae);_e=new Map,Ye=new Map,Ve=new Set,We=new i.LinkedMap,r.func(D.dispose)&&D.dispose(),r.func(W.dispose)&&W.dispose()},listen:()=>{Qe(),ge(),he=G.Listening,W.listen(Qt)},inspect:()=>{(0,t.default)().console.log("inspect")}};return Ot.onNotification(O.type,Ae=>{if(Le===x.Off||!le)return;let et=Le===x.Verbose||Le===x.Compact;le.log(Ae.message,et?Ae.verbose:void 0)}),Ot.onNotification(p.type,Ae=>{let et=oe.get(Ae.token);et?et(Ae.value):Ce.fire(Ae)}),Ot}a(U,"createMessageConnection"),_(U,"createMessageConnection"),e.createMessageConnection=U}}),iee=lr({"../../node_modules/.pnpm/vscode-jsonrpc@8.0.2/node_modules/vscode-jsonrpc/lib/common/api.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraceFormat=e.TraceValues=e.Trace=e.ProgressType=e.ProgressToken=e.createMessageConnection=e.NullLogger=e.ConnectionOptions=e.ConnectionStrategy=e.WriteableStreamMessageWriter=e.AbstractMessageWriter=e.MessageWriter=e.ReadableStreamMessageReader=e.AbstractMessageReader=e.MessageReader=e.CancellationToken=e.CancellationTokenSource=e.Emitter=e.Event=e.Disposable=e.LRUCache=e.Touch=e.LinkedMap=e.ParameterStructures=e.NotificationType9=e.NotificationType8=e.NotificationType7=e.NotificationType6=e.NotificationType5=e.NotificationType4=e.NotificationType3=e.NotificationType2=e.NotificationType1=e.NotificationType0=e.NotificationType=e.ErrorCodes=e.ResponseError=e.RequestType9=e.RequestType8=e.RequestType7=e.RequestType6=e.RequestType5=e.RequestType4=e.RequestType3=e.RequestType2=e.RequestType1=e.RequestType0=e.RequestType=e.Message=e.RAL=void 0,e.CancellationStrategy=e.CancellationSenderStrategy=e.CancellationReceiverStrategy=e.ConnectionError=e.ConnectionErrors=e.LogTraceNotification=e.SetTraceNotification=void 0;var t=mre();Object.defineProperty(e,"Message",{enumerable:!0,get:function(){return t.Message}}),Object.defineProperty(e,"RequestType",{enumerable:!0,get:function(){return t.RequestType}}),Object.defineProperty(e,"RequestType0",{enumerable:!0,get:function(){return t.RequestType0}}),Object.defineProperty(e,"RequestType1",{enumerable:!0,get:function(){return t.RequestType1}}),Object.defineProperty(e,"RequestType2",{enumerable:!0,get:function(){return t.RequestType2}}),Object.defineProperty(e,"RequestType3",{enumerable:!0,get:function(){return t.RequestType3}}),Object.defineProperty(e,"RequestType4",{enumerable:!0,get:function(){return t.RequestType4}}),Object.defineProperty(e,"RequestType5",{enumerable:!0,get:function(){return t.RequestType5}}),Object.defineProperty(e,"RequestType6",{enumerable:!0,get:function(){return t.RequestType6}}),Object.defineProperty(e,"RequestType7",{enumerable:!0,get:function(){return t.RequestType7}}),Object.defineProperty(e,"RequestType8",{enumerable:!0,get:function(){return t.RequestType8}}),Object.defineProperty(e,"RequestType9",{enumerable:!0,get:function(){return t.RequestType9}}),Object.defineProperty(e,"ResponseError",{enumerable:!0,get:function(){return t.ResponseError}}),Object.defineProperty(e,"ErrorCodes",{enumerable:!0,get:function(){return t.ErrorCodes}}),Object.defineProperty(e,"NotificationType",{enumerable:!0,get:function(){return t.NotificationType}}),Object.defineProperty(e,"NotificationType0",{enumerable:!0,get:function(){return t.NotificationType0}}),Object.defineProperty(e,"NotificationType1",{enumerable:!0,get:function(){return t.NotificationType1}}),Object.defineProperty(e,"NotificationType2",{enumerable:!0,get:function(){return t.NotificationType2}}),Object.defineProperty(e,"NotificationType3",{enumerable:!0,get:function(){return t.NotificationType3}}),Object.defineProperty(e,"NotificationType4",{enumerable:!0,get:function(){return t.NotificationType4}}),Object.defineProperty(e,"NotificationType5",{enumerable:!0,get:function(){return t.NotificationType5}}),Object.defineProperty(e,"NotificationType6",{enumerable:!0,get:function(){return t.NotificationType6}}),Object.defineProperty(e,"NotificationType7",{enumerable:!0,get:function(){return t.NotificationType7}}),Object.defineProperty(e,"NotificationType8",{enumerable:!0,get:function(){return t.NotificationType8}}),Object.defineProperty(e,"NotificationType9",{enumerable:!0,get:function(){return t.NotificationType9}}),Object.defineProperty(e,"ParameterStructures",{enumerable:!0,get:function(){return t.ParameterStructures}});var r=yre();Object.defineProperty(e,"LinkedMap",{enumerable:!0,get:function(){return r.LinkedMap}}),Object.defineProperty(e,"LRUCache",{enumerable:!0,get:function(){return r.LRUCache}}),Object.defineProperty(e,"Touch",{enumerable:!0,get:function(){return r.Touch}});var n=hre();Object.defineProperty(e,"Disposable",{enumerable:!0,get:function(){return n.Disposable}});var i=Gg();Object.defineProperty(e,"Event",{enumerable:!0,get:function(){return i.Event}}),Object.defineProperty(e,"Emitter",{enumerable:!0,get:function(){return i.Emitter}});var o=vre();Object.defineProperty(e,"CancellationTokenSource",{enumerable:!0,get:function(){return o.CancellationTokenSource}}),Object.defineProperty(e,"CancellationToken",{enumerable:!0,get:function(){return o.CancellationToken}});var s=sBe();Object.defineProperty(e,"MessageReader",{enumerable:!0,get:function(){return s.MessageReader}}),Object.defineProperty(e,"AbstractMessageReader",{enumerable:!0,get:function(){return s.AbstractMessageReader}}),Object.defineProperty(e,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return s.ReadableStreamMessageReader}});var u=cBe();Object.defineProperty(e,"MessageWriter",{enumerable:!0,get:function(){return u.MessageWriter}}),Object.defineProperty(e,"AbstractMessageWriter",{enumerable:!0,get:function(){return u.AbstractMessageWriter}}),Object.defineProperty(e,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return u.WriteableStreamMessageWriter}});var f=uBe();Object.defineProperty(e,"ConnectionStrategy",{enumerable:!0,get:function(){return f.ConnectionStrategy}}),Object.defineProperty(e,"ConnectionOptions",{enumerable:!0,get:function(){return f.ConnectionOptions}}),Object.defineProperty(e,"NullLogger",{enumerable:!0,get:function(){return f.NullLogger}}),Object.defineProperty(e,"createMessageConnection",{enumerable:!0,get:function(){return f.createMessageConnection}}),Object.defineProperty(e,"ProgressToken",{enumerable:!0,get:function(){return f.ProgressToken}}),Object.defineProperty(e,"ProgressType",{enumerable:!0,get:function(){return f.ProgressType}}),Object.defineProperty(e,"Trace",{enumerable:!0,get:function(){return f.Trace}}),Object.defineProperty(e,"TraceValues",{enumerable:!0,get:function(){return f.TraceValues}}),Object.defineProperty(e,"TraceFormat",{enumerable:!0,get:function(){return f.TraceFormat}}),Object.defineProperty(e,"SetTraceNotification",{enumerable:!0,get:function(){return f.SetTraceNotification}}),Object.defineProperty(e,"LogTraceNotification",{enumerable:!0,get:function(){return f.LogTraceNotification}}),Object.defineProperty(e,"ConnectionErrors",{enumerable:!0,get:function(){return f.ConnectionErrors}}),Object.defineProperty(e,"ConnectionError",{enumerable:!0,get:function(){return f.ConnectionError}}),Object.defineProperty(e,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return f.CancellationReceiverStrategy}}),Object.defineProperty(e,"CancellationSenderStrategy",{enumerable:!0,get:function(){return f.CancellationSenderStrategy}}),Object.defineProperty(e,"CancellationStrategy",{enumerable:!0,get:function(){return f.CancellationStrategy}});var p=Ah();e.RAL=p.default}}),Rh=lr({"../../node_modules/.pnpm/vscode-jsonrpc@8.0.2/node_modules/vscode-jsonrpc/lib/browser/main.js"(e){"use strict";var t=e&&e.__createBinding||(Object.create?function(f,p,g,y){y===void 0&&(y=g);var x=Object.getOwnPropertyDescriptor(p,g);(!x||("get"in x?!p.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return p[g]}}),Object.defineProperty(f,y,x)}:function(f,p,g,y){y===void 0&&(y=g),f[y]=p[g]}),r=e&&e.__exportStar||function(f,p){for(var g in f)g!=="default"&&!Object.prototype.hasOwnProperty.call(p,g)&&t(p,f,g)};Object.defineProperty(e,"__esModule",{value:!0}),e.createMessageConnection=e.BrowserMessageWriter=e.BrowserMessageReader=void 0;var n=oBe();n.default.install();var i=iee();r(iee(),e);var o=class extends i.AbstractMessageReader{static{a(this,"BrowserMessageReader")}static{_(this,"BrowserMessageReader")}constructor(f){super(),this._onData=new i.Emitter,this._messageListener=p=>{this._onData.fire(p.data)},f.addEventListener("error",p=>this.fireError(p)),f.onmessage=this._messageListener}listen(f){return this._onData.event(f)}};e.BrowserMessageReader=o;var s=class extends i.AbstractMessageWriter{static{a(this,"BrowserMessageWriter")}static{_(this,"BrowserMessageWriter")}constructor(f){super(),this.context=f,this.errorCount=0,f.addEventListener("error",p=>this.fireError(p))}write(f){try{return this.context.postMessage(f),Promise.resolve()}catch(p){return this.handleError(p,f),Promise.reject(p)}}handleError(f,p){this.errorCount++,this.fireError(f,p,this.errorCount)}end(){}};e.BrowserMessageWriter=s;function u(f,p,g,y){return g===void 0&&(g=i.NullLogger),i.ConnectionStrategy.is(y)&&(y={connectionStrategy:y}),(0,i.createMessageConnection)(f,p,g,y)}a(u,"createMessageConnection"),_(u,"createMessageConnection"),e.createMessageConnection=u}}),aee=lr({"../../node_modules/.pnpm/vscode-jsonrpc@8.0.2/node_modules/vscode-jsonrpc/browser.js"(e,t){"use strict";t.exports=Rh()}}),dN=lr({"../../node_modules/.pnpm/vscode-languageserver-types@3.17.2/node_modules/vscode-languageserver-types/lib/umd/main.js"(e,t){"use strict";(function(r){if(typeof t=="object"&&typeof t.exports=="object"){var n=r(rBe,e);n!==void 0&&(t.exports=n)}else typeof define=="function"&&define.amd&&define(["require","exports"],r)})(function(r,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.TextDocument=n.EOL=n.WorkspaceFolder=n.InlayHint=n.InlayHintLabelPart=n.InlayHintKind=n.InlineValueContext=n.InlineValueEvaluatableExpression=n.InlineValueVariableLookup=n.InlineValueText=n.SemanticTokens=n.SemanticTokenModifiers=n.SemanticTokenTypes=n.SelectionRange=n.DocumentLink=n.FormattingOptions=n.CodeLens=n.CodeAction=n.CodeActionContext=n.CodeActionTriggerKind=n.CodeActionKind=n.DocumentSymbol=n.WorkspaceSymbol=n.SymbolInformation=n.SymbolTag=n.SymbolKind=n.DocumentHighlight=n.DocumentHighlightKind=n.SignatureInformation=n.ParameterInformation=n.Hover=n.MarkedString=n.CompletionList=n.CompletionItem=n.CompletionItemLabelDetails=n.InsertTextMode=n.InsertReplaceEdit=n.CompletionItemTag=n.InsertTextFormat=n.CompletionItemKind=n.MarkupContent=n.MarkupKind=n.TextDocumentItem=n.OptionalVersionedTextDocumentIdentifier=n.VersionedTextDocumentIdentifier=n.TextDocumentIdentifier=n.WorkspaceChange=n.WorkspaceEdit=n.DeleteFile=n.RenameFile=n.CreateFile=n.TextDocumentEdit=n.AnnotatedTextEdit=n.ChangeAnnotationIdentifier=n.ChangeAnnotation=n.TextEdit=n.Command=n.Diagnostic=n.CodeDescription=n.DiagnosticTag=n.DiagnosticSeverity=n.DiagnosticRelatedInformation=n.FoldingRange=n.FoldingRangeKind=n.ColorPresentation=n.ColorInformation=n.Color=n.LocationLink=n.Location=n.Range=n.Position=n.uinteger=n.integer=n.URI=n.DocumentUri=void 0;var i;(function(ge){function Re(Pe){return typeof Pe=="string"}a(Re,"is"),_(Re,"is"),ge.is=Re})(i=n.DocumentUri||(n.DocumentUri={}));var o;(function(ge){function Re(Pe){return typeof Pe=="string"}a(Re,"is"),_(Re,"is"),ge.is=Re})(o=n.URI||(n.URI={}));var s;(function(ge){ge.MIN_VALUE=-2147483648,ge.MAX_VALUE=2147483647;function Re(Pe){return typeof Pe=="number"&&ge.MIN_VALUE<=Pe&&Pe<=ge.MAX_VALUE}a(Re,"is"),_(Re,"is"),ge.is=Re})(s=n.integer||(n.integer={}));var u;(function(ge){ge.MIN_VALUE=0,ge.MAX_VALUE=2147483647;function Re(Pe){return typeof Pe=="number"&&ge.MIN_VALUE<=Pe&&Pe<=ge.MAX_VALUE}a(Re,"is"),_(Re,"is"),ge.is=Re})(u=n.uinteger||(n.uinteger={}));var f;(function(ge){function Re(Ee,se){return Ee===Number.MAX_VALUE&&(Ee=u.MAX_VALUE),se===Number.MAX_VALUE&&(se=u.MAX_VALUE),{line:Ee,character:se}}a(Re,"create"),_(Re,"create"),ge.create=Re;function Pe(Ee){var se=Ee;return Qe.objectLiteral(se)&&Qe.uinteger(se.line)&&Qe.uinteger(se.character)}a(Pe,"is"),_(Pe,"is"),ge.is=Pe})(f=n.Position||(n.Position={}));var p;(function(ge){function Re(Ee,se,Ze,ue){if(Qe.uinteger(Ee)&&Qe.uinteger(se)&&Qe.uinteger(Ze)&&Qe.uinteger(ue))return{start:f.create(Ee,se),end:f.create(Ze,ue)};if(f.is(Ee)&&f.is(se))return{start:Ee,end:se};throw new Error("Range#create called with invalid arguments[".concat(Ee,", ").concat(se,", ").concat(Ze,", ").concat(ue,"]"))}a(Re,"create"),_(Re,"create"),ge.create=Re;function Pe(Ee){var se=Ee;return Qe.objectLiteral(se)&&f.is(se.start)&&f.is(se.end)}a(Pe,"is"),_(Pe,"is"),ge.is=Pe})(p=n.Range||(n.Range={}));var g;(function(ge){function Re(Ee,se){return{uri:Ee,range:se}}a(Re,"create"),_(Re,"create"),ge.create=Re;function Pe(Ee){var se=Ee;return Qe.objectLiteral(se)&&p.is(se.range)&&(Qe.string(se.uri)||Qe.undefined(se.uri))}a(Pe,"is"),_(Pe,"is"),ge.is=Pe})(g=n.Location||(n.Location={}));var y;(function(ge){function Re(Ee,se,Ze,ue){return{targetUri:Ee,targetRange:se,targetSelectionRange:Ze,originSelectionRange:ue}}a(Re,"create"),_(Re,"create"),ge.create=Re;function Pe(Ee){var se=Ee;return Qe.objectLiteral(se)&&p.is(se.targetRange)&&Qe.string(se.targetUri)&&p.is(se.targetSelectionRange)&&(p.is(se.originSelectionRange)||Qe.undefined(se.originSelectionRange))}a(Pe,"is"),_(Pe,"is"),ge.is=Pe})(y=n.LocationLink||(n.LocationLink={}));var x;(function(ge){function Re(Ee,se,Ze,ue){return{red:Ee,green:se,blue:Ze,alpha:ue}}a(Re,"create"),_(Re,"create"),ge.create=Re;function Pe(Ee){var se=Ee;return Qe.objectLiteral(se)&&Qe.numberRange(se.red,0,1)&&Qe.numberRange(se.green,0,1)&&Qe.numberRange(se.blue,0,1)&&Qe.numberRange(se.alpha,0,1)}a(Pe,"is"),_(Pe,"is"),ge.is=Pe})(x=n.Color||(n.Color={}));var b;(function(ge){function Re(Ee,se){return{range:Ee,color:se}}a(Re,"create"),_(Re,"create"),ge.create=Re;function Pe(Ee){var se=Ee;return Qe.objectLiteral(se)&&p.is(se.range)&&x.is(se.color)}a(Pe,"is"),_(Pe,"is"),ge.is=Pe})(b=n.ColorInformation||(n.ColorInformation={}));var E;(function(ge){function Re(Ee,se,Ze){return{label:Ee,textEdit:se,additionalTextEdits:Ze}}a(Re,"create"),_(Re,"create"),ge.create=Re;function Pe(Ee){var se=Ee;return Qe.objectLiteral(se)&&Qe.string(se.label)&&(Qe.undefined(se.textEdit)||B.is(se))&&(Qe.undefined(se.additionalTextEdits)||Qe.typedArray(se.additionalTextEdits,B.is))}a(Pe,"is"),_(Pe,"is"),ge.is=Pe})(E=n.ColorPresentation||(n.ColorPresentation={}));var A;(function(ge){ge.Comment="comment",ge.Imports="imports",ge.Region="region"})(A=n.FoldingRangeKind||(n.FoldingRangeKind={}));var O;(function(ge){function Re(Ee,se,Ze,ue,Ot,Ae){var et={startLine:Ee,endLine:se};return Qe.defined(Ze)&&(et.startCharacter=Ze),Qe.defined(ue)&&(et.endCharacter=ue),Qe.defined(Ot)&&(et.kind=Ot),Qe.defined(Ae)&&(et.collapsedText=Ae),et}a(Re,"create"),_(Re,"create"),ge.create=Re;function Pe(Ee){var se=Ee;return Qe.objectLiteral(se)&&Qe.uinteger(se.startLine)&&Qe.uinteger(se.startLine)&&(Qe.undefined(se.startCharacter)||Qe.uinteger(se.startCharacter))&&(Qe.undefined(se.endCharacter)||Qe.uinteger(se.endCharacter))&&(Qe.undefined(se.kind)||Qe.string(se.kind))}a(Pe,"is"),_(Pe,"is"),ge.is=Pe})(O=n.FoldingRange||(n.FoldingRange={}));var N;(function(ge){function Re(Ee,se){return{location:Ee,message:se}}a(Re,"create"),_(Re,"create"),ge.create=Re;function Pe(Ee){var se=Ee;return Qe.defined(se)&&g.is(se.location)&&Qe.string(se.message)}a(Pe,"is"),_(Pe,"is"),ge.is=Pe})(N=n.DiagnosticRelatedInformation||(n.DiagnosticRelatedInformation={}));var I;(function(ge){ge.Error=1,ge.Warning=2,ge.Information=3,ge.Hint=4})(I=n.DiagnosticSeverity||(n.DiagnosticSeverity={}));var $;(function(ge){ge.Unnecessary=1,ge.Deprecated=2})($=n.DiagnosticTag||(n.DiagnosticTag={}));var X;(function(ge){function Re(Pe){var Ee=Pe;return Qe.objectLiteral(Ee)&&Qe.string(Ee.href)}a(Re,"is"),_(Re,"is"),ge.is=Re})(X=n.CodeDescription||(n.CodeDescription={}));var q;(function(ge){function Re(Ee,se,Ze,ue,Ot,Ae){var et={range:Ee,message:se};return Qe.defined(Ze)&&(et.severity=Ze),Qe.defined(ue)&&(et.code=ue),Qe.defined(Ot)&&(et.source=Ot),Qe.defined(Ae)&&(et.relatedInformation=Ae),et}a(Re,"create"),_(Re,"create"),ge.create=Re;function Pe(Ee){var se,Ze=Ee;return Qe.defined(Ze)&&p.is(Ze.range)&&Qe.string(Ze.message)&&(Qe.number(Ze.severity)||Qe.undefined(Ze.severity))&&(Qe.integer(Ze.code)||Qe.string(Ze.code)||Qe.undefined(Ze.code))&&(Qe.undefined(Ze.codeDescription)||Qe.string((se=Ze.codeDescription)===null||se===void 0?void 0:se.href))&&(Qe.string(Ze.source)||Qe.undefined(Ze.source))&&(Qe.undefined(Ze.relatedInformation)||Qe.typedArray(Ze.relatedInformation,N.is))}a(Pe,"is"),_(Pe,"is"),ge.is=Pe})(q=n.Diagnostic||(n.Diagnostic={}));var M;(function(ge){function Re(Ee,se){for(var Ze=[],ue=2;ue<arguments.length;ue++)Ze[ue-2]=arguments[ue];var Ot={title:Ee,command:se};return Qe.defined(Ze)&&Ze.length>0&&(Ot.arguments=Ze),Ot}a(Re,"create"),_(Re,"create"),ge.create=Re;function Pe(Ee){var se=Ee;return Qe.defined(se)&&Qe.string(se.title)&&Qe.string(se.command)}a(Pe,"is"),_(Pe,"is"),ge.is=Pe})(M=n.Command||(n.Command={}));var B;(function(ge){function Re(Ze,ue){return{range:Ze,newText:ue}}a(Re,"replace"),_(Re,"replace"),ge.replace=Re;function Pe(Ze,ue){return{range:{start:Ze,end:Ze},newText:ue}}a(Pe,"insert"),_(Pe,"insert"),ge.insert=Pe;function Ee(Ze){return{range:Ze,newText:""}}a(Ee,"del"),_(Ee,"del"),ge.del=Ee;function se(Ze){var ue=Ze;return Qe.objectLiteral(ue)&&Qe.string(ue.newText)&&p.is(ue.range)}a(se,"is"),_(se,"is"),ge.is=se})(B=n.TextEdit||(n.TextEdit={}));var G;(function(ge){function Re(Ee,se,Ze){var ue={label:Ee};return se!==void 0&&(ue.needsConfirmation=se),Ze!==void 0&&(ue.description=Ze),ue}a(Re,"create"),_(Re,"create"),ge.create=Re;function Pe(Ee){var se=Ee;return Qe.objectLiteral(se)&&Qe.string(se.label)&&(Qe.boolean(se.needsConfirmation)||se.needsConfirmation===void 0)&&(Qe.string(se.description)||se.description===void 0)}a(Pe,"is"),_(Pe,"is"),ge.is=Pe})(G=n.ChangeAnnotation||(n.ChangeAnnotation={}));var U;(function(ge){function Re(Pe){var Ee=Pe;return Qe.string(Ee)}a(Re,"is"),_(Re,"is"),ge.is=Re})(U=n.ChangeAnnotationIdentifier||(n.ChangeAnnotationIdentifier={}));var W;(function(ge){function Re(Ze,ue,Ot){return{range:Ze,newText:ue,annotationId:Ot}}a(Re,"replace"),_(Re,"replace"),ge.replace=Re;function Pe(Ze,ue,Ot){return{range:{start:Ze,end:Ze},newText:ue,annotationId:Ot}}a(Pe,"insert"),_(Pe,"insert"),ge.insert=Pe;function Ee(Ze,ue){return{range:Ze,newText:"",annotationId:ue}}a(Ee,"del"),_(Ee,"del"),ge.del=Ee;function se(Ze){var ue=Ze;return B.is(ue)&&(G.is(ue.annotationId)||U.is(ue.annotationId))}a(se,"is"),_(se,"is"),ge.is=se})(W=n.AnnotatedTextEdit||(n.AnnotatedTextEdit={}));var D;(function(ge){function Re(Ee,se){return{textDocument:Ee,edits:se}}a(Re,"create"),_(Re,"create"),ge.create=Re;function Pe(Ee){var se=Ee;return Qe.defined(se)&&de.is(se.textDocument)&&Array.isArray(se.edits)}a(Pe,"is"),_(Pe,"is"),ge.is=Pe})(D=n.TextDocumentEdit||(n.TextDocumentEdit={}));var K;(function(ge){function Re(Ee,se,Ze){var ue={kind:"create",uri:Ee};return se!==void 0&&(se.overwrite!==void 0||se.ignoreIfExists!==void 0)&&(ue.options=se),Ze!==void 0&&(ue.annotationId=Ze),ue}a(Re,"create"),_(Re,"create"),ge.create=Re;function Pe(Ee){var se=Ee;return se&&se.kind==="create"&&Qe.string(se.uri)&&(se.options===void 0||(se.options.overwrite===void 0||Qe.boolean(se.options.overwrite))&&(se.options.ignoreIfExists===void 0||Qe.boolean(se.options.ignoreIfExists)))&&(se.annotationId===void 0||U.is(se.annotationId))}a(Pe,"is"),_(Pe,"is"),ge.is=Pe})(K=n.CreateFile||(n.CreateFile={}));var P;(function(ge){function Re(Ee,se,Ze,ue){var Ot={kind:"rename",oldUri:Ee,newUri:se};return Ze!==void 0&&(Ze.overwrite!==void 0||Ze.ignoreIfExists!==void 0)&&(Ot.options=Ze),ue!==void 0&&(Ot.annotationId=ue),Ot}a(Re,"create"),_(Re,"create"),ge.create=Re;function Pe(Ee){var se=Ee;return se&&se.kind==="rename"&&Qe.string(se.oldUri)&&Qe.string(se.newUri)&&(se.options===void 0||(se.options.overwrite===void 0||Qe.boolean(se.options.overwrite))&&(se.options.ignoreIfExists===void 0||Qe.boolean(se.options.ignoreIfExists)))&&(se.annotationId===void 0||U.is(se.annotationId))}a(Pe,"is"),_(Pe,"is"),ge.is=Pe})(P=n.RenameFile||(n.RenameFile={}));var re;(function(ge){function Re(Ee,se,Ze){var ue={kind:"delete",uri:Ee};return se!==void 0&&(se.recursive!==void 0||se.ignoreIfNotExists!==void 0)&&(ue.options=se),Ze!==void 0&&(ue.annotationId=Ze),ue}a(Re,"create"),_(Re,"create"),ge.create=Re;function Pe(Ee){var se=Ee;return se&&se.kind==="delete"&&Qe.string(se.uri)&&(se.options===void 0||(se.options.recursive===void 0||Qe.boolean(se.options.recursive))&&(se.options.ignoreIfNotExists===void 0||Qe.boolean(se.options.ignoreIfNotExists)))&&(se.annotationId===void 0||U.is(se.annotationId))}a(Pe,"is"),_(Pe,"is"),ge.is=Pe})(re=n.DeleteFile||(n.DeleteFile={}));var ce;(function(ge){function Re(Pe){var Ee=Pe;return Ee&&(Ee.changes!==void 0||Ee.documentChanges!==void 0)&&(Ee.documentChanges===void 0||Ee.documentChanges.every(function(se){return Qe.string(se.kind)?K.is(se)||P.is(se)||re.is(se):D.is(se)}))}a(Re,"is"),_(Re,"is"),ge.is=Re})(ce=n.WorkspaceEdit||(n.WorkspaceEdit={}));var ee=function(){function ge(Re,Pe){this.edits=Re,this.changeAnnotations=Pe}return a(ge,"TextEditChangeImpl3"),_(ge,"TextEditChangeImpl"),ge.prototype.insert=function(Re,Pe,Ee){var se,Ze;if(Ee===void 0?se=B.insert(Re,Pe):U.is(Ee)?(Ze=Ee,se=W.insert(Re,Pe,Ee)):(this.assertChangeAnnotations(this.changeAnnotations),Ze=this.changeAnnotations.manage(Ee),se=W.insert(Re,Pe,Ze)),this.edits.push(se),Ze!==void 0)return Ze},ge.prototype.replace=function(Re,Pe,Ee){var se,Ze;if(Ee===void 0?se=B.replace(Re,Pe):U.is(Ee)?(Ze=Ee,se=W.replace(Re,Pe,Ee)):(this.assertChangeAnnotations(this.changeAnnotations),Ze=this.changeAnnotations.manage(Ee),se=W.replace(Re,Pe,Ze)),this.edits.push(se),Ze!==void 0)return Ze},ge.prototype.delete=function(Re,Pe){var Ee,se;if(Pe===void 0?Ee=B.del(Re):U.is(Pe)?(se=Pe,Ee=W.del(Re,Pe)):(this.assertChangeAnnotations(this.changeAnnotations),se=this.changeAnnotations.manage(Pe),Ee=W.del(Re,se)),this.edits.push(Ee),se!==void 0)return se},ge.prototype.add=function(Re){this.edits.push(Re)},ge.prototype.all=function(){return this.edits},ge.prototype.clear=function(){this.edits.splice(0,this.edits.length)},ge.prototype.assertChangeAnnotations=function(Re){if(Re===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},ge}(),H=function(){function ge(Re){this._annotations=Re===void 0?Object.create(null):Re,this._counter=0,this._size=0}return a(ge,"ChangeAnnotations3"),_(ge,"ChangeAnnotations"),ge.prototype.all=function(){return this._annotations},Object.defineProperty(ge.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),ge.prototype.manage=function(Re,Pe){var Ee;if(U.is(Re)?Ee=Re:(Ee=this.nextId(),Pe=Re),this._annotations[Ee]!==void 0)throw new Error("Id ".concat(Ee," is already in use."));if(Pe===void 0)throw new Error("No annotation provided for id ".concat(Ee));return this._annotations[Ee]=Pe,this._size++,Ee},ge.prototype.nextId=function(){return this._counter++,this._counter.toString()},ge}(),te=function(){function ge(Re){var Pe=this;this._textEditChanges=Object.create(null),Re!==void 0?(this._workspaceEdit=Re,Re.documentChanges?(this._changeAnnotations=new H(Re.changeAnnotations),Re.changeAnnotations=this._changeAnnotations.all(),Re.documentChanges.forEach(function(Ee){if(D.is(Ee)){var se=new ee(Ee.edits,Pe._changeAnnotations);Pe._textEditChanges[Ee.textDocument.uri]=se}})):Re.changes&&Object.keys(Re.changes).forEach(function(Ee){var se=new ee(Re.changes[Ee]);Pe._textEditChanges[Ee]=se})):this._workspaceEdit={}}return a(ge,"WorkspaceChange3"),_(ge,"WorkspaceChange"),Object.defineProperty(ge.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),ge.prototype.getTextEditChange=function(Re){if(de.is(Re)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var Pe={uri:Re.uri,version:Re.version},Ee=this._textEditChanges[Pe.uri];if(!Ee){var se=[],Ze={textDocument:Pe,edits:se};this._workspaceEdit.documentChanges.push(Ze),Ee=new ee(se,this._changeAnnotations),this._textEditChanges[Pe.uri]=Ee}return Ee}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var Ee=this._textEditChanges[Re];if(!Ee){var se=[];this._workspaceEdit.changes[Re]=se,Ee=new ee(se),this._textEditChanges[Re]=Ee}return Ee}},ge.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new H,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},ge.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},ge.prototype.createFile=function(Re,Pe,Ee){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var se;G.is(Pe)||U.is(Pe)?se=Pe:Ee=Pe;var Ze,ue;if(se===void 0?Ze=K.create(Re,Ee):(ue=U.is(se)?se:this._changeAnnotations.manage(se),Ze=K.create(Re,Ee,ue)),this._workspaceEdit.documentChanges.push(Ze),ue!==void 0)return ue},ge.prototype.renameFile=function(Re,Pe,Ee,se){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var Ze;G.is(Ee)||U.is(Ee)?Ze=Ee:se=Ee;var ue,Ot;if(Ze===void 0?ue=P.create(Re,Pe,se):(Ot=U.is(Ze)?Ze:this._changeAnnotations.manage(Ze),ue=P.create(Re,Pe,se,Ot)),this._workspaceEdit.documentChanges.push(ue),Ot!==void 0)return Ot},ge.prototype.deleteFile=function(Re,Pe,Ee){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var se;G.is(Pe)||U.is(Pe)?se=Pe:Ee=Pe;var Ze,ue;if(se===void 0?Ze=re.create(Re,Ee):(ue=U.is(se)?se:this._changeAnnotations.manage(se),Ze=re.create(Re,Ee,ue)),this._workspaceEdit.documentChanges.push(Ze),ue!==void 0)return ue},ge}();n.WorkspaceChange=te;var J;(function(ge){function Re(Ee){return{uri:Ee}}a(Re,"create"),_(Re,"create"),ge.create=Re;function Pe(Ee){var se=Ee;return Qe.defined(se)&&Qe.string(se.uri)}a(Pe,"is"),_(Pe,"is"),ge.is=Pe})(J=n.TextDocumentIdentifier||(n.TextDocumentIdentifier={}));var Y;(function(ge){function Re(Ee,se){return{uri:Ee,version:se}}a(Re,"create"),_(Re,"create"),ge.create=Re;function Pe(Ee){var se=Ee;return Qe.defined(se)&&Qe.string(se.uri)&&Qe.integer(se.version)}a(Pe,"is"),_(Pe,"is"),ge.is=Pe})(Y=n.VersionedTextDocumentIdentifier||(n.VersionedTextDocumentIdentifier={}));var de;(function(ge){function Re(Ee,se){return{uri:Ee,version:se}}a(Re,"create"),_(Re,"create"),ge.create=Re;function Pe(Ee){var se=Ee;return Qe.defined(se)&&Qe.string(se.uri)&&(se.version===null||Qe.integer(se.version))}a(Pe,"is"),_(Pe,"is"),ge.is=Pe})(de=n.OptionalVersionedTextDocumentIdentifier||(n.OptionalVersionedTextDocumentIdentifier={}));var Fe;(function(ge){function Re(Ee,se,Ze,ue){return{uri:Ee,languageId:se,version:Ze,text:ue}}a(Re,"create"),_(Re,"create"),ge.create=Re;function Pe(Ee){var se=Ee;return Qe.defined(se)&&Qe.string(se.uri)&&Qe.string(se.languageId)&&Qe.integer(se.version)&&Qe.string(se.text)}a(Pe,"is"),_(Pe,"is"),ge.is=Pe})(Fe=n.TextDocumentItem||(n.TextDocumentItem={}));var oe;(function(ge){ge.PlainText="plaintext",ge.Markdown="markdown";function Re(Pe){var Ee=Pe;return Ee===ge.PlainText||Ee===ge.Markdown}a(Re,"is"),_(Re,"is"),ge.is=Re})(oe=n.MarkupKind||(n.MarkupKind={}));var rt;(function(ge){function Re(Pe){var Ee=Pe;return Qe.objectLiteral(Pe)&&oe.is(Ee.kind)&&Qe.string(Ee.value)}a(Re,"is"),_(Re,"is"),ge.is=Re})(rt=n.MarkupContent||(n.MarkupContent={}));var We;(function(ge){ge.Text=1,ge.Method=2,ge.Function=3,ge.Constructor=4,ge.Field=5,ge.Variable=6,ge.Class=7,ge.Interface=8,ge.Module=9,ge.Property=10,ge.Unit=11,ge.Value=12,ge.Enum=13,ge.Keyword=14,ge.Snippet=15,ge.Color=16,ge.File=17,ge.Reference=18,ge.Folder=19,ge.EnumMember=20,ge.Constant=21,ge.Struct=22,ge.Event=23,ge.Operator=24,ge.TypeParameter=25})(We=n.CompletionItemKind||(n.CompletionItemKind={}));var _e;(function(ge){ge.PlainText=1,ge.Snippet=2})(_e=n.InsertTextFormat||(n.InsertTextFormat={}));var Ve;(function(ge){ge.Deprecated=1})(Ve=n.CompletionItemTag||(n.CompletionItemTag={}));var Ye;(function(ge){function Re(Ee,se,Ze){return{newText:Ee,insert:se,replace:Ze}}a(Re,"create"),_(Re,"create"),ge.create=Re;function Pe(Ee){var se=Ee;return se&&Qe.string(se.newText)&&p.is(se.insert)&&p.is(se.replace)}a(Pe,"is"),_(Pe,"is"),ge.is=Pe})(Ye=n.InsertReplaceEdit||(n.InsertReplaceEdit={}));var Le;(function(ge){ge.asIs=1,ge.adjustIndentation=2})(Le=n.InsertTextMode||(n.InsertTextMode={}));var fe;(function(ge){function Re(Pe){var Ee=Pe;return Ee&&(Qe.string(Ee.detail)||Ee.detail===void 0)&&(Qe.string(Ee.description)||Ee.description===void 0)}a(Re,"is"),_(Re,"is"),ge.is=Re})(fe=n.CompletionItemLabelDetails||(n.CompletionItemLabelDetails={}));var le;(function(ge){function Re(Pe){return{label:Pe}}a(Re,"create"),_(Re,"create"),ge.create=Re})(le=n.CompletionItem||(n.CompletionItem={}));var he;(function(ge){function Re(Pe,Ee){return{items:Pe||[],isIncomplete:!!Ee}}a(Re,"create"),_(Re,"create"),ge.create=Re})(he=n.CompletionList||(n.CompletionList={}));var xe;(function(ge){function Re(Ee){return Ee.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}a(Re,"fromPlainText"),_(Re,"fromPlainText"),ge.fromPlainText=Re;function Pe(Ee){var se=Ee;return Qe.string(se)||Qe.objectLiteral(se)&&Qe.string(se.language)&&Qe.string(se.value)}a(Pe,"is"),_(Pe,"is"),ge.is=Pe})(xe=n.MarkedString||(n.MarkedString={}));var ke;(function(ge){function Re(Pe){var Ee=Pe;return!!Ee&&Qe.objectLiteral(Ee)&&(rt.is(Ee.contents)||xe.is(Ee.contents)||Qe.typedArray(Ee.contents,xe.is))&&(Pe.range===void 0||p.is(Pe.range))}a(Re,"is"),_(Re,"is"),ge.is=Re})(ke=n.Hover||(n.Hover={}));var pe;(function(ge){function Re(Pe,Ee){return Ee?{label:Pe,documentation:Ee}:{label:Pe}}a(Re,"create"),_(Re,"create"),ge.create=Re})(pe=n.ParameterInformation||(n.ParameterInformation={}));var Ce;(function(ge){function Re(Pe,Ee){for(var se=[],Ze=2;Ze<arguments.length;Ze++)se[Ze-2]=arguments[Ze];var ue={label:Pe};return Qe.defined(Ee)&&(ue.documentation=Ee),Qe.defined(se)?ue.parameters=se:ue.parameters=[],ue}a(Re,"create"),_(Re,"create"),ge.create=Re})(Ce=n.SignatureInformation||(n.SignatureInformation={}));var Ue;(function(ge){ge.Text=1,ge.Read=2,ge.Write=3})(Ue=n.DocumentHighlightKind||(n.DocumentHighlightKind={}));var He;(function(ge){function Re(Pe,Ee){var se={range:Pe};return Qe.number(Ee)&&(se.kind=Ee),se}a(Re,"create"),_(Re,"create"),ge.create=Re})(He=n.DocumentHighlight||(n.DocumentHighlight={}));var Pt;(function(ge){ge.File=1,ge.Module=2,ge.Namespace=3,ge.Package=4,ge.Class=5,ge.Method=6,ge.Property=7,ge.Field=8,ge.Constructor=9,ge.Enum=10,ge.Interface=11,ge.Function=12,ge.Variable=13,ge.Constant=14,ge.String=15,ge.Number=16,ge.Boolean=17,ge.Array=18,ge.Object=19,ge.Key=20,ge.Null=21,ge.EnumMember=22,ge.Struct=23,ge.Event=24,ge.Operator=25,ge.TypeParameter=26})(Pt=n.SymbolKind||(n.SymbolKind={}));var Lt;(function(ge){ge.Deprecated=1})(Lt=n.SymbolTag||(n.SymbolTag={}));var Xt;(function(ge){function Re(Pe,Ee,se,Ze,ue){var Ot={name:Pe,kind:Ee,location:{uri:Ze,range:se}};return ue&&(Ot.containerName=ue),Ot}a(Re,"create"),_(Re,"create"),ge.create=Re})(Xt=n.SymbolInformation||(n.SymbolInformation={}));var Kt;(function(ge){function Re(Pe,Ee,se,Ze){return Ze!==void 0?{name:Pe,kind:Ee,location:{uri:se,range:Ze}}:{name:Pe,kind:Ee,location:{uri:se}}}a(Re,"create"),_(Re,"create"),ge.create=Re})(Kt=n.WorkspaceSymbol||(n.WorkspaceSymbol={}));var kr;(function(ge){function Re(Ee,se,Ze,ue,Ot,Ae){var et={name:Ee,detail:se,kind:Ze,range:ue,selectionRange:Ot};return Ae!==void 0&&(et.children=Ae),et}a(Re,"create"),_(Re,"create"),ge.create=Re;function Pe(Ee){var se=Ee;return se&&Qe.string(se.name)&&Qe.number(se.kind)&&p.is(se.range)&&p.is(se.selectionRange)&&(se.detail===void 0||Qe.string(se.detail))&&(se.deprecated===void 0||Qe.boolean(se.deprecated))&&(se.children===void 0||Array.isArray(se.children))&&(se.tags===void 0||Array.isArray(se.tags))}a(Pe,"is"),_(Pe,"is"),ge.is=Pe})(kr=n.DocumentSymbol||(n.DocumentSymbol={}));var bt;(function(ge){ge.Empty="",ge.QuickFix="quickfix",ge.Refactor="refactor",ge.RefactorExtract="refactor.extract",ge.RefactorInline="refactor.inline",ge.RefactorRewrite="refactor.rewrite",ge.Source="source",ge.SourceOrganizeImports="source.organizeImports",ge.SourceFixAll="source.fixAll"})(bt=n.CodeActionKind||(n.CodeActionKind={}));var gt;(function(ge){ge.Invoked=1,ge.Automatic=2})(gt=n.CodeActionTriggerKind||(n.CodeActionTriggerKind={}));var qt;(function(ge){function Re(Ee,se,Ze){var ue={diagnostics:Ee};return se!=null&&(ue.only=se),Ze!=null&&(ue.triggerKind=Ze),ue}a(Re,"create"),_(Re,"create"),ge.create=Re;function Pe(Ee){var se=Ee;return Qe.defined(se)&&Qe.typedArray(se.diagnostics,q.is)&&(se.only===void 0||Qe.typedArray(se.only,Qe.string))&&(se.triggerKind===void 0||se.triggerKind===gt.Invoked||se.triggerKind===gt.Automatic)}a(Pe,"is"),_(Pe,"is"),ge.is=Pe})(qt=n.CodeActionContext||(n.CodeActionContext={}));var ze;(function(ge){function Re(Ee,se,Ze){var ue={title:Ee},Ot=!0;return typeof se=="string"?(Ot=!1,ue.kind=se):M.is(se)?ue.command=se:ue.edit=se,Ot&&Ze!==void 0&&(ue.kind=Ze),ue}a(Re,"create"),_(Re,"create"),ge.create=Re;function Pe(Ee){var se=Ee;return se&&Qe.string(se.title)&&(se.diagnostics===void 0||Qe.typedArray(se.diagnostics,q.is))&&(se.kind===void 0||Qe.string(se.kind))&&(se.edit!==void 0||se.command!==void 0)&&(se.command===void 0||M.is(se.command))&&(se.isPreferred===void 0||Qe.boolean(se.isPreferred))&&(se.edit===void 0||ce.is(se.edit))}a(Pe,"is"),_(Pe,"is"),ge.is=Pe})(ze=n.CodeAction||(n.CodeAction={}));var $e;(function(ge){function Re(Ee,se){var Ze={range:Ee};return Qe.defined(se)&&(Ze.data=se),Ze}a(Re,"create"),_(Re,"create"),ge.create=Re;function Pe(Ee){var se=Ee;return Qe.defined(se)&&p.is(se.range)&&(Qe.undefined(se.command)||M.is(se.command))}a(Pe,"is"),_(Pe,"is"),ge.is=Pe})($e=n.CodeLens||(n.CodeLens={}));var Te;(function(ge){function Re(Ee,se){return{tabSize:Ee,insertSpaces:se}}a(Re,"create"),_(Re,"create"),ge.create=Re;function Pe(Ee){var se=Ee;return Qe.defined(se)&&Qe.uinteger(se.tabSize)&&Qe.boolean(se.insertSpaces)}a(Pe,"is"),_(Pe,"is"),ge.is=Pe})(Te=n.FormattingOptions||(n.FormattingOptions={}));var pt;(function(ge){function Re(Ee,se,Ze){return{range:Ee,target:se,data:Ze}}a(Re,"create"),_(Re,"create"),ge.create=Re;function Pe(Ee){var se=Ee;return Qe.defined(se)&&p.is(se.range)&&(Qe.undefined(se.target)||Qe.string(se.target))}a(Pe,"is"),_(Pe,"is"),ge.is=Pe})(pt=n.DocumentLink||(n.DocumentLink={}));var it;(function(ge){function Re(Ee,se){return{range:Ee,parent:se}}a(Re,"create"),_(Re,"create"),ge.create=Re;function Pe(Ee){var se=Ee;return Qe.objectLiteral(se)&&p.is(se.range)&&(se.parent===void 0||ge.is(se.parent))}a(Pe,"is"),_(Pe,"is"),ge.is=Pe})(it=n.SelectionRange||(n.SelectionRange={}));var Qt;(function(ge){ge.namespace="namespace",ge.type="type",ge.class="class",ge.enum="enum",ge.interface="interface",ge.struct="struct",ge.typeParameter="typeParameter",ge.parameter="parameter",ge.variable="variable",ge.property="property",ge.enumMember="enumMember",ge.event="event",ge.function="function",ge.method="method",ge.macro="macro",ge.keyword="keyword",ge.modifier="modifier",ge.comment="comment",ge.string="string",ge.number="number",ge.regexp="regexp",ge.operator="operator",ge.decorator="decorator"})(Qt=n.SemanticTokenTypes||(n.SemanticTokenTypes={}));var _r;(function(ge){ge.declaration="declaration",ge.definition="definition",ge.readonly="readonly",ge.static="static",ge.deprecated="deprecated",ge.abstract="abstract",ge.async="async",ge.modification="modification",ge.documentation="documentation",ge.defaultLibrary="defaultLibrary"})(_r=n.SemanticTokenModifiers||(n.SemanticTokenModifiers={}));var Zt;(function(ge){function Re(Pe){var Ee=Pe;return Qe.objectLiteral(Ee)&&(Ee.resultId===void 0||typeof Ee.resultId=="string")&&Array.isArray(Ee.data)&&(Ee.data.length===0||typeof Ee.data[0]=="number")}a(Re,"is"),_(Re,"is"),ge.is=Re})(Zt=n.SemanticTokens||(n.SemanticTokens={}));var mr;(function(ge){function Re(Ee,se){return{range:Ee,text:se}}a(Re,"create"),_(Re,"create"),ge.create=Re;function Pe(Ee){var se=Ee;return se!=null&&p.is(se.range)&&Qe.string(se.text)}a(Pe,"is"),_(Pe,"is"),ge.is=Pe})(mr=n.InlineValueText||(n.InlineValueText={}));var sn;(function(ge){function Re(Ee,se,Ze){return{range:Ee,variableName:se,caseSensitiveLookup:Ze}}a(Re,"create"),_(Re,"create"),ge.create=Re;function Pe(Ee){var se=Ee;return se!=null&&p.is(se.range)&&Qe.boolean(se.caseSensitiveLookup)&&(Qe.string(se.variableName)||se.variableName===void 0)}a(Pe,"is"),_(Pe,"is"),ge.is=Pe})(sn=n.InlineValueVariableLookup||(n.InlineValueVariableLookup={}));var ir;(function(ge){function Re(Ee,se){return{range:Ee,expression:se}}a(Re,"create"),_(Re,"create"),ge.create=Re;function Pe(Ee){var se=Ee;return se!=null&&p.is(se.range)&&(Qe.string(se.expression)||se.expression===void 0)}a(Pe,"is"),_(Pe,"is"),ge.is=Pe})(ir=n.InlineValueEvaluatableExpression||(n.InlineValueEvaluatableExpression={}));var xr;(function(ge){function Re(Ee,se){return{frameId:Ee,stoppedLocation:se}}a(Re,"create"),_(Re,"create"),ge.create=Re;function Pe(Ee){var se=Ee;return Qe.defined(se)&&p.is(Ee.stoppedLocation)}a(Pe,"is"),_(Pe,"is"),ge.is=Pe})(xr=n.InlineValueContext||(n.InlineValueContext={}));var Yt;(function(ge){ge.Type=1,ge.Parameter=2;function Re(Pe){return Pe===1||Pe===2}a(Re,"is"),_(Re,"is"),ge.is=Re})(Yt=n.InlayHintKind||(n.InlayHintKind={}));var hn;(function(ge){function Re(Ee){return{value:Ee}}a(Re,"create"),_(Re,"create"),ge.create=Re;function Pe(Ee){var se=Ee;return Qe.objectLiteral(se)&&(se.tooltip===void 0||Qe.string(se.tooltip)||rt.is(se.tooltip))&&(se.location===void 0||g.is(se.location))&&(se.command===void 0||M.is(se.command))}a(Pe,"is"),_(Pe,"is"),ge.is=Pe})(hn=n.InlayHintLabelPart||(n.InlayHintLabelPart={}));var dn;(function(ge){function Re(Ee,se,Ze){var ue={position:Ee,label:se};return Ze!==void 0&&(ue.kind=Ze),ue}a(Re,"create"),_(Re,"create"),ge.create=Re;function Pe(Ee){var se=Ee;return Qe.objectLiteral(se)&&f.is(se.position)&&(Qe.string(se.label)||Qe.typedArray(se.label,hn.is))&&(se.kind===void 0||Yt.is(se.kind))&&se.textEdits===void 0||Qe.typedArray(se.textEdits,B.is)&&(se.tooltip===void 0||Qe.string(se.tooltip)||rt.is(se.tooltip))&&(se.paddingLeft===void 0||Qe.boolean(se.paddingLeft))&&(se.paddingRight===void 0||Qe.boolean(se.paddingRight))}a(Pe,"is"),_(Pe,"is"),ge.is=Pe})(dn=n.InlayHint||(n.InlayHint={}));var pn;(function(ge){function Re(Pe){var Ee=Pe;return Qe.objectLiteral(Ee)&&o.is(Ee.uri)&&Qe.string(Ee.name)}a(Re,"is"),_(Re,"is"),ge.is=Re})(pn=n.WorkspaceFolder||(n.WorkspaceFolder={})),n.EOL=[`
`,`\r
`,"\r"];var tn;(function(ge){function Re(Ze,ue,Ot,Ae){return new rn(Ze,ue,Ot,Ae)}a(Re,"create"),_(Re,"create"),ge.create=Re;function Pe(Ze){var ue=Ze;return!!(Qe.defined(ue)&&Qe.string(ue.uri)&&(Qe.undefined(ue.languageId)||Qe.string(ue.languageId))&&Qe.uinteger(ue.lineCount)&&Qe.func(ue.getText)&&Qe.func(ue.positionAt)&&Qe.func(ue.offsetAt))}a(Pe,"is"),_(Pe,"is"),ge.is=Pe;function Ee(Ze,ue){for(var Ot=Ze.getText(),Ae=se(ue,function(Or,$r){var hr=Or.range.start.line-$r.range.start.line;return hr===0?Or.range.start.character-$r.range.start.character:hr}),et=Ot.length,vt=Ae.length-1;vt>=0;vt--){var It=Ae[vt],Cr=Ze.offsetAt(It.range.start),jt=Ze.offsetAt(It.range.end);if(jt<=et)Ot=Ot.substring(0,Cr)+It.newText+Ot.substring(jt,Ot.length);else throw new Error("Overlapping edit");et=Cr}return Ot}a(Ee,"applyEdits"),_(Ee,"applyEdits"),ge.applyEdits=Ee;function se(Ze,ue){if(Ze.length<=1)return Ze;var Ot=Ze.length/2|0,Ae=Ze.slice(0,Ot),et=Ze.slice(Ot);se(Ae,ue),se(et,ue);for(var vt=0,It=0,Cr=0;vt<Ae.length&&It<et.length;){var jt=ue(Ae[vt],et[It]);jt<=0?Ze[Cr++]=Ae[vt++]:Ze[Cr++]=et[It++]}for(;vt<Ae.length;)Ze[Cr++]=Ae[vt++];for(;It<et.length;)Ze[Cr++]=et[It++];return Ze}a(se,"mergeSort2"),_(se,"mergeSort")})(tn=n.TextDocument||(n.TextDocument={}));var rn=function(){function ge(Re,Pe,Ee,se){this._uri=Re,this._languageId=Pe,this._version=Ee,this._content=se,this._lineOffsets=void 0}return a(ge,"FullTextDocument4"),_(ge,"FullTextDocument"),Object.defineProperty(ge.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(ge.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(ge.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),ge.prototype.getText=function(Re){if(Re){var Pe=this.offsetAt(Re.start),Ee=this.offsetAt(Re.end);return this._content.substring(Pe,Ee)}return this._content},ge.prototype.update=function(Re,Pe){this._content=Re.text,this._version=Pe,this._lineOffsets=void 0},ge.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var Re=[],Pe=this._content,Ee=!0,se=0;se<Pe.length;se++){Ee&&(Re.push(se),Ee=!1);var Ze=Pe.charAt(se);Ee=Ze==="\r"||Ze===`
`,Ze==="\r"&&se+1<Pe.length&&Pe.charAt(se+1)===`
`&&se++}Ee&&Pe.length>0&&Re.push(Pe.length),this._lineOffsets=Re}return this._lineOffsets},ge.prototype.positionAt=function(Re){Re=Math.max(Math.min(Re,this._content.length),0);var Pe=this.getLineOffsets(),Ee=0,se=Pe.length;if(se===0)return f.create(0,Re);for(;Ee<se;){var Ze=Math.floor((Ee+se)/2);Pe[Ze]>Re?se=Ze:Ee=Ze+1}var ue=Ee-1;return f.create(ue,Re-Pe[ue])},ge.prototype.offsetAt=function(Re){var Pe=this.getLineOffsets();if(Re.line>=Pe.length)return this._content.length;if(Re.line<0)return 0;var Ee=Pe[Re.line],se=Re.line+1<Pe.length?Pe[Re.line+1]:this._content.length;return Math.max(Math.min(Ee+Re.character,se),Ee)},Object.defineProperty(ge.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),ge}(),Qe;(function(ge){var Re=Object.prototype.toString;function Pe(jt){return typeof jt<"u"}a(Pe,"defined"),_(Pe,"defined"),ge.defined=Pe;function Ee(jt){return typeof jt>"u"}a(Ee,"undefined2"),_(Ee,"undefined"),ge.undefined=Ee;function se(jt){return jt===!0||jt===!1}a(se,"boolean"),_(se,"boolean"),ge.boolean=se;function Ze(jt){return Re.call(jt)==="[object String]"}a(Ze,"string"),_(Ze,"string"),ge.string=Ze;function ue(jt){return Re.call(jt)==="[object Number]"}a(ue,"number"),_(ue,"number"),ge.number=ue;function Ot(jt,Or,$r){return Re.call(jt)==="[object Number]"&&Or<=jt&&jt<=$r}a(Ot,"numberRange"),_(Ot,"numberRange"),ge.numberRange=Ot;function Ae(jt){return Re.call(jt)==="[object Number]"&&-2147483648<=jt&&jt<=2147483647}a(Ae,"integer3"),_(Ae,"integer"),ge.integer=Ae;function et(jt){return Re.call(jt)==="[object Number]"&&0<=jt&&jt<=2147483647}a(et,"uinteger3"),_(et,"uinteger"),ge.uinteger=et;function vt(jt){return Re.call(jt)==="[object Function]"}a(vt,"func"),_(vt,"func"),ge.func=vt;function It(jt){return jt!==null&&typeof jt=="object"}a(It,"objectLiteral"),_(It,"objectLiteral"),ge.objectLiteral=It;function Cr(jt,Or){return Array.isArray(jt)&&jt.every(Or)}a(Cr,"typedArray"),_(Cr,"typedArray"),ge.typedArray=Cr})(Qe||(Qe={}))})}}),Ii=lr({"../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.2/node_modules/vscode-languageserver-protocol/lib/common/messages.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProtocolNotificationType=e.ProtocolNotificationType0=e.ProtocolRequestType=e.ProtocolRequestType0=e.RegistrationType=e.MessageDirection=void 0;var t=Rh(),r;(function(f){f.clientToServer="clientToServer",f.serverToClient="serverToClient",f.both="both"})(r=e.MessageDirection||(e.MessageDirection={}));var n=class{static{a(this,"RegistrationType")}static{_(this,"RegistrationType")}constructor(f){this.method=f}};e.RegistrationType=n;var i=class extends t.RequestType0{static{a(this,"ProtocolRequestType0")}static{_(this,"ProtocolRequestType0")}constructor(f){super(f)}};e.ProtocolRequestType0=i;var o=class extends t.RequestType{static{a(this,"ProtocolRequestType")}static{_(this,"ProtocolRequestType")}constructor(f){super(f,t.ParameterStructures.byName)}};e.ProtocolRequestType=o;var s=class extends t.NotificationType0{static{a(this,"ProtocolNotificationType0")}static{_(this,"ProtocolNotificationType0")}constructor(f){super(f)}};e.ProtocolNotificationType0=s;var u=class extends t.NotificationType{static{a(this,"ProtocolNotificationType")}static{_(this,"ProtocolNotificationType")}constructor(f){super(f,t.ParameterStructures.byName)}};e.ProtocolNotificationType=u}}),pN=lr({"../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.2/node_modules/vscode-languageserver-protocol/lib/common/utils/is.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.objectLiteral=e.typedArray=e.stringArray=e.array=e.func=e.error=e.number=e.string=e.boolean=void 0;function t(g){return g===!0||g===!1}a(t,"boolean"),_(t,"boolean"),e.boolean=t;function r(g){return typeof g=="string"||g instanceof String}a(r,"string"),_(r,"string"),e.string=r;function n(g){return typeof g=="number"||g instanceof Number}a(n,"number"),_(n,"number"),e.number=n;function i(g){return g instanceof Error}a(i,"error"),_(i,"error"),e.error=i;function o(g){return typeof g=="function"}a(o,"func"),_(o,"func"),e.func=o;function s(g){return Array.isArray(g)}a(s,"array"),_(s,"array"),e.array=s;function u(g){return s(g)&&g.every(y=>r(y))}a(u,"stringArray"),_(u,"stringArray"),e.stringArray=u;function f(g,y){return Array.isArray(g)&&g.every(y)}a(f,"typedArray"),_(f,"typedArray"),e.typedArray=f;function p(g){return g!==null&&typeof g=="object"}a(p,"objectLiteral"),_(p,"objectLiteral"),e.objectLiteral=p}}),fBe=lr({"../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.2/node_modules/vscode-languageserver-protocol/lib/common/protocol.implementation.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImplementationRequest=void 0;var t=Ii(),r;(function(n){n.method="textDocument/implementation",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(r=e.ImplementationRequest||(e.ImplementationRequest={}))}}),hBe=lr({"../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.2/node_modules/vscode-languageserver-protocol/lib/common/protocol.typeDefinition.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TypeDefinitionRequest=void 0;var t=Ii(),r;(function(n){n.method="textDocument/typeDefinition",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(r=e.TypeDefinitionRequest||(e.TypeDefinitionRequest={}))}}),dBe=lr({"../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.2/node_modules/vscode-languageserver-protocol/lib/common/protocol.workspaceFolder.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DidChangeWorkspaceFoldersNotification=e.WorkspaceFoldersRequest=void 0;var t=Ii(),r;(function(i){i.method="workspace/workspaceFolders",i.messageDirection=t.MessageDirection.serverToClient,i.type=new t.ProtocolRequestType0(i.method)})(r=e.WorkspaceFoldersRequest||(e.WorkspaceFoldersRequest={}));var n;(function(i){i.method="workspace/didChangeWorkspaceFolders",i.messageDirection=t.MessageDirection.clientToServer,i.type=new t.ProtocolNotificationType(i.method)})(n=e.DidChangeWorkspaceFoldersNotification||(e.DidChangeWorkspaceFoldersNotification={}))}}),pBe=lr({"../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.2/node_modules/vscode-languageserver-protocol/lib/common/protocol.configuration.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationRequest=void 0;var t=Ii(),r;(function(n){n.method="workspace/configuration",n.messageDirection=t.MessageDirection.serverToClient,n.type=new t.ProtocolRequestType(n.method)})(r=e.ConfigurationRequest||(e.ConfigurationRequest={}))}}),mBe=lr({"../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.2/node_modules/vscode-languageserver-protocol/lib/common/protocol.colorProvider.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPresentationRequest=e.DocumentColorRequest=void 0;var t=Ii(),r;(function(i){i.method="textDocument/documentColor",i.messageDirection=t.MessageDirection.clientToServer,i.type=new t.ProtocolRequestType(i.method)})(r=e.DocumentColorRequest||(e.DocumentColorRequest={}));var n;(function(i){i.method="textDocument/colorPresentation",i.messageDirection=t.MessageDirection.clientToServer,i.type=new t.ProtocolRequestType(i.method)})(n=e.ColorPresentationRequest||(e.ColorPresentationRequest={}))}}),gBe=lr({"../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.2/node_modules/vscode-languageserver-protocol/lib/common/protocol.foldingRange.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingRangeRequest=void 0;var t=Ii(),r;(function(n){n.method="textDocument/foldingRange",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(r=e.FoldingRangeRequest||(e.FoldingRangeRequest={}))}}),yBe=lr({"../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.2/node_modules/vscode-languageserver-protocol/lib/common/protocol.declaration.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeclarationRequest=void 0;var t=Ii(),r;(function(n){n.method="textDocument/declaration",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(r=e.DeclarationRequest||(e.DeclarationRequest={}))}}),vBe=lr({"../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.2/node_modules/vscode-languageserver-protocol/lib/common/protocol.selectionRange.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionRangeRequest=void 0;var t=Ii(),r;(function(n){n.method="textDocument/selectionRange",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(r=e.SelectionRangeRequest||(e.SelectionRangeRequest={}))}}),xBe=lr({"../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.2/node_modules/vscode-languageserver-protocol/lib/common/protocol.progress.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkDoneProgressCancelNotification=e.WorkDoneProgressCreateRequest=e.WorkDoneProgress=void 0;var t=Rh(),r=Ii(),n;(function(s){s.type=new t.ProgressType;function u(f){return f===s.type}a(u,"is"),_(u,"is"),s.is=u})(n=e.WorkDoneProgress||(e.WorkDoneProgress={}));var i;(function(s){s.method="window/workDoneProgress/create",s.messageDirection=r.MessageDirection.serverToClient,s.type=new r.ProtocolRequestType(s.method)})(i=e.WorkDoneProgressCreateRequest||(e.WorkDoneProgressCreateRequest={}));var o;(function(s){s.method="window/workDoneProgress/cancel",s.messageDirection=r.MessageDirection.clientToServer,s.type=new r.ProtocolNotificationType(s.method)})(o=e.WorkDoneProgressCancelNotification||(e.WorkDoneProgressCancelNotification={}))}}),bBe=lr({"../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.2/node_modules/vscode-languageserver-protocol/lib/common/protocol.callHierarchy.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CallHierarchyOutgoingCallsRequest=e.CallHierarchyIncomingCallsRequest=e.CallHierarchyPrepareRequest=void 0;var t=Ii(),r;(function(o){o.method="textDocument/prepareCallHierarchy",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolRequestType(o.method)})(r=e.CallHierarchyPrepareRequest||(e.CallHierarchyPrepareRequest={}));var n;(function(o){o.method="callHierarchy/incomingCalls",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolRequestType(o.method)})(n=e.CallHierarchyIncomingCallsRequest||(e.CallHierarchyIncomingCallsRequest={}));var i;(function(o){o.method="callHierarchy/outgoingCalls",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolRequestType(o.method)})(i=e.CallHierarchyOutgoingCallsRequest||(e.CallHierarchyOutgoingCallsRequest={}))}}),TBe=lr({"../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.2/node_modules/vscode-languageserver-protocol/lib/common/protocol.semanticTokens.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticTokensRefreshRequest=e.SemanticTokensRangeRequest=e.SemanticTokensDeltaRequest=e.SemanticTokensRequest=e.SemanticTokensRegistrationType=e.TokenFormat=void 0;var t=Ii(),r;(function(f){f.Relative="relative"})(r=e.TokenFormat||(e.TokenFormat={}));var n;(function(f){f.method="textDocument/semanticTokens",f.type=new t.RegistrationType(f.method)})(n=e.SemanticTokensRegistrationType||(e.SemanticTokensRegistrationType={}));var i;(function(f){f.method="textDocument/semanticTokens/full",f.messageDirection=t.MessageDirection.clientToServer,f.type=new t.ProtocolRequestType(f.method),f.registrationMethod=n.method})(i=e.SemanticTokensRequest||(e.SemanticTokensRequest={}));var o;(function(f){f.method="textDocument/semanticTokens/full/delta",f.messageDirection=t.MessageDirection.clientToServer,f.type=new t.ProtocolRequestType(f.method),f.registrationMethod=n.method})(o=e.SemanticTokensDeltaRequest||(e.SemanticTokensDeltaRequest={}));var s;(function(f){f.method="textDocument/semanticTokens/range",f.messageDirection=t.MessageDirection.clientToServer,f.type=new t.ProtocolRequestType(f.method),f.registrationMethod=n.method})(s=e.SemanticTokensRangeRequest||(e.SemanticTokensRangeRequest={}));var u;(function(f){f.method="workspace/semanticTokens/refresh",f.messageDirection=t.MessageDirection.clientToServer,f.type=new t.ProtocolRequestType0(f.method)})(u=e.SemanticTokensRefreshRequest||(e.SemanticTokensRefreshRequest={}))}}),kBe=lr({"../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.2/node_modules/vscode-languageserver-protocol/lib/common/protocol.showDocument.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShowDocumentRequest=void 0;var t=Ii(),r;(function(n){n.method="window/showDocument",n.messageDirection=t.MessageDirection.serverToClient,n.type=new t.ProtocolRequestType(n.method)})(r=e.ShowDocumentRequest||(e.ShowDocumentRequest={}))}}),_Be=lr({"../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.2/node_modules/vscode-languageserver-protocol/lib/common/protocol.linkedEditingRange.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedEditingRangeRequest=void 0;var t=Ii(),r;(function(n){n.method="textDocument/linkedEditingRange",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(r=e.LinkedEditingRangeRequest||(e.LinkedEditingRangeRequest={}))}}),wBe=lr({"../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.2/node_modules/vscode-languageserver-protocol/lib/common/protocol.fileOperations.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WillDeleteFilesRequest=e.DidDeleteFilesNotification=e.DidRenameFilesNotification=e.WillRenameFilesRequest=e.DidCreateFilesNotification=e.WillCreateFilesRequest=e.FileOperationPatternKind=void 0;var t=Ii(),r;(function(p){p.file="file",p.folder="folder"})(r=e.FileOperationPatternKind||(e.FileOperationPatternKind={}));var n;(function(p){p.method="workspace/willCreateFiles",p.messageDirection=t.MessageDirection.clientToServer,p.type=new t.ProtocolRequestType(p.method)})(n=e.WillCreateFilesRequest||(e.WillCreateFilesRequest={}));var i;(function(p){p.method="workspace/didCreateFiles",p.messageDirection=t.MessageDirection.clientToServer,p.type=new t.ProtocolNotificationType(p.method)})(i=e.DidCreateFilesNotification||(e.DidCreateFilesNotification={}));var o;(function(p){p.method="workspace/willRenameFiles",p.messageDirection=t.MessageDirection.clientToServer,p.type=new t.ProtocolRequestType(p.method)})(o=e.WillRenameFilesRequest||(e.WillRenameFilesRequest={}));var s;(function(p){p.method="workspace/didRenameFiles",p.messageDirection=t.MessageDirection.clientToServer,p.type=new t.ProtocolNotificationType(p.method)})(s=e.DidRenameFilesNotification||(e.DidRenameFilesNotification={}));var u;(function(p){p.method="workspace/didDeleteFiles",p.messageDirection=t.MessageDirection.clientToServer,p.type=new t.ProtocolNotificationType(p.method)})(u=e.DidDeleteFilesNotification||(e.DidDeleteFilesNotification={}));var f;(function(p){p.method="workspace/willDeleteFiles",p.messageDirection=t.MessageDirection.clientToServer,p.type=new t.ProtocolRequestType(p.method)})(f=e.WillDeleteFilesRequest||(e.WillDeleteFilesRequest={}))}}),EBe=lr({"../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.2/node_modules/vscode-languageserver-protocol/lib/common/protocol.moniker.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonikerRequest=e.MonikerKind=e.UniquenessLevel=void 0;var t=Ii(),r;(function(o){o.document="document",o.project="project",o.group="group",o.scheme="scheme",o.global="global"})(r=e.UniquenessLevel||(e.UniquenessLevel={}));var n;(function(o){o.$import="import",o.$export="export",o.local="local"})(n=e.MonikerKind||(e.MonikerKind={}));var i;(function(o){o.method="textDocument/moniker",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolRequestType(o.method)})(i=e.MonikerRequest||(e.MonikerRequest={}))}}),CBe=lr({"../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.2/node_modules/vscode-languageserver-protocol/lib/common/protocol.typeHierarchy.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TypeHierarchySubtypesRequest=e.TypeHierarchySupertypesRequest=e.TypeHierarchyPrepareRequest=void 0;var t=Ii(),r;(function(o){o.method="textDocument/prepareTypeHierarchy",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolRequestType(o.method)})(r=e.TypeHierarchyPrepareRequest||(e.TypeHierarchyPrepareRequest={}));var n;(function(o){o.method="typeHierarchy/supertypes",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolRequestType(o.method)})(n=e.TypeHierarchySupertypesRequest||(e.TypeHierarchySupertypesRequest={}));var i;(function(o){o.method="typeHierarchy/subtypes",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolRequestType(o.method)})(i=e.TypeHierarchySubtypesRequest||(e.TypeHierarchySubtypesRequest={}))}}),SBe=lr({"../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.2/node_modules/vscode-languageserver-protocol/lib/common/protocol.inlineValue.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineValueRefreshRequest=e.InlineValueRequest=void 0;var t=Ii(),r;(function(i){i.method="textDocument/inlineValue",i.messageDirection=t.MessageDirection.clientToServer,i.type=new t.ProtocolRequestType(i.method)})(r=e.InlineValueRequest||(e.InlineValueRequest={}));var n;(function(i){i.method="workspace/inlineValue/refresh",i.messageDirection=t.MessageDirection.clientToServer,i.type=new t.ProtocolRequestType0(i.method)})(n=e.InlineValueRefreshRequest||(e.InlineValueRefreshRequest={}))}}),ABe=lr({"../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.2/node_modules/vscode-languageserver-protocol/lib/common/protocol.inlayHint.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintRefreshRequest=e.InlayHintResolveRequest=e.InlayHintRequest=void 0;var t=Ii(),r;(function(o){o.method="textDocument/inlayHint",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolRequestType(o.method)})(r=e.InlayHintRequest||(e.InlayHintRequest={}));var n;(function(o){o.method="inlayHint/resolve",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolRequestType(o.method)})(n=e.InlayHintResolveRequest||(e.InlayHintResolveRequest={}));var i;(function(o){o.method="workspace/inlayHint/refresh",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolRequestType0(o.method)})(i=e.InlayHintRefreshRequest||(e.InlayHintRefreshRequest={}))}}),RBe=lr({"../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.2/node_modules/vscode-languageserver-protocol/lib/common/protocol.diagnostic.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagnosticRefreshRequest=e.WorkspaceDiagnosticRequest=e.DocumentDiagnosticRequest=e.DocumentDiagnosticReportKind=e.DiagnosticServerCancellationData=void 0;var t=Rh(),r=pN(),n=Ii(),i;(function(p){function g(y){let x=y;return x&&r.boolean(x.retriggerRequest)}a(g,"is"),_(g,"is"),p.is=g})(i=e.DiagnosticServerCancellationData||(e.DiagnosticServerCancellationData={}));var o;(function(p){p.Full="full",p.Unchanged="unchanged"})(o=e.DocumentDiagnosticReportKind||(e.DocumentDiagnosticReportKind={}));var s;(function(p){p.method="textDocument/diagnostic",p.messageDirection=n.MessageDirection.clientToServer,p.type=new n.ProtocolRequestType(p.method),p.partialResult=new t.ProgressType})(s=e.DocumentDiagnosticRequest||(e.DocumentDiagnosticRequest={}));var u;(function(p){p.method="workspace/diagnostic",p.messageDirection=n.MessageDirection.clientToServer,p.type=new n.ProtocolRequestType(p.method),p.partialResult=new t.ProgressType})(u=e.WorkspaceDiagnosticRequest||(e.WorkspaceDiagnosticRequest={}));var f;(function(p){p.method="workspace/diagnostic/refresh",p.messageDirection=n.MessageDirection.clientToServer,p.type=new n.ProtocolRequestType0(p.method)})(f=e.DiagnosticRefreshRequest||(e.DiagnosticRefreshRequest={}))}}),DBe=lr({"../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.2/node_modules/vscode-languageserver-protocol/lib/common/protocol.notebook.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DidCloseNotebookDocumentNotification=e.DidSaveNotebookDocumentNotification=e.DidChangeNotebookDocumentNotification=e.NotebookCellArrayChange=e.DidOpenNotebookDocumentNotification=e.NotebookDocumentSyncRegistrationType=e.NotebookDocument=e.NotebookCell=e.ExecutionSummary=e.NotebookCellKind=void 0;var t=dN(),r=pN(),n=Ii(),i;(function(E){E.Markup=1,E.Code=2;function A(O){return O===1||O===2}a(A,"is"),_(A,"is"),E.is=A})(i=e.NotebookCellKind||(e.NotebookCellKind={}));var o;(function(E){function A(I,$){let X={executionOrder:I};return($===!0||$===!1)&&(X.success=$),X}a(A,"create"),_(A,"create"),E.create=A;function O(I){let $=I;return r.objectLiteral($)&&t.uinteger.is($.executionOrder)&&($.success===void 0||r.boolean($.success))}a(O,"is"),_(O,"is"),E.is=O;function N(I,$){return I===$?!0:I==null||$===null||$===void 0?!1:I.executionOrder===$.executionOrder&&I.success===$.success}a(N,"equals"),_(N,"equals"),E.equals=N})(o=e.ExecutionSummary||(e.ExecutionSummary={}));var s;(function(E){function A($,X){return{kind:$,document:X}}a(A,"create"),_(A,"create"),E.create=A;function O($){let X=$;return r.objectLiteral(X)&&i.is(X.kind)&&t.DocumentUri.is(X.document)&&(X.metadata===void 0||r.objectLiteral(X.metadata))}a(O,"is"),_(O,"is"),E.is=O;function N($,X){let q=new Set;return $.document!==X.document&&q.add("document"),$.kind!==X.kind&&q.add("kind"),$.executionSummary!==X.executionSummary&&q.add("executionSummary"),($.metadata!==void 0||X.metadata!==void 0)&&!I($.metadata,X.metadata)&&q.add("metadata"),($.executionSummary!==void 0||X.executionSummary!==void 0)&&!o.equals($.executionSummary,X.executionSummary)&&q.add("executionSummary"),q}a(N,"diff"),_(N,"diff"),E.diff=N;function I($,X){if($===X)return!0;if($==null||X===null||X===void 0||typeof $!=typeof X||typeof $!="object")return!1;let q=Array.isArray($),M=Array.isArray(X);if(q!==M)return!1;if(q&&M){if($.length!==X.length)return!1;for(let B=0;B<$.length;B++)if(!I($[B],X[B]))return!1}if(r.objectLiteral($)&&r.objectLiteral(X)){let B=Object.keys($),G=Object.keys(X);if(B.length!==G.length||(B.sort(),G.sort(),!I(B,G)))return!1;for(let U=0;U<B.length;U++){let W=B[U];if(!I($[W],X[W]))return!1}}return!0}a(I,"equalsMetadata"),_(I,"equalsMetadata")})(s=e.NotebookCell||(e.NotebookCell={}));var u;(function(E){function A(N,I,$,X){return{uri:N,notebookType:I,version:$,cells:X}}a(A,"create"),_(A,"create"),E.create=A;function O(N){let I=N;return r.objectLiteral(I)&&r.string(I.uri)&&t.integer.is(I.version)&&r.typedArray(I.cells,s.is)}a(O,"is"),_(O,"is"),E.is=O})(u=e.NotebookDocument||(e.NotebookDocument={}));var f;(function(E){E.method="notebookDocument/sync",E.messageDirection=n.MessageDirection.clientToServer,E.type=new n.RegistrationType(E.method)})(f=e.NotebookDocumentSyncRegistrationType||(e.NotebookDocumentSyncRegistrationType={}));var p;(function(E){E.method="notebookDocument/didOpen",E.messageDirection=n.MessageDirection.clientToServer,E.type=new n.ProtocolNotificationType(E.method),E.registrationMethod=f.method})(p=e.DidOpenNotebookDocumentNotification||(e.DidOpenNotebookDocumentNotification={}));var g;(function(E){function A(N){let I=N;return r.objectLiteral(I)&&t.uinteger.is(I.start)&&t.uinteger.is(I.deleteCount)&&(I.cells===void 0||r.typedArray(I.cells,s.is))}a(A,"is"),_(A,"is"),E.is=A;function O(N,I,$){let X={start:N,deleteCount:I};return $!==void 0&&(X.cells=$),X}a(O,"create"),_(O,"create"),E.create=O})(g=e.NotebookCellArrayChange||(e.NotebookCellArrayChange={}));var y;(function(E){E.method="notebookDocument/didChange",E.messageDirection=n.MessageDirection.clientToServer,E.type=new n.ProtocolNotificationType(E.method),E.registrationMethod=f.method})(y=e.DidChangeNotebookDocumentNotification||(e.DidChangeNotebookDocumentNotification={}));var x;(function(E){E.method="notebookDocument/didSave",E.messageDirection=n.MessageDirection.clientToServer,E.type=new n.ProtocolNotificationType(E.method),E.registrationMethod=f.method})(x=e.DidSaveNotebookDocumentNotification||(e.DidSaveNotebookDocumentNotification={}));var b;(function(E){E.method="notebookDocument/didClose",E.messageDirection=n.MessageDirection.clientToServer,E.type=new n.ProtocolNotificationType(E.method),E.registrationMethod=f.method})(b=e.DidCloseNotebookDocumentNotification||(e.DidCloseNotebookDocumentNotification={}))}}),LBe=lr({"../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.2/node_modules/vscode-languageserver-protocol/lib/common/protocol.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkspaceSymbolRequest=e.CodeActionResolveRequest=e.CodeActionRequest=e.DocumentSymbolRequest=e.DocumentHighlightRequest=e.ReferencesRequest=e.DefinitionRequest=e.SignatureHelpRequest=e.SignatureHelpTriggerKind=e.HoverRequest=e.CompletionResolveRequest=e.CompletionRequest=e.CompletionTriggerKind=e.PublishDiagnosticsNotification=e.WatchKind=e.RelativePattern=e.FileChangeType=e.DidChangeWatchedFilesNotification=e.WillSaveTextDocumentWaitUntilRequest=e.WillSaveTextDocumentNotification=e.TextDocumentSaveReason=e.DidSaveTextDocumentNotification=e.DidCloseTextDocumentNotification=e.DidChangeTextDocumentNotification=e.TextDocumentContentChangeEvent=e.DidOpenTextDocumentNotification=e.TextDocumentSyncKind=e.TelemetryEventNotification=e.LogMessageNotification=e.ShowMessageRequest=e.ShowMessageNotification=e.MessageType=e.DidChangeConfigurationNotification=e.ExitNotification=e.ShutdownRequest=e.InitializedNotification=e.InitializeErrorCodes=e.InitializeRequest=e.WorkDoneProgressOptions=e.TextDocumentRegistrationOptions=e.StaticRegistrationOptions=e.PositionEncodingKind=e.FailureHandlingKind=e.ResourceOperationKind=e.UnregistrationRequest=e.RegistrationRequest=e.DocumentSelector=e.NotebookCellTextDocumentFilter=e.NotebookDocumentFilter=e.TextDocumentFilter=void 0,e.TypeHierarchySubtypesRequest=e.TypeHierarchyPrepareRequest=e.MonikerRequest=e.MonikerKind=e.UniquenessLevel=e.WillDeleteFilesRequest=e.DidDeleteFilesNotification=e.WillRenameFilesRequest=e.DidRenameFilesNotification=e.WillCreateFilesRequest=e.DidCreateFilesNotification=e.FileOperationPatternKind=e.LinkedEditingRangeRequest=e.ShowDocumentRequest=e.SemanticTokensRegistrationType=e.SemanticTokensRefreshRequest=e.SemanticTokensRangeRequest=e.SemanticTokensDeltaRequest=e.SemanticTokensRequest=e.TokenFormat=e.CallHierarchyPrepareRequest=e.CallHierarchyOutgoingCallsRequest=e.CallHierarchyIncomingCallsRequest=e.WorkDoneProgressCancelNotification=e.WorkDoneProgressCreateRequest=e.WorkDoneProgress=e.SelectionRangeRequest=e.DeclarationRequest=e.FoldingRangeRequest=e.ColorPresentationRequest=e.DocumentColorRequest=e.ConfigurationRequest=e.DidChangeWorkspaceFoldersNotification=e.WorkspaceFoldersRequest=e.TypeDefinitionRequest=e.ImplementationRequest=e.ApplyWorkspaceEditRequest=e.ExecuteCommandRequest=e.PrepareRenameRequest=e.RenameRequest=e.PrepareSupportDefaultBehavior=e.DocumentOnTypeFormattingRequest=e.DocumentRangeFormattingRequest=e.DocumentFormattingRequest=e.DocumentLinkResolveRequest=e.DocumentLinkRequest=e.CodeLensRefreshRequest=e.CodeLensResolveRequest=e.CodeLensRequest=e.WorkspaceSymbolResolveRequest=void 0,e.DidCloseNotebookDocumentNotification=e.DidSaveNotebookDocumentNotification=e.DidChangeNotebookDocumentNotification=e.NotebookCellArrayChange=e.DidOpenNotebookDocumentNotification=e.NotebookDocumentSyncRegistrationType=e.NotebookDocument=e.NotebookCell=e.ExecutionSummary=e.NotebookCellKind=e.DiagnosticRefreshRequest=e.WorkspaceDiagnosticRequest=e.DocumentDiagnosticRequest=e.DocumentDiagnosticReportKind=e.DiagnosticServerCancellationData=e.InlayHintRefreshRequest=e.InlayHintResolveRequest=e.InlayHintRequest=e.InlineValueRefreshRequest=e.InlineValueRequest=e.TypeHierarchySupertypesRequest=void 0;var t=Ii(),r=dN(),n=pN(),i=fBe();Object.defineProperty(e,"ImplementationRequest",{enumerable:!0,get:function(){return i.ImplementationRequest}});var o=hBe();Object.defineProperty(e,"TypeDefinitionRequest",{enumerable:!0,get:function(){return o.TypeDefinitionRequest}});var s=dBe();Object.defineProperty(e,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return s.WorkspaceFoldersRequest}}),Object.defineProperty(e,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return s.DidChangeWorkspaceFoldersNotification}});var u=pBe();Object.defineProperty(e,"ConfigurationRequest",{enumerable:!0,get:function(){return u.ConfigurationRequest}});var f=mBe();Object.defineProperty(e,"DocumentColorRequest",{enumerable:!0,get:function(){return f.DocumentColorRequest}}),Object.defineProperty(e,"ColorPresentationRequest",{enumerable:!0,get:function(){return f.ColorPresentationRequest}});var p=gBe();Object.defineProperty(e,"FoldingRangeRequest",{enumerable:!0,get:function(){return p.FoldingRangeRequest}});var g=yBe();Object.defineProperty(e,"DeclarationRequest",{enumerable:!0,get:function(){return g.DeclarationRequest}});var y=vBe();Object.defineProperty(e,"SelectionRangeRequest",{enumerable:!0,get:function(){return y.SelectionRangeRequest}});var x=xBe();Object.defineProperty(e,"WorkDoneProgress",{enumerable:!0,get:function(){return x.WorkDoneProgress}}),Object.defineProperty(e,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return x.WorkDoneProgressCreateRequest}}),Object.defineProperty(e,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return x.WorkDoneProgressCancelNotification}});var b=bBe();Object.defineProperty(e,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return b.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(e,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return b.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(e,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return b.CallHierarchyPrepareRequest}});var E=TBe();Object.defineProperty(e,"TokenFormat",{enumerable:!0,get:function(){return E.TokenFormat}}),Object.defineProperty(e,"SemanticTokensRequest",{enumerable:!0,get:function(){return E.SemanticTokensRequest}}),Object.defineProperty(e,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return E.SemanticTokensDeltaRequest}}),Object.defineProperty(e,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return E.SemanticTokensRangeRequest}}),Object.defineProperty(e,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return E.SemanticTokensRefreshRequest}}),Object.defineProperty(e,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return E.SemanticTokensRegistrationType}});var A=kBe();Object.defineProperty(e,"ShowDocumentRequest",{enumerable:!0,get:function(){return A.ShowDocumentRequest}});var O=_Be();Object.defineProperty(e,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return O.LinkedEditingRangeRequest}});var N=wBe();Object.defineProperty(e,"FileOperationPatternKind",{enumerable:!0,get:function(){return N.FileOperationPatternKind}}),Object.defineProperty(e,"DidCreateFilesNotification",{enumerable:!0,get:function(){return N.DidCreateFilesNotification}}),Object.defineProperty(e,"WillCreateFilesRequest",{enumerable:!0,get:function(){return N.WillCreateFilesRequest}}),Object.defineProperty(e,"DidRenameFilesNotification",{enumerable:!0,get:function(){return N.DidRenameFilesNotification}}),Object.defineProperty(e,"WillRenameFilesRequest",{enumerable:!0,get:function(){return N.WillRenameFilesRequest}}),Object.defineProperty(e,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return N.DidDeleteFilesNotification}}),Object.defineProperty(e,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return N.WillDeleteFilesRequest}});var I=EBe();Object.defineProperty(e,"UniquenessLevel",{enumerable:!0,get:function(){return I.UniquenessLevel}}),Object.defineProperty(e,"MonikerKind",{enumerable:!0,get:function(){return I.MonikerKind}}),Object.defineProperty(e,"MonikerRequest",{enumerable:!0,get:function(){return I.MonikerRequest}});var $=CBe();Object.defineProperty(e,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return $.TypeHierarchyPrepareRequest}}),Object.defineProperty(e,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return $.TypeHierarchySubtypesRequest}}),Object.defineProperty(e,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return $.TypeHierarchySupertypesRequest}});var X=SBe();Object.defineProperty(e,"InlineValueRequest",{enumerable:!0,get:function(){return X.InlineValueRequest}}),Object.defineProperty(e,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return X.InlineValueRefreshRequest}});var q=ABe();Object.defineProperty(e,"InlayHintRequest",{enumerable:!0,get:function(){return q.InlayHintRequest}}),Object.defineProperty(e,"InlayHintResolveRequest",{enumerable:!0,get:function(){return q.InlayHintResolveRequest}}),Object.defineProperty(e,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return q.InlayHintRefreshRequest}});var M=RBe();Object.defineProperty(e,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return M.DiagnosticServerCancellationData}}),Object.defineProperty(e,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return M.DocumentDiagnosticReportKind}}),Object.defineProperty(e,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return M.DocumentDiagnosticRequest}}),Object.defineProperty(e,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return M.WorkspaceDiagnosticRequest}}),Object.defineProperty(e,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return M.DiagnosticRefreshRequest}});var B=DBe();Object.defineProperty(e,"NotebookCellKind",{enumerable:!0,get:function(){return B.NotebookCellKind}}),Object.defineProperty(e,"ExecutionSummary",{enumerable:!0,get:function(){return B.ExecutionSummary}}),Object.defineProperty(e,"NotebookCell",{enumerable:!0,get:function(){return B.NotebookCell}}),Object.defineProperty(e,"NotebookDocument",{enumerable:!0,get:function(){return B.NotebookDocument}}),Object.defineProperty(e,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return B.NotebookDocumentSyncRegistrationType}}),Object.defineProperty(e,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return B.DidOpenNotebookDocumentNotification}}),Object.defineProperty(e,"NotebookCellArrayChange",{enumerable:!0,get:function(){return B.NotebookCellArrayChange}}),Object.defineProperty(e,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return B.DidChangeNotebookDocumentNotification}}),Object.defineProperty(e,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return B.DidSaveNotebookDocumentNotification}}),Object.defineProperty(e,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return B.DidCloseNotebookDocumentNotification}});var G;(function(ue){function Ot(Ae){let et=Ae;return n.string(et.language)||n.string(et.scheme)||n.string(et.pattern)}a(Ot,"is"),_(Ot,"is"),ue.is=Ot})(G=e.TextDocumentFilter||(e.TextDocumentFilter={}));var U;(function(ue){function Ot(Ae){let et=Ae;return n.objectLiteral(et)&&(n.string(et.notebookType)||n.string(et.scheme)||n.string(et.pattern))}a(Ot,"is"),_(Ot,"is"),ue.is=Ot})(U=e.NotebookDocumentFilter||(e.NotebookDocumentFilter={}));var W;(function(ue){function Ot(Ae){let et=Ae;return n.objectLiteral(et)&&(n.string(et.notebook)||U.is(et.notebook))&&(et.language===void 0||n.string(et.language))}a(Ot,"is"),_(Ot,"is"),ue.is=Ot})(W=e.NotebookCellTextDocumentFilter||(e.NotebookCellTextDocumentFilter={}));var D;(function(ue){function Ot(Ae){if(!Array.isArray(Ae))return!1;for(let et of Ae)if(!n.string(et)&&!G.is(et)&&!W.is(et))return!1;return!0}a(Ot,"is"),_(Ot,"is"),ue.is=Ot})(D=e.DocumentSelector||(e.DocumentSelector={}));var K;(function(ue){ue.method="client/registerCapability",ue.messageDirection=t.MessageDirection.serverToClient,ue.type=new t.ProtocolRequestType(ue.method)})(K=e.RegistrationRequest||(e.RegistrationRequest={}));var P;(function(ue){ue.method="client/unregisterCapability",ue.messageDirection=t.MessageDirection.serverToClient,ue.type=new t.ProtocolRequestType(ue.method)})(P=e.UnregistrationRequest||(e.UnregistrationRequest={}));var re;(function(ue){ue.Create="create",ue.Rename="rename",ue.Delete="delete"})(re=e.ResourceOperationKind||(e.ResourceOperationKind={}));var ce;(function(ue){ue.Abort="abort",ue.Transactional="transactional",ue.TextOnlyTransactional="textOnlyTransactional",ue.Undo="undo"})(ce=e.FailureHandlingKind||(e.FailureHandlingKind={}));var ee;(function(ue){ue.UTF8="utf-8",ue.UTF16="utf-16",ue.UTF32="utf-32"})(ee=e.PositionEncodingKind||(e.PositionEncodingKind={}));var H;(function(ue){function Ot(Ae){let et=Ae;return et&&n.string(et.id)&&et.id.length>0}a(Ot,"hasId"),_(Ot,"hasId"),ue.hasId=Ot})(H=e.StaticRegistrationOptions||(e.StaticRegistrationOptions={}));var te;(function(ue){function Ot(Ae){let et=Ae;return et&&(et.documentSelector===null||D.is(et.documentSelector))}a(Ot,"is"),_(Ot,"is"),ue.is=Ot})(te=e.TextDocumentRegistrationOptions||(e.TextDocumentRegistrationOptions={}));var J;(function(ue){function Ot(et){let vt=et;return n.objectLiteral(vt)&&(vt.workDoneProgress===void 0||n.boolean(vt.workDoneProgress))}a(Ot,"is"),_(Ot,"is"),ue.is=Ot;function Ae(et){let vt=et;return vt&&n.boolean(vt.workDoneProgress)}a(Ae,"hasWorkDoneProgress"),_(Ae,"hasWorkDoneProgress"),ue.hasWorkDoneProgress=Ae})(J=e.WorkDoneProgressOptions||(e.WorkDoneProgressOptions={}));var Y;(function(ue){ue.method="initialize",ue.messageDirection=t.MessageDirection.clientToServer,ue.type=new t.ProtocolRequestType(ue.method)})(Y=e.InitializeRequest||(e.InitializeRequest={}));var de;(function(ue){ue.unknownProtocolVersion=1})(de=e.InitializeErrorCodes||(e.InitializeErrorCodes={}));var Fe;(function(ue){ue.method="initialized",ue.messageDirection=t.MessageDirection.clientToServer,ue.type=new t.ProtocolNotificationType(ue.method)})(Fe=e.InitializedNotification||(e.InitializedNotification={}));var oe;(function(ue){ue.method="shutdown",ue.messageDirection=t.MessageDirection.clientToServer,ue.type=new t.ProtocolRequestType0(ue.method)})(oe=e.ShutdownRequest||(e.ShutdownRequest={}));var rt;(function(ue){ue.method="exit",ue.messageDirection=t.MessageDirection.clientToServer,ue.type=new t.ProtocolNotificationType0(ue.method)})(rt=e.ExitNotification||(e.ExitNotification={}));var We;(function(ue){ue.method="workspace/didChangeConfiguration",ue.messageDirection=t.MessageDirection.clientToServer,ue.type=new t.ProtocolNotificationType(ue.method)})(We=e.DidChangeConfigurationNotification||(e.DidChangeConfigurationNotification={}));var _e;(function(ue){ue.Error=1,ue.Warning=2,ue.Info=3,ue.Log=4})(_e=e.MessageType||(e.MessageType={}));var Ve;(function(ue){ue.method="window/showMessage",ue.messageDirection=t.MessageDirection.serverToClient,ue.type=new t.ProtocolNotificationType(ue.method)})(Ve=e.ShowMessageNotification||(e.ShowMessageNotification={}));var Ye;(function(ue){ue.method="window/showMessageRequest",ue.messageDirection=t.MessageDirection.serverToClient,ue.type=new t.ProtocolRequestType(ue.method)})(Ye=e.ShowMessageRequest||(e.ShowMessageRequest={}));var Le;(function(ue){ue.method="window/logMessage",ue.messageDirection=t.MessageDirection.serverToClient,ue.type=new t.ProtocolNotificationType(ue.method)})(Le=e.LogMessageNotification||(e.LogMessageNotification={}));var fe;(function(ue){ue.method="telemetry/event",ue.messageDirection=t.MessageDirection.serverToClient,ue.type=new t.ProtocolNotificationType(ue.method)})(fe=e.TelemetryEventNotification||(e.TelemetryEventNotification={}));var le;(function(ue){ue.None=0,ue.Full=1,ue.Incremental=2})(le=e.TextDocumentSyncKind||(e.TextDocumentSyncKind={}));var he;(function(ue){ue.method="textDocument/didOpen",ue.messageDirection=t.MessageDirection.clientToServer,ue.type=new t.ProtocolNotificationType(ue.method)})(he=e.DidOpenTextDocumentNotification||(e.DidOpenTextDocumentNotification={}));var xe;(function(ue){function Ot(et){let vt=et;return vt!=null&&typeof vt.text=="string"&&vt.range!==void 0&&(vt.rangeLength===void 0||typeof vt.rangeLength=="number")}a(Ot,"isIncremental"),_(Ot,"isIncremental"),ue.isIncremental=Ot;function Ae(et){let vt=et;return vt!=null&&typeof vt.text=="string"&&vt.range===void 0&&vt.rangeLength===void 0}a(Ae,"isFull"),_(Ae,"isFull"),ue.isFull=Ae})(xe=e.TextDocumentContentChangeEvent||(e.TextDocumentContentChangeEvent={}));var ke;(function(ue){ue.method="textDocument/didChange",ue.messageDirection=t.MessageDirection.clientToServer,ue.type=new t.ProtocolNotificationType(ue.method)})(ke=e.DidChangeTextDocumentNotification||(e.DidChangeTextDocumentNotification={}));var pe;(function(ue){ue.method="textDocument/didClose",ue.messageDirection=t.MessageDirection.clientToServer,ue.type=new t.ProtocolNotificationType(ue.method)})(pe=e.DidCloseTextDocumentNotification||(e.DidCloseTextDocumentNotification={}));var Ce;(function(ue){ue.method="textDocument/didSave",ue.messageDirection=t.MessageDirection.clientToServer,ue.type=new t.ProtocolNotificationType(ue.method)})(Ce=e.DidSaveTextDocumentNotification||(e.DidSaveTextDocumentNotification={}));var Ue;(function(ue){ue.Manual=1,ue.AfterDelay=2,ue.FocusOut=3})(Ue=e.TextDocumentSaveReason||(e.TextDocumentSaveReason={}));var He;(function(ue){ue.method="textDocument/willSave",ue.messageDirection=t.MessageDirection.clientToServer,ue.type=new t.ProtocolNotificationType(ue.method)})(He=e.WillSaveTextDocumentNotification||(e.WillSaveTextDocumentNotification={}));var Pt;(function(ue){ue.method="textDocument/willSaveWaitUntil",ue.messageDirection=t.MessageDirection.clientToServer,ue.type=new t.ProtocolRequestType(ue.method)})(Pt=e.WillSaveTextDocumentWaitUntilRequest||(e.WillSaveTextDocumentWaitUntilRequest={}));var Lt;(function(ue){ue.method="workspace/didChangeWatchedFiles",ue.messageDirection=t.MessageDirection.clientToServer,ue.type=new t.ProtocolNotificationType(ue.method)})(Lt=e.DidChangeWatchedFilesNotification||(e.DidChangeWatchedFilesNotification={}));var Xt;(function(ue){ue.Created=1,ue.Changed=2,ue.Deleted=3})(Xt=e.FileChangeType||(e.FileChangeType={}));var Kt;(function(ue){function Ot(Ae){let et=Ae;return n.objectLiteral(et)&&(r.URI.is(et.baseUri)||r.WorkspaceFolder.is(et.baseUri))&&n.string(et.pattern)}a(Ot,"is"),_(Ot,"is"),ue.is=Ot})(Kt=e.RelativePattern||(e.RelativePattern={}));var kr;(function(ue){ue.Create=1,ue.Change=2,ue.Delete=4})(kr=e.WatchKind||(e.WatchKind={}));var bt;(function(ue){ue.method="textDocument/publishDiagnostics",ue.messageDirection=t.MessageDirection.serverToClient,ue.type=new t.ProtocolNotificationType(ue.method)})(bt=e.PublishDiagnosticsNotification||(e.PublishDiagnosticsNotification={}));var gt;(function(ue){ue.Invoked=1,ue.TriggerCharacter=2,ue.TriggerForIncompleteCompletions=3})(gt=e.CompletionTriggerKind||(e.CompletionTriggerKind={}));var qt;(function(ue){ue.method="textDocument/completion",ue.messageDirection=t.MessageDirection.clientToServer,ue.type=new t.ProtocolRequestType(ue.method)})(qt=e.CompletionRequest||(e.CompletionRequest={}));var ze;(function(ue){ue.method="completionItem/resolve",ue.messageDirection=t.MessageDirection.clientToServer,ue.type=new t.ProtocolRequestType(ue.method)})(ze=e.CompletionResolveRequest||(e.CompletionResolveRequest={}));var $e;(function(ue){ue.method="textDocument/hover",ue.messageDirection=t.MessageDirection.clientToServer,ue.type=new t.ProtocolRequestType(ue.method)})($e=e.HoverRequest||(e.HoverRequest={}));var Te;(function(ue){ue.Invoked=1,ue.TriggerCharacter=2,ue.ContentChange=3})(Te=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var pt;(function(ue){ue.method="textDocument/signatureHelp",ue.messageDirection=t.MessageDirection.clientToServer,ue.type=new t.ProtocolRequestType(ue.method)})(pt=e.SignatureHelpRequest||(e.SignatureHelpRequest={}));var it;(function(ue){ue.method="textDocument/definition",ue.messageDirection=t.MessageDirection.clientToServer,ue.type=new t.ProtocolRequestType(ue.method)})(it=e.DefinitionRequest||(e.DefinitionRequest={}));var Qt;(function(ue){ue.method="textDocument/references",ue.messageDirection=t.MessageDirection.clientToServer,ue.type=new t.ProtocolRequestType(ue.method)})(Qt=e.ReferencesRequest||(e.ReferencesRequest={}));var _r;(function(ue){ue.method="textDocument/documentHighlight",ue.messageDirection=t.MessageDirection.clientToServer,ue.type=new t.ProtocolRequestType(ue.method)})(_r=e.DocumentHighlightRequest||(e.DocumentHighlightRequest={}));var Zt;(function(ue){ue.method="textDocument/documentSymbol",ue.messageDirection=t.MessageDirection.clientToServer,ue.type=new t.ProtocolRequestType(ue.method)})(Zt=e.DocumentSymbolRequest||(e.DocumentSymbolRequest={}));var mr;(function(ue){ue.method="textDocument/codeAction",ue.messageDirection=t.MessageDirection.clientToServer,ue.type=new t.ProtocolRequestType(ue.method)})(mr=e.CodeActionRequest||(e.CodeActionRequest={}));var sn;(function(ue){ue.method="codeAction/resolve",ue.messageDirection=t.MessageDirection.clientToServer,ue.type=new t.ProtocolRequestType(ue.method)})(sn=e.CodeActionResolveRequest||(e.CodeActionResolveRequest={}));var ir;(function(ue){ue.method="workspace/symbol",ue.messageDirection=t.MessageDirection.clientToServer,ue.type=new t.ProtocolRequestType(ue.method)})(ir=e.WorkspaceSymbolRequest||(e.WorkspaceSymbolRequest={}));var xr;(function(ue){ue.method="workspaceSymbol/resolve",ue.messageDirection=t.MessageDirection.clientToServer,ue.type=new t.ProtocolRequestType(ue.method)})(xr=e.WorkspaceSymbolResolveRequest||(e.WorkspaceSymbolResolveRequest={}));var Yt;(function(ue){ue.method="textDocument/codeLens",ue.messageDirection=t.MessageDirection.clientToServer,ue.type=new t.ProtocolRequestType(ue.method)})(Yt=e.CodeLensRequest||(e.CodeLensRequest={}));var hn;(function(ue){ue.method="codeLens/resolve",ue.messageDirection=t.MessageDirection.clientToServer,ue.type=new t.ProtocolRequestType(ue.method)})(hn=e.CodeLensResolveRequest||(e.CodeLensResolveRequest={}));var dn;(function(ue){ue.method="workspace/codeLens/refresh",ue.messageDirection=t.MessageDirection.serverToClient,ue.type=new t.ProtocolRequestType0(ue.method)})(dn=e.CodeLensRefreshRequest||(e.CodeLensRefreshRequest={}));var pn;(function(ue){ue.method="textDocument/documentLink",ue.messageDirection=t.MessageDirection.clientToServer,ue.type=new t.ProtocolRequestType(ue.method)})(pn=e.DocumentLinkRequest||(e.DocumentLinkRequest={}));var tn;(function(ue){ue.method="documentLink/resolve",ue.messageDirection=t.MessageDirection.clientToServer,ue.type=new t.ProtocolRequestType(ue.method)})(tn=e.DocumentLinkResolveRequest||(e.DocumentLinkResolveRequest={}));var rn;(function(ue){ue.method="textDocument/formatting",ue.messageDirection=t.MessageDirection.clientToServer,ue.type=new t.ProtocolRequestType(ue.method)})(rn=e.DocumentFormattingRequest||(e.DocumentFormattingRequest={}));var Qe;(function(ue){ue.method="textDocument/rangeFormatting",ue.messageDirection=t.MessageDirection.clientToServer,ue.type=new t.ProtocolRequestType(ue.method)})(Qe=e.DocumentRangeFormattingRequest||(e.DocumentRangeFormattingRequest={}));var ge;(function(ue){ue.method="textDocument/onTypeFormatting",ue.messageDirection=t.MessageDirection.clientToServer,ue.type=new t.ProtocolRequestType(ue.method)})(ge=e.DocumentOnTypeFormattingRequest||(e.DocumentOnTypeFormattingRequest={}));var Re;(function(ue){ue.Identifier=1})(Re=e.PrepareSupportDefaultBehavior||(e.PrepareSupportDefaultBehavior={}));var Pe;(function(ue){ue.method="textDocument/rename",ue.messageDirection=t.MessageDirection.clientToServer,ue.type=new t.ProtocolRequestType(ue.method)})(Pe=e.RenameRequest||(e.RenameRequest={}));var Ee;(function(ue){ue.method="textDocument/prepareRename",ue.messageDirection=t.MessageDirection.clientToServer,ue.type=new t.ProtocolRequestType(ue.method)})(Ee=e.PrepareRenameRequest||(e.PrepareRenameRequest={}));var se;(function(ue){ue.method="workspace/executeCommand",ue.messageDirection=t.MessageDirection.clientToServer,ue.type=new t.ProtocolRequestType(ue.method)})(se=e.ExecuteCommandRequest||(e.ExecuteCommandRequest={}));var Ze;(function(ue){ue.method="workspace/applyEdit",ue.messageDirection=t.MessageDirection.serverToClient,ue.type=new t.ProtocolRequestType("workspace/applyEdit")})(Ze=e.ApplyWorkspaceEditRequest||(e.ApplyWorkspaceEditRequest={}))}}),IBe=lr({"../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.2/node_modules/vscode-languageserver-protocol/lib/common/connection.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createProtocolConnection=void 0;var t=Rh();function r(n,i,o,s){return t.ConnectionStrategy.is(s)&&(s={connectionStrategy:s}),(0,t.createMessageConnection)(n,i,o,s)}a(r,"createProtocolConnection"),_(r,"createProtocolConnection"),e.createProtocolConnection=r}}),NBe=lr({"../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.2/node_modules/vscode-languageserver-protocol/lib/common/api.js"(e){"use strict";var t=e&&e.__createBinding||(Object.create?function(o,s,u,f){f===void 0&&(f=u);var p=Object.getOwnPropertyDescriptor(s,u);(!p||("get"in p?!s.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return s[u]}}),Object.defineProperty(o,f,p)}:function(o,s,u,f){f===void 0&&(f=u),o[f]=s[u]}),r=e&&e.__exportStar||function(o,s){for(var u in o)u!=="default"&&!Object.prototype.hasOwnProperty.call(s,u)&&t(s,o,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.LSPErrorCodes=e.createProtocolConnection=void 0,r(Rh(),e),r(dN(),e),r(Ii(),e),r(LBe(),e);var n=IBe();Object.defineProperty(e,"createProtocolConnection",{enumerable:!0,get:function(){return n.createProtocolConnection}});var i;(function(o){o.lspReservedErrorRangeStart=-32899,o.RequestFailed=-32803,o.ServerCancelled=-32802,o.ContentModified=-32801,o.RequestCancelled=-32800,o.lspReservedErrorRangeEnd=-32800})(i=e.LSPErrorCodes||(e.LSPErrorCodes={}))}}),da=lr({"../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.2/node_modules/vscode-languageserver-protocol/lib/browser/main.js"(e){"use strict";var t=e&&e.__createBinding||(Object.create?function(o,s,u,f){f===void 0&&(f=u);var p=Object.getOwnPropertyDescriptor(s,u);(!p||("get"in p?!s.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return s[u]}}),Object.defineProperty(o,f,p)}:function(o,s,u,f){f===void 0&&(f=u),o[f]=s[u]}),r=e&&e.__exportStar||function(o,s){for(var u in o)u!=="default"&&!Object.prototype.hasOwnProperty.call(s,u)&&t(s,o,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.createProtocolConnection=void 0;var n=aee();r(aee(),e),r(NBe(),e);function i(o,s,u,f){return(0,n.createMessageConnection)(o,s,u,f)}a(i,"createProtocolConnection"),_(i,"createProtocolConnection"),e.createProtocolConnection=i}}),bre=lr({"../../node_modules/.pnpm/vscode-languageserver@8.0.2/node_modules/vscode-languageserver/lib/common/semanticTokens.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticTokensBuilder=e.SemanticTokensDiff=e.SemanticTokensFeature=void 0;var t=da(),r=_(o=>class extends o{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(t.SemanticTokensRefreshRequest.type),on:s=>{let u=t.SemanticTokensRequest.type;return this.connection.onRequest(u,(f,p)=>s(f,p,this.attachWorkDoneProgress(f),this.attachPartialResultProgress(u,f)))},onDelta:s=>{let u=t.SemanticTokensDeltaRequest.type;return this.connection.onRequest(u,(f,p)=>s(f,p,this.attachWorkDoneProgress(f),this.attachPartialResultProgress(u,f)))},onRange:s=>{let u=t.SemanticTokensRangeRequest.type;return this.connection.onRequest(u,(f,p)=>s(f,p,this.attachWorkDoneProgress(f),this.attachPartialResultProgress(u,f)))}}}},"SemanticTokensFeature");e.SemanticTokensFeature=r;var n=class{static{a(this,"SemanticTokensDiff")}static{_(this,"SemanticTokensDiff")}constructor(o,s){this.originalSequence=o,this.modifiedSequence=s}computeDiff(){let o=this.originalSequence.length,s=this.modifiedSequence.length,u=0;for(;u<s&&u<o&&this.originalSequence[u]===this.modifiedSequence[u];)u++;if(u<s&&u<o){let f=o-1,p=s-1;for(;f>=u&&p>=u&&this.originalSequence[f]===this.modifiedSequence[p];)f--,p--;(f<u||p<u)&&(f++,p++);let g=f-u+1,y=this.modifiedSequence.slice(u,p+1);return y.length===1&&y[0]===this.originalSequence[f]?[{start:u,deleteCount:g-1}]:[{start:u,deleteCount:g,data:y}]}else return u<s?[{start:u,deleteCount:0,data:this.modifiedSequence.slice(u)}]:u<o?[{start:u,deleteCount:o-u}]:[]}};e.SemanticTokensDiff=n;var i=class{static{a(this,"SemanticTokensBuilder2")}static{_(this,"SemanticTokensBuilder")}constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(o,s,u,f,p){let g=o,y=s;this._dataLen>0&&(g-=this._prevLine,g===0&&(y-=this._prevChar)),this._data[this._dataLen++]=g,this._data[this._dataLen++]=y,this._data[this._dataLen++]=u,this._data[this._dataLen++]=f,this._data[this._dataLen++]=p,this._prevLine=o,this._prevChar=s}get id(){return this._id.toString()}previousResult(o){this.id===o&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new n(this._prevData,this._data).computeDiff()}:this.build()}};e.SemanticTokensBuilder=i}}),Tre=lr({"../../node_modules/.pnpm/vscode-languageserver@8.0.2/node_modules/vscode-languageserver/lib/common/textDocuments.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocuments=void 0;var t=da(),r=class{static{a(this,"TextDocuments2")}static{_(this,"TextDocuments")}constructor(n){this._configuration=n,this._syncedDocuments=new Map,this._onDidChangeContent=new t.Emitter,this._onDidOpen=new t.Emitter,this._onDidClose=new t.Emitter,this._onDidSave=new t.Emitter,this._onWillSave=new t.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(n){this._willSaveWaitUntil=n}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(n){return this._syncedDocuments.get(n)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(n){n.__textDocumentSync=t.TextDocumentSyncKind.Incremental;let i=[];return i.push(n.onDidOpenTextDocument(o=>{let s=o.textDocument,u=this._configuration.create(s.uri,s.languageId,s.version,s.text);this._syncedDocuments.set(s.uri,u);let f=Object.freeze({document:u});this._onDidOpen.fire(f),this._onDidChangeContent.fire(f)})),i.push(n.onDidChangeTextDocument(o=>{let s=o.textDocument,u=o.contentChanges;if(u.length===0)return;let{version:f}=s;if(f==null)throw new Error(`Received document change event for ${s.uri} without valid version identifier`);let p=this._syncedDocuments.get(s.uri);p!==void 0&&(p=this._configuration.update(p,u,f),this._syncedDocuments.set(s.uri,p),this._onDidChangeContent.fire(Object.freeze({document:p})))})),i.push(n.onDidCloseTextDocument(o=>{let s=this._syncedDocuments.get(o.textDocument.uri);s!==void 0&&(this._syncedDocuments.delete(o.textDocument.uri),this._onDidClose.fire(Object.freeze({document:s})))})),i.push(n.onWillSaveTextDocument(o=>{let s=this._syncedDocuments.get(o.textDocument.uri);s!==void 0&&this._onWillSave.fire(Object.freeze({document:s,reason:o.reason}))})),i.push(n.onWillSaveTextDocumentWaitUntil((o,s)=>{let u=this._syncedDocuments.get(o.textDocument.uri);return u!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:u,reason:o.reason}),s):[]})),i.push(n.onDidSaveTextDocument(o=>{let s=this._syncedDocuments.get(o.textDocument.uri);s!==void 0&&this._onDidSave.fire(Object.freeze({document:s}))})),t.Disposable.create(()=>{i.forEach(o=>o.dispose())})}};e.TextDocuments=r}}),kre=lr({"../../node_modules/.pnpm/vscode-languageserver@8.0.2/node_modules/vscode-languageserver/lib/common/notebook.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NotebookDocuments=e.NotebookSyncFeature=void 0;var t=da(),r=Tre(),n=_(s=>class extends s{get synchronization(){return{onDidOpenNotebookDocument:u=>this.connection.onNotification(t.DidOpenNotebookDocumentNotification.type,f=>{u(f)}),onDidChangeNotebookDocument:u=>this.connection.onNotification(t.DidChangeNotebookDocumentNotification.type,f=>{u(f)}),onDidSaveNotebookDocument:u=>this.connection.onNotification(t.DidSaveNotebookDocumentNotification.type,f=>{u(f)}),onDidCloseNotebookDocument:u=>this.connection.onNotification(t.DidCloseNotebookDocumentNotification.type,f=>{u(f)})}}},"NotebookSyncFeature");e.NotebookSyncFeature=n;var i=class Q_{static{a(this,"_CellTextDocumentConnection")}static{_(this,"CellTextDocumentConnection")}onDidOpenTextDocument(u){return this.openHandler=u,t.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(u){this.openHandler&&this.openHandler(u)}onDidChangeTextDocument(u){return this.changeHandler=u,t.Disposable.create(()=>{this.changeHandler=u})}changeTextDocument(u){this.changeHandler&&this.changeHandler(u)}onDidCloseTextDocument(u){return this.closeHandler=u,t.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(u){this.closeHandler&&this.closeHandler(u)}onWillSaveTextDocument(){return Q_.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return Q_.NULL_DISPOSE}onDidSaveTextDocument(){return Q_.NULL_DISPOSE}};i.NULL_DISPOSE=Object.freeze({dispose:()=>{}});var o=class{static{a(this,"NotebookDocuments")}static{_(this,"NotebookDocuments")}constructor(s){s instanceof r.TextDocuments?this._cellTextDocuments=s:this._cellTextDocuments=new r.TextDocuments(s),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new t.Emitter,this._onDidChange=new t.Emitter,this._onDidSave=new t.Emitter,this._onDidClose=new t.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(s){return this._cellTextDocuments.get(s.document)}getNotebookDocument(s){return this.notebookDocuments.get(s)}getNotebookCell(s){let u=this.notebookCellMap.get(s);return u&&u[0]}findNotebookDocumentForCell(s){let u=typeof s=="string"?s:s.document,f=this.notebookCellMap.get(u);return f&&f[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(s){let u=new i,f=[];return f.push(this.cellTextDocuments.listen(u)),f.push(s.notebooks.synchronization.onDidOpenNotebookDocument(p=>{this.notebookDocuments.set(p.notebookDocument.uri,p.notebookDocument);for(let g of p.cellTextDocuments)u.openTextDocument({textDocument:g});this.updateCellMap(p.notebookDocument),this._onDidOpen.fire(p.notebookDocument)})),f.push(s.notebooks.synchronization.onDidChangeNotebookDocument(p=>{let g=this.notebookDocuments.get(p.notebookDocument.uri);if(g===void 0)return;g.version=p.notebookDocument.version;let y=g.metadata,x=!1,b=p.change;b.metadata!==void 0&&(x=!0,g.metadata=b.metadata);let E=[],A=[],O=[],N=[];if(b.cells!==void 0){let M=b.cells;if(M.structure!==void 0){let B=M.structure.array;if(g.cells.splice(B.start,B.deleteCount,...B.cells!==void 0?B.cells:[]),M.structure.didOpen!==void 0)for(let G of M.structure.didOpen)u.openTextDocument({textDocument:G}),E.push(G.uri);if(M.structure.didClose)for(let G of M.structure.didClose)u.closeTextDocument({textDocument:G}),A.push(G.uri)}if(M.data!==void 0){let B=new Map(M.data.map(G=>[G.document,G]));for(let G=0;G<=g.cells.length;G++){let U=B.get(g.cells[G].document);if(U!==void 0){let W=g.cells.splice(G,1,U);if(O.push({old:W[0],new:U}),B.delete(U.document),B.size===0)break}}}if(M.textContent!==void 0)for(let B of M.textContent)u.changeTextDocument({textDocument:B.document,contentChanges:B.changes}),N.push(B.document.uri)}this.updateCellMap(g);let I={notebookDocument:g};x&&(I.metadata={old:y,new:g.metadata});let $=[];for(let M of E)$.push(this.getNotebookCell(M));let X=[];for(let M of A)X.push(this.getNotebookCell(M));let q=[];for(let M of N)q.push(this.getNotebookCell(M));($.length>0||X.length>0||O.length>0||q.length>0)&&(I.cells={added:$,removed:X,changed:{data:O,textContent:q}}),(I.metadata!==void 0||I.cells!==void 0)&&this._onDidChange.fire(I)})),f.push(s.notebooks.synchronization.onDidSaveNotebookDocument(p=>{let g=this.notebookDocuments.get(p.notebookDocument.uri);g!==void 0&&this._onDidSave.fire(g)})),f.push(s.notebooks.synchronization.onDidCloseNotebookDocument(p=>{let g=this.notebookDocuments.get(p.notebookDocument.uri);if(g!==void 0){this._onDidClose.fire(g);for(let y of p.cellTextDocuments)u.closeTextDocument({textDocument:y});this.notebookDocuments.delete(p.notebookDocument.uri);for(let y of g.cells)this.notebookCellMap.delete(y.document)}})),t.Disposable.create(()=>{f.forEach(p=>p.dispose())})}updateCellMap(s){for(let u of s.cells)this.notebookCellMap.set(u.document,[u,s])}};e.NotebookDocuments=o}}),_re=lr({"../../node_modules/.pnpm/vscode-languageserver@8.0.2/node_modules/vscode-languageserver/lib/common/utils/is.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.thenable=e.typedArray=e.stringArray=e.array=e.func=e.error=e.number=e.string=e.boolean=void 0;function t(g){return g===!0||g===!1}a(t,"boolean"),_(t,"boolean"),e.boolean=t;function r(g){return typeof g=="string"||g instanceof String}a(r,"string"),_(r,"string"),e.string=r;function n(g){return typeof g=="number"||g instanceof Number}a(n,"number"),_(n,"number"),e.number=n;function i(g){return g instanceof Error}a(i,"error"),_(i,"error"),e.error=i;function o(g){return typeof g=="function"}a(o,"func"),_(o,"func"),e.func=o;function s(g){return Array.isArray(g)}a(s,"array"),_(s,"array"),e.array=s;function u(g){return s(g)&&g.every(y=>r(y))}a(u,"stringArray"),_(u,"stringArray"),e.stringArray=u;function f(g,y){return Array.isArray(g)&&g.every(y)}a(f,"typedArray"),_(f,"typedArray"),e.typedArray=f;function p(g){return g&&o(g.then)}a(p,"thenable"),_(p,"thenable"),e.thenable=p}}),wre=lr({"../../node_modules/.pnpm/vscode-languageserver@8.0.2/node_modules/vscode-languageserver/lib/common/utils/uuid.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=e.parse=e.isUUID=e.v4=e.empty=void 0;var t=class{static{a(this,"ValueUUID")}static{_(this,"ValueUUID")}constructor(f){this._value=f}asHex(){return this._value}equals(f){return this.asHex()===f.asHex()}},r=class fn extends t{static{a(this,"_V4UUID")}static{_(this,"V4UUID")}constructor(){super([fn._randomHex(),fn._randomHex(),fn._randomHex(),fn._randomHex(),fn._randomHex(),fn._randomHex(),fn._randomHex(),fn._randomHex(),"-",fn._randomHex(),fn._randomHex(),fn._randomHex(),fn._randomHex(),"-","4",fn._randomHex(),fn._randomHex(),fn._randomHex(),"-",fn._oneOf(fn._timeHighBits),fn._randomHex(),fn._randomHex(),fn._randomHex(),"-",fn._randomHex(),fn._randomHex(),fn._randomHex(),fn._randomHex(),fn._randomHex(),fn._randomHex(),fn._randomHex(),fn._randomHex(),fn._randomHex(),fn._randomHex(),fn._randomHex(),fn._randomHex()].join(""))}static _oneOf(p){return p[Math.floor(p.length*Math.random())]}static _randomHex(){return fn._oneOf(fn._chars)}};r._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],r._timeHighBits=["8","9","a","b"],e.empty=new t("00000000-0000-0000-0000-000000000000");function n(){return new r}a(n,"v4"),_(n,"v4"),e.v4=n;var i=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function o(f){return i.test(f)}a(o,"isUUID"),_(o,"isUUID"),e.isUUID=o;function s(f){if(!o(f))throw new Error("invalid uuid");return new t(f)}a(s,"parse2"),_(s,"parse"),e.parse=s;function u(){return n().asHex()}a(u,"generateUuid"),_(u,"generateUuid"),e.generateUuid=u}}),PBe=lr({"../../node_modules/.pnpm/vscode-languageserver@8.0.2/node_modules/vscode-languageserver/lib/common/progress.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.attachPartialResult=e.ProgressFeature=e.attachWorkDone=void 0;var t=da(),r=wre(),n=class hI{static{a(this,"_WorkDoneProgressReporterImpl")}static{_(this,"WorkDoneProgressReporterImpl")}constructor(b,E){this._connection=b,this._token=E,hI.Instances.set(this._token,this)}begin(b,E,A,O){let N={kind:"begin",title:b,percentage:E,message:A,cancellable:O};this._connection.sendProgress(t.WorkDoneProgress.type,this._token,N)}report(b,E){let A={kind:"report"};typeof b=="number"?(A.percentage=b,E!==void 0&&(A.message=E)):A.message=b,this._connection.sendProgress(t.WorkDoneProgress.type,this._token,A)}done(){hI.Instances.delete(this._token),this._connection.sendProgress(t.WorkDoneProgress.type,this._token,{kind:"end"})}};n.Instances=new Map;var i=class extends n{static{a(this,"WorkDoneProgressServerReporterImpl")}static{_(this,"WorkDoneProgressServerReporterImpl")}constructor(x,b){super(x,b),this._source=new t.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},o=class{static{a(this,"NullProgressReporter")}static{_(this,"NullProgressReporter")}constructor(){}begin(){}report(){}done(){}},s=class extends o{static{a(this,"NullProgressServerReporter")}static{_(this,"NullProgressServerReporter")}constructor(){super(),this._source=new t.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function u(x,b){if(b===void 0||b.workDoneToken===void 0)return new o;let E=b.workDoneToken;return delete b.workDoneToken,new n(x,E)}a(u,"attachWorkDone"),_(u,"attachWorkDone"),e.attachWorkDone=u;var f=_(x=>class extends x{constructor(){super(),this._progressSupported=!1}initialize(b){super.initialize(b),b?.window?.workDoneProgress===!0&&(this._progressSupported=!0,this.connection.onNotification(t.WorkDoneProgressCancelNotification.type,E=>{let A=n.Instances.get(E.token);(A instanceof i||A instanceof s)&&A.cancel()}))}attachWorkDoneProgress(b){return b===void 0?new o:new n(this.connection,b)}createWorkDoneProgress(){if(this._progressSupported){let b=(0,r.generateUuid)();return this.connection.sendRequest(t.WorkDoneProgressCreateRequest.type,{token:b}).then(()=>new i(this.connection,b))}else return Promise.resolve(new s)}},"ProgressFeature");e.ProgressFeature=f;var p;(function(x){x.type=new t.ProgressType})(p||(p={}));var g=class{static{a(this,"ResultProgressReporterImpl")}static{_(this,"ResultProgressReporterImpl")}constructor(x,b){this._connection=x,this._token=b}report(x){this._connection.sendProgress(p.type,this._token,x)}};function y(x,b){if(b===void 0||b.partialResultToken===void 0)return;let E=b.partialResultToken;return delete b.partialResultToken,new g(x,E)}a(y,"attachPartialResult"),_(y,"attachPartialResult"),e.attachPartialResult=y}}),OBe=lr({"../../node_modules/.pnpm/vscode-languageserver@8.0.2/node_modules/vscode-languageserver/lib/common/configuration.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationFeature=void 0;var t=da(),r=_re(),n=_(i=>class extends i{getConfiguration(o){return o?r.string(o)?this._getConfiguration({section:o}):this._getConfiguration(o):this._getConfiguration({})}_getConfiguration(o){let s={items:Array.isArray(o)?o:[o]};return this.connection.sendRequest(t.ConfigurationRequest.type,s).then(u=>Array.isArray(u)?Array.isArray(o)?u:u[0]:Array.isArray(o)?[]:null)}},"ConfigurationFeature");e.ConfigurationFeature=n}}),MBe=lr({"../../node_modules/.pnpm/vscode-languageserver@8.0.2/node_modules/vscode-languageserver/lib/common/workspaceFolder.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkspaceFoldersFeature=void 0;var t=da(),r=_(n=>class extends n{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(i){super.initialize(i);let o=i.workspace;o&&o.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new t.Emitter,this.connection.onNotification(t.DidChangeWorkspaceFoldersNotification.type,s=>{this._onDidChangeWorkspaceFolders.fire(s.event)}))}fillServerCapabilities(i){super.fillServerCapabilities(i);let o=i.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=o===!0||typeof o=="string"}getWorkspaceFolders(){return this.connection.sendRequest(t.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(t.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}},"WorkspaceFoldersFeature");e.WorkspaceFoldersFeature=r}}),FBe=lr({"../../node_modules/.pnpm/vscode-languageserver@8.0.2/node_modules/vscode-languageserver/lib/common/callHierarchy.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CallHierarchyFeature=void 0;var t=da(),r=_(n=>class extends n{get callHierarchy(){return{onPrepare:i=>this.connection.onRequest(t.CallHierarchyPrepareRequest.type,(o,s)=>i(o,s,this.attachWorkDoneProgress(o),void 0)),onIncomingCalls:i=>{let o=t.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(o,(s,u)=>i(s,u,this.attachWorkDoneProgress(s),this.attachPartialResultProgress(o,s)))},onOutgoingCalls:i=>{let o=t.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(o,(s,u)=>i(s,u,this.attachWorkDoneProgress(s),this.attachPartialResultProgress(o,s)))}}}},"CallHierarchyFeature");e.CallHierarchyFeature=r}}),BBe=lr({"../../node_modules/.pnpm/vscode-languageserver@8.0.2/node_modules/vscode-languageserver/lib/common/showDocument.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShowDocumentFeature=void 0;var t=da(),r=_(n=>class extends n{showDocument(i){return this.connection.sendRequest(t.ShowDocumentRequest.type,i)}},"ShowDocumentFeature");e.ShowDocumentFeature=r}}),qBe=lr({"../../node_modules/.pnpm/vscode-languageserver@8.0.2/node_modules/vscode-languageserver/lib/common/fileOperations.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileOperationsFeature=void 0;var t=da(),r=_(n=>class extends n{onDidCreateFiles(i){return this.connection.onNotification(t.DidCreateFilesNotification.type,o=>{i(o)})}onDidRenameFiles(i){return this.connection.onNotification(t.DidRenameFilesNotification.type,o=>{i(o)})}onDidDeleteFiles(i){return this.connection.onNotification(t.DidDeleteFilesNotification.type,o=>{i(o)})}onWillCreateFiles(i){return this.connection.onRequest(t.WillCreateFilesRequest.type,(o,s)=>i(o,s))}onWillRenameFiles(i){return this.connection.onRequest(t.WillRenameFilesRequest.type,(o,s)=>i(o,s))}onWillDeleteFiles(i){return this.connection.onRequest(t.WillDeleteFilesRequest.type,(o,s)=>i(o,s))}},"FileOperationsFeature");e.FileOperationsFeature=r}}),zBe=lr({"../../node_modules/.pnpm/vscode-languageserver@8.0.2/node_modules/vscode-languageserver/lib/common/linkedEditingRange.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedEditingRangeFeature=void 0;var t=da(),r=_(n=>class extends n{onLinkedEditingRange(i){return this.connection.onRequest(t.LinkedEditingRangeRequest.type,(o,s)=>i(o,s,this.attachWorkDoneProgress(o),void 0))}},"LinkedEditingRangeFeature");e.LinkedEditingRangeFeature=r}}),UBe=lr({"../../node_modules/.pnpm/vscode-languageserver@8.0.2/node_modules/vscode-languageserver/lib/common/typeHierarchy.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TypeHierarchyFeature=void 0;var t=da(),r=_(n=>class extends n{get typeHierarchy(){return{onPrepare:i=>this.connection.onRequest(t.TypeHierarchyPrepareRequest.type,(o,s)=>i(o,s,this.attachWorkDoneProgress(o),void 0)),onSupertypes:i=>{let o=t.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(o,(s,u)=>i(s,u,this.attachWorkDoneProgress(s),this.attachPartialResultProgress(o,s)))},onSubtypes:i=>{let o=t.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(o,(s,u)=>i(s,u,this.attachWorkDoneProgress(s),this.attachPartialResultProgress(o,s)))}}}},"TypeHierarchyFeature");e.TypeHierarchyFeature=r}}),$Be=lr({"../../node_modules/.pnpm/vscode-languageserver@8.0.2/node_modules/vscode-languageserver/lib/common/inlineValue.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineValueFeature=void 0;var t=da(),r=_(n=>class extends n{get inlineValue(){return{refresh:()=>this.connection.sendRequest(t.InlineValueRefreshRequest.type),on:i=>this.connection.onRequest(t.InlineValueRequest.type,(o,s)=>i(o,s,this.attachWorkDoneProgress(o)))}}},"InlineValueFeature");e.InlineValueFeature=r}}),GBe=lr({"../../node_modules/.pnpm/vscode-languageserver@8.0.2/node_modules/vscode-languageserver/lib/common/inlayHint.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintFeature=void 0;var t=da(),r=_(n=>class extends n{get inlayHint(){return{refresh:()=>this.connection.sendRequest(t.InlayHintRefreshRequest.type),on:i=>this.connection.onRequest(t.InlayHintRequest.type,(o,s)=>i(o,s,this.attachWorkDoneProgress(o))),resolve:i=>this.connection.onRequest(t.InlayHintResolveRequest.type,(o,s)=>i(o,s))}}},"InlayHintFeature");e.InlayHintFeature=r}}),VBe=lr({"../../node_modules/.pnpm/vscode-languageserver@8.0.2/node_modules/vscode-languageserver/lib/common/diagnostic.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagnosticFeature=void 0;var t=da(),r=_(n=>class extends n{get diagnostics(){return{refresh:()=>this.connection.sendRequest(t.DiagnosticRefreshRequest.type),on:i=>this.connection.onRequest(t.DocumentDiagnosticRequest.type,(o,s)=>i(o,s,this.attachWorkDoneProgress(o),this.attachPartialResultProgress(t.DocumentDiagnosticRequest.partialResult,o))),onWorkspace:i=>this.connection.onRequest(t.WorkspaceDiagnosticRequest.type,(o,s)=>i(o,s,this.attachWorkDoneProgress(o),this.attachPartialResultProgress(t.WorkspaceDiagnosticRequest.partialResult,o)))}}},"DiagnosticFeature");e.DiagnosticFeature=r}}),WBe=lr({"../../node_modules/.pnpm/vscode-languageserver@8.0.2/node_modules/vscode-languageserver/lib/common/moniker.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonikerFeature=void 0;var t=da(),r=_(n=>class extends n{get moniker(){return{on:i=>{let o=t.MonikerRequest.type;return this.connection.onRequest(o,(s,u)=>i(s,u,this.attachWorkDoneProgress(s),this.attachPartialResultProgress(o,s)))}}}},"MonikerFeature");e.MonikerFeature=r}}),HBe=lr({"../../node_modules/.pnpm/vscode-languageserver@8.0.2/node_modules/vscode-languageserver/lib/common/server.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createConnection=e.combineFeatures=e.combineNotebooksFeatures=e.combineLanguagesFeatures=e.combineWorkspaceFeatures=e.combineWindowFeatures=e.combineClientFeatures=e.combineTracerFeatures=e.combineTelemetryFeatures=e.combineConsoleFeatures=e._NotebooksImpl=e._LanguagesImpl=e.BulkUnregistration=e.BulkRegistration=e.ErrorMessageTracker=void 0;var t=da(),r=_re(),n=wre(),i=PBe(),o=OBe(),s=MBe(),u=FBe(),f=bre(),p=BBe(),g=qBe(),y=zBe(),x=UBe(),b=$Be(),E=GBe(),A=VBe(),O=kre(),N=WBe();function I(fe){if(fe!==null)return fe}a(I,"null2Undefined"),_(I,"null2Undefined");var $=class{static{a(this,"ErrorMessageTracker")}static{_(this,"ErrorMessageTracker")}constructor(){this._messages=Object.create(null)}add(fe){let le=this._messages[fe];le||(le=0),le++,this._messages[fe]=le}sendErrors(fe){Object.keys(this._messages).forEach(le=>{fe.window.showErrorMessage(le)})}};e.ErrorMessageTracker=$;var X=class{static{a(this,"RemoteConsoleImpl")}static{_(this,"RemoteConsoleImpl")}constructor(){}rawAttach(fe){this._rawConnection=fe}attach(fe){this._connection=fe}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(fe){}initialize(fe){}error(fe){this.send(t.MessageType.Error,fe)}warn(fe){this.send(t.MessageType.Warning,fe)}info(fe){this.send(t.MessageType.Info,fe)}log(fe){this.send(t.MessageType.Log,fe)}send(fe,le){this._rawConnection&&this._rawConnection.sendNotification(t.LogMessageNotification.type,{type:fe,message:le}).catch(()=>{(0,t.RAL)().console.error("Sending log message failed")})}},q=class{static{a(this,"_RemoteWindowImpl")}static{_(this,"_RemoteWindowImpl")}constructor(){}attach(fe){this._connection=fe}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(fe){}fillServerCapabilities(fe){}showErrorMessage(fe,...le){let he={type:t.MessageType.Error,message:fe,actions:le};return this.connection.sendRequest(t.ShowMessageRequest.type,he).then(I)}showWarningMessage(fe,...le){let he={type:t.MessageType.Warning,message:fe,actions:le};return this.connection.sendRequest(t.ShowMessageRequest.type,he).then(I)}showInformationMessage(fe,...le){let he={type:t.MessageType.Info,message:fe,actions:le};return this.connection.sendRequest(t.ShowMessageRequest.type,he).then(I)}},M=(0,p.ShowDocumentFeature)((0,i.ProgressFeature)(q)),B;(function(fe){function le(){return new G}a(le,"create"),_(le,"create"),fe.create=le})(B=e.BulkRegistration||(e.BulkRegistration={}));var G=class{static{a(this,"BulkRegistrationImpl")}static{_(this,"BulkRegistrationImpl")}constructor(){this._registrations=[],this._registered=new Set}add(fe,le){let he=r.string(fe)?fe:fe.method;if(this._registered.has(he))throw new Error(`${he} is already added to this registration`);let xe=n.generateUuid();this._registrations.push({id:xe,method:he,registerOptions:le||{}}),this._registered.add(he)}asRegistrationParams(){return{registrations:this._registrations}}},U;(function(fe){function le(){return new W(void 0,[])}a(le,"create"),_(le,"create"),fe.create=le})(U=e.BulkUnregistration||(e.BulkUnregistration={}));var W=class{static{a(this,"BulkUnregistrationImpl")}static{_(this,"BulkUnregistrationImpl")}constructor(fe,le){this._connection=fe,this._unregistrations=new Map,le.forEach(he=>{this._unregistrations.set(he.method,he)})}get isAttached(){return!!this._connection}attach(fe){this._connection=fe}add(fe){this._unregistrations.set(fe.method,fe)}dispose(){let fe=[];for(let he of this._unregistrations.values())fe.push(he);let le={unregisterations:fe};this._connection.sendRequest(t.UnregistrationRequest.type,le).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(fe){let le=r.string(fe)?fe:fe.method,he=this._unregistrations.get(le);if(!he)return!1;let xe={unregisterations:[he]};return this._connection.sendRequest(t.UnregistrationRequest.type,xe).then(()=>{this._unregistrations.delete(le)},ke=>{this._connection.console.info(`Un-registering request handler for ${he.id} failed.`)}),!0}},D=class{static{a(this,"RemoteClientImpl")}static{_(this,"RemoteClientImpl")}attach(fe){this._connection=fe}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(fe){}fillServerCapabilities(fe){}register(fe,le,he){return fe instanceof G?this.registerMany(fe):fe instanceof W?this.registerSingle1(fe,le,he):this.registerSingle2(fe,le)}registerSingle1(fe,le,he){let xe=r.string(le)?le:le.method,ke=n.generateUuid(),pe={registrations:[{id:ke,method:xe,registerOptions:he||{}}]};return fe.isAttached||fe.attach(this.connection),this.connection.sendRequest(t.RegistrationRequest.type,pe).then(Ce=>(fe.add({id:ke,method:xe}),fe),Ce=>(this.connection.console.info(`Registering request handler for ${xe} failed.`),Promise.reject(Ce)))}registerSingle2(fe,le){let he=r.string(fe)?fe:fe.method,xe=n.generateUuid(),ke={registrations:[{id:xe,method:he,registerOptions:le||{}}]};return this.connection.sendRequest(t.RegistrationRequest.type,ke).then(pe=>t.Disposable.create(()=>{this.unregisterSingle(xe,he).catch(()=>{this.connection.console.info(`Un-registering capability with id ${xe} failed.`)})}),pe=>(this.connection.console.info(`Registering request handler for ${he} failed.`),Promise.reject(pe)))}unregisterSingle(fe,le){let he={unregisterations:[{id:fe,method:le}]};return this.connection.sendRequest(t.UnregistrationRequest.type,he).catch(()=>{this.connection.console.info(`Un-registering request handler for ${fe} failed.`)})}registerMany(fe){let le=fe.asRegistrationParams();return this.connection.sendRequest(t.RegistrationRequest.type,le).then(()=>new W(this._connection,le.registrations.map(he=>({id:he.id,method:he.method}))),he=>(this.connection.console.info("Bulk registration failed."),Promise.reject(he)))}},K=class{static{a(this,"_RemoteWorkspaceImpl")}static{_(this,"_RemoteWorkspaceImpl")}constructor(){}attach(fe){this._connection=fe}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(fe){}fillServerCapabilities(fe){}applyEdit(fe){function le(xe){return xe&&!!xe.edit}a(le,"isApplyWorkspaceEditParams"),_(le,"isApplyWorkspaceEditParams");let he=le(fe)?fe:{edit:fe};return this.connection.sendRequest(t.ApplyWorkspaceEditRequest.type,he)}},P=(0,g.FileOperationsFeature)((0,s.WorkspaceFoldersFeature)((0,o.ConfigurationFeature)(K))),re=class{static{a(this,"TracerImpl")}static{_(this,"TracerImpl")}constructor(){this._trace=t.Trace.Off}attach(fe){this._connection=fe}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(fe){}fillServerCapabilities(fe){}set trace(fe){this._trace=fe}log(fe,le){this._trace!==t.Trace.Off&&this.connection.sendNotification(t.LogTraceNotification.type,{message:fe,verbose:this._trace===t.Trace.Verbose?le:void 0}).catch(()=>{})}},ce=class{static{a(this,"TelemetryImpl")}static{_(this,"TelemetryImpl")}constructor(){}attach(fe){this._connection=fe}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(fe){}fillServerCapabilities(fe){}logEvent(fe){this.connection.sendNotification(t.TelemetryEventNotification.type,fe).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}},ee=class{static{a(this,"_LanguagesImpl")}static{_(this,"_LanguagesImpl")}constructor(){}attach(fe){this._connection=fe}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(fe){}fillServerCapabilities(fe){}attachWorkDoneProgress(fe){return(0,i.attachWorkDone)(this.connection,fe)}attachPartialResultProgress(fe,le){return(0,i.attachPartialResult)(this.connection,le)}};e._LanguagesImpl=ee;var H=(0,N.MonikerFeature)((0,A.DiagnosticFeature)((0,E.InlayHintFeature)((0,b.InlineValueFeature)((0,x.TypeHierarchyFeature)((0,y.LinkedEditingRangeFeature)((0,f.SemanticTokensFeature)((0,u.CallHierarchyFeature)(ee)))))))),te=class{static{a(this,"_NotebooksImpl")}static{_(this,"_NotebooksImpl")}constructor(){}attach(fe){this._connection=fe}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(fe){}fillServerCapabilities(fe){}attachWorkDoneProgress(fe){return(0,i.attachWorkDone)(this.connection,fe)}attachPartialResultProgress(fe,le){return(0,i.attachPartialResult)(this.connection,le)}};e._NotebooksImpl=te;var J=(0,O.NotebookSyncFeature)(te);function Y(fe,le){return function(he){return le(fe(he))}}a(Y,"combineConsoleFeatures"),_(Y,"combineConsoleFeatures"),e.combineConsoleFeatures=Y;function de(fe,le){return function(he){return le(fe(he))}}a(de,"combineTelemetryFeatures"),_(de,"combineTelemetryFeatures"),e.combineTelemetryFeatures=de;function Fe(fe,le){return function(he){return le(fe(he))}}a(Fe,"combineTracerFeatures"),_(Fe,"combineTracerFeatures"),e.combineTracerFeatures=Fe;function oe(fe,le){return function(he){return le(fe(he))}}a(oe,"combineClientFeatures"),_(oe,"combineClientFeatures"),e.combineClientFeatures=oe;function rt(fe,le){return function(he){return le(fe(he))}}a(rt,"combineWindowFeatures"),_(rt,"combineWindowFeatures"),e.combineWindowFeatures=rt;function We(fe,le){return function(he){return le(fe(he))}}a(We,"combineWorkspaceFeatures"),_(We,"combineWorkspaceFeatures"),e.combineWorkspaceFeatures=We;function _e(fe,le){return function(he){return le(fe(he))}}a(_e,"combineLanguagesFeatures"),_(_e,"combineLanguagesFeatures"),e.combineLanguagesFeatures=_e;function Ve(fe,le){return function(he){return le(fe(he))}}a(Ve,"combineNotebooksFeatures"),_(Ve,"combineNotebooksFeatures"),e.combineNotebooksFeatures=Ve;function Ye(fe,le){function he(ke,pe,Ce){return ke&&pe?Ce(ke,pe):ke||pe}return a(he,"combine"),_(he,"combine"),{__brand:"features",console:he(fe.console,le.console,Y),tracer:he(fe.tracer,le.tracer,Fe),telemetry:he(fe.telemetry,le.telemetry,de),client:he(fe.client,le.client,oe),window:he(fe.window,le.window,rt),workspace:he(fe.workspace,le.workspace,We),languages:he(fe.languages,le.languages,_e),notebooks:he(fe.notebooks,le.notebooks,Ve)}}a(Ye,"combineFeatures"),_(Ye,"combineFeatures"),e.combineFeatures=Ye;function Le(fe,le,he){let xe=he&&he.console?new(he.console(X)):new X,ke=fe(xe);xe.rawAttach(ke);let pe=he&&he.tracer?new(he.tracer(re)):new re,Ce=he&&he.telemetry?new(he.telemetry(ce)):new ce,Ue=he&&he.client?new(he.client(D)):new D,He=he&&he.window?new(he.window(M)):new M,Pt=he&&he.workspace?new(he.workspace(P)):new P,Lt=he&&he.languages?new(he.languages(H)):new H,Xt=he&&he.notebooks?new(he.notebooks(J)):new J,Kt=[xe,pe,Ce,Ue,He,Pt,Lt,Xt];function kr($e){return $e instanceof Promise?$e:r.thenable($e)?new Promise((Te,pt)=>{$e.then(it=>Te(it),it=>pt(it))}):Promise.resolve($e)}a(kr,"asPromise"),_(kr,"asPromise");let bt,gt,qt,ze={listen:()=>ke.listen(),sendRequest:($e,...Te)=>ke.sendRequest(r.string($e)?$e:$e.method,...Te),onRequest:($e,Te)=>ke.onRequest($e,Te),sendNotification:($e,Te)=>{let pt=r.string($e)?$e:$e.method;return arguments.length===1?ke.sendNotification(pt):ke.sendNotification(pt,Te)},onNotification:($e,Te)=>ke.onNotification($e,Te),onProgress:ke.onProgress,sendProgress:ke.sendProgress,onInitialize:$e=>(gt=$e,{dispose:()=>{gt=void 0}}),onInitialized:$e=>ke.onNotification(t.InitializedNotification.type,$e),onShutdown:$e=>(bt=$e,{dispose:()=>{bt=void 0}}),onExit:$e=>(qt=$e,{dispose:()=>{qt=void 0}}),get console(){return xe},get telemetry(){return Ce},get tracer(){return pe},get client(){return Ue},get window(){return He},get workspace(){return Pt},get languages(){return Lt},get notebooks(){return Xt},onDidChangeConfiguration:$e=>ke.onNotification(t.DidChangeConfigurationNotification.type,$e),onDidChangeWatchedFiles:$e=>ke.onNotification(t.DidChangeWatchedFilesNotification.type,$e),__textDocumentSync:void 0,onDidOpenTextDocument:$e=>ke.onNotification(t.DidOpenTextDocumentNotification.type,$e),onDidChangeTextDocument:$e=>ke.onNotification(t.DidChangeTextDocumentNotification.type,$e),onDidCloseTextDocument:$e=>ke.onNotification(t.DidCloseTextDocumentNotification.type,$e),onWillSaveTextDocument:$e=>ke.onNotification(t.WillSaveTextDocumentNotification.type,$e),onWillSaveTextDocumentWaitUntil:$e=>ke.onRequest(t.WillSaveTextDocumentWaitUntilRequest.type,$e),onDidSaveTextDocument:$e=>ke.onNotification(t.DidSaveTextDocumentNotification.type,$e),sendDiagnostics:$e=>ke.sendNotification(t.PublishDiagnosticsNotification.type,$e),onHover:$e=>ke.onRequest(t.HoverRequest.type,(Te,pt)=>$e(Te,pt,(0,i.attachWorkDone)(ke,Te),void 0)),onCompletion:$e=>ke.onRequest(t.CompletionRequest.type,(Te,pt)=>$e(Te,pt,(0,i.attachWorkDone)(ke,Te),(0,i.attachPartialResult)(ke,Te))),onCompletionResolve:$e=>ke.onRequest(t.CompletionResolveRequest.type,$e),onSignatureHelp:$e=>ke.onRequest(t.SignatureHelpRequest.type,(Te,pt)=>$e(Te,pt,(0,i.attachWorkDone)(ke,Te),void 0)),onDeclaration:$e=>ke.onRequest(t.DeclarationRequest.type,(Te,pt)=>$e(Te,pt,(0,i.attachWorkDone)(ke,Te),(0,i.attachPartialResult)(ke,Te))),onDefinition:$e=>ke.onRequest(t.DefinitionRequest.type,(Te,pt)=>$e(Te,pt,(0,i.attachWorkDone)(ke,Te),(0,i.attachPartialResult)(ke,Te))),onTypeDefinition:$e=>ke.onRequest(t.TypeDefinitionRequest.type,(Te,pt)=>$e(Te,pt,(0,i.attachWorkDone)(ke,Te),(0,i.attachPartialResult)(ke,Te))),onImplementation:$e=>ke.onRequest(t.ImplementationRequest.type,(Te,pt)=>$e(Te,pt,(0,i.attachWorkDone)(ke,Te),(0,i.attachPartialResult)(ke,Te))),onReferences:$e=>ke.onRequest(t.ReferencesRequest.type,(Te,pt)=>$e(Te,pt,(0,i.attachWorkDone)(ke,Te),(0,i.attachPartialResult)(ke,Te))),onDocumentHighlight:$e=>ke.onRequest(t.DocumentHighlightRequest.type,(Te,pt)=>$e(Te,pt,(0,i.attachWorkDone)(ke,Te),(0,i.attachPartialResult)(ke,Te))),onDocumentSymbol:$e=>ke.onRequest(t.DocumentSymbolRequest.type,(Te,pt)=>$e(Te,pt,(0,i.attachWorkDone)(ke,Te),(0,i.attachPartialResult)(ke,Te))),onWorkspaceSymbol:$e=>ke.onRequest(t.WorkspaceSymbolRequest.type,(Te,pt)=>$e(Te,pt,(0,i.attachWorkDone)(ke,Te),(0,i.attachPartialResult)(ke,Te))),onWorkspaceSymbolResolve:$e=>ke.onRequest(t.WorkspaceSymbolResolveRequest.type,$e),onCodeAction:$e=>ke.onRequest(t.CodeActionRequest.type,(Te,pt)=>$e(Te,pt,(0,i.attachWorkDone)(ke,Te),(0,i.attachPartialResult)(ke,Te))),onCodeActionResolve:$e=>ke.onRequest(t.CodeActionResolveRequest.type,(Te,pt)=>$e(Te,pt)),onCodeLens:$e=>ke.onRequest(t.CodeLensRequest.type,(Te,pt)=>$e(Te,pt,(0,i.attachWorkDone)(ke,Te),(0,i.attachPartialResult)(ke,Te))),onCodeLensResolve:$e=>ke.onRequest(t.CodeLensResolveRequest.type,(Te,pt)=>$e(Te,pt)),onDocumentFormatting:$e=>ke.onRequest(t.DocumentFormattingRequest.type,(Te,pt)=>$e(Te,pt,(0,i.attachWorkDone)(ke,Te),void 0)),onDocumentRangeFormatting:$e=>ke.onRequest(t.DocumentRangeFormattingRequest.type,(Te,pt)=>$e(Te,pt,(0,i.attachWorkDone)(ke,Te),void 0)),onDocumentOnTypeFormatting:$e=>ke.onRequest(t.DocumentOnTypeFormattingRequest.type,(Te,pt)=>$e(Te,pt)),onRenameRequest:$e=>ke.onRequest(t.RenameRequest.type,(Te,pt)=>$e(Te,pt,(0,i.attachWorkDone)(ke,Te),void 0)),onPrepareRename:$e=>ke.onRequest(t.PrepareRenameRequest.type,(Te,pt)=>$e(Te,pt)),onDocumentLinks:$e=>ke.onRequest(t.DocumentLinkRequest.type,(Te,pt)=>$e(Te,pt,(0,i.attachWorkDone)(ke,Te),(0,i.attachPartialResult)(ke,Te))),onDocumentLinkResolve:$e=>ke.onRequest(t.DocumentLinkResolveRequest.type,(Te,pt)=>$e(Te,pt)),onDocumentColor:$e=>ke.onRequest(t.DocumentColorRequest.type,(Te,pt)=>$e(Te,pt,(0,i.attachWorkDone)(ke,Te),(0,i.attachPartialResult)(ke,Te))),onColorPresentation:$e=>ke.onRequest(t.ColorPresentationRequest.type,(Te,pt)=>$e(Te,pt,(0,i.attachWorkDone)(ke,Te),(0,i.attachPartialResult)(ke,Te))),onFoldingRanges:$e=>ke.onRequest(t.FoldingRangeRequest.type,(Te,pt)=>$e(Te,pt,(0,i.attachWorkDone)(ke,Te),(0,i.attachPartialResult)(ke,Te))),onSelectionRanges:$e=>ke.onRequest(t.SelectionRangeRequest.type,(Te,pt)=>$e(Te,pt,(0,i.attachWorkDone)(ke,Te),(0,i.attachPartialResult)(ke,Te))),onExecuteCommand:$e=>ke.onRequest(t.ExecuteCommandRequest.type,(Te,pt)=>$e(Te,pt,(0,i.attachWorkDone)(ke,Te),void 0)),dispose:()=>ke.dispose()};for(let $e of Kt)$e.attach(ze);return ke.onRequest(t.InitializeRequest.type,$e=>{le.initialize($e),r.string($e.trace)&&(pe.trace=t.Trace.fromString($e.trace));for(let Te of Kt)Te.initialize($e.capabilities);if(gt){let Te=gt($e,new t.CancellationTokenSource().token,(0,i.attachWorkDone)(ke,$e),void 0);return kr(Te).then(pt=>{if(pt instanceof t.ResponseError)return pt;let it=pt;it||(it={capabilities:{}});let Qt=it.capabilities;Qt||(Qt={},it.capabilities=Qt),Qt.textDocumentSync===void 0||Qt.textDocumentSync===null?Qt.textDocumentSync=r.number(ze.__textDocumentSync)?ze.__textDocumentSync:t.TextDocumentSyncKind.None:!r.number(Qt.textDocumentSync)&&!r.number(Qt.textDocumentSync.change)&&(Qt.textDocumentSync.change=r.number(ze.__textDocumentSync)?ze.__textDocumentSync:t.TextDocumentSyncKind.None);for(let _r of Kt)_r.fillServerCapabilities(Qt);return it})}else{let Te={capabilities:{textDocumentSync:t.TextDocumentSyncKind.None}};for(let pt of Kt)pt.fillServerCapabilities(Te.capabilities);return Te}}),ke.onRequest(t.ShutdownRequest.type,()=>{if(le.shutdownReceived=!0,bt)return bt(new t.CancellationTokenSource().token)}),ke.onNotification(t.ExitNotification.type,()=>{try{qt&&qt()}finally{le.shutdownReceived?le.exit(0):le.exit(1)}}),ke.onNotification(t.SetTraceNotification.type,$e=>{pe.trace=t.Trace.fromString($e.value)}),ze}a(Le,"createConnection"),_(Le,"createConnection"),e.createConnection=Le}}),oee=lr({"../../node_modules/.pnpm/vscode-languageserver@8.0.2/node_modules/vscode-languageserver/lib/common/api.js"(e){"use strict";var t=e&&e.__createBinding||(Object.create?function(u,f,p,g){g===void 0&&(g=p);var y=Object.getOwnPropertyDescriptor(f,p);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[p]}}),Object.defineProperty(u,g,y)}:function(u,f,p,g){g===void 0&&(g=p),u[g]=f[p]}),r=e&&e.__exportStar||function(u,f){for(var p in u)p!=="default"&&!Object.prototype.hasOwnProperty.call(f,p)&&t(f,u,p)};Object.defineProperty(e,"__esModule",{value:!0}),e.ProposedFeatures=e.NotebookDocuments=e.TextDocuments=e.SemanticTokensBuilder=void 0;var n=bre();Object.defineProperty(e,"SemanticTokensBuilder",{enumerable:!0,get:function(){return n.SemanticTokensBuilder}}),r(da(),e);var i=Tre();Object.defineProperty(e,"TextDocuments",{enumerable:!0,get:function(){return i.TextDocuments}});var o=kre();Object.defineProperty(e,"NotebookDocuments",{enumerable:!0,get:function(){return o.NotebookDocuments}}),r(HBe(),e);var s;(function(u){u.all={__brand:"features"}})(s=e.ProposedFeatures||(e.ProposedFeatures={}))}}),jBe=lr({"../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.2/node_modules/vscode-languageserver-protocol/browser.js"(e,t){"use strict";t.exports=da()}}),Vn=lr({"../../node_modules/.pnpm/vscode-languageserver@8.0.2/node_modules/vscode-languageserver/lib/browser/main.js"(e){"use strict";var t=e&&e.__createBinding||(Object.create?function(u,f,p,g){g===void 0&&(g=p);var y=Object.getOwnPropertyDescriptor(f,p);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[p]}}),Object.defineProperty(u,g,y)}:function(u,f,p,g){g===void 0&&(g=p),u[g]=f[p]}),r=e&&e.__exportStar||function(u,f){for(var p in u)p!=="default"&&!Object.prototype.hasOwnProperty.call(f,p)&&t(f,u,p)};Object.defineProperty(e,"__esModule",{value:!0}),e.createConnection=void 0;var n=oee();r(jBe(),e),r(oee(),e);var i=!1,o={initialize:u=>{},get shutdownReceived(){return i},set shutdownReceived(u){i=u},exit:u=>{}};function s(u,f,p,g){let y,x,b,E;u!==void 0&&u.__brand==="features"&&(y=u,u=f,f=p,p=g),n.ConnectionStrategy.is(u)||n.ConnectionOptions.is(u)?E=u:(x=u,b=f,E=p);let A=_(O=>(0,n.createProtocolConnection)(x,b,O,E),"connectionFactory");return(0,n.createConnection)(A,o,y)}a(s,"createConnection"),_(s,"createConnection"),e.createConnection=s}}),YBe=En(Vn(),1),XBe=a(function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))},"__spreadArray"),see=function(){function e(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}return a(e,"FullTextDocument3"),_(e,"FullTextDocument"),Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.getText=function(t){if(t){var r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content},e.prototype.update=function(t,r){for(var n=0,i=t;n<i.length;n++){var o=i[n];if(e.isIncremental(o)){var s=mN(o.range),u=this.offsetAt(s.start),f=this.offsetAt(s.end);this._content=this._content.substring(0,u)+o.text+this._content.substring(f,this._content.length);var p=Math.max(s.start.line,0),g=Math.max(s.end.line,0),y=this._lineOffsets,x=dI(o.text,!1,u);if(g-p===x.length)for(var b=0,E=x.length;b<E;b++)y[b+p+1]=x[b];else x.length<1e4?y.splice.apply(y,XBe([p+1,g-p],x,!1)):this._lineOffsets=y=y.slice(0,p+1).concat(x,y.slice(g+1));var A=o.text.length-(f-u);if(A!==0)for(var b=p+1+x.length,E=y.length;b<E;b++)y[b]=y[b]+A}else if(e.isFull(o))this._content=o.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received")}this._version=r},e.prototype.getLineOffsets=function(){return this._lineOffsets===void 0&&(this._lineOffsets=dI(this._content,!0)),this._lineOffsets},e.prototype.positionAt=function(t){t=Math.max(Math.min(t,this._content.length),0);var r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return{line:0,character:t};for(;n<i;){var o=Math.floor((n+i)/2);r[o]>t?i=o:n=o+1}var s=n-1;return{line:s,character:t-r[s]}},e.prototype.offsetAt=function(t){var r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;var n=r[t.line],i=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,i),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),e.isIncremental=function(t){var r=t;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")},e.isFull=function(t){var r=t;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0},e}();(function(e){function t(i,o,s,u){return new see(i,o,s,u)}a(t,"create"),_(t,"create"),e.create=t;function r(i,o,s){if(i instanceof see)return i.update(o,s),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}a(r,"update"),_(r,"update"),e.update=r;function n(i,o){for(var s=i.getText(),u=pw(o.map(Ere),function(E,A){var O=E.range.start.line-A.range.start.line;return O===0?E.range.start.character-A.range.start.character:O}),f=0,p=[],g=0,y=u;g<y.length;g++){var x=y[g],b=i.offsetAt(x.range.start);if(b<f)throw new Error("Overlapping edit");b>f&&p.push(s.substring(f,b)),x.newText.length&&p.push(x.newText),f=i.offsetAt(x.range.end)}return p.push(s.substr(f)),p.join("")}a(n,"applyEdits"),_(n,"applyEdits"),e.applyEdits=n})(dw||(dw={}));a(pw,"mergeSort");_(pw,"mergeSort");a(dI,"computeLineOffsets");_(dI,"computeLineOffsets");a(mN,"getWellformedRange");_(mN,"getWellformedRange");a(Ere,"getWellformedEdit");_(Ere,"getWellformedEdit");a(ao,"isAstNode");_(ao,"isAstNode");a(ap,"isReference");_(ap,"isReference");a(Cre,"isAstNodeDescription");_(Cre,"isAstNodeDescription");a(l1,"isLinkingError");_(l1,"isLinkingError");Sre=class{static{a(this,"AbstractAstReflection")}static{_(this,"AbstractAstReflection")}constructor(){this.subtypes={},this.allSubtypes={}}isInstance(e,t){return ao(e)&&this.isSubtype(e.$type,t)}isSubtype(e,t){if(e===t)return!0;let r=this.subtypes[e];r||(r=this.subtypes[e]={});let n=r[t];if(n!==void 0)return n;{let i=this.computeIsSubtype(e,t);return r[t]=i,i}}getAllSubTypes(e){let t=this.allSubtypes[e];if(t)return t;{let r=this.getAllTypes(),n=[];for(let i of r)this.isSubtype(i,e)&&n.push(i);return this.allSubtypes[e]=n,n}}};a(hp,"isCompositeCstNode");_(hp,"isCompositeCstNode");a(Og,"isLeafCstNode");_(Og,"isLeafCstNode");a(Are,"isRootCstNode");_(Are,"isRootCstNode");zu=class vh{static{a(this,"_StreamImpl")}static{_(this,"StreamImpl")}constructor(t,r){this.startFn=t,this.nextFn=r}iterator(){let t={state:this.startFn(),next:()=>this.nextFn(t.state),[Symbol.iterator]:()=>t};return t}[Symbol.iterator](){return this.iterator()}isEmpty(){return!!this.iterator().next().done}count(){let t=this.iterator(),r=0,n=t.next();for(;!n.done;)r++,n=t.next();return r}toArray(){let t=[],r=this.iterator(),n;do n=r.next(),n.value!==void 0&&t.push(n.value);while(!n.done);return t}toSet(){return new Set(this)}toMap(t,r){let n=this.map(i=>[t?t(i):i,r?r(i):i]);return new Map(n)}toString(){return this.join()}concat(t){let r=t[Symbol.iterator]();return new vh(()=>({first:this.startFn(),firstDone:!1}),n=>{let i;if(!n.firstDone){do if(i=this.nextFn(n.first),!i.done)return i;while(!i.done);n.firstDone=!0}do if(i=r.next(),!i.done)return i;while(!i.done);return xs})}join(t=","){let r=this.iterator(),n="",i,o=!1;do i=r.next(),i.done||(o&&(n+=t),n+=Rre(i.value)),o=!0;while(!i.done);return n}indexOf(t,r=0){let n=this.iterator(),i=0,o=n.next();for(;!o.done;){if(i>=r&&o.value===t)return i;o=n.next(),i++}return-1}every(t){let r=this.iterator(),n=r.next();for(;!n.done;){if(!t(n.value))return!1;n=r.next()}return!0}some(t){let r=this.iterator(),n=r.next();for(;!n.done;){if(t(n.value))return!0;n=r.next()}return!1}forEach(t){let r=this.iterator(),n=0,i=r.next();for(;!i.done;)t(i.value,n),i=r.next(),n++}map(t){return new vh(this.startFn,r=>{let{done:n,value:i}=this.nextFn(r);return n?xs:{done:!1,value:t(i)}})}filter(t){return new vh(this.startFn,r=>{let n;do if(n=this.nextFn(r),!n.done&&t(n.value))return n;while(!n.done);return xs})}nonNullable(){return this.filter(t=>t!=null)}reduce(t,r){let n=this.iterator(),i=r,o=n.next();for(;!o.done;)i===void 0?i=o.value:i=t(i,o.value),o=n.next();return i}reduceRight(t,r){return this.recursiveReduce(this.iterator(),t,r)}recursiveReduce(t,r,n){let i=t.next();if(i.done)return n;let o=this.recursiveReduce(t,r,n);return o===void 0?i.value:r(o,i.value)}find(t){let r=this.iterator(),n=r.next();for(;!n.done;){if(t(n.value))return n.value;n=r.next()}}findIndex(t){let r=this.iterator(),n=0,i=r.next();for(;!i.done;){if(t(i.value))return n;i=r.next(),n++}return-1}includes(t){let r=this.iterator(),n=r.next();for(;!n.done;){if(n.value===t)return!0;n=r.next()}return!1}flatMap(t){return new vh(()=>({this:this.startFn()}),r=>{do{if(r.iterator){let o=r.iterator.next();if(o.done)r.iterator=void 0;else return o}let{done:n,value:i}=this.nextFn(r.this);if(!n){let o=t(i);if(v1(o))r.iterator=o[Symbol.iterator]();else return{done:!1,value:o}}}while(r.iterator);return xs})}flat(t){if(t===void 0&&(t=1),t<=0)return this;let r=t>1?this.flat(t-1):this;return new vh(()=>({this:r.startFn()}),n=>{do{if(n.iterator){let s=n.iterator.next();if(s.done)n.iterator=void 0;else return s}let{done:i,value:o}=r.nextFn(n.this);if(!i)if(v1(o))n.iterator=o[Symbol.iterator]();else return{done:!1,value:o}}while(n.iterator);return xs})}head(){let r=this.iterator().next();if(!r.done)return r.value}tail(t=1){return new vh(()=>{let r=this.startFn();for(let n=0;n<t;n++)if(this.nextFn(r).done)return r;return r},this.nextFn)}limit(t){return new vh(()=>({size:0,state:this.startFn()}),r=>(r.size++,r.size>t?xs:this.nextFn(r.state)))}distinct(t){let r=new Set;return this.filter(n=>{let i=t?t(n):n;return r.has(i)?!1:(r.add(i),!0)})}exclude(t,r){let n=new Set;for(let i of t){let o=r?r(i):i;n.add(o)}return this.filter(i=>{let o=r?r(i):i;return!n.has(o)})}};a(Rre,"toString");_(Rre,"toString");a(v1,"isIterable");_(v1,"isIterable");mw=new zu(()=>{},()=>xs),xs=Object.freeze({done:!0,value:void 0});a(Xn,"stream");_(Xn,"stream");Mg=class extends zu{static{a(this,"TreeStreamImpl")}static{_(this,"TreeStreamImpl")}constructor(e,t,r){super(()=>({iterators:r?.includeRoot?[[e][Symbol.iterator]()]:[t(e)[Symbol.iterator]()],pruned:!1}),n=>{for(n.pruned&&(n.iterators.pop(),n.pruned=!1);n.iterators.length>0;){let o=n.iterators[n.iterators.length-1].next();if(o.done)n.iterators.pop();else return n.iterators.push(t(o.value)[Symbol.iterator]()),o}return xs})}iterator(){let e={state:this.startFn(),next:()=>this.nextFn(e.state),prune:()=>{e.state.pruned=!0},[Symbol.iterator]:()=>e};return e}};(function(e){function t(o){return o.reduce((s,u)=>s+u,0)}a(t,"sum"),_(t,"sum"),e.sum=t;function r(o){return o.reduce((s,u)=>s*u,0)}a(r,"product"),_(r,"product"),e.product=r;function n(o){return o.reduce((s,u)=>Math.min(s,u))}a(n,"min2"),_(n,"min"),e.min=n;function i(o){return o.reduce((s,u)=>Math.max(s,u))}a(i,"max"),_(i,"max"),e.max=i})(Z_=Z_||(Z_={}));a(gN,"streamCst");_(gN,"streamCst");a(Dre,"flattenCst");_(Dre,"flattenCst");a(Lre,"isCstChildNode");_(Lre,"isCstChildNode");a(gw,"tokenToRange");_(gw,"tokenToRange");a(rl,"toDocumentSegment");_(rl,"toDocumentSegment");(function(e){e[e.Before=0]="Before",e[e.After=1]="After",e[e.OverlapFront=2]="OverlapFront",e[e.OverlapBack=3]="OverlapBack",e[e.Inside=4]="Inside"})(Fu=Fu||(Fu={}));a(Ire,"compareRange");_(Ire,"compareRange");a(yN,"inRange");_(yN,"inRange");Nre=/^[\w\p{L}]$/u;a(jl,"findDeclarationNodeAtOffset");_(jl,"findDeclarationNodeAtOffset");a(Pre,"findCommentNode");_(Pre,"findCommentNode");a(pI,"isCommentNode");_(pI,"isCommentNode");a(Wl,"findLeafNodeAtOffset");_(Wl,"findLeafNodeAtOffset");a(Ore,"getPreviousNode");_(Ore,"getPreviousNode");a(Mre,"getNextNode");_(Mre,"getNextNode");a(Fre,"getInteriorNodes");_(Fre,"getInteriorNodes");a(Bre,"getCommonParent");_(Bre,"getCommonParent");a(mI,"getParentChain");_(mI,"getParentChain");a(x1,"inject");_(x1,"inject");gI=Symbol("isProxy");a(yw,"eagerLoad");_(yw,"eagerLoad");a(vN,"_inject");_(vN,"_inject");lee=Symbol();a(yI,"_resolve");_(yI,"_resolve");a(xN,"_merge");_(xN,"_merge");no=class{static{a(this,"MultiMap")}static{_(this,"MultiMap")}constructor(e){if(this.map=new Map,e)for(let[t,r]of e)this.add(t,r)}get size(){return Z_.sum(Xn(this.map.values()).map(e=>e.length))}clear(){this.map.clear()}delete(e,t){if(t===void 0)return this.map.delete(e);{let r=this.map.get(e);if(r){let n=r.indexOf(t);if(n>=0)return r.length===1?this.map.delete(e):r.splice(n,1),!0}return!1}}get(e){var t;return(t=this.map.get(e))!==null&&t!==void 0?t:[]}has(e,t){if(t===void 0)return this.map.has(e);{let r=this.map.get(e);return r?r.indexOf(t)>=0:!1}}add(e,t){return this.map.has(e)?this.map.get(e).push(t):this.map.set(e,[t]),this}addAll(e,t){return this.map.has(e)?this.map.get(e).push(...t):this.map.set(e,Array.from(t)),this}forEach(e){this.map.forEach((t,r)=>t.forEach(n=>e(n,r,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return Xn(this.map.entries()).flatMap(([e,t])=>t.map(r=>[e,r]))}keys(){return Xn(this.map.keys())}values(){return Xn(this.map.values()).flat()}entriesGroupedByKey(){return Xn(this.map.entries())}},ZL="AbstractRule",Ag="AbstractType",KBe="Condition",QBe="TypeDefinition",vI="AbstractElement";a(tE,"isAbstractElement");_(tE,"isAbstractElement");qre="ArrayType";a(G1,"isArrayType");_(G1,"isArrayType");zre="Conjunction";a(Ure,"isConjunction");_(Ure,"isConjunction");$re="Disjunction";a(Gre,"isDisjunction");_(Gre,"isDisjunction");Vre="Grammar";a(vw,"isGrammar");_(vw,"isGrammar");ZBe="GrammarImport";a(bN,"isGrammarImport");_(bN,"isGrammarImport");JBe="InferredType";a(rE,"isInferredType");_(rE,"isInferredType");xw="Interface";a(Kl,"isInterface");_(Kl,"isInterface");Wre="LiteralCondition";a(Hre,"isLiteralCondition");_(Hre,"isLiteralCondition");jre="Negation";a(Yre,"isNegation");_(Yre,"isNegation");Xre="Parameter";a(Kre,"isParameter");_(Kre,"isParameter");Qre="ParameterReference";a(nE,"isParameterReference");_(nE,"isParameterReference");Zre="ParserRule";a(Ir,"isParserRule");_(Ir,"isParserRule");Jre="ReferenceType";a(V1,"isReferenceType");_(V1,"isReferenceType");e9e="ReturnType";a(iE,"isReturnType");_(iE,"isReturnType");ene="SimpleType";a(Vc,"isSimpleType");_(Vc,"isSimpleType");xI="TerminalRule";a(zi,"isTerminalRule");_(zi,"isTerminalRule");bw="Type";a(Zo,"isType");_(Zo,"isType");t9e="TypeAttribute";a(TN,"isTypeAttribute");_(TN,"isTypeAttribute");tne="UnionType";a(Dh,"isUnionType");_(Dh,"isUnionType");rne="Action";a(fa,"isAction");_(fa,"isAction");nne="Alternatives";a(Hu,"isAlternatives");_(Hu,"isAlternatives");ine="Assignment";a(Qi,"isAssignment");_(Qi,"isAssignment");ane="CharacterRange";a(kN,"isCharacterRange");_(kN,"isCharacterRange");one="CrossReference";a(zc,"isCrossReference");_(zc,"isCrossReference");sne="Group";a(Xo,"isGroup");_(Xo,"isGroup");lne="Keyword";a(Co,"isKeyword");_(Co,"isKeyword");cne="NegatedToken";a(une,"isNegatedToken");_(une,"isNegatedToken");fne="RegexToken";a(hne,"isRegexToken");_(hne,"isRegexToken");dne="RuleCall";a(ha,"isRuleCall");_(ha,"isRuleCall");pne="TerminalAlternatives";a(mne,"isTerminalAlternatives");_(mne,"isTerminalAlternatives");gne="TerminalGroup";a(yne,"isTerminalGroup");_(yne,"isTerminalGroup");vne="TerminalRuleCall";a(_N,"isTerminalRuleCall");_(_N,"isTerminalRuleCall");xne="UnorderedGroup";a(ju,"isUnorderedGroup");_(ju,"isUnorderedGroup");bne="UntilToken";a(Tne,"isUntilToken");_(Tne,"isUntilToken");kne="Wildcard";a(_ne,"isWildcard");_(_ne,"isWildcard");wne=class extends Sre{static{a(this,"LangiumGrammarAstReflection")}static{_(this,"LangiumGrammarAstReflection")}getAllTypes(){return["AbstractElement","AbstractRule","AbstractType","Action","Alternatives","ArrayType","Assignment","CharacterRange","Condition","Conjunction","CrossReference","Disjunction","Grammar","GrammarImport","Group","InferredType","Interface","Keyword","LiteralCondition","NamedArgument","NegatedToken","Negation","Parameter","ParameterReference","ParserRule","ReferenceType","RegexToken","ReturnType","RuleCall","SimpleType","TerminalAlternatives","TerminalGroup","TerminalRule","TerminalRuleCall","Type","TypeAttribute","TypeDefinition","UnionType","UnorderedGroup","UntilToken","Wildcard"]}computeIsSubtype(e,t){switch(e){case rne:return this.isSubtype(vI,t)||this.isSubtype(Ag,t);case nne:case ine:case ane:case one:case sne:case lne:case cne:case fne:case dne:case pne:case gne:case vne:case xne:case bne:case kne:return this.isSubtype(vI,t);case qre:case Jre:case ene:case tne:return this.isSubtype(QBe,t);case zre:case $re:case Wre:case jre:case Qre:return this.isSubtype(KBe,t);case xw:case bw:return this.isSubtype(Ag,t);case Zre:return this.isSubtype(ZL,t)||this.isSubtype(Ag,t);case xI:return this.isSubtype(ZL,t);default:return!1}}getReferenceType(e){let t=`${e.container.$type}:${e.property}`;switch(t){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return Ag;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return ZL;case"Grammar:usedGrammars":return Vre;case"NamedArgument:parameter":case"ParameterReference:parameter":return Xre;case"TerminalRuleCall:rule":return xI;default:throw new Error(`${t} is not a valid reference id.`)}}getTypeMetaData(e){switch(e){case"Grammar":return{name:"Grammar",mandatory:[{name:"definesHiddenTokens",type:"boolean"},{name:"hiddenTokens",type:"array"},{name:"imports",type:"array"},{name:"interfaces",type:"array"},{name:"isDeclared",type:"boolean"},{name:"rules",type:"array"},{name:"types",type:"array"},{name:"usedGrammars",type:"array"}]};case"Interface":return{name:"Interface",mandatory:[{name:"attributes",type:"array"},{name:"superTypes",type:"array"}]};case"LiteralCondition":return{name:"LiteralCondition",mandatory:[{name:"true",type:"boolean"}]};case"NamedArgument":return{name:"NamedArgument",mandatory:[{name:"calledByName",type:"boolean"}]};case"ParserRule":return{name:"ParserRule",mandatory:[{name:"definesHiddenTokens",type:"boolean"},{name:"entry",type:"boolean"},{name:"fragment",type:"boolean"},{name:"hiddenTokens",type:"array"},{name:"parameters",type:"array"},{name:"wildcard",type:"boolean"}]};case"TerminalRule":return{name:"TerminalRule",mandatory:[{name:"fragment",type:"boolean"},{name:"hidden",type:"boolean"}]};case"TypeAttribute":return{name:"TypeAttribute",mandatory:[{name:"isOptional",type:"boolean"}]};case"UnionType":return{name:"UnionType",mandatory:[{name:"types",type:"array"}]};case"Alternatives":return{name:"Alternatives",mandatory:[{name:"elements",type:"array"}]};case"CrossReference":return{name:"CrossReference",mandatory:[{name:"deprecatedSyntax",type:"boolean"}]};case"Group":return{name:"Group",mandatory:[{name:"elements",type:"array"}]};case"RuleCall":return{name:"RuleCall",mandatory:[{name:"arguments",type:"array"}]};case"TerminalAlternatives":return{name:"TerminalAlternatives",mandatory:[{name:"elements",type:"array"}]};case"TerminalGroup":return{name:"TerminalGroup",mandatory:[{name:"elements",type:"array"}]};case"UnorderedGroup":return{name:"UnorderedGroup",mandatory:[{name:"elements",type:"array"}]};default:return{name:e,mandatory:[]}}}},on=new wne;a(Ene,"linkContentToContainer");_(Ene,"linkContentToContainer");a(Ki,"getContainerOfType");_(Ki,"getContainerOfType");a(Gn,"getDocument");_(Gn,"getDocument");a(aE,"findRootNode");_(aE,"findRootNode");a(Vg,"streamContents");_(Vg,"streamContents");a(oo,"streamAllContents");_(oo,"streamAllContents");a(W1,"streamAst");_(W1,"streamAst");a(Tw,"isAstNodeInRange");_(Tw,"isAstNodeInRange");a(wN,"streamReferences");_(wN,"streamReferences");a(Cne,"getSourceRegion");_(Cne,"getSourceRegion");a(Sne,"isCstNode");_(Sne,"isCstNode");a(Ane,"getDocumentURIOrUndefined");_(Ane,"getDocumentURIOrUndefined");a(Rne,"getSourceRegionOfAstNode");_(Rne,"getSourceRegionOfAstNode");a(J_,"getDocumentURI");_(J_,"getDocumentURI");a(tp,"copyDocumentSegment");_(tp,"copyDocumentSegment");a(EN,"mergeDocumentSegment");_(EN,"mergeDocumentSegment");r9e=class{static{a(this,"Context")}static{_(this,"Context")}constructor(e){this.defaultIndentation="    ",this.pendingIndent=!0,this.currentIndents=[],this.recentNonImmediateIndents=[],this.traceData=[],this.lines=[[]],typeof e=="string"?this.defaultIndentation=e:typeof e=="number"&&(this.defaultIndentation="".padStart(e))}get content(){return this.lines.map(e=>e.join("")).join("")}get currentLineNumber(){return this.lines.length-1}get currentLineContent(){return this.lines[this.currentLineNumber].join("")}get currentPosition(){return{offset:this.content.length,line:this.currentLineNumber,character:this.currentLineContent.length}}append(e,t){if(e.length>0){let r=t&&this.currentPosition;this.lines[this.currentLineNumber].push(e),r&&this.indentPendingTraceRegions(r)}}indentPendingTraceRegions(e){for(let t=this.traceData.length-1;t>=0;t--){let r=this.traceData[t];r.targetStart&&r.targetStart.offset===e.offset&&(r.targetStart=this.currentPosition)}}increaseIndent(e){this.currentIndents.push(e),e.indentImmediately||this.recentNonImmediateIndents.push(e)}decreaseIndent(){this.currentIndents.pop()}get relevantIndents(){return this.currentIndents.filter(e=>!this.recentNonImmediateIndents.includes(e))}resetCurrentLine(){this.lines[this.currentLineNumber]=[],this.pendingIndent=!0}addNewLine(){this.pendingIndent=!0,this.lines.push([]),this.recentNonImmediateIndents.length=0}pushTraceRegion(e){let t=Dne(e,this.currentPosition,r=>{var n,i;return(i=(n=this.traceData[this.traceData.length-1])===null||n===void 0?void 0:n.children)===null||i===void 0?void 0:i.push(r)});return this.traceData.push(t),t}popTraceRegion(e){let t=this.traceData.pop();return this.assertTrue(t===e,"Trace region mismatch!"),t}getParentTraceSourceFileURI(){var e;for(let t=this.traceData.length-1;t>-1;t--){let r=(e=this.traceData[t].sourceRegion)===null||e===void 0?void 0:e.fileURI;if(r)return r}}assertTrue(e,t){if(!e)throw new Error(t)}};a(Dne,"createTraceRegion");_(Dne,"createTraceRegion");a(Lne,"processGeneratorNode");_(Lne,"processGeneratorNode");a(CN,"processNodeInternal");_(CN,"processNodeInternal");a(SN,"hasContent");_(SN,"hasContent");a(Ine,"processStringNode");_(Ine,"processStringNode");a(AN,"handlePendingIndent");_(AN,"handlePendingIndent");a(RN,"processCompositeNode");_(RN,"processCompositeNode");a(Nne,"processIndentNode");_(Nne,"processIndentNode");a(Pne,"processNewLineNode");_(Pne,"processNewLineNode");a(One,"hasNonWhitespace");_(One,"hasNonWhitespace");$$t=Object.freeze("__\xABSKIP^NEW^LINE^IF^EMPTY\xBB__"),DN=/\r?\n/g,n9e=/\S|$/;a(Mne,"findIndentation");_(Mne,"findIndentation");a(LN,"expandToNode");_(LN,"expandToNode");a(Fne,"expandTracedToNode");_(Fne,"expandTracedToNode");a(Bne,"findIndentationAndTemplateStructure");_(Bne,"findIndentationAndTemplateStructure");a(qne,"splitTemplateLinesAndMergeWithSubstitutions");_(qne,"splitTemplateLinesAndMergeWithSubstitutions");ew={isNewLine:!0},zne={isUndefinedSegment:!0},cee=_(e=>e===ew,"isNewLineMarker"),JL=_(e=>e===zne,"isUndefinedSegmentMarker"),i9e=_(e=>e.content!==void 0,"isSubstitutionWrapper");a(Une,"composeFinalGeneratorNode");_(Une,"composeFinalGeneratorNode");a9e=typeof process>"u"?`
`:process.platform==="win32"?`\r
`:`
`;a(b1,"isGeneratorNode");_(b1,"isGeneratorNode");a(T1,"toString2");_(T1,"toString");Ql=class $ne{static{a(this,"_CompositeGeneratorNode")}static{_(this,"CompositeGeneratorNode")}constructor(...t){this.contents=[],this.append(...t)}isEmpty(){return this.contents.length===0}trace(t,r,n){if(ao(t)){if(this.tracedSource={astNode:t,property:r,index:n},this.tracedSource.property===void 0&&this.tracedSource.index!==void 0&&this.tracedSource.index>-1)throw new Error("Generation support: 'property' argument must not be 'undefined' if a non-negative value is assigned to 'index' in 'CompositeGeneratorNode.trace(...)'.")}else this.tracedSource=t;return this}append(...t){for(let r of t)typeof r=="function"?r(this):r&&this.contents.push(r);return this}appendIf(t,...r){return t?this.append(...r):this}appendNewLine(){return this.append(Ri)}appendNewLineIf(t){return t?this.append(Ri):this}appendNewLineIfNotEmpty(){return this.append(o9e)}appendNewLineIfNotEmptyIf(t){return t?this.appendNewLineIfNotEmpty():this}appendTemplate(t,...r){return this.append(LN(t,...r))}appendTemplateIf(t){return t?(r,...n)=>this.appendTemplate(r,...n):()=>this}indent(t){let{indentedChildren:r,indentation:n,indentEmptyLines:i,indentImmediately:o}=Array.isArray(t)||typeof t=="function"?{indentedChildren:t}:typeof t=="object"?t:{},s=new IN(n,o,i);return this.contents.push(s),Array.isArray(r)?s.append(...r):r&&s.append(r),this}appendTraced(t,r,n){return i=>this.append(new $ne().trace(t,r,n).append(i))}appendTracedIf(t,r,n,i){return t?this.appendTraced(typeof r=="function"?r():r,n,i):()=>this}appendTracedTemplate(t,r,n){return(i,...o)=>this.append(Fne(t,r,n)(i,...o))}appendTracedTemplateIf(t,r,n,i){return t?this.appendTracedTemplate(typeof r=="function"?r():r,n,i):()=>this}};a(Gne,"traceToNode");_(Gne,"traceToNode");IN=class extends Ql{static{a(this,"IndentNode")}static{_(this,"IndentNode")}constructor(e,t=!0,r=!1){super(),this.indentImmediately=!0,this.indentEmptyLines=!1,typeof e=="string"?this.indentation=e:typeof e=="number"&&(this.indentation="".padStart(e)),this.indentImmediately=t,this.indentEmptyLines=r}},H1=class{static{a(this,"NewLineNode")}static{_(this,"NewLineNode")}constructor(e,t=!1){this.ifNotEmpty=!1,this.lineDelimiter=e??a9e,this.ifNotEmpty=t}},Ri=new H1,o9e=new H1(void 0,!0);a(_h,"isReferenceType2");_(_h,"isReferenceType");a(wh,"isArrayType2");_(wh,"isArrayType");a(Ya,"isPropertyUnion");_(Ya,"isPropertyUnion");a(NN,"flattenPropertyUnion");_(NN,"flattenPropertyUnion");a(Hl,"isValueType");_(Hl,"isValueType");a(nl,"isPrimitiveType");_(nl,"isPrimitiveType");a(Uc,"isStringType");_(Uc,"isStringType");a(Fc,"isUnionType2");_(Fc,"isUnionType");a(Bc,"isInterfaceType");_(Bc,"isInterfaceType");s9e=class{static{a(this,"UnionType2")}static{_(this,"UnionType")}constructor(e,t){var r;this.superTypes=new Set,this.subTypes=new Set,this.typeNames=new Set,this.name=e,this.declared=(r=t?.declared)!==null&&r!==void 0?r:!1,this.dataType=t?.dataType}toAstTypesString(e){let t=new Ql;return t.append(`export type ${this.name} = ${Yl(this.type,"AstType")};`,Ri),e&&(t.append(Ri),ON(t,this.name)),this.dataType&&Hne(t,this),T1(t)}toDeclaredTypesString(e){let t=new Ql;return t.append(`type ${sE(this.name,e)} = ${Yl(this.type,"DeclaredType")};`,Ri),T1(t)}},Vne=class Wne{static{a(this,"_InterfaceType")}static{_(this,"InterfaceType")}get superProperties(){return this.getSuperProperties(new Set)}getSuperProperties(t){if(t.has(this.name))return[];t.add(this.name);let r=new Map;for(let n of this.properties)r.set(n.name,n);for(let n of this.interfaceSuperTypes){let i=n.getSuperProperties(t);for(let o of i)r.has(o.name)||r.set(o.name,o)}return Array.from(r.values())}get allProperties(){let t=new Map(this.superProperties.map(n=>[n.name,n]));for(let n of this.subTypes)this.getSubTypeProperties(n,t,new Set);return Array.from(t.values())}getSubTypeProperties(t,r,n){if(n.has(this.name))return;n.add(this.name);let i=Bc(t)?t.properties:[];for(let o of i)r.has(o.name)||r.set(o.name,o);for(let o of t.subTypes)this.getSubTypeProperties(o,r,n)}get interfaceSuperTypes(){return Array.from(this.superTypes).filter(t=>t instanceof Wne)}constructor(t,r,n){this.superTypes=new Set,this.subTypes=new Set,this.containerTypes=new Set,this.typeNames=new Set,this.declared=!1,this.abstract=!1,this.properties=[],this.name=t,this.declared=r,this.abstract=n}toAstTypesString(t){let r=new Ql,n=this.interfaceSuperTypes.map(o=>o.name),i=n.length>0?Jd([...n]):["AstNode"];return r.append(`export interface ${this.name} extends ${i.join(", ")} {`,Ri),r.indent(o=>{this.containerTypes.size>0&&o.append(`readonly $container: ${Jd([...this.containerTypes].map(s=>s.name)).join(" | ")};`,Ri),this.typeNames.size>0&&o.append(`readonly $type: ${Jd([...this.typeNames]).map(s=>`'${s}'`).join(" | ")};`,Ri),bI(o,this.properties,"AstType")}),r.append("}",Ri),t&&(r.append(Ri),ON(r,this.name)),T1(r)}toDeclaredTypesString(t){let r=new Ql,n=sE(this.name,t),i=Jd(this.interfaceSuperTypes.map(o=>o.name)).join(", ");return r.append(`interface ${n}${i.length>0?` extends ${i}`:""} {`,Ri),r.indent(o=>bI(o,this.properties,"DeclaredType",t)),r.append("}",Ri),T1(r)}},l9e=class extends Error{static{a(this,"TypeResolutionError")}static{_(this,"TypeResolutionError")}constructor(e,t){super(e),this.name="TypeResolutionError",this.target=t}};a(k1,"isTypeAssignable");_(k1,"isTypeAssignable");a(Ou,"isTypeAssignableInternal");_(Ou,"isTypeAssignableInternal");a(PN,"isInterfaceAssignable");_(PN,"isInterfaceAssignable");a(Lg,"propertyTypeToKeyString");_(Lg,"propertyTypeToKeyString");a(Yl,"propertyTypeToString");_(Yl,"propertyTypeToString");a(tw,"typeParenthesis");_(tw,"typeParenthesis");a(bI,"pushProperties");_(bI,"pushProperties");a(oE,"isMandatoryPropertyType");_(oE,"isMandatoryPropertyType");a(ON,"pushReflectionInfo");_(ON,"pushReflectionInfo");a(Hne,"pushDataTypeReflectionInfo");_(Hne,"pushDataTypeReflectionInfo");a(kw,"containsOnlyStringTypes");_(kw,"containsOnlyStringTypes");a(jne,"createDataTypeCheckerFunctionReturnString");_(jne,"createDataTypeCheckerFunctionReturnString");a(sE,"escapeReservedWords");_(sE,"escapeReservedWords");a(MN,"collectStringValuesFromDataType");_(MN,"collectStringValuesFromDataType");a(FN,"collectRegexesFromDataType");_(FN,"collectRegexesFromDataType");a(e1,"generateIsDataTypeFunction");_(e1,"generateIsDataTypeFunction");a(Jd,"distinctAndSorted");_(Jd,"distinctAndSorted");a(BN,"collectChildrenTypes");_(BN,"collectChildrenTypes");a(_1,"collectSuperTypes");_(_1,"collectSuperTypes");a(qN,"collectUsedTypes");_(qN,"collectUsedTypes");a(TI,"mergeInterfaces");_(TI,"mergeInterfaces");a(kI,"mergeTypesAndInterfaces");_(kI,"mergeTypesAndInterfaces");a(Yne,"sortInterfacesTopologically");_(Yne,"sortInterfacesTopologically");a(Xne,"findAstTypes");_(Xne,"findAstTypes");a(c1,"findAstTypesInternal");_(c1,"findAstTypesInternal");a(lE,"isNamed");_(lE,"isNamed");Kne=class{static{a(this,"DefaultNameProvider")}static{_(this,"DefaultNameProvider")}getName(e){if(lE(e))return e.name}getNameNode(e){return Gc(e.$cstNode,"name")}};a(Lr,"cc");_(Lr,"cc");a(rw,"insertToSet");_(rw,"insertToSet");a(Eg,"addFlag");_(Eg,"addFlag");a(Qd,"ASSERT_EXISTS");_(Qd,"ASSERT_EXISTS");a(t1,"ASSERT_NEVER_REACH_HERE");_(t1,"ASSERT_NEVER_REACH_HERE");a(_I,"isCharacter");_(_I,"isCharacter");_w=[];for(let e=Lr("0");e<=Lr("9");e++)_w.push(e);ww=[Lr("_")].concat(_w);for(let e=Lr("a");e<=Lr("z");e++)ww.push(e);for(let e=Lr("A");e<=Lr("Z");e++)ww.push(e);uee=[Lr(" "),Lr("\f"),Lr(`
`),Lr("\r"),Lr("	"),Lr("\v"),Lr("	"),Lr("\xA0"),Lr("\u1680"),Lr("\u2000"),Lr("\u2001"),Lr("\u2002"),Lr("\u2003"),Lr("\u2004"),Lr("\u2005"),Lr("\u2006"),Lr("\u2007"),Lr("\u2008"),Lr("\u2009"),Lr("\u200A"),Lr("\u2028"),Lr("\u2029"),Lr("\u202F"),Lr("\u205F"),Lr("\u3000"),Lr("\uFEFF")],c9e=/[0-9a-fA-F]/,G_=/[0-9]/,u9e=/[1-9]/,Qne=class{static{a(this,"RegExpParser")}static{_(this,"RegExpParser")}constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}pattern(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");let t=this.disjunction();this.consumeChar("/");let r={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":Eg(r,"global");break;case"i":Eg(r,"ignoreCase");break;case"m":Eg(r,"multiLine");break;case"u":Eg(r,"unicode");break;case"y":Eg(r,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:r,value:t,loc:this.loc(0)}}disjunction(){let e=[],t=this.idx;for(e.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(t)}}alternative(){let e=[],t=this.idx;for(;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(t)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){let e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let t;switch(this.popChar()){case"=":t="Lookahead";break;case"!":t="NegativeLookahead";break}Qd(t);let r=this.disjunction();return this.consumeChar(")"),{type:t,value:r,loc:this.loc(e)}}return t1()}quantifier(e=!1){let t,r=this.idx;switch(this.popChar()){case"*":t={atLeast:0,atMost:1/0};break;case"+":t={atLeast:1,atMost:1/0};break;case"?":t={atLeast:0,atMost:1};break;case"{":let n=this.integerIncludingZero();switch(this.popChar()){case"}":t={atLeast:n,atMost:n};break;case",":let i;this.isDigit()?(i=this.integerIncludingZero(),t={atLeast:n,atMost:i}):t={atLeast:n,atMost:1/0},this.consumeChar("}");break}if(e===!0&&t===void 0)return;Qd(t);break}if(!(e===!0&&t===void 0)&&Qd(t))return this.peekChar(0)==="?"?(this.consumeChar("?"),t.greedy=!1):t.greedy=!0,t.type="Quantifier",t.loc=this.loc(r),t}atom(){let e,t=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group();break}return e===void 0&&this.isPatternCharacter()&&(e=this.patternCharacter()),Qd(e)?(e.loc=this.loc(t),this.isQuantifier()&&(e.quantifier=this.quantifier()),e):t1()}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[Lr(`
`),Lr("\r"),Lr("\u2028"),Lr("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let e,t=!1;switch(this.popChar()){case"d":e=_w;break;case"D":e=_w,t=!0;break;case"s":e=uee;break;case"S":e=uee,t=!0;break;case"w":e=ww;break;case"W":e=ww,t=!0;break}return Qd(e)?{type:"Set",value:e,complement:t}:t1()}controlEscapeAtom(){let e;switch(this.popChar()){case"f":e=Lr("\f");break;case"n":e=Lr(`
`);break;case"r":e=Lr("\r");break;case"t":e=Lr("	");break;case"v":e=Lr("\v");break}return Qd(e)?{type:"Character",value:e}:t1()}controlLetterEscapeAtom(){this.consumeChar("c");let e=this.popChar();if(/[a-zA-Z]/.test(e)===!1)throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:Lr("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){let e=this.popChar();return{type:"Character",value:Lr(e)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:let e=this.popChar();return{type:"Character",value:Lr(e)}}}characterClass(){let e=[],t=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),t=!0);this.isClassAtom();){let r=this.classAtom(),n=r.type==="Character";if(_I(r)&&this.isRangeDash()){this.consumeChar("-");let i=this.classAtom(),o=i.type==="Character";if(_I(i)){if(i.value<r.value)throw Error("Range out of order in character class");e.push({from:r.value,to:i.value})}else rw(r.value,e),e.push(Lr("-")),rw(i.value,e)}else rw(r.value,e)}return this.consumeChar("]"),{type:"Set",complement:t,value:e}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:Lr("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let e=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),e=!1;break;default:this.groupIdx++;break}let t=this.disjunction();this.consumeChar(")");let r={type:"Group",capturing:e,value:t};return e&&(r.idx=this.groupIdx),r}positiveInteger(){let e=this.popChar();if(u9e.test(e)===!1)throw Error("Expecting a positive integer");for(;G_.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}integerIncludingZero(){let e=this.popChar();if(G_.test(e)===!1)throw Error("Expecting an integer");for(;G_.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}patternCharacter(){let e=this.popChar();switch(e){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:Lr(e)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return G_.test(this.peekChar(0))}isClassAtom(e=0){switch(this.peekChar(e)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){let e=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(e)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(e){let t="";for(let n=0;n<e;n++){let i=this.popChar();if(c9e.test(i)===!1)throw Error("Expecting a HexDecimal digits");t+=i}return{type:"Character",value:parseInt(t,16)}}peekChar(e=0){return this.input[this.idx+e]}popChar(){let e=this.peekChar(0);return this.consumeChar(void 0),e}consumeChar(e){if(e!==void 0&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(e){return{begin:e,end:this.idx}}},cE=class{static{a(this,"BaseRegExpVisitor")}static{_(this,"BaseRegExpVisitor")}visitChildren(e){for(let t in e){let r=e[t];e.hasOwnProperty(t)&&(r.type!==void 0?this.visit(r):Array.isArray(r)&&r.forEach(n=>{this.visit(n)},this))}}visit(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e);break}this.visitChildren(e)}visitPattern(e){}visitFlags(e){}visitDisjunction(e){}visitAlternative(e){}visitStartAnchor(e){}visitEndAnchor(e){}visitWordBoundary(e){}visitNonWordBoundary(e){}visitLookahead(e){}visitNegativeLookahead(e){}visitCharacter(e){}visitSet(e){}visitGroup(e){}visitGroupBackReference(e){}visitQuantifier(e){}},f9e=new Qne,h9e=class extends cE{static{a(this,"TerminalRegexVisitor")}static{_(this,"TerminalRegexVisitor")}constructor(){super(...arguments),this.isStarting=!0,this.endRegexStack=[],this.multiline=!1}get endRegex(){return this.endRegexStack.join("")}reset(e){this.multiline=!1,this.regex=e,this.startRegex="",this.isStarting=!0,this.endRegexStack=[]}visitGroup(e){e.quantifier&&(this.isStarting=!1,this.endRegexStack=[])}visitCharacter(e){let t=String.fromCharCode(e.value);if(!this.multiline&&t===`
`&&(this.multiline=!0),e.quantifier)this.isStarting=!1,this.endRegexStack=[];else{let r=op(t);this.endRegexStack.push(r),this.isStarting&&(this.startRegex+=r)}}visitSet(e){if(!this.multiline){let t=this.regex.substring(e.loc.begin,e.loc.end),r=new RegExp(t);this.multiline=!!`
`.match(r)}if(e.quantifier)this.isStarting=!1,this.endRegexStack=[];else{let t=this.regex.substring(e.loc.begin,e.loc.end);this.endRegexStack.push(t),this.isStarting&&(this.startRegex+=t)}}visitChildren(e){e.type==="Group"&&e.quantifier||super.visitChildren(e)}},eI=new h9e;a(Zne,"isMultilineComment");_(Zne,"isMultilineComment");a(wI,"isWhitespaceRegExp");_(wI,"isWhitespaceRegExp");a(op,"escapeRegExp");_(op,"escapeRegExp");a(Jne,"getCaseInsensitivePattern");_(Jne,"getCaseInsensitivePattern");a(eie,"partialMatches");_(eie,"partialMatches");a(tie,"partialRegex");_(tie,"partialRegex");rie={};nBe(rie,{URI:()=>d9e,Utils:()=>p9e});(()=>{"use strict";var e={470:i=>{function o(f){if(typeof f!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(f))}a(o,"e2"),_(o,"e");function s(f,p){for(var g,y="",x=0,b=-1,E=0,A=0;A<=f.length;++A){if(A<f.length)g=f.charCodeAt(A);else{if(g===47)break;g=47}if(g===47){if(!(b===A-1||E===1))if(b!==A-1&&E===2){if(y.length<2||x!==2||y.charCodeAt(y.length-1)!==46||y.charCodeAt(y.length-2)!==46){if(y.length>2){var O=y.lastIndexOf("/");if(O!==y.length-1){O===-1?(y="",x=0):x=(y=y.slice(0,O)).length-1-y.lastIndexOf("/"),b=A,E=0;continue}}else if(y.length===2||y.length===1){y="",x=0,b=A,E=0;continue}}p&&(y.length>0?y+="/..":y="..",x=2)}else y.length>0?y+="/"+f.slice(b+1,A):y=f.slice(b+1,A),x=A-b-1;b=A,E=0}else g===46&&E!==-1?++E:E=-1}return y}a(s,"r2"),_(s,"r");var u={resolve:function(){for(var f,p="",g=!1,y=arguments.length-1;y>=-1&&!g;y--){var x;y>=0?x=arguments[y]:(f===void 0&&(f=process.cwd()),x=f),o(x),x.length!==0&&(p=x+"/"+p,g=x.charCodeAt(0)===47)}return p=s(p,!g),g?p.length>0?"/"+p:"/":p.length>0?p:"."},normalize:function(f){if(o(f),f.length===0)return".";var p=f.charCodeAt(0)===47,g=f.charCodeAt(f.length-1)===47;return(f=s(f,!p)).length!==0||p||(f="."),f.length>0&&g&&(f+="/"),p?"/"+f:f},isAbsolute:function(f){return o(f),f.length>0&&f.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var f,p=0;p<arguments.length;++p){var g=arguments[p];o(g),g.length>0&&(f===void 0?f=g:f+="/"+g)}return f===void 0?".":u.normalize(f)},relative:function(f,p){if(o(f),o(p),f===p||(f=u.resolve(f))===(p=u.resolve(p)))return"";for(var g=1;g<f.length&&f.charCodeAt(g)===47;++g);for(var y=f.length,x=y-g,b=1;b<p.length&&p.charCodeAt(b)===47;++b);for(var E=p.length-b,A=x<E?x:E,O=-1,N=0;N<=A;++N){if(N===A){if(E>A){if(p.charCodeAt(b+N)===47)return p.slice(b+N+1);if(N===0)return p.slice(b+N)}else x>A&&(f.charCodeAt(g+N)===47?O=N:N===0&&(O=0));break}var I=f.charCodeAt(g+N);if(I!==p.charCodeAt(b+N))break;I===47&&(O=N)}var $="";for(N=g+O+1;N<=y;++N)N!==y&&f.charCodeAt(N)!==47||($.length===0?$+="..":$+="/..");return $.length>0?$+p.slice(b+O):(b+=O,p.charCodeAt(b)===47&&++b,p.slice(b))},_makeLong:function(f){return f},dirname:function(f){if(o(f),f.length===0)return".";for(var p=f.charCodeAt(0),g=p===47,y=-1,x=!0,b=f.length-1;b>=1;--b)if((p=f.charCodeAt(b))===47){if(!x){y=b;break}}else x=!1;return y===-1?g?"/":".":g&&y===1?"//":f.slice(0,y)},basename:function(f,p){if(p!==void 0&&typeof p!="string")throw new TypeError('"ext" argument must be a string');o(f);var g,y=0,x=-1,b=!0;if(p!==void 0&&p.length>0&&p.length<=f.length){if(p.length===f.length&&p===f)return"";var E=p.length-1,A=-1;for(g=f.length-1;g>=0;--g){var O=f.charCodeAt(g);if(O===47){if(!b){y=g+1;break}}else A===-1&&(b=!1,A=g+1),E>=0&&(O===p.charCodeAt(E)?--E==-1&&(x=g):(E=-1,x=A))}return y===x?x=A:x===-1&&(x=f.length),f.slice(y,x)}for(g=f.length-1;g>=0;--g)if(f.charCodeAt(g)===47){if(!b){y=g+1;break}}else x===-1&&(b=!1,x=g+1);return x===-1?"":f.slice(y,x)},extname:function(f){o(f);for(var p=-1,g=0,y=-1,x=!0,b=0,E=f.length-1;E>=0;--E){var A=f.charCodeAt(E);if(A!==47)y===-1&&(x=!1,y=E+1),A===46?p===-1?p=E:b!==1&&(b=1):p!==-1&&(b=-1);else if(!x){g=E+1;break}}return p===-1||y===-1||b===0||b===1&&p===y-1&&p===g+1?"":f.slice(p,y)},format:function(f){if(f===null||typeof f!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof f);return function(p,g){var y=g.dir||g.root,x=g.base||(g.name||"")+(g.ext||"");return y?y===g.root?y+x:y+"/"+x:x}(0,f)},parse:function(f){o(f);var p={root:"",dir:"",base:"",ext:"",name:""};if(f.length===0)return p;var g,y=f.charCodeAt(0),x=y===47;x?(p.root="/",g=1):g=0;for(var b=-1,E=0,A=-1,O=!0,N=f.length-1,I=0;N>=g;--N)if((y=f.charCodeAt(N))!==47)A===-1&&(O=!1,A=N+1),y===46?b===-1?b=N:I!==1&&(I=1):b!==-1&&(I=-1);else if(!O){E=N+1;break}return b===-1||A===-1||I===0||I===1&&b===A-1&&b===E+1?A!==-1&&(p.base=p.name=E===0&&x?f.slice(1,A):f.slice(E,A)):(E===0&&x?(p.name=f.slice(1,b),p.base=f.slice(1,A)):(p.name=f.slice(E,b),p.base=f.slice(E,A)),p.ext=f.slice(b,A)),E>0?p.dir=f.slice(0,E-1):x&&(p.dir="/"),p},sep:"/",delimiter:":",win32:null,posix:null};u.posix=u,i.exports=u}},t={};function r(i){var o=t[i];if(o!==void 0)return o.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,r),s.exports}a(r,"r"),_(r,"r"),r.d=(i,o)=>{for(var s in o)r.o(o,s)&&!r.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:o[s]})},r.o=(i,o)=>Object.prototype.hasOwnProperty.call(i,o),r.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var n={};(()=>{var i;if(r.r(n),r.d(n,{URI:()=>O,Utils:()=>D}),typeof process=="object")i=process.platform==="win32";else if(typeof navigator=="object"){var o=navigator.userAgent;i=o.indexOf("Windows")>=0}var s,u,f=(s=_(function(ee,H){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(te,J){te.__proto__=J}||function(te,J){for(var Y in J)Object.prototype.hasOwnProperty.call(J,Y)&&(te[Y]=J[Y])},s(ee,H)},"o"),function(ee,H){if(typeof H!="function"&&H!==null)throw new TypeError("Class extends value "+String(H)+" is not a constructor or null");function te(){this.constructor=ee}a(te,"r2"),_(te,"r"),s(ee,H),ee.prototype=H===null?Object.create(H):(te.prototype=H.prototype,new te)}),p=/^\w[\w\d+.-]*$/,g=/^\//,y=/^\/\//;function x(ee,H){if(!ee.scheme&&H)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(ee.authority,'", path: "').concat(ee.path,'", query: "').concat(ee.query,'", fragment: "').concat(ee.fragment,'"}'));if(ee.scheme&&!p.test(ee.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(ee.path){if(ee.authority){if(!g.test(ee.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(y.test(ee.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}a(x,"f"),_(x,"f");var b="",E="/",A=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,O=function(){function ee(H,te,J,Y,de,Fe){Fe===void 0&&(Fe=!1),typeof H=="object"?(this.scheme=H.scheme||b,this.authority=H.authority||b,this.path=H.path||b,this.query=H.query||b,this.fragment=H.fragment||b):(this.scheme=function(oe,rt){return oe||rt?oe:"file"}(H,Fe),this.authority=te||b,this.path=function(oe,rt){switch(oe){case"https":case"http":case"file":rt?rt[0]!==E&&(rt=E+rt):rt=E}return rt}(this.scheme,J||b),this.query=Y||b,this.fragment=de||b,x(this,Fe))}return a(ee,"e3"),_(ee,"e"),ee.isUri=function(H){return H instanceof ee||!!H&&typeof H.authority=="string"&&typeof H.fragment=="string"&&typeof H.path=="string"&&typeof H.query=="string"&&typeof H.scheme=="string"&&typeof H.fsPath=="string"&&typeof H.with=="function"&&typeof H.toString=="function"},Object.defineProperty(ee.prototype,"fsPath",{get:function(){return M(this,!1)},enumerable:!1,configurable:!0}),ee.prototype.with=function(H){if(!H)return this;var te=H.scheme,J=H.authority,Y=H.path,de=H.query,Fe=H.fragment;return te===void 0?te=this.scheme:te===null&&(te=b),J===void 0?J=this.authority:J===null&&(J=b),Y===void 0?Y=this.path:Y===null&&(Y=b),de===void 0?de=this.query:de===null&&(de=b),Fe===void 0?Fe=this.fragment:Fe===null&&(Fe=b),te===this.scheme&&J===this.authority&&Y===this.path&&de===this.query&&Fe===this.fragment?this:new I(te,J,Y,de,Fe)},ee.parse=function(H,te){te===void 0&&(te=!1);var J=A.exec(H);return J?new I(J[2]||b,W(J[4]||b),W(J[5]||b),W(J[7]||b),W(J[9]||b),te):new I(b,b,b,b,b)},ee.file=function(H){var te=b;if(i&&(H=H.replace(/\\/g,E)),H[0]===E&&H[1]===E){var J=H.indexOf(E,2);J===-1?(te=H.substring(2),H=E):(te=H.substring(2,J),H=H.substring(J)||E)}return new I("file",te,H,b,b)},ee.from=function(H){var te=new I(H.scheme,H.authority,H.path,H.query,H.fragment);return x(te,!0),te},ee.prototype.toString=function(H){return H===void 0&&(H=!1),B(this,H)},ee.prototype.toJSON=function(){return this},ee.revive=function(H){if(H){if(H instanceof ee)return H;var te=new I(H);return te._formatted=H.external,te._fsPath=H._sep===N?H.fsPath:null,te}return H},ee}(),N=i?1:void 0,I=function(ee){function H(){var te=ee!==null&&ee.apply(this,arguments)||this;return te._formatted=null,te._fsPath=null,te}return a(H,"e3"),_(H,"e"),f(H,ee),Object.defineProperty(H.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=M(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),H.prototype.toString=function(te){return te===void 0&&(te=!1),te?B(this,!0):(this._formatted||(this._formatted=B(this,!1)),this._formatted)},H.prototype.toJSON=function(){var te={$mid:1};return this._fsPath&&(te.fsPath=this._fsPath,te._sep=N),this._formatted&&(te.external=this._formatted),this.path&&(te.path=this.path),this.scheme&&(te.scheme=this.scheme),this.authority&&(te.authority=this.authority),this.query&&(te.query=this.query),this.fragment&&(te.fragment=this.fragment),te},H}(O),$=((u={})[58]="%3A",u[47]="%2F",u[63]="%3F",u[35]="%23",u[91]="%5B",u[93]="%5D",u[64]="%40",u[33]="%21",u[36]="%24",u[38]="%26",u[39]="%27",u[40]="%28",u[41]="%29",u[42]="%2A",u[43]="%2B",u[44]="%2C",u[59]="%3B",u[61]="%3D",u[32]="%20",u);function X(ee,H,te){for(var J=void 0,Y=-1,de=0;de<ee.length;de++){var Fe=ee.charCodeAt(de);if(Fe>=97&&Fe<=122||Fe>=65&&Fe<=90||Fe>=48&&Fe<=57||Fe===45||Fe===46||Fe===95||Fe===126||H&&Fe===47||te&&Fe===91||te&&Fe===93||te&&Fe===58)Y!==-1&&(J+=encodeURIComponent(ee.substring(Y,de)),Y=-1),J!==void 0&&(J+=ee.charAt(de));else{J===void 0&&(J=ee.substr(0,de));var oe=$[Fe];oe!==void 0?(Y!==-1&&(J+=encodeURIComponent(ee.substring(Y,de)),Y=-1),J+=oe):Y===-1&&(Y=de)}}return Y!==-1&&(J+=encodeURIComponent(ee.substring(Y))),J!==void 0?J:ee}a(X,"m"),_(X,"m");function q(ee){for(var H=void 0,te=0;te<ee.length;te++){var J=ee.charCodeAt(te);J===35||J===63?(H===void 0&&(H=ee.substr(0,te)),H+=$[J]):H!==void 0&&(H+=ee[te])}return H!==void 0?H:ee}a(q,"b"),_(q,"b");function M(ee,H){var te;return te=ee.authority&&ee.path.length>1&&ee.scheme==="file"?"//".concat(ee.authority).concat(ee.path):ee.path.charCodeAt(0)===47&&(ee.path.charCodeAt(1)>=65&&ee.path.charCodeAt(1)<=90||ee.path.charCodeAt(1)>=97&&ee.path.charCodeAt(1)<=122)&&ee.path.charCodeAt(2)===58?H?ee.path.substr(1):ee.path[1].toLowerCase()+ee.path.substr(2):ee.path,i&&(te=te.replace(/\//g,"\\")),te}a(M,"C"),_(M,"C");function B(ee,H){var te=H?q:X,J="",Y=ee.scheme,de=ee.authority,Fe=ee.path,oe=ee.query,rt=ee.fragment;if(Y&&(J+=Y,J+=":"),(de||Y==="file")&&(J+=E,J+=E),de){var We=de.indexOf("@");if(We!==-1){var _e=de.substr(0,We);de=de.substr(We+1),(We=_e.lastIndexOf(":"))===-1?J+=te(_e,!1,!1):(J+=te(_e.substr(0,We),!1,!1),J+=":",J+=te(_e.substr(We+1),!1,!0)),J+="@"}(We=(de=de.toLowerCase()).lastIndexOf(":"))===-1?J+=te(de,!1,!0):(J+=te(de.substr(0,We),!1,!0),J+=de.substr(We))}if(Fe){if(Fe.length>=3&&Fe.charCodeAt(0)===47&&Fe.charCodeAt(2)===58)(Ve=Fe.charCodeAt(1))>=65&&Ve<=90&&(Fe="/".concat(String.fromCharCode(Ve+32),":").concat(Fe.substr(3)));else if(Fe.length>=2&&Fe.charCodeAt(1)===58){var Ve;(Ve=Fe.charCodeAt(0))>=65&&Ve<=90&&(Fe="".concat(String.fromCharCode(Ve+32),":").concat(Fe.substr(2)))}J+=te(Fe,!0,!1)}return oe&&(J+="?",J+=te(oe,!1,!1)),rt&&(J+="#",J+=H?rt:X(rt,!1,!1)),J}a(B,"A2"),_(B,"A");function G(ee){try{return decodeURIComponent(ee)}catch{return ee.length>3?ee.substr(0,3)+G(ee.substr(3)):ee}}a(G,"w"),_(G,"w");var U=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function W(ee){return ee.match(U)?ee.replace(U,function(H){return G(H)}):ee}a(W,"_2"),_(W,"_");var D,K=r(470),P=_(function(ee,H,te){if(te||arguments.length===2)for(var J,Y=0,de=H.length;Y<de;Y++)!J&&Y in H||(J||(J=Array.prototype.slice.call(H,0,Y)),J[Y]=H[Y]);return ee.concat(J||Array.prototype.slice.call(H))},"j"),re=K.posix||K,ce="/";(function(ee){ee.joinPath=function(H){for(var te=[],J=1;J<arguments.length;J++)te[J-1]=arguments[J];return H.with({path:re.join.apply(re,P([H.path],te,!1))})},ee.resolvePath=function(H){for(var te=[],J=1;J<arguments.length;J++)te[J-1]=arguments[J];var Y=H.path,de=!1;Y[0]!==ce&&(Y=ce+Y,de=!0);var Fe=re.resolve.apply(re,P([Y],te,!1));return de&&Fe[0]===ce&&!H.authority&&(Fe=Fe.substring(1)),H.with({path:Fe})},ee.dirname=function(H){if(H.path.length===0||H.path===ce)return H;var te=re.dirname(H.path);return te.length===1&&te.charCodeAt(0)===46&&(te=""),H.with({path:te})},ee.basename=function(H){return re.basename(H.path)},ee.extname=function(H){return re.extname(H.path)}})(D||(D={}))})(),nie=n})();({URI:d9e,Utils:p9e}=nie),Bu=rie;"default"in Bu&&(Bu=Bu.default);Fg=Bu.URI;(function(e){e.basename=Bu.Utils.basename,e.dirname=Bu.Utils.dirname,e.extname=Bu.Utils.extname,e.joinPath=Bu.Utils.joinPath,e.resolvePath=Bu.Utils.resolvePath;function t(n,i){return n?.toString()===i?.toString()}a(t,"equals"),_(t,"equals"),e.equals=t;function r(n,i){let o=typeof n=="string"?n:n.path,s=typeof i=="string"?i:i.path,u=o.split("/").filter(x=>x.length>0),f=s.split("/").filter(x=>x.length>0),p=0;for(;p<u.length&&u[p]===f[p];p++);let g="../".repeat(u.length-p),y=f.slice(p).join("/");return g+y}a(r,"relative"),_(r,"relative"),e.relative=r})(bi=bi||(bi={}));G$t=bi.equals,V$t=bi.relative,m9e=_(()=>V_??(V_=oP(`{"$type":"Grammar","isDeclared":true,"name":"LangiumGrammar","rules":[{"$type":"ParserRule","name":"Grammar","entry":true,"definition":{"$type":"Group","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"isDeclared","operator":"?=","terminal":{"$type":"Keyword","value":"grammar"}},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@59"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"with"},{"$type":"Assignment","feature":"usedGrammars","operator":"+=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@0"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@59"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"usedGrammars","operator":"+=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@0"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@59"},"arguments":[]},"deprecatedSyntax":false}}],"cardinality":"*"}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Assignment","feature":"definesHiddenTokens","operator":"?=","terminal":{"$type":"Keyword","value":"hidden"}},{"$type":"Keyword","value":"("},{"$type":"Group","elements":[{"$type":"Assignment","feature":"hiddenTokens","operator":"+=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@11"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@59"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"hiddenTokens","operator":"+=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@11"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@59"},"arguments":[]},"deprecatedSyntax":false}}],"cardinality":"*"}],"cardinality":"?"},{"$type":"Keyword","value":")"}],"cardinality":"?"}],"cardinality":"?"},{"$type":"Assignment","feature":"imports","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]},"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"rules","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"interfaces","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"Assignment","feature":"types","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"+"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Interface","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"interface"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@59"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"extends"},{"$type":"Assignment","feature":"superTypes","operator":"+=","terminal":{"$type":"CrossReference","type":{"$ref":"#/types@0"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@59"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"superTypes","operator":"+=","terminal":{"$type":"CrossReference","type":{"$ref":"#/types@0"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@59"},"arguments":[]},"deprecatedSyntax":false}}],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"SchemaType","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"{"},{"$type":"Assignment","feature":"attributes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},"cardinality":"*"},{"$type":"Keyword","value":"}"},{"$type":"Keyword","value":";","cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TypeAttribute","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@58"},"arguments":[]}},{"$type":"Assignment","feature":"isOptional","operator":"?=","terminal":{"$type":"Keyword","value":"?"},"cardinality":"?"},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Keyword","value":";","cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TypeDefinition","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"UnionType","inferredType":{"$type":"InferredType","name":"TypeDefinition"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"UnionType"},"feature":"types","operator":"+="},{"$type":"Group","elements":[{"$type":"Keyword","value":"|"},{"$type":"Assignment","feature":"types","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}],"cardinality":"+"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ArrayType","inferredType":{"$type":"InferredType","name":"TypeDefinition"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"ArrayType"},"feature":"elementType","operator":"="},{"$type":"Keyword","value":"["},{"$type":"Keyword","value":"]"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ReferenceType","inferredType":{"$type":"InferredType","name":"TypeDefinition"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"ReferenceType"}},{"$type":"Keyword","value":"@"},{"$type":"Assignment","feature":"referenceType","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"SimpleType","inferredType":{"$type":"InferredType","name":"TypeDefinition"},"definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"("},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Keyword","value":")"}]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"SimpleType"}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"typeRef","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/types@0"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@59"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Assignment","feature":"primitiveType","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Assignment","feature":"stringType","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@60"},"arguments":[]}}]}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PrimitiveType","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"string"},{"$type":"Keyword","value":"number"},{"$type":"Keyword","value":"boolean"},{"$type":"Keyword","value":"Date"},{"$type":"Keyword","value":"bigint"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Type","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"type"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@59"},"arguments":[]}},{"$type":"Keyword","value":"="},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Keyword","value":";","cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"AbstractRule","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@46"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"GrammarImport","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"import"},{"$type":"Assignment","feature":"path","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@60"},"arguments":[]}},{"$type":"Keyword","value":";","cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ParserRule","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"entry","operator":"?=","terminal":{"$type":"Keyword","value":"entry"}},{"$type":"Assignment","feature":"fragment","operator":"?=","terminal":{"$type":"Keyword","value":"fragment"}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"wildcard","operator":"?=","terminal":{"$type":"Keyword","value":"*"}},{"$type":"Group","elements":[{"$type":"Keyword","value":"returns"},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"returnType","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/types@0"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@59"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Assignment","feature":"dataType","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]}]},{"$type":"Assignment","feature":"inferredType","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[{"$type":"NamedArgument","value":{"$type":"LiteralCondition","true":false},"calledByName":false}]}}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Assignment","feature":"definesHiddenTokens","operator":"?=","terminal":{"$type":"Keyword","value":"hidden"}},{"$type":"Keyword","value":"("},{"$type":"Group","elements":[{"$type":"Assignment","feature":"hiddenTokens","operator":"+=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@11"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@59"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"hiddenTokens","operator":"+=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@11"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@59"},"arguments":[]},"deprecatedSyntax":false}}],"cardinality":"*"}],"cardinality":"?"},{"$type":"Keyword","value":")"}],"cardinality":"?"},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"definition","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}},{"$type":"Keyword","value":";"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"InferredType","parameters":[{"$type":"Parameter","name":"imperative"}],"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Group","guardCondition":{"$type":"ParameterReference","parameter":{"$ref":"#/rules@14/parameters@0"}},"elements":[{"$type":"Keyword","value":"infer"}]},{"$type":"Group","guardCondition":{"$type":"Negation","value":{"$type":"ParameterReference","parameter":{"$ref":"#/rules@14/parameters@0"}}},"elements":[{"$type":"Keyword","value":"infers"}]}]},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@59"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"wildcard":false},{"$type":"ParserRule","name":"RuleNameAndParams","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@59"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"<"},{"$type":"Group","elements":[{"$type":"Assignment","feature":"parameters","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"parameters","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}}],"cardinality":"*"}],"cardinality":"?"},{"$type":"Keyword","value":">"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Parameter","definition":{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@59"},"arguments":[]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Alternatives","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Alternatives"},"feature":"elements","operator":"+="},{"$type":"Group","elements":[{"$type":"Keyword","value":"|"},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}}],"cardinality":"+"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ConditionalBranch","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Group"}},{"$type":"Keyword","value":"<"},{"$type":"Assignment","feature":"guardCondition","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]}},{"$type":"Keyword","value":">"},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]},"cardinality":"+"}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"UnorderedGroup","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"UnorderedGroup"},"feature":"elements","operator":"+="},{"$type":"Group","elements":[{"$type":"Keyword","value":"&"},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"+"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Group","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Group"},"feature":"elements","operator":"+="},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]},"cardinality":"+"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"AbstractToken","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"AbstractTokenWithCardinality","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@37"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]}]},{"$type":"Assignment","feature":"cardinality","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"?"},{"$type":"Keyword","value":"*"},{"$type":"Keyword","value":"+"}]},"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Action","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Action"}},{"$type":"Keyword","value":"{"},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/types@0"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@59"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Assignment","feature":"inferredType","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[{"$type":"NamedArgument","value":{"$type":"LiteralCondition","true":true},"calledByName":false}]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"."},{"$type":"Assignment","feature":"feature","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@58"},"arguments":[]}},{"$type":"Assignment","feature":"operator","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"="},{"$type":"Keyword","value":"+="}]}},{"$type":"Keyword","value":"current"}],"cardinality":"?"},{"$type":"Keyword","value":"}"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"AbstractTerminal","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@25"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@26"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@43"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@35"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@44"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Keyword","definition":{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@60"},"arguments":[]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"RuleCall","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rule","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@11"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@59"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Group","elements":[{"$type":"Keyword","value":"<"},{"$type":"Assignment","feature":"arguments","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@27"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"arguments","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@27"},"arguments":[]}}],"cardinality":"*"},{"$type":"Keyword","value":">"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"NamedArgument","definition":{"$type":"Group","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"parameter","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@16"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@59"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Assignment","feature":"calledByName","operator":"?=","terminal":{"$type":"Keyword","value":"="}}],"cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"LiteralCondition","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"true","operator":"?=","terminal":{"$type":"Keyword","value":"true"}},{"$type":"Keyword","value":"false"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Disjunction","inferredType":{"$type":"InferredType","name":"Condition"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@30"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Disjunction"},"feature":"left","operator":"="},{"$type":"Keyword","value":"|"},{"$type":"Assignment","feature":"right","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@30"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Conjunction","inferredType":{"$type":"InferredType","name":"Condition"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@31"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Conjunction"},"feature":"left","operator":"="},{"$type":"Keyword","value":"&"},{"$type":"Assignment","feature":"right","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@31"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Negation","inferredType":{"$type":"InferredType","name":"Condition"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Negation"}},{"$type":"Keyword","value":"!"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@31"},"arguments":[]}}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Atom","inferredType":{"$type":"InferredType","name":"Condition"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@34"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@33"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ParenthesizedCondition","inferredType":{"$type":"InferredType","name":"Condition"},"definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"("},{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},{"$type":"Keyword","value":")"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ParameterReference","definition":{"$type":"Assignment","feature":"parameter","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@16"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@59"},"arguments":[]},"deprecatedSyntax":false}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PredicatedKeyword","inferredType":{"$type":"InferredType","name":"Keyword"},"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"=>"},{"$type":"Keyword","value":"->"}]},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@60"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PredicatedRuleCall","inferredType":{"$type":"InferredType","name":"RuleCall"},"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"=>"},{"$type":"Keyword","value":"->"}]},{"$type":"Assignment","feature":"rule","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@11"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@59"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Group","elements":[{"$type":"Keyword","value":"<"},{"$type":"Assignment","feature":"arguments","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@27"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"arguments","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@27"},"arguments":[]}}],"cardinality":"*"},{"$type":"Keyword","value":">"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Assignment","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Assignment"}},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"=>"},{"$type":"Keyword","value":"->"}],"cardinality":"?"},{"$type":"Assignment","feature":"feature","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@58"},"arguments":[]}},{"$type":"Assignment","feature":"operator","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"+="},{"$type":"Keyword","value":"="},{"$type":"Keyword","value":"?="}]}},{"$type":"Assignment","feature":"terminal","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@38"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"AssignableTerminal","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@25"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@26"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@39"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@41"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ParenthesizedAssignableElement","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"("},{"$type":"RuleCall","rule":{"$ref":"#/rules@40"},"arguments":[]},{"$type":"Keyword","value":")"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"AssignableAlternatives","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@38"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Alternatives"},"feature":"elements","operator":"+="},{"$type":"Group","elements":[{"$type":"Keyword","value":"|"},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@38"},"arguments":[]}}],"cardinality":"+"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CrossReference","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"CrossReference"}},{"$type":"Keyword","value":"["},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/types@0"},"deprecatedSyntax":false}},{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"deprecatedSyntax","operator":"?=","terminal":{"$type":"Keyword","value":"|"}},{"$type":"Keyword","value":":"}]},{"$type":"Assignment","feature":"terminal","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@42"},"arguments":[]}}],"cardinality":"?"},{"$type":"Keyword","value":"]"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CrossReferenceableTerminal","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@25"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@26"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ParenthesizedElement","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"("},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]},{"$type":"Keyword","value":")"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PredicatedGroup","inferredType":{"$type":"InferredType","name":"Group"},"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"=>"},{"$type":"Keyword","value":"->"}]},{"$type":"Keyword","value":"("},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}},{"$type":"Keyword","value":")"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ReturnType","definition":{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@59"},"arguments":[]}]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TerminalRule","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"hidden","operator":"?=","terminal":{"$type":"Keyword","value":"hidden"},"cardinality":"?"},{"$type":"Keyword","value":"terminal"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"fragment","operator":"?=","terminal":{"$type":"Keyword","value":"fragment"}},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@59"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@59"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"returns"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@45"},"arguments":[]}}],"cardinality":"?"}]}]},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"definition","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@47"},"arguments":[]}},{"$type":"Keyword","value":";"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TerminalAlternatives","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@48"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"TerminalAlternatives"},"feature":"elements","operator":"+="},{"$type":"Keyword","value":"|"},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@48"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TerminalGroup","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@49"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"TerminalGroup"},"feature":"elements","operator":"+="},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@49"},"arguments":[]},"cardinality":"+"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TerminalToken","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@50"},"arguments":[]},{"$type":"Assignment","feature":"cardinality","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"?"},{"$type":"Keyword","value":"*"},{"$type":"Keyword","value":"+"}]},"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TerminalTokenElement","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@57"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@52"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@51"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@53"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@54"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@55"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@56"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ParenthesizedTerminalElement","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"("},{"$type":"Assignment","feature":"lookahead","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"?="},{"$type":"Keyword","value":"?!"}]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@47"},"arguments":[]},{"$type":"Keyword","value":")"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TerminalRuleCall","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"TerminalRuleCall"}},{"$type":"Assignment","feature":"rule","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@46"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@59"},"arguments":[]},"deprecatedSyntax":false}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"NegatedToken","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"NegatedToken"}},{"$type":"Keyword","value":"!"},{"$type":"Assignment","feature":"terminal","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@50"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"UntilToken","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"UntilToken"}},{"$type":"Keyword","value":"->"},{"$type":"Assignment","feature":"terminal","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@50"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"RegexToken","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"RegexToken"}},{"$type":"Assignment","feature":"regex","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@61"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Wildcard","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Wildcard"}},{"$type":"Keyword","value":"."}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CharacterRange","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"CharacterRange"}},{"$type":"Assignment","feature":"left","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@25"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":".."},{"$type":"Assignment","feature":"right","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@25"},"arguments":[]}}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"FeatureName","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"current"},{"$type":"Keyword","value":"entry"},{"$type":"Keyword","value":"extends"},{"$type":"Keyword","value":"false"},{"$type":"Keyword","value":"fragment"},{"$type":"Keyword","value":"grammar"},{"$type":"Keyword","value":"hidden"},{"$type":"Keyword","value":"import"},{"$type":"Keyword","value":"interface"},{"$type":"Keyword","value":"returns"},{"$type":"Keyword","value":"terminal"},{"$type":"Keyword","value":"true"},{"$type":"Keyword","value":"type"},{"$type":"Keyword","value":"infer"},{"$type":"Keyword","value":"infers"},{"$type":"Keyword","value":"with"},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@59"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"ID","definition":{"$type":"RegexToken","regex":"/\\\\^?[_a-zA-Z][\\\\w_]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"(\\\\\\\\.|[^\\"\\\\\\\\])*\\"|'(\\\\\\\\.|[^'\\\\\\\\])*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"RegexLiteral","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\/(?![*+?])(?:[^\\\\r\\\\n\\\\[/\\\\\\\\]|\\\\\\\\.|\\\\[(?:[^\\\\r\\\\n\\\\]\\\\\\\\]|\\\\\\\\.)*\\\\])+\\\\/[a-z]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WS","definition":{"$type":"RegexToken","regex":"/\\\\s+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"ML_COMMENT","definition":{"$type":"RegexToken","regex":"/\\\\/\\\\*[\\\\s\\\\S]*?\\\\*\\\\//"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SL_COMMENT","definition":{"$type":"RegexToken","regex":"/\\\\/\\\\/[^\\\\n\\\\r]*/"},"fragment":false}],"types":[{"$type":"Type","name":"AbstractType","type":{"$type":"UnionType","types":[{"$type":"SimpleType","typeRef":{"$ref":"#/rules@1"}},{"$type":"SimpleType","typeRef":{"$ref":"#/rules@10"}},{"$type":"SimpleType","typeRef":{"$ref":"#/rules@23/definition/elements@0"}},{"$type":"SimpleType","typeRef":{"$ref":"#/rules@13"}}]}}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"interfaces":[],"usedGrammars":[]}`)),"LangiumGrammarGrammar");(function(e){function t(r){return typeof r=="string"}a(t,"is"),_(t,"is"),e.is=t})(fee||(fee={}));(function(e){function t(r){return typeof r=="string"}a(t,"is"),_(t,"is"),e.is=t})(EI||(EI={}));(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}a(t,"is"),_(t,"is"),e.is=t})(hee||(hee={}));(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}a(t,"is"),_(t,"is"),e.is=t})(Ew||(Ew={}));(function(e){function t(n,i){return n===Number.MAX_VALUE&&(n=Ew.MAX_VALUE),i===Number.MAX_VALUE&&(i=Ew.MAX_VALUE),{line:n,character:i}}a(t,"create"),_(t,"create"),e.create=t;function r(n){var i=n;return ct.objectLiteral(i)&&ct.uinteger(i.line)&&ct.uinteger(i.character)}a(r,"is"),_(r,"is"),e.is=r})(bs||(bs={}));(function(e){function t(n,i,o,s){if(ct.uinteger(n)&&ct.uinteger(i)&&ct.uinteger(o)&&ct.uinteger(s))return{start:bs.create(n,i),end:bs.create(o,s)};if(bs.is(n)&&bs.is(i))return{start:n,end:i};throw new Error("Range#create called with invalid arguments[".concat(n,", ").concat(i,", ").concat(o,", ").concat(s,"]"))}a(t,"create"),_(t,"create"),e.create=t;function r(n){var i=n;return ct.objectLiteral(i)&&bs.is(i.start)&&bs.is(i.end)}a(r,"is"),_(r,"is"),e.is=r})($i||($i={}));(function(e){function t(n,i){return{uri:n,range:i}}a(t,"create"),_(t,"create"),e.create=t;function r(n){var i=n;return ct.objectLiteral(i)&&$i.is(i.range)&&(ct.string(i.uri)||ct.undefined(i.uri))}a(r,"is"),_(r,"is"),e.is=r})(Cw||(Cw={}));(function(e){function t(n,i,o,s){return{targetUri:n,targetRange:i,targetSelectionRange:o,originSelectionRange:s}}a(t,"create"),_(t,"create"),e.create=t;function r(n){var i=n;return ct.objectLiteral(i)&&$i.is(i.targetRange)&&ct.string(i.targetUri)&&$i.is(i.targetSelectionRange)&&($i.is(i.originSelectionRange)||ct.undefined(i.originSelectionRange))}a(r,"is"),_(r,"is"),e.is=r})(dee||(dee={}));(function(e){function t(n,i,o,s){return{red:n,green:i,blue:o,alpha:s}}a(t,"create"),_(t,"create"),e.create=t;function r(n){var i=n;return ct.objectLiteral(i)&&ct.numberRange(i.red,0,1)&&ct.numberRange(i.green,0,1)&&ct.numberRange(i.blue,0,1)&&ct.numberRange(i.alpha,0,1)}a(r,"is"),_(r,"is"),e.is=r})(CI||(CI={}));(function(e){function t(n,i){return{range:n,color:i}}a(t,"create"),_(t,"create"),e.create=t;function r(n){var i=n;return ct.objectLiteral(i)&&$i.is(i.range)&&CI.is(i.color)}a(r,"is"),_(r,"is"),e.is=r})(pee||(pee={}));(function(e){function t(n,i,o){return{label:n,textEdit:i,additionalTextEdits:o}}a(t,"create"),_(t,"create"),e.create=t;function r(n){var i=n;return ct.objectLiteral(i)&&ct.string(i.label)&&(ct.undefined(i.textEdit)||Uu.is(i))&&(ct.undefined(i.additionalTextEdits)||ct.typedArray(i.additionalTextEdits,Uu.is))}a(r,"is"),_(r,"is"),e.is=r})(mee||(mee={}));(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(gee||(gee={}));(function(e){function t(n,i,o,s,u,f){var p={startLine:n,endLine:i};return ct.defined(o)&&(p.startCharacter=o),ct.defined(s)&&(p.endCharacter=s),ct.defined(u)&&(p.kind=u),ct.defined(f)&&(p.collapsedText=f),p}a(t,"create"),_(t,"create"),e.create=t;function r(n){var i=n;return ct.objectLiteral(i)&&ct.uinteger(i.startLine)&&ct.uinteger(i.startLine)&&(ct.undefined(i.startCharacter)||ct.uinteger(i.startCharacter))&&(ct.undefined(i.endCharacter)||ct.uinteger(i.endCharacter))&&(ct.undefined(i.kind)||ct.string(i.kind))}a(r,"is"),_(r,"is"),e.is=r})(yee||(yee={}));(function(e){function t(n,i){return{location:n,message:i}}a(t,"create"),_(t,"create"),e.create=t;function r(n){var i=n;return ct.defined(i)&&Cw.is(i.location)&&ct.string(i.message)}a(r,"is"),_(r,"is"),e.is=r})(SI||(SI={}));(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(vee||(vee={}));(function(e){e.Unnecessary=1,e.Deprecated=2})(u1||(u1={}));(function(e){function t(r){var n=r;return ct.objectLiteral(n)&&ct.string(n.href)}a(t,"is"),_(t,"is"),e.is=t})(xee||(xee={}));(function(e){function t(n,i,o,s,u,f){var p={range:n,message:i};return ct.defined(o)&&(p.severity=o),ct.defined(s)&&(p.code=s),ct.defined(u)&&(p.source=u),ct.defined(f)&&(p.relatedInformation=f),p}a(t,"create"),_(t,"create"),e.create=t;function r(n){var i,o=n;return ct.defined(o)&&$i.is(o.range)&&ct.string(o.message)&&(ct.number(o.severity)||ct.undefined(o.severity))&&(ct.integer(o.code)||ct.string(o.code)||ct.undefined(o.code))&&(ct.undefined(o.codeDescription)||ct.string((i=o.codeDescription)===null||i===void 0?void 0:i.href))&&(ct.string(o.source)||ct.undefined(o.source))&&(ct.undefined(o.relatedInformation)||ct.typedArray(o.relatedInformation,SI.is))}a(r,"is"),_(r,"is"),e.is=r})(Sw||(Sw={}));(function(e){function t(n,i){for(var o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];var u={title:n,command:i};return ct.defined(o)&&o.length>0&&(u.arguments=o),u}a(t,"create"),_(t,"create"),e.create=t;function r(n){var i=n;return ct.defined(i)&&ct.string(i.title)&&ct.string(i.command)}a(r,"is"),_(r,"is"),e.is=r})(Bg||(Bg={}));(function(e){function t(o,s){return{range:o,newText:s}}a(t,"replace"),_(t,"replace"),e.replace=t;function r(o,s){return{range:{start:o,end:o},newText:s}}a(r,"insert"),_(r,"insert"),e.insert=r;function n(o){return{range:o,newText:""}}a(n,"del"),_(n,"del"),e.del=n;function i(o){var s=o;return ct.objectLiteral(s)&&ct.string(s.newText)&&$i.is(s.range)}a(i,"is"),_(i,"is"),e.is=i})(Uu||(Uu={}));(function(e){function t(n,i,o){var s={label:n};return i!==void 0&&(s.needsConfirmation=i),o!==void 0&&(s.description=o),s}a(t,"create"),_(t,"create"),e.create=t;function r(n){var i=n;return ct.objectLiteral(i)&&ct.string(i.label)&&(ct.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(ct.string(i.description)||i.description===void 0)}a(r,"is"),_(r,"is"),e.is=r})(Ig||(Ig={}));(function(e){function t(r){var n=r;return ct.string(n)}a(t,"is"),_(t,"is"),e.is=t})(io||(io={}));(function(e){function t(o,s,u){return{range:o,newText:s,annotationId:u}}a(t,"replace"),_(t,"replace"),e.replace=t;function r(o,s,u){return{range:{start:o,end:o},newText:s,annotationId:u}}a(r,"insert"),_(r,"insert"),e.insert=r;function n(o,s){return{range:o,newText:"",annotationId:s}}a(n,"del"),_(n,"del"),e.del=n;function i(o){var s=o;return Uu.is(s)&&(Ig.is(s.annotationId)||io.is(s.annotationId))}a(i,"is"),_(i,"is"),e.is=i})(xh||(xh={}));(function(e){function t(n,i){return{textDocument:n,edits:i}}a(t,"create"),_(t,"create"),e.create=t;function r(n){var i=n;return ct.defined(i)&&Rw.is(i.textDocument)&&Array.isArray(i.edits)}a(r,"is"),_(r,"is"),e.is=r})(Aw||(Aw={}));(function(e){function t(n,i,o){var s={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}a(t,"create"),_(t,"create"),e.create=t;function r(n){var i=n;return i&&i.kind==="create"&&ct.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||ct.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||ct.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||io.is(i.annotationId))}a(r,"is"),_(r,"is"),e.is=r})(w1||(w1={}));(function(e){function t(n,i,o,s){var u={kind:"rename",oldUri:n,newUri:i};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(u.options=o),s!==void 0&&(u.annotationId=s),u}a(t,"create"),_(t,"create"),e.create=t;function r(n){var i=n;return i&&i.kind==="rename"&&ct.string(i.oldUri)&&ct.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||ct.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||ct.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||io.is(i.annotationId))}a(r,"is"),_(r,"is"),e.is=r})(E1||(E1={}));(function(e){function t(n,i,o){var s={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}a(t,"create"),_(t,"create"),e.create=t;function r(n){var i=n;return i&&i.kind==="delete"&&ct.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||ct.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||ct.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||io.is(i.annotationId))}a(r,"is"),_(r,"is"),e.is=r})(C1||(C1={}));(function(e){function t(r){var n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(function(i){return ct.string(i.kind)?w1.is(i)||E1.is(i)||C1.is(i):Aw.is(i)}))}a(t,"is"),_(t,"is"),e.is=t})(AI||(AI={}));W_=function(){function e(t,r){this.edits=t,this.changeAnnotations=r}return a(e,"TextEditChangeImpl2"),_(e,"TextEditChangeImpl"),e.prototype.insert=function(t,r,n){var i,o;if(n===void 0?i=Uu.insert(t,r):io.is(n)?(o=n,i=xh.insert(t,r,n)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(n),i=xh.insert(t,r,o)),this.edits.push(i),o!==void 0)return o},e.prototype.replace=function(t,r,n){var i,o;if(n===void 0?i=Uu.replace(t,r):io.is(n)?(o=n,i=xh.replace(t,r,n)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(n),i=xh.replace(t,r,o)),this.edits.push(i),o!==void 0)return o},e.prototype.delete=function(t,r){var n,i;if(r===void 0?n=Uu.del(t):io.is(r)?(i=r,n=xh.del(t,r)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(r),n=xh.del(t,i)),this.edits.push(n),i!==void 0)return i},e.prototype.add=function(t){this.edits.push(t)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e.prototype.assertChangeAnnotations=function(t){if(t===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},e}(),bee=function(){function e(t){this._annotations=t===void 0?Object.create(null):t,this._counter=0,this._size=0}return a(e,"ChangeAnnotations2"),_(e,"ChangeAnnotations"),e.prototype.all=function(){return this._annotations},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.manage=function(t,r){var n;if(io.is(t)?n=t:(n=this.nextId(),r=t),this._annotations[n]!==void 0)throw new Error("Id ".concat(n," is already in use."));if(r===void 0)throw new Error("No annotation provided for id ".concat(n));return this._annotations[n]=r,this._size++,n},e.prototype.nextId=function(){return this._counter++,this._counter.toString()},e}(),W$t=function(){function e(t){var r=this;this._textEditChanges=Object.create(null),t!==void 0?(this._workspaceEdit=t,t.documentChanges?(this._changeAnnotations=new bee(t.changeAnnotations),t.changeAnnotations=this._changeAnnotations.all(),t.documentChanges.forEach(function(n){if(Aw.is(n)){var i=new W_(n.edits,r._changeAnnotations);r._textEditChanges[n.textDocument.uri]=i}})):t.changes&&Object.keys(t.changes).forEach(function(n){var i=new W_(t.changes[n]);r._textEditChanges[n]=i})):this._workspaceEdit={}}return a(e,"WorkspaceChange2"),_(e,"WorkspaceChange"),Object.defineProperty(e.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),e.prototype.getTextEditChange=function(t){if(Rw.is(t)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var r={uri:t.uri,version:t.version},n=this._textEditChanges[r.uri];if(!n){var i=[],o={textDocument:r,edits:i};this._workspaceEdit.documentChanges.push(o),n=new W_(i,this._changeAnnotations),this._textEditChanges[r.uri]=n}return n}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var n=this._textEditChanges[t];if(!n){var i=[];this._workspaceEdit.changes[t]=i,n=new W_(i),this._textEditChanges[t]=n}return n}},e.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new bee,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},e.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},e.prototype.createFile=function(t,r,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var i;Ig.is(r)||io.is(r)?i=r:n=r;var o,s;if(i===void 0?o=w1.create(t,n):(s=io.is(i)?i:this._changeAnnotations.manage(i),o=w1.create(t,n,s)),this._workspaceEdit.documentChanges.push(o),s!==void 0)return s},e.prototype.renameFile=function(t,r,n,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var o;Ig.is(n)||io.is(n)?o=n:i=n;var s,u;if(o===void 0?s=E1.create(t,r,i):(u=io.is(o)?o:this._changeAnnotations.manage(o),s=E1.create(t,r,i,u)),this._workspaceEdit.documentChanges.push(s),u!==void 0)return u},e.prototype.deleteFile=function(t,r,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var i;Ig.is(r)||io.is(r)?i=r:n=r;var o,s;if(i===void 0?o=C1.create(t,n):(s=io.is(i)?i:this._changeAnnotations.manage(i),o=C1.create(t,n,s)),this._workspaceEdit.documentChanges.push(o),s!==void 0)return s},e}();(function(e){function t(n){return{uri:n}}a(t,"create"),_(t,"create"),e.create=t;function r(n){var i=n;return ct.defined(i)&&ct.string(i.uri)}a(r,"is"),_(r,"is"),e.is=r})(Tee||(Tee={}));(function(e){function t(n,i){return{uri:n,version:i}}a(t,"create"),_(t,"create"),e.create=t;function r(n){var i=n;return ct.defined(i)&&ct.string(i.uri)&&ct.integer(i.version)}a(r,"is"),_(r,"is"),e.is=r})(kee||(kee={}));(function(e){function t(n,i){return{uri:n,version:i}}a(t,"create"),_(t,"create"),e.create=t;function r(n){var i=n;return ct.defined(i)&&ct.string(i.uri)&&(i.version===null||ct.integer(i.version))}a(r,"is"),_(r,"is"),e.is=r})(Rw||(Rw={}));(function(e){function t(n,i,o,s){return{uri:n,languageId:i,version:o,text:s}}a(t,"create"),_(t,"create"),e.create=t;function r(n){var i=n;return ct.defined(i)&&ct.string(i.uri)&&ct.string(i.languageId)&&ct.integer(i.version)&&ct.string(i.text)}a(r,"is"),_(r,"is"),e.is=r})(_ee||(_ee={}));(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(r){var n=r;return n===e.PlainText||n===e.Markdown}a(t,"is"),_(t,"is"),e.is=t})(RI||(RI={}));(function(e){function t(r){var n=r;return ct.objectLiteral(r)&&RI.is(n.kind)&&ct.string(n.value)}a(t,"is"),_(t,"is"),e.is=t})(S1||(S1={}));(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(DI||(DI={}));(function(e){e.PlainText=1,e.Snippet=2})(wee||(wee={}));(function(e){e.Deprecated=1})(Eee||(Eee={}));(function(e){function t(n,i,o){return{newText:n,insert:i,replace:o}}a(t,"create"),_(t,"create"),e.create=t;function r(n){var i=n;return i&&ct.string(i.newText)&&$i.is(i.insert)&&$i.is(i.replace)}a(r,"is"),_(r,"is"),e.is=r})(Cee||(Cee={}));(function(e){e.asIs=1,e.adjustIndentation=2})(See||(See={}));(function(e){function t(r){var n=r;return n&&(ct.string(n.detail)||n.detail===void 0)&&(ct.string(n.description)||n.description===void 0)}a(t,"is"),_(t,"is"),e.is=t})(Aee||(Aee={}));(function(e){function t(r){return{label:r}}a(t,"create"),_(t,"create"),e.create=t})(Ree||(Ree={}));(function(e){function t(r,n){return{items:r||[],isIncomplete:!!n}}a(t,"create"),_(t,"create"),e.create=t})(Dee||(Dee={}));(function(e){function t(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}a(t,"fromPlainText"),_(t,"fromPlainText"),e.fromPlainText=t;function r(n){var i=n;return ct.string(i)||ct.objectLiteral(i)&&ct.string(i.language)&&ct.string(i.value)}a(r,"is"),_(r,"is"),e.is=r})(Dw||(Dw={}));(function(e){function t(r){var n=r;return!!n&&ct.objectLiteral(n)&&(S1.is(n.contents)||Dw.is(n.contents)||ct.typedArray(n.contents,Dw.is))&&(r.range===void 0||$i.is(r.range))}a(t,"is"),_(t,"is"),e.is=t})(Lee||(Lee={}));(function(e){function t(r,n){return n?{label:r,documentation:n}:{label:r}}a(t,"create"),_(t,"create"),e.create=t})(Iee||(Iee={}));(function(e){function t(r,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s={label:r};return ct.defined(n)&&(s.documentation=n),ct.defined(i)?s.parameters=i:s.parameters=[],s}a(t,"create"),_(t,"create"),e.create=t})(Nee||(Nee={}));(function(e){e.Text=1,e.Read=2,e.Write=3})(Pee||(Pee={}));(function(e){function t(r,n){var i={range:r};return ct.number(n)&&(i.kind=n),i}a(t,"create"),_(t,"create"),e.create=t})(Oee||(Oee={}));(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(Mee||(Mee={}));(function(e){e.Deprecated=1})(Fee||(Fee={}));(function(e){function t(r,n,i,o,s){var u={name:r,kind:n,location:{uri:o,range:i}};return s&&(u.containerName=s),u}a(t,"create"),_(t,"create"),e.create=t})(Bee||(Bee={}));(function(e){function t(r,n,i,o){return o!==void 0?{name:r,kind:n,location:{uri:i,range:o}}:{name:r,kind:n,location:{uri:i}}}a(t,"create"),_(t,"create"),e.create=t})(qee||(qee={}));(function(e){function t(n,i,o,s,u,f){var p={name:n,detail:i,kind:o,range:s,selectionRange:u};return f!==void 0&&(p.children=f),p}a(t,"create"),_(t,"create"),e.create=t;function r(n){var i=n;return i&&ct.string(i.name)&&ct.number(i.kind)&&$i.is(i.range)&&$i.is(i.selectionRange)&&(i.detail===void 0||ct.string(i.detail))&&(i.deprecated===void 0||ct.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}a(r,"is"),_(r,"is"),e.is=r})(zee||(zee={}));(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(Uee||(Uee={}));(function(e){e.Invoked=1,e.Automatic=2})(Lw||(Lw={}));(function(e){function t(n,i,o){var s={diagnostics:n};return i!=null&&(s.only=i),o!=null&&(s.triggerKind=o),s}a(t,"create"),_(t,"create"),e.create=t;function r(n){var i=n;return ct.defined(i)&&ct.typedArray(i.diagnostics,Sw.is)&&(i.only===void 0||ct.typedArray(i.only,ct.string))&&(i.triggerKind===void 0||i.triggerKind===Lw.Invoked||i.triggerKind===Lw.Automatic)}a(r,"is"),_(r,"is"),e.is=r})($ee||($ee={}));(function(e){function t(n,i,o){var s={title:n},u=!0;return typeof i=="string"?(u=!1,s.kind=i):Bg.is(i)?s.command=i:s.edit=i,u&&o!==void 0&&(s.kind=o),s}a(t,"create"),_(t,"create"),e.create=t;function r(n){var i=n;return i&&ct.string(i.title)&&(i.diagnostics===void 0||ct.typedArray(i.diagnostics,Sw.is))&&(i.kind===void 0||ct.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||Bg.is(i.command))&&(i.isPreferred===void 0||ct.boolean(i.isPreferred))&&(i.edit===void 0||AI.is(i.edit))}a(r,"is"),_(r,"is"),e.is=r})(Gee||(Gee={}));(function(e){function t(n,i){var o={range:n};return ct.defined(i)&&(o.data=i),o}a(t,"create"),_(t,"create"),e.create=t;function r(n){var i=n;return ct.defined(i)&&$i.is(i.range)&&(ct.undefined(i.command)||Bg.is(i.command))}a(r,"is"),_(r,"is"),e.is=r})(Vee||(Vee={}));(function(e){function t(n,i){return{tabSize:n,insertSpaces:i}}a(t,"create"),_(t,"create"),e.create=t;function r(n){var i=n;return ct.defined(i)&&ct.uinteger(i.tabSize)&&ct.boolean(i.insertSpaces)}a(r,"is"),_(r,"is"),e.is=r})(Wee||(Wee={}));(function(e){function t(n,i,o){return{range:n,target:i,data:o}}a(t,"create"),_(t,"create"),e.create=t;function r(n){var i=n;return ct.defined(i)&&$i.is(i.range)&&(ct.undefined(i.target)||ct.string(i.target))}a(r,"is"),_(r,"is"),e.is=r})(Hee||(Hee={}));(function(e){function t(n,i){return{range:n,parent:i}}a(t,"create"),_(t,"create"),e.create=t;function r(n){var i=n;return ct.objectLiteral(i)&&$i.is(i.range)&&(i.parent===void 0||e.is(i.parent))}a(r,"is"),_(r,"is"),e.is=r})(jee||(jee={}));(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(Yee||(Yee={}));(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(Xee||(Xee={}));(function(e){function t(r){var n=r;return ct.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}a(t,"is"),_(t,"is"),e.is=t})(Kee||(Kee={}));(function(e){function t(n,i){return{range:n,text:i}}a(t,"create"),_(t,"create"),e.create=t;function r(n){var i=n;return i!=null&&$i.is(i.range)&&ct.string(i.text)}a(r,"is"),_(r,"is"),e.is=r})(Qee||(Qee={}));(function(e){function t(n,i,o){return{range:n,variableName:i,caseSensitiveLookup:o}}a(t,"create"),_(t,"create"),e.create=t;function r(n){var i=n;return i!=null&&$i.is(i.range)&&ct.boolean(i.caseSensitiveLookup)&&(ct.string(i.variableName)||i.variableName===void 0)}a(r,"is"),_(r,"is"),e.is=r})(Zee||(Zee={}));(function(e){function t(n,i){return{range:n,expression:i}}a(t,"create"),_(t,"create"),e.create=t;function r(n){var i=n;return i!=null&&$i.is(i.range)&&(ct.string(i.expression)||i.expression===void 0)}a(r,"is"),_(r,"is"),e.is=r})(Jee||(Jee={}));(function(e){function t(n,i){return{frameId:n,stoppedLocation:i}}a(t,"create"),_(t,"create"),e.create=t;function r(n){var i=n;return ct.defined(i)&&$i.is(n.stoppedLocation)}a(r,"is"),_(r,"is"),e.is=r})(ete||(ete={}));(function(e){e.Type=1,e.Parameter=2;function t(r){return r===1||r===2}a(t,"is"),_(t,"is"),e.is=t})(LI||(LI={}));(function(e){function t(n){return{value:n}}a(t,"create"),_(t,"create"),e.create=t;function r(n){var i=n;return ct.objectLiteral(i)&&(i.tooltip===void 0||ct.string(i.tooltip)||S1.is(i.tooltip))&&(i.location===void 0||Cw.is(i.location))&&(i.command===void 0||Bg.is(i.command))}a(r,"is"),_(r,"is"),e.is=r})(II||(II={}));(function(e){function t(n,i,o){var s={position:n,label:i};return o!==void 0&&(s.kind=o),s}a(t,"create"),_(t,"create"),e.create=t;function r(n){var i=n;return ct.objectLiteral(i)&&bs.is(i.position)&&(ct.string(i.label)||ct.typedArray(i.label,II.is))&&(i.kind===void 0||LI.is(i.kind))&&i.textEdits===void 0||ct.typedArray(i.textEdits,Uu.is)&&(i.tooltip===void 0||ct.string(i.tooltip)||S1.is(i.tooltip))&&(i.paddingLeft===void 0||ct.boolean(i.paddingLeft))&&(i.paddingRight===void 0||ct.boolean(i.paddingRight))}a(r,"is"),_(r,"is"),e.is=r})(tte||(tte={}));(function(e){function t(r){var n=r;return ct.objectLiteral(n)&&EI.is(n.uri)&&ct.string(n.name)}a(t,"is"),_(t,"is"),e.is=t})(rte||(rte={}));(function(e){function t(o,s,u,f){return new g9e(o,s,u,f)}a(t,"create"),_(t,"create"),e.create=t;function r(o){var s=o;return!!(ct.defined(s)&&ct.string(s.uri)&&(ct.undefined(s.languageId)||ct.string(s.languageId))&&ct.uinteger(s.lineCount)&&ct.func(s.getText)&&ct.func(s.positionAt)&&ct.func(s.offsetAt))}a(r,"is"),_(r,"is"),e.is=r;function n(o,s){for(var u=o.getText(),f=i(s,function(E,A){var O=E.range.start.line-A.range.start.line;return O===0?E.range.start.character-A.range.start.character:O}),p=u.length,g=f.length-1;g>=0;g--){var y=f[g],x=o.offsetAt(y.range.start),b=o.offsetAt(y.range.end);if(b<=p)u=u.substring(0,x)+y.newText+u.substring(b,u.length);else throw new Error("Overlapping edit");p=x}return u}a(n,"applyEdits"),_(n,"applyEdits"),e.applyEdits=n;function i(o,s){if(o.length<=1)return o;var u=o.length/2|0,f=o.slice(0,u),p=o.slice(u);i(f,s),i(p,s);for(var g=0,y=0,x=0;g<f.length&&y<p.length;){var b=s(f[g],p[y]);b<=0?o[x++]=f[g++]:o[x++]=p[y++]}for(;g<f.length;)o[x++]=f[g++];for(;y<p.length;)o[x++]=p[y++];return o}a(i,"mergeSort2"),_(i,"mergeSort")})(nte||(nte={}));g9e=function(){function e(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}return a(e,"FullTextDocument3"),_(e,"FullTextDocument"),Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.getText=function(t){if(t){var r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content},e.prototype.update=function(t,r){this._content=t.text,this._version=r,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var t=[],r=this._content,n=!0,i=0;i<r.length;i++){n&&(t.push(i),n=!1);var o=r.charAt(i);n=o==="\r"||o===`
`,o==="\r"&&i+1<r.length&&r.charAt(i+1)===`
`&&i++}n&&r.length>0&&t.push(r.length),this._lineOffsets=t}return this._lineOffsets},e.prototype.positionAt=function(t){t=Math.max(Math.min(t,this._content.length),0);var r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return bs.create(0,t);for(;n<i;){var o=Math.floor((n+i)/2);r[o]>t?i=o:n=o+1}var s=n-1;return bs.create(s,t-r[s])},e.prototype.offsetAt=function(t){var r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;var n=r[t.line],i=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,i),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),e}();(function(e){var t=Object.prototype.toString;function r(b){return typeof b<"u"}a(r,"defined"),_(r,"defined"),e.defined=r;function n(b){return typeof b>"u"}a(n,"undefined2"),_(n,"undefined"),e.undefined=n;function i(b){return b===!0||b===!1}a(i,"boolean"),_(i,"boolean"),e.boolean=i;function o(b){return t.call(b)==="[object String]"}a(o,"string"),_(o,"string"),e.string=o;function s(b){return t.call(b)==="[object Number]"}a(s,"number"),_(s,"number"),e.number=s;function u(b,E,A){return t.call(b)==="[object Number]"&&E<=b&&b<=A}a(u,"numberRange"),_(u,"numberRange"),e.numberRange=u;function f(b){return t.call(b)==="[object Number]"&&-2147483648<=b&&b<=2147483647}a(f,"integer2"),_(f,"integer"),e.integer=f;function p(b){return t.call(b)==="[object Number]"&&0<=b&&b<=2147483647}a(p,"uinteger2"),_(p,"uinteger"),e.uinteger=p;function g(b){return t.call(b)==="[object Function]"}a(g,"func"),_(g,"func"),e.func=g;function y(b){return b!==null&&typeof b=="object"}a(y,"objectLiteral"),_(y,"objectLiteral"),e.objectLiteral=y;function x(b,E){return Array.isArray(b)&&b.every(E)}a(x,"typedArray"),_(x,"typedArray"),e.typedArray=x})(ct||(ct={}));NI=En(Rh(),1);a(iie,"delayNextTick");_(iie,"delayNextTick");ite=0,y9e=10,aie=Symbol("OperationCancelled");a(uE,"isOperationCancelled");_(uE,"isOperationCancelled");a(Eo,"interruptAndCheck");_(Eo,"interruptAndCheck");v9e=class{static{a(this,"MutexLock")}static{_(this,"MutexLock")}constructor(){this.previousAction=Promise.resolve(),this.previousTokenSource=new NI.CancellationTokenSource}lock(e){this.cancel();let t=new NI.CancellationTokenSource;return this.previousTokenSource=t,this.previousAction=this.previousAction.then(()=>e(t.token).catch(r=>{uE(r)||console.error("Error: ",r)}))}cancel(){this.previousTokenSource.cancel()}};a(el,"diagnosticData");_(el,"diagnosticData");(function(e){e.all=["fast","slow","built-in"]})(f1=f1||(f1={}));x9e=class{static{a(this,"ValidationRegistry")}static{_(this,"ValidationRegistry")}constructor(e){this.entries=new no,this.reflection=e.shared.AstReflection}register(e,t=this,r="fast"){if(r==="built-in")throw new Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(let[n,i]of Object.entries(e)){let o=i;if(Array.isArray(o))for(let s of o){let u={check:this.wrapValidationException(s,t),category:r};this.addEntry(n,u)}else if(typeof o=="function"){let s={check:this.wrapValidationException(o,t),category:r};this.addEntry(n,s)}}}wrapValidationException(e,t){return async(r,n,i)=>{try{await e.call(t,r,n,i)}catch(o){if(uE(o))throw o;console.error("An error occurred during validation:",o);let s=o instanceof Error?o.message:String(o);o instanceof Error&&o.stack&&console.error(o.stack),n("error","An error occurred during validation: "+s,{node:r})}}}addEntry(e,t){if(e==="AstNode"){this.entries.add("AstNode",t);return}for(let r of this.reflection.getAllSubTypes(e))this.entries.add(r,t)}getChecks(e,t){let r=Xn(this.entries.get(e)).concat(this.entries.get("AstNode"));return t&&(r=r.filter(n=>t.includes(n.category))),r.map(n=>n.check)}};a(oie,"collectDeclaredTypes");_(oie,"collectDeclaredTypes");a(rp,"typeDefinitionToPropertyType");_(rp,"typeDefinitionToPropertyType");a(qg,"isPlainReferenceType");_(qg,"isPlainReferenceType");a(Iw,"isPlainArrayType");_(Iw,"isPlainArrayType");a(zN,"isPlainPropertyUnion");_(zN,"isPlainPropertyUnion");a(Nw,"isPlainValueType");_(Nw,"isPlainValueType");a(sie,"isPlainPrimitiveType");_(sie,"isPlainPrimitiveType");a(lie,"isPlainStringType");_(lie,"isPlainStringType");a(cie,"plainToTypes");_(cie,"plainToTypes");a(uie,"plainToProperty");_(uie,"plainToProperty");a(Ng,"plainToPropertyType");_(Ng,"plainToPropertyType");a(UN,"mergePropertyTypes");_(UN,"mergePropertyTypes");a(fie,"includesType");_(fie,"includesType");a(Pw,"typeEquals");_(Pw,"typeEquals");a(A1,"flattenPlainType");_(A1,"flattenPlainType");a(hie,"registerValidationChecks");_(hie,"registerValidationChecks");(function(e){e.GrammarNameUppercase="grammar-name-uppercase",e.RuleNameUppercase="rule-name-uppercase",e.HiddenGrammarTokens="hidden-grammar-tokens",e.UseRegexTokens="use-regex-tokens",e.EntryRuleTokenSyntax="entry-rule-token-syntax",e.CrossRefTokenSyntax="cross-ref-token-syntax",e.UnnecessaryFileExtension="unnecessary-file-extension",e.InvalidReturns="invalid-returns",e.InvalidInfers="invalid-infers",e.MissingInfer="missing-infer",e.MissingReturns="missing-returns",e.SuperfluousInfer="superfluous-infer",e.OptionalUnorderedGroup="optional-unordered-group"})(Mn=Mn||(Mn={}));b9e=class{static{a(this,"LangiumGrammarValidator")}static{_(this,"LangiumGrammarValidator")}constructor(e){this.references=e.references.References,this.documents=e.shared.workspace.LangiumDocuments}checkGrammarName(e,t){if(e.name){let r=e.name.substring(0,1);r.toUpperCase()!==r&&t("warning","Grammar name should start with an upper case letter.",{node:e,property:"name",data:el(Mn.GrammarNameUppercase)})}}checkEntryGrammarRule(e,t){if(e.isDeclared&&!e.name)return;let r=e.rules.filter(n=>Ir(n)&&n.entry);if(e.isDeclared&&r.length===0){let n=e.rules.find(i=>Ir(i)&&!Gl(i));n?t("error","The grammar is missing an entry parser rule. This rule can be an entry one.",{node:n,property:"name",data:el(Mn.EntryRuleTokenSyntax)}):t("error","This grammar is missing an entry parser rule.",{node:e,property:"name"})}else!e.isDeclared&&r.length>=1?r.forEach(n=>t("error","Cannot declare entry rules for unnamed grammars.",{node:n,property:"name"})):r.length>1?r.forEach(n=>t("error","The entry rule has to be unique.",{node:n,property:"name"})):r.length===1&&Gl(r[0])&&t("error","The entry rule cannot be a data type rule.",{node:r[0],property:"name"})}checkUniqueRuleName(e,t){let r=_(n=>Xn(n.rules).filter(i=>!Cg(i)),"extractor");this.checkUniqueName(e,t,r,"rule")}checkUniqueTypeName(e,t){let r=_(n=>Xn(n.types).concat(n.interfaces),"extractor");this.checkUniqueName(e,t,r,"type")}checkUniqueName(e,t,r,n){let i=new no;r(e).forEach(u=>i.add(u.name,u));for(let[,u]of i.entriesGroupedByKey())u.length>1&&u.forEach(f=>{t("error",`A ${n}'s name has to be unique.`,{node:f,property:"name"})});let o=new Set,s=r1(this.documents,e);for(let u of s)r(u).forEach(f=>o.add(f.name));for(let u of i.keys())o.has(u)&&i.get(u).forEach(p=>{t("error",`A ${n} with the name '${p.name}' already exists in an imported grammar.`,{node:p,property:"name"})})}checkDuplicateImportedGrammar(e,t){let r=new no;for(let n of e.imports){let i=sp(this.documents,n);i&&r.add(i,n)}for(let[,n]of r.entriesGroupedByKey())n.length>1&&n.forEach((i,o)=>{o>0&&t("warning","The grammar is already being directly imported.",{node:i,tags:[u1.Unnecessary]})})}checkUniqueImportedRules(e,t){let r=new Map;for(let i of e.imports){let o=r1(this.documents,i);r.set(i,o)}let n=new no;for(let i of e.imports){let o=r.get(i);for(let s of e.imports){if(i===s)continue;let u=r.get(s),f=this.getDuplicateExportedRules(o,u);for(let p of f)n.add(i,p)}}for(let i of e.imports){let o=n.get(i);o.length>0&&t("error","Some rules exported by this grammar are also included in other imports: "+Xn(o).distinct().join(", "),{node:i,property:"path"})}}getDuplicateExportedRules(e,t){let n=e.filter(s=>!t.includes(s)).flatMap(s=>s.rules),i=t.flatMap(s=>s.rules),o=new Set;for(let s of n){let u=s.name;for(let f of i){let p=f.name;u===p&&o.add(f.name)}}return o}checkGrammarTypeInfer(e,t){var r,n,i;let o=new Set;for(let u of e.types)o.add(u.name);for(let u of e.interfaces)o.add(u.name);for(let u of r1(this.documents,e))u.types.forEach(f=>o.add(f.name)),u.interfaces.forEach(f=>o.add(f.name));for(let u of e.rules.filter(Ir)){if(Cg(u))continue;let f=Gl(u),p=!u.returnType&&!u.dataType,g=Th(u);if(!f&&g&&o.has(g)===p){if((p||((r=u.returnType)===null||r===void 0?void 0:r.ref)!==void 0)&&u.inferredType===void 0)t("error",s(g,p),{node:u,property:"name",data:el(Mn.MissingReturns)});else if(p||((n=u.returnType)===null||n===void 0?void 0:n.ref)!==void 0){let y=qu(u.inferredType.$cstNode,"infers");t("error",s(g,p),{node:u.inferredType,property:"name",data:{code:Mn.InvalidInfers,actionSegment:rl(y)}})}}else if(f&&p){let y=qu(u.$cstNode,"infer");t("error","Data type rules cannot infer a type.",{node:u,property:"inferredType",data:{code:Mn.InvalidInfers,actionSegment:rl(y)}})}}for(let u of oo(e).filter(fa)){let f=this.getActionType(u);if(f){let p=!!u.inferredType,g=Th(u);if(u.type&&g&&o.has(g)===p){let y=p?qu(u.$cstNode,"infer"):qu(u.$cstNode,"{");t("error",s(g,p),{node:u,property:"type",data:{code:p?Mn.SuperfluousInfer:Mn.MissingInfer,actionSegment:rl(y)}})}else if(f&&g&&o.has(g)&&p&&u.$cstNode){let y=Gc((i=u.inferredType)===null||i===void 0?void 0:i.$cstNode,"name"),x=qu(u.$cstNode,"{");y&&x&&t("error",`${g} is a declared type and cannot be redefined.`,{node:u,property:"type",data:{code:Mn.SuperfluousInfer,actionRange:{start:x.range.end,end:y.range.start}}})}}}function s(u,f){return f?`The type '${u}' is already explicitly declared and cannot be inferred.`:`The type '${u}' is not explicitly declared and must be inferred.`}a(s,"getMessage"),_(s,"getMessage")}getActionType(e){var t;if(e.type)return(t=e.type)===null||t===void 0?void 0:t.ref;if(e.inferredType)return e.inferredType}checkGrammarHiddenTokens(e,t){e.definesHiddenTokens&&t("error","Hidden terminals are declared at the terminal definition.",{node:e,property:"definesHiddenTokens",data:el(Mn.HiddenGrammarTokens)})}checkHiddenTerminalRule(e,t){e.hidden&&e.fragment&&t("error","Cannot use terminal fragments as hidden tokens.",{node:e,property:"hidden"})}checkEmptyTerminalRule(e,t){try{let r=dp(e);new RegExp(r).test("")&&t("error","This terminal could match an empty string.",{node:e,property:"name"})}catch{}}checkInvalidRegexFlags(e,t){let r=e.regex;if(r){let n=r.lastIndexOf("/"),i=r.substring(n+1),o="gmy",u=o+"isu",f=new Set,p=new Set;for(let y=0;y<i.length;y++){let x=i.charAt(y);u.includes(x)?o.includes(x)&&p.add(x):f.add(x)}let g=this.getFlagRange(e);g&&(f.size>0?t("error",`'${Array.from(f).join("")}' ${f.size>1?"are":"is"} not valid regular expression flag${f.size>1?"s":""}.`,{node:e,range:g}):p.size>0&&t("warning",`'${Array.from(p).join("")}' regular expression flag${p.size>1?"s":""} will be ignored by Langium.`,{node:e,range:g}))}}checkDirectlyUsedRegexFlags(e,t){if(!zi(e.$container)){let r=this.getFlagRange(e);r&&t("warning","Regular expression flags are only applied if the terminal is not a composition",{node:e,range:r})}}getFlagRange(e){let t=Gc(e.$cstNode,"regex");if(!t||!e.regex)return;let r=e.regex,n=r.lastIndexOf("/")+1;return{start:{line:t.range.end.line,character:t.range.end.character-r.length+n},end:t.range.end}}checkUsedHiddenTerminalRule(e,t){let r=Ki(e,n=>zi(n)||Ir(n));if(r){if("hidden"in r&&r.hidden)return;let n=e.rule.ref;zi(n)&&n.hidden&&t("error","Cannot use hidden terminal in non-hidden rule",{node:e,property:"rule"})}}checkUsedFragmentTerminalRule(e,t){let r=e.rule.ref;zi(r)&&r.fragment&&Ki(e,Ir)&&t("error","Cannot use terminal fragments as part of parser rules.",{node:e,property:"rule"})}checkCrossReferenceSyntax(e,t){e.deprecatedSyntax&&t("error","'|' is deprecated. Please, use ':' instead.",{node:e,property:"deprecatedSyntax",data:el(Mn.CrossRefTokenSyntax)})}checkPackageImport(e,t){sp(this.documents,e)===void 0?t("error","Import cannot be resolved.",{node:e,property:"path"}):e.path.endsWith(".langium")&&t("warning","Imports do not need file extensions.",{node:e,property:"path",data:el(Mn.UnnecessaryFileExtension)})}checkInvalidCharacterRange(e,t){if(e.right){let r="Character ranges cannot use more than one character",n=!1;e.left.value.length>1&&(n=!0,t("error",r,{node:e.left,property:"value"})),e.right.value.length>1&&(n=!0,t("error",r,{node:e.right,property:"value"})),n||t("hint","Consider using regex instead of character ranges",{node:e,data:el(Mn.UseRegexTokens)})}}checkGrammarForUnusedRules(e,t){let r=pE(e,!0);for(let n of e.rules)zi(n)&&n.hidden||Cg(n)||r.has(n)||t("hint","This rule is declared but never referenced.",{node:n,property:"name",tags:[u1.Unnecessary]})}checkClashingTerminalNames(e,t){let r=new no,n=new Set;for(let f of e.rules)zi(f)&&f.name&&r.add(f.name,f),Ir(f)&&oo(f).filter(Co).forEach(g=>n.add(g.value));let i=new no,o=new no;for(let f of e.imports){let p=r1(this.documents,f);for(let g of p)for(let y of g.rules)zi(y)&&y.name?i.add(y.name,f):Ir(y)&&y.name&&oo(y).filter(Co).forEach(b=>o.add(b.value,f))}for(let f of r.values())if(n.has(f.name))t("error","Terminal name clashes with existing keyword.",{node:f,property:"name"});else if(o.has(f.name)){let p=o.get(f.name);t("error",`Terminal name clashes with imported keyword from "${p[0].path}".`,{node:f,property:"name"})}let s=new no;for(let f of n)for(let p of i.get(f))s.add(p,f);for(let[f,p]of s.entriesGroupedByKey())p.length>0&&t("error",`Imported terminals (${p.join(", ")}) clash with locally defined keywords.`,{node:f,property:"path"});let u=new no;for(let[f,p]of i.entriesGroupedByKey()){let g=o.get(f);g.length>0&&p.filter(y=>!g.includes(y)).forEach(y=>u.add(y,f))}for(let[f,p]of u.entriesGroupedByKey())p.length>0&&t("error",`Imported terminals (${p.join(", ")}) clash with imported keywords.`,{node:f,property:"path"})}checkRuleName(e,t){if(e.name&&!Cg(e)){let r=e.name.substring(0,1);r.toUpperCase()!==r&&t("warning","Rule name should start with an upper case letter.",{node:e,property:"name",data:el(Mn.RuleNameUppercase)})}}checkTypeReservedName(e,t){this.checkReservedName(e,"name",t)}checkAssignmentReservedName(e,t){this.checkReservedName(e,"feature",t)}checkParserRuleReservedName(e,t){e.inferredType||this.checkReservedName(e,"name",t)}checkReservedName(e,t,r){let n=e[t];typeof n=="string"&&T9e.has(n)&&r("error",`'${n}' is a reserved name of the JavaScript runtime.`,{node:e,property:t})}checkKeyword(e,t){Ki(e,Ir)&&(e.value.length===0?t("error","Keywords cannot be empty.",{node:e}):e.value.trim().length===0?t("error","Keywords cannot only consist of whitespace characters.",{node:e}):/\s/g.test(e.value)&&t("warning","Keywords should not contain whitespace characters.",{node:e}))}checkUnorderedGroup(e,t){e.elements.forEach(r=>{$c(r.cardinality)&&t("error","Optional elements in Unordered groups are currently not supported",{node:r,data:el(Mn.OptionalUnorderedGroup)})})}checkRuleParametersUsed(e,t){let r=e.parameters;if(r.length>0){let n=oo(e).filter(nE);for(let i of r)n.some(o=>o.parameter.ref===i)||t("hint",`Parameter '${i.name}' is unused.`,{node:i,tags:[u1.Unnecessary]})}}checkParserRuleDataType(e,t){if(Cg(e))return;let r=pie(e),n=Gl(e);!r&&n?t("error","This parser rule does not create an object. Add a primitive return type or an action to the start of the rule to force object instantiation.",{node:e,property:"name"}):r&&!n&&t("error","Normal parser rules are not allowed to return a primitive value. Use a datatype rule for that.",{node:e,property:e.dataType?"dataType":"returnType"})}checkAssignmentToFragmentRule(e,t){e.terminal&&ha(e.terminal)&&Ir(e.terminal.rule.ref)&&e.terminal.rule.ref.fragment&&t("error",`Cannot use fragment rule '${e.terminal.rule.ref.name}' for assignment of property '${e.feature}'.`,{node:e,property:"terminal"})}checkAssignmentTypes(e,t){if(!e.terminal)return;let r;oo(e.terminal).map(i=>zc(i)?"ref":"other").find(i=>r?i!==r:(r=i,!1))&&t("error",this.createMixedTypeError(e.feature),{node:e,property:"terminal"})}checkInterfacePropertyTypes(e,t){for(let r of e.attributes)if(r.type){let n=rp(r.type),i=A1(n),o=!1,s=!1;for(let u of i)qg(u)?o=!0:qg(u)||(s=!0);o&&s&&t("error",this.createMixedTypeError(r.name),{node:r,property:"type"})}}createMixedTypeError(e){return`Mixing a cross-reference with other types is not supported. Consider splitting property "${e}" into two or more different properties.`}checkTerminalRuleReturnType(e,t){var r;!((r=e.type)===null||r===void 0)&&r.name&&!fE(e.type.name)&&t("error","Terminal rules can only return primitive types like 'string', 'boolean', 'number', 'Date' or 'bigint'.",{node:e.type,property:"name"})}checkRuleCallParameters(e,t){let r=e.rule.ref;if(Ir(r)){let n=r.parameters.length,i=e.arguments.length;n!==i&&t("error",`Rule '${r.name}' expects ${n} arguments, but got ${i}.`,{node:e})}else zi(r)&&e.arguments.length>0&&t("error","Terminal rules do not accept any arguments",{node:e})}checkCrossRefNameAssignment(e,t){!e.terminal&&e.type.ref&&!yE(e.type.ref)&&t("error","Cannot infer terminal or data type rule for cross-reference.",{node:e,property:"type"})}checkCrossRefTerminalType(e,t){var r;let n=e.terminal;if(ha(n)){let i=n.rule.ref;Ir(i)&&!Gl(i)?t("error","Parser rules cannot be used for cross-references.",{node:n,property:"rule"}):Ir(i)&&!gie(i)?t("error","Data type rules for cross-references must be of type string.",{node:n,property:"rule"}):zi(i)&&(!((r=i.type)===null||r===void 0)&&r.name)&&i.type.name!=="string"&&t("error","Terminal rules for cross-references must be of type string.",{node:n,property:"rule"})}}checkCrossRefType(e,t){let r=this.checkReferenceToRuleButNotType(e?.type);r&&t("error",r,{node:e,property:"type"})}checkCrossReferenceToTypeUnion(e,t){if(Zo(e.type.ref)&&Dh(e.type.ref.type)){let r=$N(e.type.ref.type);r.length>0&&t("error",`Cross-reference on type union is only valid if all alternatives are AST nodes. ${r.join(", ")} ${r.length>1?"are":"is"} not ${r.length>1?"":"an "}AST node${r.length>1?"s":""}.`,{node:e,property:"type"})}}checkFragmentsInTypes(e,t){var r,n;Ir((r=e.typeRef)===null||r===void 0?void 0:r.ref)&&(!((n=e.typeRef)===null||n===void 0)&&n.ref.fragment)&&t("error","Cannot use rule fragments in types.",{node:e,property:"typeRef"})}checkReferenceTypeUnion(e,t){Vc(e.referenceType)||t("error","Only direct rule references are allowed in reference types.",{node:e,property:"referenceType"})}checkReferenceToRuleButNotType(e){if(e&&Ir(e.ref)&&!Gl(e.ref)&&(e.ref.returnType||e.ref.inferredType)){let t=Th(e.ref);if(t)return`Use the rule type '${t}' instead of the typed rule name '${e.ref.name}' for cross-references.`}}checkAssignmentWithFeatureName(e,t){e.feature==="name"&&zc(e.terminal)&&t("warning",'The "name" property is not recommended for cross-references.',{node:e,property:"feature"})}};a(Cg,"isEmptyRule");_(Cg,"isEmptyRule");T9e=new Set(["Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array","Map","Set","WeakMap","WeakSet","Error","AggregateError","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError","BigInt","RegExp","Number","Object","Function","Symbol","String","Math","NaN","Infinity","isFinite","isNaN","Buffer","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","globalThis","decodeURIComponent","decodeURI","encodeURIComponent","encodeURI","parseInt","parseFloat","Promise","Generator","GeneratorFunction","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Reflect","Proxy","Date","Intl","eval","undefined"]);a($N,"checkTypeUnionContainsOnlyParseRules");_($N,"checkTypeUnionContainsOnlyParseRules");a($c,"isOptionalCardinality");_($c,"isOptionalCardinality");a(die,"isArrayCardinality");_(die,"isArrayCardinality");a(Gl,"isDataTypeRule");_(Gl,"isDataTypeRule");a(GN,"isDataTypeRuleInternal");_(GN,"isDataTypeRuleInternal");a(pie,"hasDataTypeReturn");_(pie,"hasDataTypeReturn");a(mie,"isDataType");_(mie,"isDataType");a(Ow,"isDataTypeInternal");_(Ow,"isDataTypeInternal");a(gie,"isStringType2");_(gie,"isStringType");a(Rg,"isStringTypeInternal");_(Rg,"isStringTypeInternal");a(VN,"getActionAtElement");_(VN,"getActionAtElement");a(Lh,"getTypeName");_(Lh,"getTypeName");a(Th,"getTypeNameWithoutError");_(Th,"getTypeNameWithoutError");a(j1,"getExplicitRuleType");_(j1,"getExplicitRuleType");a(R1,"getActionType");_(R1,"getActionType");a(Y1,"getRuleType");_(Y1,"getRuleType");a(dp,"terminalRegex");_(dp,"terminalRegex");WN=/[\s\S]/.source;a(pp,"abstractElementToRegex");_(pp,"abstractElementToRegex");a(yie,"terminalAlternativesToRegex");_(yie,"terminalAlternativesToRegex");a(vie,"terminalGroupToRegex");_(vie,"terminalGroupToRegex");a(xie,"untilTokenToRegex");_(xie,"untilTokenToRegex");a(bie,"negateTokenToRegex");_(bie,"negateTokenToRegex");a(Tie,"characterRangeToRegex");_(Tie,"characterRangeToRegex");a(nw,"keywordToRegex");_(nw,"keywordToRegex");a(qc,"withCardinality");_(qc,"withCardinality");a(HN,"resolveImportUri");_(HN,"resolveImportUri");a(sp,"resolveImport");_(sp,"resolveImport");a(r1,"resolveTransitiveImports");_(r1,"resolveTransitiveImports");a(Mw,"resolveTransitiveImportsInternal");_(Mw,"resolveTransitiveImportsInternal");a(D1,"extractAssignments");_(D1,"extractAssignments");k9e=["string","number","boolean","Date","bigint"];a(fE,"isPrimitiveType2");_(fE,"isPrimitiveType");_9e=class{static{a(this,"TypeGraph")}static{_(this,"TypeGraph")}constructor(e,t){this.context=e,this.root=t}getTypes(){let e={name:this.root.name,properties:this.root.properties,ruleCalls:this.root.ruleCalls,super:[]};return this.root.children.length===0?[{alt:e,next:[]}]:this.applyNext(this.root,{alt:e,next:this.root.children})}applyNext(e,t){let r=this.splitType(t.alt,t.next.length),n=[];for(let i=0;i<t.next.length;i++){let o=r[i],s=t.next[i];s.actionWithAssignment&&n.push({alt:PI(o),next:[]}),s.name!==void 0&&s.name!==o.name&&(s.actionWithAssignment?(o.properties=[],o.ruleCalls=[],o.super=[e.name],o.name=s.name):(o.super=[o.name,...o.ruleCalls],o.properties=[],o.ruleCalls=[],o.name=s.name)),o.properties.push(...s.properties),o.ruleCalls.push(...s.ruleCalls);let u={alt:o,next:s.children};u.next.length===0?(u.alt.super=u.alt.super.filter(f=>f!==u.alt.name),n.push(u)):n.push(...this.applyNext(e,u))}return KN(n)}splitType(e,t){let r=[];for(let n=0;n<t;n++)r.push(PI(e));return r}getSuperTypes(e){let t=new Set;return this.collectSuperTypes(e,e,t),Array.from(t)}collectSuperTypes(e,t,r){if(t.ruleCalls.length>0){for(let n of t.ruleCalls)r.add(n);return}for(let n of t.parents)e.name===void 0?this.collectSuperTypes(n,n,r):n.name!==void 0&&n.name!==e.name?r.add(n.name):this.collectSuperTypes(e,n,r);t.parents.length===0&&t.name&&r.add(t.name)}connect(e,t){return t.parents.push(e),e.children.push(t),t}merge(...e){if(e.length===1)return e[0];if(e.length===0)throw new Error("No parts to merge");let t=bh();t.parents=e;for(let r of e)r.children.push(t);return t}hasLeafNode(e){return this.partHasLeafNode(e)}partHasLeafNode(e,t){return e.children.some(r=>r!==t)?!0:e.name?!1:e.parents.some(r=>this.partHasLeafNode(r,e))}};a(kie,"copyTypePart");_(kie,"copyTypePart");a(PI,"copyTypeAlternative");_(PI,"copyTypeAlternative");a(jN,"copyProperty");_(jN,"copyProperty");a(_ie,"collectInferredTypes");_(_ie,"collectInferredTypes");a(wie,"getDataRuleType");_(wie,"getDataRuleType");a(Fw,"buildDataRuleType");_(Fw,"buildDataRuleType");a(YN,"getRuleTypes");_(YN,"getRuleTypes");a(bh,"newTypePart");_(bh,"newTypePart");a(Bw,"collectElement");_(Bw,"collectElement");a(Eie,"addAction");_(Eie,"addAction");a(Cie,"addAssignment");_(Cie,"addAssignment");a(XN,"findTypes");_(XN,"findTypes");a(Sie,"addRuleCall");_(Sie,"addRuleCall");a(Aie,"getFragmentProperties");_(Aie,"getFragmentProperties");a(Rie,"calculateInterfaces");_(Rie,"calculateInterfaces");a(KN,"flattenTypes");_(KN,"flattenTypes");a(Die,"buildSuperUnions");_(Die,"buildSuperUnions");a(Lie,"extractUnions");_(Lie,"extractUnions");a(kh,"toPropertyType");_(kh,"toPropertyType");a(Iie,"collectTypeResources");_(Iie,"collectTypeResources");a(QN,"collectAllAstResources");_(QN,"collectAllAstResources");a(Nie,"collectValidationAst");_(Nie,"collectValidationAst");a(OI,"createAstTypes");_(OI,"createAstTypes");a(MI,"mergeAndRemoveDuplicates");_(MI,"mergeAndRemoveDuplicates");a(Pie,"specifyAstNodeProperties");_(Pie,"specifyAstNodeProperties");a(Oie,"buildTypeNames");_(Oie,"buildTypeNames");a(Mie,"filterInterfaceLikeTypes");_(Mie,"filterInterfaceLikeTypes");a(qw,"isDataType2");_(qw,"isDataType");a(Fie,"addSubTypes");_(Fie,"addSubTypes");a(Bie,"buildContainerTypes");_(Bie,"buildContainerTypes");w9e={languageId:"langium",fileExtensions:[".langium"],caseInsensitive:!1},E9e={maxLookahead:3},C9e={AstReflection:()=>new wne},S9e={Grammar:()=>m9e(),LanguageMetaData:()=>w9e,parser:{ParserConfig:()=>E9e}},ate=class{static{a(this,"StreamScope")}static{_(this,"StreamScope")}constructor(e,t,r){var n;this.elements=e,this.outerScope=t,this.caseInsensitive=(n=r?.caseInsensitive)!==null&&n!==void 0?n:!1}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(e){let t=this.caseInsensitive?this.elements.find(r=>r.name.toLowerCase()===e.toLowerCase()):this.elements.find(r=>r.name===e);if(t)return t;if(this.outerScope)return this.outerScope.getElement(e)}},qie=class{static{a(this,"MapScope")}static{_(this,"MapScope")}constructor(e,t,r){var n;this.elements=new Map,this.caseInsensitive=(n=r?.caseInsensitive)!==null&&n!==void 0?n:!1;for(let i of e){let o=this.caseInsensitive?i.name.toLowerCase():i.name;this.elements.set(o,i)}this.outerScope=t}getElement(e){let t=this.caseInsensitive?e.toLowerCase():e,r=this.elements.get(t);if(r)return r;if(this.outerScope)return this.outerScope.getElement(e)}getAllElements(){let e=Xn(this.elements.values());return this.outerScope&&(e=e.concat(this.outerScope.getAllElements())),e}},A9e={getElement(){},getAllElements(){return mw}},tI=En(Rh(),1),zie=class{static{a(this,"DefaultScopeComputation")}static{_(this,"DefaultScopeComputation")}constructor(e){this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider}async computeExports(e,t=tI.CancellationToken.None){return this.computeExportsForNode(e.parseResult.value,e,void 0,t)}async computeExportsForNode(e,t,r=Vg,n=tI.CancellationToken.None){let i=[];this.exportNode(e,i,t);for(let o of r(e))await Eo(n),this.exportNode(o,i,t);return i}exportNode(e,t,r){let n=this.nameProvider.getName(e);n&&t.push(this.descriptions.createDescription(e,n,r))}async computeLocalScopes(e,t=tI.CancellationToken.None){let r=e.parseResult.value,n=new no;for(let i of oo(r))await Eo(t),this.processNode(i,e,n);return n}processNode(e,t,r){let n=e.$container;if(n){let i=this.nameProvider.getName(e);i&&r.add(n,this.descriptions.createDescription(e,i,t))}}},Uie=class{static{a(this,"DisposableCache")}static{_(this,"DisposableCache")}constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(e){this.toDispose.push(e)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach(e=>e.dispose())}throwIfDisposed(){if(this.isDisposed)throw new Error("This cache has already been disposed")}},R9e=class extends Uie{static{a(this,"SimpleCache")}static{_(this,"SimpleCache")}constructor(){super(...arguments),this.cache=new Map}has(e){return this.throwIfDisposed(),this.cache.has(e)}set(e,t){this.throwIfDisposed(),this.cache.set(e,t)}get(e,t){if(this.throwIfDisposed(),this.cache.has(e))return this.cache.get(e);if(t){let r=t();return this.cache.set(e,r),r}else return}delete(e){return this.throwIfDisposed(),this.cache.delete(e)}clear(){this.throwIfDisposed(),this.cache.clear()}},D9e=class extends Uie{static{a(this,"ContextCache")}static{_(this,"ContextCache")}constructor(e){super(),this.cache=new Map,this.converter=e??(t=>t)}has(e,t){return this.throwIfDisposed(),this.cacheForContext(e).has(t)}set(e,t,r){this.throwIfDisposed(),this.cacheForContext(e).set(t,r)}get(e,t,r){this.throwIfDisposed();let n=this.cacheForContext(e);if(n.has(t))return n.get(t);if(r){let i=r();return n.set(t,i),i}else return}delete(e,t){return this.throwIfDisposed(),this.cacheForContext(e).delete(t)}clear(e){if(this.throwIfDisposed(),e){let t=this.converter(e);this.cache.delete(t)}else this.cache.clear()}cacheForContext(e){let t=this.converter(e),r=this.cache.get(t);return r||(r=new Map,this.cache.set(t,r)),r}},L9e=class extends R9e{static{a(this,"WorkspaceCache")}static{_(this,"WorkspaceCache")}constructor(e){super(),this.onDispose(e.workspace.DocumentBuilder.onUpdate(()=>{this.clear()}))}},$ie=class{static{a(this,"DefaultScopeProvider")}static{_(this,"DefaultScopeProvider")}constructor(e){this.reflection=e.shared.AstReflection,this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider,this.indexManager=e.shared.workspace.IndexManager,this.globalScopeCache=new L9e(e.shared)}getScope(e){let t=[],r=this.reflection.getReferenceType(e),n=Gn(e.container).precomputedScopes;if(n){let o=e.container;do{let s=n.get(o);s.length>0&&t.push(Xn(s).filter(u=>this.reflection.isSubtype(u.type,r))),o=o.$container}while(o)}let i=this.getGlobalScope(r,e);for(let o=t.length-1;o>=0;o--)i=this.createScope(t[o],i);return i}createScope(e,t,r){return new ate(Xn(e),t,r)}createScopeForNodes(e,t,r){let n=Xn(e).map(i=>{let o=this.nameProvider.getName(i);if(o)return this.descriptions.createDescription(i,o)}).nonNullable();return new ate(n,t,r)}getGlobalScope(e,t){return this.globalScopeCache.get(e,()=>new qie(this.indexManager.allElements(e)))}},I9e=class extends $ie{static{a(this,"LangiumGrammarScopeProvider")}static{_(this,"LangiumGrammarScopeProvider")}constructor(e){super(e),this.langiumDocuments=e.shared.workspace.LangiumDocuments}getScope(e){let t=this.reflection.getReferenceType(e);return t===Ag?this.getTypeScope(t,e):super.getScope(e)}getTypeScope(e,t){let r,n=Gn(t.container).precomputedScopes,i=aE(t.container);if(n&&i){let s=n.get(i);s.length>0&&(r=Xn(s).filter(u=>u.type===xw||u.type===bw))}let o=this.getGlobalScope(e,t);return r?this.createScope(r,o):o}getGlobalScope(e,t){let r=Ki(t.container,vw);if(!r)return A9e;let n=new Set;this.gatherImports(r,n);let i=this.indexManager.allElements(e,n);return e===Ag&&(i=i.filter(o=>o.type===xw||o.type===bw)),new qie(i)}gatherImports(e,t){for(let r of e.imports){let n=HN(r);if(n&&!t.has(n.toString())&&(t.add(n.toString()),this.langiumDocuments.hasDocument(n))){let o=this.langiumDocuments.getOrCreateDocument(n).parseResult.value;vw(o)&&this.gatherImports(o,t)}}}},N9e=class extends zie{static{a(this,"LangiumGrammarScopeComputation")}static{_(this,"LangiumGrammarScopeComputation")}constructor(e){super(e),this.astNodeLocator=e.workspace.AstNodeLocator}exportNode(e,t,r){var n;if(super.exportNode(e,t,r),Ir(e)){if(!e.returnType&&!e.dataType){let i=(n=e.inferredType)!==null&&n!==void 0?n:e;t.push(this.createInterfaceDescription(i,i.name,r))}oo(e).forEach(i=>{if(fa(i)&&i.inferredType){let o=R1(i);o&&t.push(this.createInterfaceDescription(i,o,r))}})}}processNode(e,t,r){iE(e)||(this.processTypeNode(e,t,r),this.processActionNode(e,t,r),super.processNode(e,t,r))}processTypeNode(e,t,r){var n;let i=e.$container;if(i&&Ir(e)&&!e.returnType&&!e.dataType){let o=(n=e.inferredType)!==null&&n!==void 0?n:e;r.add(i,this.createInterfaceDescription(o,o.name,t))}}processActionNode(e,t,r){let n=aE(e);if(n&&fa(e)&&e.inferredType){let i=R1(e);i&&r.add(n,this.createInterfaceDescription(e,i,t))}}createInterfaceDescription(e,t,r=Gn(e)){let n,i=_(()=>{var o;return n??(n=rl((o=this.nameProvider.getNameNode(e))!==null&&o!==void 0?o:e.$cstNode))},"nameSegmentGetter");return{node:e,name:t,get nameSegment(){return i()},selectionSegment:rl(e.$cstNode),type:"Interface",documentUri:r.uri,path:this.astNodeLocator.getAstNodePath(e)}}},Js=En(Vn(),1),tl=En(Vn(),1),P9e=class{static{a(this,"DefaultDocumentValidator")}static{_(this,"DefaultDocumentValidator")}constructor(e){this.validationRegistry=e.validation.ValidationRegistry,this.metadata=e.LanguageMetaData}async validateDocument(e,t={},r=tl.CancellationToken.None){let n=e.parseResult,i=[];if(await Eo(r),(!t.categories||t.categories.includes("built-in"))&&(this.processLexingErrors(n,i,t),t.stopAfterLexingErrors&&i.some(o=>{var s;return((s=o.data)===null||s===void 0?void 0:s.code)===Oc.LexingError})||(this.processParsingErrors(n,i,t),t.stopAfterParsingErrors&&i.some(o=>{var s;return((s=o.data)===null||s===void 0?void 0:s.code)===Oc.ParsingError}))||(this.processLinkingErrors(e,i,t),t.stopAfterLinkingErrors&&i.some(o=>{var s;return((s=o.data)===null||s===void 0?void 0:s.code)===Oc.LinkingError}))))return i;try{i.push(...await this.validateAst(n.value,t,r))}catch(o){if(uE(o))throw o;console.error("An error occurred during validation:",o)}return await Eo(r),i}processLexingErrors(e,t,r){for(let n of e.lexerErrors){let i={severity:tl.DiagnosticSeverity.Error,range:{start:{line:n.line-1,character:n.column-1},end:{line:n.line-1,character:n.column+n.length-1}},message:n.message,data:el(Oc.LexingError),source:this.getSource()};t.push(i)}}processParsingErrors(e,t,r){for(let n of e.parserErrors){let i;if(isNaN(n.token.startOffset)){if("previousToken"in n){let o=n.previousToken;if(isNaN(o.startOffset))i=tl.Range.create(0,0,0,0);else{let s=tl.Position.create(o.endLine-1,o.endColumn);i=tl.Range.create(s,s)}}}else i=gw(n.token);if(i){let o={severity:tl.DiagnosticSeverity.Error,range:i,message:n.message,data:el(Oc.ParsingError),source:this.getSource()};t.push(o)}}}processLinkingErrors(e,t,r){for(let n of e.references){let i=n.error;if(i){let o={node:i.container,property:i.property,index:i.index,data:{code:Oc.LinkingError,containerType:i.container.$type,property:i.property,refText:i.reference.$refText}};t.push(this.toDiagnostic("error",i.message,o))}}}async validateAst(e,t,r=tl.CancellationToken.None){let n=[],i=_((o,s,u)=>{n.push(this.toDiagnostic(o,s,u))},"acceptor");return await Promise.all(W1(e).map(async o=>{await Eo(r);let s=this.validationRegistry.getChecks(o.$type,t.categories);for(let u of s)await u(o,i,r)})),n}toDiagnostic(e,t,r){return{message:t,range:Gie(r),severity:Vie(e),code:r.code,codeDescription:r.codeDescription,tags:r.tags,relatedInformation:r.relatedInformation,data:r.data,source:this.getSource()}}getSource(){return this.metadata.languageId}};a(Gie,"getDiagnosticRange");_(Gie,"getDiagnosticRange");a(Vie,"toDiagnosticSeverity");_(Vie,"toDiagnosticSeverity");(function(e){e.LexingError="lexing-error",e.ParsingError="parsing-error",e.LinkingError="linking-error"})(Oc=Oc||(Oc={}));O9e=class{static{a(this,"LangiumGrammarCodeActionProvider")}static{_(this,"LangiumGrammarCodeActionProvider")}constructor(e){this.reflection=e.shared.AstReflection,this.indexManager=e.shared.workspace.IndexManager}getCodeActions(e,t){let r=[],n=_(i=>i&&r.push(i),"acceptor");for(let i of t.context.diagnostics)this.createCodeActions(i,e,n);return r}createCodeActions(e,t,r){var n;switch((n=e.data)===null||n===void 0?void 0:n.code){case Mn.GrammarNameUppercase:case Mn.RuleNameUppercase:r(this.makeUpperCase(e,t));break;case Mn.HiddenGrammarTokens:r(this.fixHiddenTerminals(e,t));break;case Mn.UseRegexTokens:r(this.fixRegexTokens(e,t));break;case Mn.EntryRuleTokenSyntax:r(this.addEntryKeyword(e,t));break;case Mn.CrossRefTokenSyntax:r(this.fixCrossRefSyntax(e,t));break;case Mn.UnnecessaryFileExtension:r(this.fixUnnecessaryFileExtension(e,t));break;case Mn.MissingReturns:r(this.fixMissingReturns(e,t));break;case Mn.InvalidInfers:case Mn.InvalidReturns:r(this.fixInvalidReturnsInfers(e,t));break;case Mn.MissingInfer:r(this.fixMissingInfer(e,t));break;case Mn.SuperfluousInfer:r(this.fixSuperfluousInfer(e,t));break;case Oc.LinkingError:{let i=e.data;i&&i.containerType==="RuleCall"&&i.property==="rule"&&r(this.addNewRule(e,i,t)),i&&this.lookInGlobalScope(e,i,t).forEach(r);break}}}fixMissingReturns(e,t){let r=t.textDocument.getText(e.range);if(r)return{title:`Add explicit return type for parser rule ${r}`,kind:Js.CodeActionKind.QuickFix,diagnostics:[e],edit:{changes:{[t.textDocument.uri]:[{range:e.range,newText:`${r} returns ${r}`}]}}}}fixInvalidReturnsInfers(e,t){let r=e.data;if(r&&r.actionSegment){let n=t.textDocument.getText(r.actionSegment.range);return{title:`Correct ${n} usage`,kind:Js.CodeActionKind.QuickFix,diagnostics:[e],edit:{changes:{[t.textDocument.uri]:[{range:r.actionSegment.range,newText:n==="infers"?"returns":"infers"}]}}}}}fixMissingInfer(e,t){let r=e.data;if(r&&r.actionSegment)return{title:"Correct 'infer' usage",kind:Js.CodeActionKind.QuickFix,diagnostics:[e],edit:{changes:{[t.textDocument.uri]:[{range:{start:r.actionSegment.range.end,end:r.actionSegment.range.end},newText:"infer "}]}}}}fixSuperfluousInfer(e,t){let r=e.data;if(r&&r.actionRange)return{title:"Remove the 'infer' keyword",kind:Js.CodeActionKind.QuickFix,diagnostics:[e],edit:{changes:{[t.textDocument.uri]:[{range:r.actionRange,newText:""}]}}}}fixUnnecessaryFileExtension(e,t){let r=Object.assign({},e.range.end);r.character-=1;let n=Object.assign({},r);return n.character-=8,{title:"Remove file extension",kind:Js.CodeActionKind.QuickFix,diagnostics:[e],isPreferred:!0,edit:{changes:{[t.textDocument.uri]:[{range:{start:n,end:r},newText:""}]}}}}makeUpperCase(e,t){let r={start:e.range.start,end:{line:e.range.start.line,character:e.range.start.character+1}};return{title:"First letter to upper case",kind:Js.CodeActionKind.QuickFix,diagnostics:[e],isPreferred:!0,edit:{changes:{[t.textDocument.uri]:[{range:r,newText:t.textDocument.getText(r).toUpperCase()}]}}}}addEntryKeyword(e,t){return{title:"Add entry keyword",kind:Js.CodeActionKind.QuickFix,diagnostics:[e],isPreferred:!0,edit:{changes:{[t.textDocument.uri]:[{range:{start:e.range.start,end:e.range.start},newText:"entry "}]}}}}fixRegexTokens(e,t){let r=t.textDocument.offsetAt(e.range.start),n=t.parseResult.value.$cstNode;if(n){let i=Wl(n,r),o=Ki(i?.astNode,kN);if(o&&o.right&&o.$cstNode){let s=o.left.value,u=o.right.value;return{title:"Refactor into regular expression",kind:Js.CodeActionKind.QuickFix,diagnostics:[e],isPreferred:!0,edit:{changes:{[t.textDocument.uri]:[{range:o.$cstNode.range,newText:`/[${op(s)}-${op(u)}]/`}]}}}}}}fixCrossRefSyntax(e,t){return{title:"Replace '|' with ':'",kind:Js.CodeActionKind.QuickFix,diagnostics:[e],isPreferred:!0,edit:{changes:{[t.textDocument.uri]:[{range:e.range,newText:":"}]}}}}fixHiddenTerminals(e,t){let r=t.parseResult.value,n=r.hiddenTokens,i=[],o=Gc(r.$cstNode,"definesHiddenTokens");if(o){let s=o.range.start,u=o.offset,f=r.$cstNode.text.indexOf(")",u)+1;i.push({newText:"",range:{start:s,end:t.textDocument.positionAt(f)}})}for(let s of n){let u=s.ref;if(u&&zi(u)&&!u.hidden&&u.$cstNode){let f=u.$cstNode.range.start;i.push({newText:"hidden ",range:{start:f,end:f}})}}return{title:"Fix hidden terminals",kind:Js.CodeActionKind.QuickFix,diagnostics:[e],isPreferred:!0,edit:{changes:{[t.textDocument.uri]:i}}}}addNewRule(e,t,r){let n=r.textDocument.offsetAt(e.range.start),i=r.parseResult.value.$cstNode;if(i){let o=Wl(i,n),s=Ki(o?.astNode,Ir);if(s&&s.$cstNode)return{title:`Add new rule '${t.refText}'`,kind:Js.CodeActionKind.QuickFix,diagnostics:[e],isPreferred:!1,edit:{changes:{[r.textDocument.uri]:[{range:{start:s.$cstNode.range.end,end:s.$cstNode.range.end},newText:`

`+t.refText+`:
    /* TODO implement rule */ {infer `+t.refText+"};"}]}}}}}lookInGlobalScope(e,t,r){var n,i;let o={container:{$type:t.containerType},property:t.property,reference:{$refText:t.refText}},s=this.reflection.getReferenceType(o),u=this.indexManager.allElements(s).filter(y=>y.name===t.refText),f=[],p=-1,g=-1;for(let y of u){if(bi.equals(y.documentUri,r.uri))continue;let x=Wie(r.uri,y.documentUri),b,E="",A=r.parseResult.value,O=A.imports.find(N=>N.path&&x<N.path);if(O)b=(n=O.$cstNode)===null||n===void 0?void 0:n.range.start;else if(A.imports.length>0){let N=A.imports[A.imports.length-1].$cstNode.range.end;N&&(b={line:N.line+1,character:0})}else A.rules.length>0&&(b=(i=A.rules[0].$cstNode)===null||i===void 0?void 0:i.range.start,E=`
`);b&&((p<0||x.length<g)&&(p=f.length,g=x.length),f.push({title:`Add import to '${x}'`,kind:Js.CodeActionKind.QuickFix,diagnostics:[e],isPreferred:!1,edit:{changes:{[r.textDocument.uri]:[{range:{start:b,end:b},newText:`import '${x}'
${E}`}]}}}))}return p>=0&&(f[p].isPreferred=!0),f}};a(Wie,"getRelativeImport");_(Wie,"getRelativeImport");rI=En(Vn(),1);a(FI,"findNextFeatures");_(FI,"findNextFeatures");a(hE,"findNextFeaturesInternal");_(hE,"findNextFeaturesInternal");a(h1,"findFirstFeatures");_(h1,"findFirstFeatures");a(np,"findFirstFeaturesInternal");_(np,"findFirstFeaturesInternal");a(n1,"modifyCardinality");_(n1,"modifyCardinality");a(ZN,"findNextFeaturesInGroup");_(ZN,"findNextFeaturesInGroup");a(Hie,"interpretTokens");_(Hie,"interpretTokens");a(JN,"findNextFeatureStacks");_(JN,"findNextFeatureStacks");a(jie,"interpretStackToken");_(jie,"interpretStackToken");a(Yie,"isPlusFeature");_(Yie,"isPlusFeature");a(dE,"featureMatches");_(dE,"featureMatches");a(Xie,"ruleMatches");_(Xie,"ruleMatches");a(Kie,"mergeCompletionProviderOptions");_(Kie,"mergeCompletionProviderOptions");Qie=class{static{a(this,"DefaultCompletionProvider")}static{_(this,"DefaultCompletionProvider")}constructor(e){this.scopeProvider=e.references.ScopeProvider,this.grammar=e.Grammar,this.completionParser=e.parser.CompletionParser,this.nameProvider=e.references.NameProvider,this.lexer=e.parser.Lexer,this.nodeKindProvider=e.shared.lsp.NodeKindProvider,this.fuzzyMatcher=e.shared.lsp.FuzzyMatcher,this.grammarConfig=e.parser.GrammarConfig}async getCompletion(e,t){let r=[],n=this.buildContexts(e,t.position),i=_((u,f)=>{let p=this.fillCompletionItem(u,f);p&&r.push(p)},"acceptor"),o=_(u=>Co(u.feature)?u.feature.value:u.feature,"distinctionFunction"),s=[];for(let u of n)if(await Promise.all(Xn(u.features).distinct(o).exclude(s).map(f=>this.completionFor(u,f,i))),s.push(...u.features),!this.continueCompletion(r))break;return rI.CompletionList.create(this.deduplicateItems(r),!0)}deduplicateItems(e){return Xn(e).distinct(t=>`${t.kind}_${t.label}_${t.detail}`).toArray()}findFeaturesAt(e,t){let r=e.getText({start:rI.Position.create(0,0),end:e.positionAt(t)}),n=this.completionParser.parse(r),i=n.tokens;if(n.tokenIndex===0){let u=zw(this.grammar),f=h1({feature:u.definition,new:!0,type:j1(u)});return i.length>0?(i.shift(),FI(f.map(p=>[p]),i)):f}let o=[...i].splice(n.tokenIndex);return FI([n.elementStack.map(u=>({feature:u}))],o)}*buildContexts(e,t){var r,n,i,o,s;let u=e.parseResult.value.$cstNode;if(!u)return;let f=e.textDocument,p=f.getText(),g=f.offsetAt(t),y={document:e,textDocument:f,offset:g,position:t},x=this.findDataTypeRuleStart(u,g);if(x){let[I,$]=x,X=(r=Wl(u,I))===null||r===void 0?void 0:r.astNode,q=this.findFeaturesAt(f,I);yield Object.assign(Object.assign({},y),{node:X,tokenOffset:I,tokenEndOffset:$,features:q})}let{nextTokenStart:b,nextTokenEnd:E,previousTokenStart:A,previousTokenEnd:O}=this.backtrackToAnyToken(p,g),N;if(A!==void 0&&O!==void 0&&O===g){N=(n=Wl(u,A))===null||n===void 0?void 0:n.astNode;let I=this.findFeaturesAt(f,A);yield Object.assign(Object.assign({},y),{node:N,tokenOffset:A,tokenEndOffset:O,features:I})}if(N=(o=(i=Wl(u,b))===null||i===void 0?void 0:i.astNode)!==null&&o!==void 0?o:A===void 0||(s=Wl(u,A))===null||s===void 0?void 0:s.astNode,N){let I=this.findFeaturesAt(f,b);yield Object.assign(Object.assign({},y),{node:N,tokenOffset:b,tokenEndOffset:E,features:I})}else{let I=zw(this.grammar),$=h1(I.definition);yield Object.assign(Object.assign({},y),{tokenOffset:b,tokenEndOffset:E,features:$})}}findDataTypeRuleStart(e,t){var r,n;let i=jl(e,t,this.grammarConfig.nameRegexp),o=!!(!((r=Ki(i?.grammarSource,Ir))===null||r===void 0)&&r.dataType);if(o){for(;o;)i=i?.container,o=!!(!((n=Ki(i?.grammarSource,Ir))===null||n===void 0)&&n.dataType);if(i)return[i.offset,i.end]}}continueCompletion(e){return e.length===0}backtrackToAnyToken(e,t){let r=this.lexer.tokenize(e).tokens;if(r.length===0)return{nextTokenStart:t,nextTokenEnd:t};let n;for(let i of r){if(i.startOffset>=t)return{nextTokenStart:t,nextTokenEnd:t,previousTokenStart:n?n.startOffset:void 0,previousTokenEnd:n?n.endOffset+1:void 0};if(i.endOffset>=t)return{nextTokenStart:i.startOffset,nextTokenEnd:i.endOffset+1,previousTokenStart:n?n.startOffset:void 0,previousTokenEnd:n?n.endOffset+1:void 0};n=i}return{nextTokenStart:t,nextTokenEnd:t,previousTokenStart:n?n.startOffset:void 0,previousTokenEnd:n?n.endOffset+1:void 0}}async completionForRule(e,t,r){if(Ir(t)){let n=h1(t.definition);await Promise.all(n.map(i=>this.completionFor(e,i,r)))}}completionFor(e,t,r){if(Co(t.feature))return this.completionForKeyword(e,t.feature,r);if(zc(t.feature)&&e.node)return this.completionForCrossReference(e,t,r)}completionForCrossReference(e,t,r){let n=Ki(t.feature,Qi),i=e.node;if(n&&i){if(t.type&&(t.new||i.$type!==t.type)&&(i={$type:t.type,$container:i,$containerProperty:t.property}),!e)return;let o={reference:{},container:i,property:n.feature};try{let s=this.scopeProvider.getScope(o),u=new Set;s.getAllElements().forEach(f=>{!u.has(f.name)&&this.filterCrossReference(f)&&(r(e,this.createReferenceCompletionItem(f)),u.add(f.name))})}catch(s){console.error(s)}}}createReferenceCompletionItem(e){return{nodeDescription:e,kind:this.nodeKindProvider.getCompletionItemKind(e),detail:e.type,sortText:"0"}}filterCrossReference(e){return!0}completionForKeyword(e,t,r){t.value.match(/[\w]/)&&r(e,{label:t.value,kind:rI.CompletionItemKind.Keyword,detail:"Keyword",sortText:"1"})}fillCompletionItem(e,t){var r,n;let i;if(typeof t.label=="string")i=t.label;else if("node"in t){let f=this.nameProvider.getName(t.node);if(!f)return;i=f}else if("nodeDescription"in t)i=t.nodeDescription.name;else return;let o;typeof((r=t.textEdit)===null||r===void 0?void 0:r.newText)=="string"?o=t.textEdit.newText:typeof t.insertText=="string"?o=t.insertText:o=i;let s=(n=t.textEdit)!==null&&n!==void 0?n:this.buildCompletionTextEdit(e,i,o);return s?{additionalTextEdits:t.additionalTextEdits,command:t.command,commitCharacters:t.commitCharacters,data:t.data,detail:t.detail,documentation:t.documentation,filterText:t.filterText,insertText:t.insertText,insertTextFormat:t.insertTextFormat,insertTextMode:t.insertTextMode,kind:t.kind,labelDetails:t.labelDetails,preselect:t.preselect,sortText:t.sortText,tags:t.tags,textEditText:t.textEditText,textEdit:s,label:i}:void 0}buildCompletionTextEdit(e,t,r){let i=e.textDocument.getText().substring(e.tokenOffset,e.offset);if(this.fuzzyMatcher.match(i,t)){let o=e.textDocument.positionAt(e.tokenOffset),s=e.position;return{newText:r,range:{start:o,end:s}}}else return}},M9e=class extends Qie{static{a(this,"LangiumGrammarCompletionProvider")}static{_(this,"LangiumGrammarCompletionProvider")}constructor(e){super(e),this.documents=()=>e.shared.workspace.LangiumDocuments}completionFor(e,t,r){let n=Ki(t.feature,Qi);if(n?.feature==="path")this.completeImportPath(e,r);else return super.completionFor(e,t,r)}completeImportPath(e,t){let n=e.textDocument.getText().substring(e.tokenOffset,e.offset),i=this.getAllFiles(e.document),o={start:e.position,end:e.position};if(n.length>0){let s=n.substring(1);i=i.filter(p=>p.startsWith(s));let u=e.textDocument.positionAt(e.tokenOffset+1),f=e.textDocument.positionAt(e.tokenEndOffset-1);o={start:u,end:f}}for(let s of i){let u=n.length>0?"":'"',f=`${u}${s}${u}`;t(e,{label:s,textEdit:{newText:f,range:o},kind:DI.File,sortText:"0"})}}getAllFiles(e){let t=this.documents().all,r=e.uri.toString(),n=bi.dirname(e.uri).toString(),i=[];for(let o of t)if(!bi.equals(o.uri,r)){let s=o.uri.toString(),u=s.substring(0,s.length-bi.extname(o.uri).length),f=bi.relative(n,u);f.startsWith(".")||(f=`./${f}`),i.push(f)}return i}},nI=En(Vn(),1),Zie=class{static{a(this,"DefaultFoldingRangeProvider")}static{_(this,"DefaultFoldingRangeProvider")}constructor(e){this.commentNames=e.parser.GrammarConfig.multilineCommentRules}getFoldingRanges(e){let t=[],r=_(n=>t.push(n),"acceptor");return this.collectFolding(e,r),t}collectFolding(e,t){var r;let n=(r=e.parseResult)===null||r===void 0?void 0:r.value;if(n){if(this.shouldProcessContent(n)){let i=oo(n).iterator(),o;do if(o=i.next(),!o.done){let s=o.value;this.shouldProcess(s)&&this.collectObjectFolding(e,s,t),this.shouldProcessContent(s)||i.prune()}while(!o.done)}this.collectCommentFolding(e,n,t)}}shouldProcess(e){return!0}shouldProcessContent(e){return!0}collectObjectFolding(e,t,r){let n=t.$cstNode;if(n){let i=this.toFoldingRange(e,n);i&&r(i)}}collectCommentFolding(e,t,r){let n=t.$cstNode;if(n){for(let i of Dre(n))if(this.commentNames.includes(i.tokenType.name)){let o=this.toFoldingRange(e,i,nI.FoldingRangeKind.Comment);o&&r(o)}}}toFoldingRange(e,t,r){let n=t.range,i=n.start,o=n.end;if(!(o.line-i.line<2))return this.includeLastFoldingLine(t,r)||(o=e.textDocument.positionAt(e.textDocument.offsetAt({line:o.line,character:0})-1)),nI.FoldingRange.create(i.line,o.line,i.character,o.character,r)}includeLastFoldingLine(e,t){if(t===nI.FoldingRangeKind.Comment)return!1;let r=e.text,n=r.charAt(r.length-1);return!(n==="}"||n===")"||n==="]")}},F9e=class extends Zie{static{a(this,"LangiumGrammarFoldingRangeProvider")}static{_(this,"LangiumGrammarFoldingRangeProvider")}shouldProcessContent(e){return!Ir(e)}},B9e=class{static{a(this,"AbstractFormatter")}static{_(this,"AbstractFormatter")}constructor(){this.collector=()=>{}}getNodeFormatter(e){return new q9e(e,this.collector)}formatDocument(e,t){let r=e.parseResult;return r.lexerErrors.length===0&&r.parserErrors.length===0?this.doDocumentFormat(e,t.options):[]}isFormatRangeErrorFree(e,t){let r=e.parseResult;return r.lexerErrors.length||r.parserErrors.length?Math.min(...r.lexerErrors.map(i=>{var o;return(o=i.line)!==null&&o!==void 0?o:Number.MAX_VALUE}),...r.parserErrors.map(i=>{var o;return(o=i.token.startLine)!==null&&o!==void 0?o:Number.MAX_VALUE}))>t.end.line:!0}formatDocumentRange(e,t){return this.isFormatRangeErrorFree(e,t.range)?this.doDocumentFormat(e,t.options,t.range):[]}formatDocumentOnType(e,t){let r={start:{character:0,line:t.position.line},end:t.position};return this.isFormatRangeErrorFree(e,r)?this.doDocumentFormat(e,t.options,r):[]}get formatOnTypeOptions(){}doDocumentFormat(e,t,r){let n=new Map,i=_((s,u,f)=>{var p,g;let y=this.nodeModeToKey(s,u),x=n.get(y),b=(p=f.options.priority)!==null&&p!==void 0?p:0,E=(g=x?.options.priority)!==null&&g!==void 0?g:0;(!x||E<=b)&&n.set(y,f)},"collector");this.collector=i,this.iterateAstFormatting(e,r);let o=this.iterateCstFormatting(e,n,t,r);return this.avoidOverlappingEdits(e.textDocument,o)}avoidOverlappingEdits(e,t){let r=[];for(let n of t){let i=r[r.length-1];if(i){let o=e.offsetAt(n.range.start),s=e.offsetAt(i.range.end);o<s&&r.pop()}r.push(n)}return r}iterateAstFormatting(e,t){let r=e.parseResult.value;this.format(r);let n=oo(r).iterator(),i;do if(i=n.next(),!i.done){let o=i.value;this.insideRange(o.$cstNode.range,t)?this.format(o):n.prune()}while(!i.done)}nodeModeToKey(e,t){return`${e.offset}:${e.end}:${t}`}insideRange(e,t){return!t||e.start.line<=t.start.line&&e.end.line>=t.end.line||e.start.line>=t.start.line&&e.end.line<=t.end.line||e.start.line<=t.end.line&&e.end.line>=t.end.line}isNecessary(e,t){return t.getText(e.range)!==e.newText}iterateCstFormatting(e,t,r,n){let i={indentation:0,options:r,document:e.textDocument},o=[],u=this.iterateCstTree(e,i).iterator(),f,p;do if(p=u.next(),!p.done){let g=p.value,y=Og(g),x=this.nodeModeToKey(g,"prepend"),b=t.get(x);if(t.delete(x),b){let O=this.createTextEdit(f,g,b,i);for(let N of O)N&&this.insideRange(N.range,n)&&this.isNecessary(N,e.textDocument)&&o.push(N)}let E=this.nodeModeToKey(g,"append"),A=t.get(E);if(t.delete(E),A){let O=Mre(g);if(O){let N=this.createTextEdit(g,O,A,i);for(let I of N)I&&this.insideRange(I.range,n)&&this.isNecessary(I,e.textDocument)&&o.push(I)}}if(!b&&g.hidden){let O=this.createHiddenTextEdits(f,g,void 0,i);for(let N of O)N&&this.insideRange(N.range,n)&&this.isNecessary(N,e.textDocument)&&o.push(N)}y&&(f=g)}while(!p.done);return o}createHiddenTextEdits(e,t,r,n){var i;let o=t.range.start.line;if(e&&e.range.end.line===o)return[];let s=[],u={start:{character:0,line:o},end:t.range.start},f=n.document.getText(u),p=this.findFittingMove(u,(i=r?.moves)!==null&&i!==void 0?i:[],n),g=this.getExistingIndentationCharacterCount(f,n),x=this.getIndentationCharacterCount(n,p)-g;if(x===0)return[];let b="";x>0&&(b=(n.options.insertSpaces?" ":"	").repeat(x));let E=t.text.split(`
`);E[0]=f+E[0];for(let A=0;A<E.length;A++){let O=o+A,N={character:0,line:O};if(x>0)s.push({newText:b,range:{start:N,end:N}});else{let I=E[A],$=0;for(;$<I.length;$++){let X=I.charAt($);if(X!==" "&&X!=="	")break}s.push({newText:"",range:{start:N,end:{line:O,character:Math.min($,Math.abs(x))}}})}}return s}getExistingIndentationCharacterCount(e,t){let r=" ".repeat(t.options.tabSize);return(t.options.insertSpaces?e.replaceAll("	",r):e.replaceAll(r,"	")).length}getIndentationCharacterCount(e,t){let r=e.indentation;return t&&t.tabs&&(r+=t.tabs),(e.options.insertSpaces?e.options.tabSize:1)*r}createTextEdit(e,t,r,n){var i;if(t.hidden)return this.createHiddenTextEdits(e,t,r,n);let o={start:(i=e?.range.end)!==null&&i!==void 0?i:{character:0,line:0},end:t.range.start},s=this.findFittingMove(o,r.moves,n);if(!s)return[];let u=s.characters,f=s.lines,p=s.tabs,g=n.indentation;n.indentation+=p??0;let y=[];return u!==void 0?y.push(this.createSpaceTextEdit(o,u,r.options)):f!==void 0?y.push(this.createLineTextEdit(o,f,n,r.options)):p!==void 0&&y.push(this.createTabTextEdit(o,!!e,n)),Og(t)&&(n.indentation=g),y}createSpaceTextEdit(e,t,r){if(e.start.line===e.end.line){let i=e.end.character-e.start.character;t=this.fitIntoOptions(t,i,r)}return{newText:" ".repeat(t),range:e}}createLineTextEdit(e,t,r,n){let i=e.end.line-e.start.line;t=this.fitIntoOptions(t,i,n);let s=(r.options.insertSpaces?" ".repeat(r.options.tabSize):"	").repeat(r.indentation);return{newText:`${`
`.repeat(t)}${s}`,range:e}}createTabTextEdit(e,t,r){let i=(r.options.insertSpaces?" ".repeat(r.options.tabSize):"	").repeat(r.indentation),o=t?1:0,s=Math.max(e.end.line-e.start.line,o);return{newText:`${`
`.repeat(s)}${i}`,range:e}}fitIntoOptions(e,t,r){return r.allowMore?e=Math.max(t,e):r.allowLess&&(e=Math.min(t,e)),e}findFittingMove(e,t,r){if(t.length===0)return;if(t.length===1)return t[0];let n=e.end.line-e.start.line;for(let i of t){if(i.lines!==void 0&&n<=i.lines)return i;if(i.lines===void 0&&n===0)return i}return t[t.length-1]}iterateCstTree(e,t){let n=e.parseResult.value.$cstNode;return n?new Mg(n,i=>this.iterateCst(i,t)):mw}iterateCst(e,t){if(!hp(e))return mw;let r=t.indentation;return new zu(()=>({index:0}),n=>n.index<e.content.length?{done:!1,value:e.content[n.index++]}:(t.indentation=r,xs))}},q9e=class{static{a(this,"DefaultNodeFormatter")}static{_(this,"DefaultNodeFormatter")}constructor(e,t){this.astNode=e,this.collector=t}node(e){return new Pu(e.$cstNode?[e.$cstNode]:[],this.collector)}nodes(...e){let t=[];for(let r of e)r.$cstNode&&t.push(r.$cstNode);return new Pu(t,this.collector)}property(e,t){let r=Gc(this.astNode.$cstNode,e,t);return new Pu(r?[r]:[],this.collector)}properties(...e){let t=[];for(let r of e){let n=X1(this.astNode.$cstNode,r);t.push(...n)}return new Pu(t,this.collector)}keyword(e,t){let r=qu(this.astNode.$cstNode,e,t);return new Pu(r?[r]:[],this.collector)}keywords(...e){let t=[];for(let r of e){let n=nP(this.astNode.$cstNode,r);t.push(...n)}return new Pu(t,this.collector)}cst(e){return new Pu([...e],this.collector)}interior(e,t){let r=e.nodes,n=t.nodes;if(r.length!==1||n.length!==1)return new Pu([],this.collector);let i=r[0],o=n[0];if(i.offset>o.offset){let s=i;i=o,o=s}return new Pu(Fre(i,o),this.collector)}},Pu=class Jie{static{a(this,"_FormattingRegion")}static{_(this,"FormattingRegion")}constructor(t,r){this.nodes=t,this.collector=r}prepend(t){for(let r of this.nodes)this.collector(r,"prepend",t);return this}append(t){for(let r of this.nodes)this.collector(r,"append",t);return this}surround(t){for(let r of this.nodes)this.collector(r,"prepend",t),this.collector(r,"append",t);return this}slice(t,r){return new Jie(this.nodes.slice(t,r),this.collector)}};(function(e){function t(...g){return{options:{},moves:g.flatMap(y=>y.moves).sort(p)}}a(t,"fit"),_(t,"fit"),e.fit=t;function r(g){return i(0,g)}a(r,"noSpace"),_(r,"noSpace"),e.noSpace=r;function n(g){return i(1,g)}a(n,"oneSpace"),_(n,"oneSpace"),e.oneSpace=n;function i(g,y){return{options:y??{},moves:[{characters:g}]}}a(i,"spaces"),_(i,"spaces"),e.spaces=i;function o(g){return s(1,g)}a(o,"newLine"),_(o,"newLine"),e.newLine=o;function s(g,y){return{options:y??{},moves:[{lines:g}]}}a(s,"newLines"),_(s,"newLines"),e.newLines=s;function u(g){return{options:g??{},moves:[{tabs:1,lines:1}]}}a(u,"indent"),_(u,"indent"),e.indent=u;function f(g){return{options:g??{},moves:[{tabs:0}]}}a(f,"noIndent"),_(f,"noIndent"),e.noIndent=f;function p(g,y){var x,b,E,A,O,N;let I=(x=g.lines)!==null&&x!==void 0?x:0,$=(b=y.lines)!==null&&b!==void 0?b:0,X=(E=g.tabs)!==null&&E!==void 0?E:0,q=(A=y.tabs)!==null&&A!==void 0?A:0,M=(O=g.characters)!==null&&O!==void 0?O:0,B=(N=y.characters)!==null&&N!==void 0?N:0;return I<$?-1:I>$?1:X<q?-1:X>q?1:M<B?-1:M>B?1:0}a(p,"compareMoves"),_(p,"compareMoves")})(gn=gn||(gn={}));z9e=class extends B9e{static{a(this,"LangiumGrammarFormatter")}static{_(this,"LangiumGrammarFormatter")}format(e){if(zc(e))this.getNodeFormatter(e).properties("type","terminal").surround(gn.noSpace());else if(Ir(e)){let t=this.getNodeFormatter(e);t.keywords("entry","fragment","returns").append(gn.oneSpace()),(e.inferredType||e.returnType||e.dataType)&&e.parameters.length===0?t.property("name").append(gn.oneSpace()):t.property("name").append(gn.noSpace()),t.properties("parameters").append(gn.noSpace()),t.keywords(",").append(gn.oneSpace()),t.keywords("<").append(gn.noSpace());let r=t.keyword(";"),n=t.keyword(":");n.prepend(gn.noSpace()),t.interior(n,r).prepend(gn.indent()),r.prepend(gn.fit(gn.noSpace(),gn.newLine())),t.node(e).prepend(gn.noIndent())}else if(zi(e)){let t=this.getNodeFormatter(e);e.type&&(t.property("name").append(gn.oneSpace()),t.keyword("returns").append(gn.oneSpace())),t.keywords("hidden","terminal","fragment").append(gn.oneSpace()),t.keyword(":").prepend(gn.noSpace()),t.keyword(";").prepend(gn.fit(gn.noSpace(),gn.newLine())),t.node(e).prepend(gn.noIndent())}else if(fa(e)){let t=this.getNodeFormatter(e);t.keyword("{").append(gn.noSpace()),t.keywords(".","+=","=").surround(gn.noSpace()),t.keyword("}").prepend(gn.noSpace())}else if(rE(e))this.getNodeFormatter(e).keywords("infer","infers").append(gn.oneSpace());else if(Qi(e))this.getNodeFormatter(e).keywords("=","+=","?=").surround(gn.noSpace());else if(ha(e)){let t=this.getNodeFormatter(e);t.keyword("<").surround(gn.noSpace()),t.keyword(",").append(gn.oneSpace()),t.properties("arguments").append(gn.noSpace())}tE(e)&&this.getNodeFormatter(e).property("cardinality").prepend(gn.noSpace())}},yh=En(Vn(),1),an=En(Vn(),1),eP={[an.SemanticTokenTypes.class]:0,[an.SemanticTokenTypes.comment]:1,[an.SemanticTokenTypes.enum]:2,[an.SemanticTokenTypes.enumMember]:3,[an.SemanticTokenTypes.event]:4,[an.SemanticTokenTypes.function]:5,[an.SemanticTokenTypes.interface]:6,[an.SemanticTokenTypes.keyword]:7,[an.SemanticTokenTypes.macro]:8,[an.SemanticTokenTypes.method]:9,[an.SemanticTokenTypes.modifier]:10,[an.SemanticTokenTypes.namespace]:11,[an.SemanticTokenTypes.number]:12,[an.SemanticTokenTypes.operator]:13,[an.SemanticTokenTypes.parameter]:14,[an.SemanticTokenTypes.property]:15,[an.SemanticTokenTypes.regexp]:16,[an.SemanticTokenTypes.string]:17,[an.SemanticTokenTypes.struct]:18,[an.SemanticTokenTypes.type]:19,[an.SemanticTokenTypes.typeParameter]:20,[an.SemanticTokenTypes.variable]:21},eae={[an.SemanticTokenModifiers.abstract]:1,[an.SemanticTokenModifiers.async]:2,[an.SemanticTokenModifiers.declaration]:4,[an.SemanticTokenModifiers.defaultLibrary]:8,[an.SemanticTokenModifiers.definition]:16,[an.SemanticTokenModifiers.deprecated]:32,[an.SemanticTokenModifiers.documentation]:64,[an.SemanticTokenModifiers.modification]:128,[an.SemanticTokenModifiers.readonly]:256,[an.SemanticTokenModifiers.static]:512},U9e={legend:{tokenTypes:Object.keys(eP),tokenModifiers:Object.keys(eae)},full:{delta:!0},range:!0},$9e=class extends an.SemanticTokensBuilder{static{a(this,"SemanticTokensBuilder")}static{_(this,"SemanticTokensBuilder")}constructor(){super(...arguments),this._tokens=[]}push(e,t,r,n,i){this._tokens.push({line:e,char:t,length:r,tokenType:n,tokenModifiers:i})}build(){return this.applyTokens(),super.build()}buildEdits(){return this.applyTokens(),super.buildEdits()}applyTokens(){for(let e of this._tokens.sort(this.compareTokens))super.push(e.line,e.char,e.length,e.tokenType,e.tokenModifiers);this._tokens=[]}compareTokens(e,t){return e.line===t.line?e.char-t.char:e.line-t.line}},G9e=class{static{a(this,"AbstractSemanticTokenProvider")}static{_(this,"AbstractSemanticTokenProvider")}constructor(e){this.tokensBuilders=new Map,e.shared.workspace.TextDocuments.onDidClose(t=>{this.tokensBuilders.delete(t.document.uri)}),e.shared.lsp.LanguageServer.onInitialize(t=>{var r;this.initialize((r=t.capabilities.textDocument)===null||r===void 0?void 0:r.semanticTokens)})}initialize(e){this.clientCapabilities=e}async semanticHighlight(e,t,r=an.CancellationToken.None){return this.currentRange=void 0,this.currentDocument=e,this.currentTokensBuilder=this.getDocumentTokensBuilder(e),await this.computeHighlighting(e,this.createAcceptor(),r),this.currentTokensBuilder.build()}async semanticHighlightRange(e,t,r=an.CancellationToken.None){return this.currentRange=t.range,this.currentDocument=e,this.currentTokensBuilder=this.getDocumentTokensBuilder(e),await this.computeHighlighting(e,this.createAcceptor(),r),this.currentTokensBuilder.build()}async semanticHighlightDelta(e,t,r=an.CancellationToken.None){return this.currentRange=void 0,this.currentDocument=e,this.currentTokensBuilder=this.getDocumentTokensBuilder(e),this.currentTokensBuilder.previousResult(t.previousResultId),await this.computeHighlighting(e,this.createAcceptor(),r),this.currentTokensBuilder.buildEdits()}createAcceptor(){return _(t=>{"line"in t?this.highlightToken({range:{start:{line:t.line,character:t.char},end:{line:t.line,character:t.char+t.length}},type:t.type,modifier:t.modifier}):"range"in t?this.highlightToken(t):"keyword"in t?this.highlightKeyword(t):"property"in t?this.highlightProperty(t):this.highlightNode({node:t.cst,type:t.type,modifier:t.modifier})},"acceptor")}getDocumentTokensBuilder(e){let t=this.tokensBuilders.get(e.uri.toString());if(t)return t;let r=new $9e;return this.tokensBuilders.set(e.uri.toString(),r),r}async computeHighlighting(e,t,r){let n=e.parseResult.value,i=W1(n,{range:this.currentRange}).iterator(),o;do if(o=i.next(),!o.done){await Eo(r);let s=o.value;this.highlightElement(s,t)==="prune"&&i.prune()}while(!o.done)}highlightToken(e){var t;let{range:r,type:n}=e,i=e.modifier;if(this.currentRange&&!yN(r,this.currentRange)||!this.currentDocument||!this.currentTokensBuilder)return;let o=eP[n],s=0;if(i!==void 0){typeof i=="string"&&(i=[i]);for(let p of i){let g=eae[p];s|=g}}let u=r.start.line,f=r.end.line;if(u===f){let p=r.start.character,g=r.end.character-p;this.currentTokensBuilder.push(u,p,g,o,s)}else if(!((t=this.clientCapabilities)===null||t===void 0)&&t.multilineTokenSupport){let p=r.start.character,g=this.currentDocument.textDocument.offsetAt(r.start),y=this.currentDocument.textDocument.offsetAt(r.end);this.currentTokensBuilder.push(u,p,y-g,o,s)}else{let p=r.start,g=this.currentDocument.textDocument.offsetAt({line:u+1,character:0});this.currentTokensBuilder.push(p.line,p.character,g-p.character-1,o,s);for(let y=u+1;y<f;y++){let x=g;g=this.currentDocument.textDocument.offsetAt({line:y+1,character:0}),this.currentTokensBuilder.push(y,0,g-x-1,o,s)}this.currentTokensBuilder.push(f,0,r.end.character,o,s)}}highlightProperty(e){let t=[];if(typeof e.index=="number"){let i=Gc(e.node.$cstNode,e.property,e.index);i&&t.push(i)}else t.push(...X1(e.node.$cstNode,e.property));let{type:r,modifier:n}=e;for(let i of t)this.highlightNode({node:i,type:r,modifier:n})}highlightKeyword(e){let{node:t,keyword:r,type:n,index:i,modifier:o}=e,s=[];if(typeof i=="number"){let u=qu(t.$cstNode,r,i);u&&s.push(u)}else s.push(...nP(t.$cstNode,r));for(let u of s)this.highlightNode({node:u,type:n,modifier:o})}highlightNode(e){let{node:t,type:r,modifier:n}=e,i=t.range;this.highlightToken({range:i,type:r,modifier:n})}};(function(e){function t(n,i){let o=new Map;Object.entries(eP).forEach(([f,p])=>o.set(p,f));let s=0,u=0;return r(n.data,5).map(f=>{s+=f[0],f[0]!==0&&(u=0),u+=f[1];let p=f[2];return{offset:i.textDocument.offsetAt({line:s,character:u}),tokenType:o.get(f[3]),tokenModifiers:f[4],text:i.textDocument.getText({start:{line:s,character:u},end:{line:s,character:u+p}})}})}a(t,"decode"),_(t,"decode"),e.decode=t;function r(n,i){let o=[];for(let s=0;s<n.length;s+=i){let u=n.slice(s,s+i);o.push(u)}return o}a(r,"sliceIntoChunks"),_(r,"sliceIntoChunks")})(iI=iI||(iI={}));V9e=class extends G9e{static{a(this,"LangiumGrammarSemanticTokenProvider")}static{_(this,"LangiumGrammarSemanticTokenProvider")}highlightElement(e,t){var r;Qi(e)?t({node:e,property:"feature",type:yh.SemanticTokenTypes.property}):fa(e)?e.feature&&t({node:e,property:"feature",type:yh.SemanticTokenTypes.property}):iE(e)?t({node:e,property:"name",type:yh.SemanticTokenTypes.type}):Vc(e)?(e.primitiveType||e.typeRef)&&t({node:e,property:e.primitiveType?"primitiveType":"typeRef",type:yh.SemanticTokenTypes.type}):Kre(e)?t({node:e,property:"name",type:yh.SemanticTokenTypes.parameter}):nE(e)?t({node:e,property:"parameter",type:yh.SemanticTokenTypes.parameter}):ha(e)?!((r=e.rule.ref)===null||r===void 0)&&r.fragment&&t({node:e,property:"rule",type:yh.SemanticTokenTypes.type}):TN(e)&&t({node:e,property:"name",type:yh.SemanticTokenTypes.property})}},W9e=class extends Kne{static{a(this,"LangiumGrammarNameProvider")}static{_(this,"LangiumGrammarNameProvider")}getName(e){return Qi(e)?e.feature:super.getName(e)}getNameNode(e){return Qi(e)?Gc(e.$cstNode,"feature"):super.getNameNode(e)}},tae=class{static{a(this,"DefaultReferences")}static{_(this,"DefaultReferences")}constructor(e){this.nameProvider=e.references.NameProvider,this.index=e.shared.workspace.IndexManager,this.nodeLocator=e.workspace.AstNodeLocator}findDeclaration(e){if(e){let t=gE(e),r=e.astNode;if(t&&r){let n=r[t.feature];if(ap(n))return n.ref;if(Array.isArray(n)){for(let i of n)if(ap(i)&&i.$refNode&&i.$refNode.offset<=e.offset&&i.$refNode.end>=e.end)return i.ref}}if(r){let n=this.nameProvider.getNameNode(r);if(n&&(n===e||Lre(e,n)))return r}}}findDeclarationNode(e){let t=this.findDeclaration(e);if(t?.$cstNode){let r=this.nameProvider.getNameNode(t);return r??t.$cstNode}}findReferences(e,t){let r=[];if(t.includeDeclaration){let i=this.getReferenceToSelf(e);i&&r.push(i)}let n=this.index.findAllReferences(e,this.nodeLocator.getAstNodePath(e));return t.documentUri&&(n=n.filter(i=>bi.equals(i.sourceUri,t.documentUri))),r.push(...n),Xn(r)}getReferenceToSelf(e){let t=this.nameProvider.getNameNode(e);if(t){let r=Gn(e),n=this.nodeLocator.getAstNodePath(e);return{sourceUri:r.uri,sourcePath:n,targetUri:r.uri,targetPath:n,segment:rl(t),local:!0}}}},H9e=class extends tae{static{a(this,"LangiumGrammarReferences")}static{_(this,"LangiumGrammarReferences")}constructor(e){super(e),this.documents=e.shared.workspace.LangiumDocuments}findDeclaration(e){let t=e.astNode,r=gE(e);if(r&&r.feature==="feature"){if(Qi(t))return this.findAssignmentDeclaration(t);if(fa(t))return this.findActionDeclaration(t)}return super.findDeclaration(e)}findReferences(e,t){var r;return TN(e)?this.findReferencesToTypeAttribute(e,(r=t.includeDeclaration)!==null&&r!==void 0?r:!1):super.findReferences(e,t)}findReferencesToTypeAttribute(e,t){let r=[],n=Ki(e,Kl);if(n){if(t){let s=this.getReferenceToSelf(e);s&&r.push(s)}let i=BN(n,this,this.documents,this.nodeLocator),o=[];i.forEach(s=>{let u=this.findRulesWithReturnType(s);o.push(...u)}),o.forEach(s=>{let u=this.createReferencesToAttribute(s,e);r.push(...u)})}return Xn(r)}createReferencesToAttribute(e,t){let r=[];if(Ir(e)){let n=D1(e.definition).find(i=>i.feature===t.name);if(n?.$cstNode){let i=this.nameProvider.getNameNode(n);i&&r.push({sourceUri:Gn(n).uri,sourcePath:this.nodeLocator.getAstNodePath(n),targetUri:Gn(t).uri,targetPath:this.nodeLocator.getAstNodePath(t),segment:rl(i),local:bi.equals(Gn(n).uri,Gn(t).uri)})}}else{if(e.feature===t.name){let i=Gc(e.$cstNode,"feature");i&&r.push({sourceUri:Gn(e).uri,sourcePath:this.nodeLocator.getAstNodePath(e),targetUri:Gn(t).uri,targetPath:this.nodeLocator.getAstNodePath(t),segment:rl(i),local:bi.equals(Gn(e).uri,Gn(t).uri)})}let n=Ki(e,Ir);r.push(...this.createReferencesToAttribute(n,t))}return r}findAssignmentDeclaration(e){var t;let r=Ki(e,Ir),n=VN(e);if(n){let i=this.findActionDeclaration(n,e.feature);if(i)return i}if(!((t=r?.returnType)===null||t===void 0)&&t.ref&&(Kl(r.returnType.ref)||Zo(r.returnType.ref))){let i=_1(r.returnType.ref);for(let o of i){let s=o.attributes.find(u=>u.name===e.feature);if(s)return s}}return e}findActionDeclaration(e,t){var r;if(!((r=e.type)===null||r===void 0)&&r.ref){let n=t??e.feature,i=_1(e.type.ref);for(let o of i){let s=o.attributes.find(u=>u.name===n);if(s)return s}}}findRulesWithReturnType(e){let t=[];return this.index.findAllReferences(e,this.nodeLocator.getAstNodePath(e)).forEach(n=>{let i=this.documents.getOrCreateDocument(n.sourceUri),o=this.nodeLocator.getAstNode(i.parseResult.value,n.sourcePath);(Ir(o)||fa(o))&&t.push(o)}),t}},aI=En(Vn(),1),j9e=En(Vn(),1),Y9e=class{static{a(this,"AbstractCallHierarchyProvider")}static{_(this,"AbstractCallHierarchyProvider")}constructor(e){this.grammarConfig=e.parser.GrammarConfig,this.nameProvider=e.references.NameProvider,this.documents=e.shared.workspace.LangiumDocuments,this.references=e.references.References}prepareCallHierarchy(e,t){let r=e.parseResult.value,n=jl(r.$cstNode,e.textDocument.offsetAt(t.position),this.grammarConfig.nameRegexp);if(!n)return;let i=this.references.findDeclarationNode(n);if(i)return this.getCallHierarchyItems(i.astNode,e)}getCallHierarchyItems(e,t){let r=this.nameProvider.getNameNode(e),n=this.nameProvider.getName(e);if(!(!r||!e.$cstNode||n===void 0))return[Object.assign({kind:j9e.SymbolKind.Method,name:n,range:e.$cstNode.range,selectionRange:r.range,uri:t.uri.toString()},this.getCallHierarchyItem(e))]}getCallHierarchyItem(e){}incomingCalls(e){let t=this.documents.getOrCreateDocument(Fg.parse(e.item.uri)),r=t.parseResult.value,n=jl(r.$cstNode,t.textDocument.offsetAt(e.item.range.start),this.grammarConfig.nameRegexp);if(!n)return;let i=this.references.findReferences(n.astNode,{includeDeclaration:!1});return this.getIncomingCalls(n.astNode,i)}outgoingCalls(e){let t=this.documents.getOrCreateDocument(Fg.parse(e.item.uri)),r=t.parseResult.value,n=jl(r.$cstNode,t.textDocument.offsetAt(e.item.range.start),this.grammarConfig.nameRegexp);if(n)return this.getOutgoingCalls(n.astNode)}},X9e=En(Vn(),1),rae=class{static{a(this,"DefaultDefinitionProvider")}static{_(this,"DefaultDefinitionProvider")}constructor(e){this.nameProvider=e.references.NameProvider,this.references=e.references.References,this.grammarConfig=e.parser.GrammarConfig}getDefinition(e,t){let r=e.parseResult.value;if(r.$cstNode){let n=r.$cstNode,i=jl(n,e.textDocument.offsetAt(t.position),this.grammarConfig.nameRegexp);if(i)return this.collectLocationLinks(i,t)}}collectLocationLinks(e,t){var r;let n=this.findLink(e);if(n)return[X9e.LocationLink.create(n.targetDocument.textDocument.uri,((r=n.target.astNode.$cstNode)!==null&&r!==void 0?r:n.target).range,n.target.range,n.source.range)]}findLink(e){let t=this.references.findDeclarationNode(e);if(t?.astNode){let r=Gn(t.astNode);if(t&&r)return{source:e,target:t,targetDocument:r}}}},K9e=En(Vn(),1),Q9e=class{static{a(this,"DefaultDocumentHighlightProvider")}static{_(this,"DefaultDocumentHighlightProvider")}constructor(e){this.references=e.references.References,this.nameProvider=e.references.NameProvider,this.grammarConfig=e.parser.GrammarConfig}getDocumentHighlight(e,t){let r=e.parseResult.value.$cstNode;if(!r)return;let n=jl(r,e.textDocument.offsetAt(t.position),this.grammarConfig.nameRegexp);if(!n)return;let i=this.references.findDeclaration(n);if(i){let o=bi.equals(Gn(i).uri,e.uri),s={documentUri:e.uri,includeDeclaration:o};return this.references.findReferences(i,s).map(f=>this.createDocumentHighlight(f)).toArray()}}createDocumentHighlight(e){return K9e.DocumentHighlight.create(e.segment.range)}},Z9e=class{static{a(this,"DefaultDocumentSymbolProvider")}static{_(this,"DefaultDocumentSymbolProvider")}constructor(e){this.nameProvider=e.references.NameProvider,this.nodeKindProvider=e.shared.lsp.NodeKindProvider}getSymbols(e){return this.getSymbol(e,e.parseResult.value)}getSymbol(e,t){let r=t.$cstNode,n=this.nameProvider.getNameNode(t);if(n&&r){let i=this.nameProvider.getName(t);return[{kind:this.nodeKindProvider.getSymbolKind(t),name:i??n.text,range:r.range,selectionRange:n.range,children:this.getChildSymbols(e,t)}]}else return this.getChildSymbols(e,t)||[]}getChildSymbols(e,t){let r=[];for(let n of Vg(t)){let i=this.getSymbol(e,n);r.push(...i)}if(r.length>0)return r}},H$t=En(Vn(),1),J9e=class{static{a(this,"DefaultFuzzyMatcher")}static{_(this,"DefaultFuzzyMatcher")}match(e,t){if(e.length===0)return!0;t=t.toLowerCase();let r=!1,n,i=0,o=t.length;for(let s=0;s<o;s++){let u=t.charCodeAt(s),f=e.charCodeAt(i);if((u===f||this.toUpperCharCode(u)===this.toUpperCharCode(f))&&(r||(r=n===void 0||this.isWordTransition(n,u)),r&&i++,i===e.length))return!0;n=u}return!1}isWordTransition(e,t){return ote<=e&&e<=ste&&eqe<=t&&t<=tqe||e===lte&&t!==lte}toUpperCharCode(e){return ote<=e&&e<=ste?e-32:e}},ote="a".charCodeAt(0),ste="z".charCodeAt(0),eqe="A".charCodeAt(0),tqe="Z".charCodeAt(0),lte="_".charCodeAt(0),rqe=class{static{a(this,"AstNodeHoverProvider")}static{_(this,"AstNodeHoverProvider")}constructor(e){this.references=e.references.References,this.grammarConfig=e.parser.GrammarConfig}getHoverContent(e,t){var r,n;let i=(n=(r=e.parseResult)===null||r===void 0?void 0:r.value)===null||n===void 0?void 0:n.$cstNode;if(i){let o=e.textDocument.offsetAt(t.position),s=jl(i,o,this.grammarConfig.nameRegexp);if(s&&s.offset+s.length>o){let u=this.references.findDeclaration(s);if(u)return this.getAstNodeHoverContent(u)}}}},nqe=class extends rqe{static{a(this,"MultilineCommentHoverProvider")}static{_(this,"MultilineCommentHoverProvider")}constructor(e){super(e),this.documentationProvider=e.documentation.DocumentationProvider}getAstNodeHoverContent(e){let t=this.documentationProvider.getDocumentation(e);if(t)return{contents:{kind:"markdown",value:t}}}},j$t=En(Vn(),1),Y$t=En(Vn(),1),oI=En(Vn(),1);(function(e){e[e.Changed=0]="Changed",e[e.Parsed=1]="Parsed",e[e.IndexedContent=2]="IndexedContent",e[e.ComputedScopes=3]="ComputedScopes",e[e.Linked=4]="Linked",e[e.IndexedReferences=5]="IndexedReferences",e[e.Validated=6]="Validated"})(qi=qi||(qi={}));iqe=class{static{a(this,"DefaultLangiumDocumentFactory")}static{_(this,"DefaultLangiumDocumentFactory")}constructor(e){this.serviceRegistry=e.ServiceRegistry,this.textDocuments=e.workspace.TextDocuments,this.fileSystemProvider=e.workspace.FileSystemProvider}fromTextDocument(e,t){return this.create(t??Fg.parse(e.uri),e)}fromString(e,t){return this.create(t,e)}fromModel(e,t){return this.create(t,{$model:e})}create(e,t){if(t??(t=this.textDocuments.get(e.toString())),t??(t=this.getContentFromFileSystem(e)),typeof t=="string"){let r=this.parse(e,t);return this.createLangiumDocument(r,e,void 0,t)}else if("$model"in t){let r={value:t.$model,parserErrors:[],lexerErrors:[]};return this.createLangiumDocument(r,e)}else{let r=this.parse(e,t.getText());return this.createLangiumDocument(r,e,t)}}createLangiumDocument(e,t,r,n){let i;if(r)i={parseResult:e,uri:t,state:qi.Parsed,references:[],textDocument:r};else{let o=this.createTextDocumentGetter(t,n);i={parseResult:e,uri:t,state:qi.Parsed,references:[],get textDocument(){return o()}}}return e.value.$document=i,i}update(e){let t=this.textDocuments.get(e.uri.toString()),r=t?t.getText():this.getContentFromFileSystem(e.uri);if(t)Object.defineProperty(e,"textDocument",{value:t});else{let n=this.createTextDocumentGetter(e.uri,r);Object.defineProperty(e,"textDocument",{get:n})}return e.parseResult=this.parse(e.uri,r),e.parseResult.value.$document=e,e}getContentFromFileSystem(e){return this.fileSystemProvider.readFileSync(e)}parse(e,t){return this.serviceRegistry.getServices(e).parser.LangiumParser.parse(t)}createTextDocumentGetter(e,t){let r=this.serviceRegistry,n;return()=>n??(n=dw.create(e.toString(),r.getServices(e).LanguageMetaData.languageId,0,t??""))}},aqe=class{static{a(this,"DefaultLangiumDocuments")}static{_(this,"DefaultLangiumDocuments")}constructor(e){this.documentMap=new Map,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory}get all(){return Xn(this.documentMap.values())}addDocument(e){let t=e.uri.toString();if(this.documentMap.has(t))throw new Error(`A document with the URI '${t}' is already present.`);this.documentMap.set(t,e)}getOrCreateDocument(e){let t=e.toString(),r=this.documentMap.get(t);return r||(r=this.langiumDocumentFactory.create(e),this.documentMap.set(t,r),r)}hasDocument(e){return this.documentMap.has(e.toString())}invalidateDocument(e){let t=e.toString(),r=this.documentMap.get(t);return r&&(r.state=qi.Changed,r.precomputedScopes=void 0,r.references=[],r.diagnostics=void 0),r}deleteDocument(e){let t=e.toString(),r=this.documentMap.get(t);return r&&(r.state=qi.Changed,this.documentMap.delete(t)),r}},X$t=En(Vn(),1);a(nae,"mergeSignatureHelpOptions");_(nae,"mergeSignatureHelpOptions");oqe=class{static{a(this,"DefaultLanguageServer")}static{_(this,"DefaultLanguageServer")}constructor(e){this.onInitializeEmitter=new oI.Emitter,this.onInitializedEmitter=new oI.Emitter,this.services=e}get onInitialize(){return this.onInitializeEmitter.event}get onInitialized(){return this.onInitializedEmitter.event}async initialize(e){return this.eagerLoadServices(),this.onInitializeEmitter.fire(e),this.onInitializeEmitter.dispose(),this.buildInitializeResult(e)}eagerLoadServices(){yw(this.services),this.services.ServiceRegistry.all.forEach(e=>yw(e))}hasService(e){return this.services.ServiceRegistry.all.some(t=>e(t)!==void 0)}buildInitializeResult(e){var t;let r=this.services.ServiceRegistry.all,n=this.hasService(D=>D.lsp.Formatter),i=r.map(D=>{var K;return(K=D.lsp.Formatter)===null||K===void 0?void 0:K.formatOnTypeOptions}).find(D=>!!D),o=this.hasService(D=>D.lsp.CodeActionProvider),s=this.hasService(D=>D.lsp.SemanticTokenProvider),u=(t=this.services.lsp.ExecuteCommandHandler)===null||t===void 0?void 0:t.commands,f=this.hasService(D=>D.lsp.DocumentLinkProvider),p=nae(r.map(D=>{var K;return(K=D.lsp.SignatureHelp)===null||K===void 0?void 0:K.signatureHelpOptions})),g=this.hasService(D=>D.lsp.TypeProvider),y=this.hasService(D=>D.lsp.ImplementationProvider),x=this.hasService(D=>D.lsp.CompletionProvider),b=Kie(r.map(D=>{var K;return(K=D.lsp.CompletionProvider)===null||K===void 0?void 0:K.completionOptions})),E=this.hasService(D=>D.lsp.ReferencesProvider),A=this.hasService(D=>D.lsp.DocumentSymbolProvider),O=this.hasService(D=>D.lsp.DefinitionProvider),N=this.hasService(D=>D.lsp.DocumentHighlightProvider),I=this.hasService(D=>D.lsp.FoldingRangeProvider),$=this.hasService(D=>D.lsp.HoverProvider),X=this.hasService(D=>D.lsp.RenameProvider),q=this.hasService(D=>D.lsp.CallHierarchyProvider),M=this.hasService(D=>D.lsp.CodeLensProvider),B=this.hasService(D=>D.lsp.DeclarationProvider),G=this.hasService(D=>D.lsp.InlayHintProvider),U=this.services.lsp.WorkspaceSymbolProvider;return{capabilities:{workspace:{workspaceFolders:{supported:!0}},executeCommandProvider:u&&{commands:u},textDocumentSync:oI.TextDocumentSyncKind.Incremental,completionProvider:x?b:void 0,referencesProvider:E,documentSymbolProvider:A,definitionProvider:O,typeDefinitionProvider:g,documentHighlightProvider:N,codeActionProvider:o,documentFormattingProvider:n,documentRangeFormattingProvider:n,documentOnTypeFormattingProvider:i,foldingRangeProvider:I,hoverProvider:$,renameProvider:X?{prepareProvider:!0}:void 0,semanticTokensProvider:s?U9e:void 0,signatureHelpProvider:p,implementationProvider:y,callHierarchyProvider:q?{}:void 0,documentLinkProvider:f?{resolveProvider:!1}:void 0,codeLensProvider:M?{resolveProvider:!1}:void 0,declarationProvider:B,inlayHintProvider:G?{resolveProvider:!1}:void 0,workspaceSymbolProvider:U?{resolveProvider:!!U.resolveSymbol}:void 0}}}async initialized(e){this.onInitializedEmitter.fire(e),this.onInitializedEmitter.dispose()}},cte=En(Vn(),1),sqe=class{static{a(this,"DefaultNodeKindProvider")}static{_(this,"DefaultNodeKindProvider")}getSymbolKind(){return cte.SymbolKind.Field}getCompletionItemKind(){return cte.CompletionItemKind.Reference}},lqe=En(Vn(),1),cqe=class{static{a(this,"DefaultReferencesProvider")}static{_(this,"DefaultReferencesProvider")}constructor(e){this.nameProvider=e.references.NameProvider,this.references=e.references.References,this.grammarConfig=e.parser.GrammarConfig}findReferences(e,t){let r=e.parseResult.value.$cstNode;if(!r)return[];let n=jl(r,e.textDocument.offsetAt(t.position),this.grammarConfig.nameRegexp);return n?this.getReferences(n,t,e):[]}getReferences(e,t,r){let n=[],i=this.references.findDeclaration(e);if(i){let o={includeDeclaration:t.context.includeDeclaration};this.references.findReferences(i,o).forEach(s=>{n.push(lqe.Location.create(s.sourceUri.toString(),s.segment.range))})}return n}},uqe=En(Vn(),1),fqe=class{static{a(this,"DefaultRenameProvider")}static{_(this,"DefaultRenameProvider")}constructor(e){this.references=e.references.References,this.nameProvider=e.references.NameProvider,this.grammarConfig=e.parser.GrammarConfig}async rename(e,t){let r={},n=e.parseResult.value.$cstNode;if(!n)return;let i=e.textDocument.offsetAt(t.position),o=jl(n,i,this.grammarConfig.nameRegexp);if(!o)return;let s=this.references.findDeclaration(o);if(!s)return;let u={onlyLocal:!1,includeDeclaration:!0};return this.references.findReferences(s,u).forEach(p=>{let g=uqe.TextEdit.replace(p.segment.range,t.newName),y=p.sourceUri.toString();r[y]?r[y].push(g):r[y]=[g]}),{changes:r}}prepareRename(e,t){return this.renameNodeRange(e,t.position)}renameNodeRange(e,t){let r=e.parseResult.value.$cstNode,n=e.textDocument.offsetAt(t);if(r&&n){let i=jl(r,n,this.grammarConfig.nameRegexp);if(!i)return;if(this.references.findDeclaration(i)||this.isNameNode(i))return i.range}}isNameNode(e){return e?.astNode&&lE(e.astNode)&&e===this.nameProvider.getNameNode(e.astNode)}},K$t=En(Vn(),1),hqe=En(Vn(),1),dqe=class{static{a(this,"DefaultWorkspaceSymbolProvider")}static{_(this,"DefaultWorkspaceSymbolProvider")}constructor(e){this.indexManager=e.workspace.IndexManager,this.nodeKindProvider=e.lsp.NodeKindProvider,this.fuzzyMatcher=e.lsp.FuzzyMatcher}async getSymbols(e,t=hqe.CancellationToken.None){let r=[],n=e.query.toLowerCase();for(let i of this.indexManager.allElements())if(await Eo(t),this.fuzzyMatcher.match(n,i.name)){let o=this.getWorkspaceSymbol(i);o&&r.push(o)}return r}getWorkspaceSymbol(e){let t=e.nameSegment;if(t)return{kind:this.nodeKindProvider.getSymbolKind(e),name:e.name,location:{range:t.range,uri:e.documentUri.toString()}}}},pqe=class extends rae{static{a(this,"LangiumGrammarDefinitionProvider")}static{_(this,"LangiumGrammarDefinitionProvider")}constructor(e){super(e),this.documents=e.shared.workspace.LangiumDocuments}collectLocationLinks(e,t){var r,n,i,o,s,u;let f="path";if(bN(e.astNode)&&((r=gE(e))===null||r===void 0?void 0:r.feature)===f){let p=sp(this.documents,e.astNode);if(p?.$document){let g=(n=this.findTargetObject(p))!==null&&n!==void 0?n:p,y=(o=(i=this.nameProvider.getNameNode(g))===null||i===void 0?void 0:i.range)!==null&&o!==void 0?o:aI.Range.create(0,0,0,0),x=(u=(s=g.$cstNode)===null||s===void 0?void 0:s.range)!==null&&u!==void 0?u:aI.Range.create(0,0,0,0);return[aI.LocationLink.create(p.$document.uri.toString(),x,y,e.range)]}return}return super.collectLocationLinks(e,t)}findTargetObject(e){return e.isDeclared?e:Vg(e).head()}},ute=En(Vn(),1),mqe=class extends Y9e{static{a(this,"LangiumGrammarCallHierarchyProvider")}static{_(this,"LangiumGrammarCallHierarchyProvider")}getIncomingCalls(e,t){if(!Ir(e))return;let r=new Map;if(t.forEach(n=>{let o=this.documents.getOrCreateDocument(n.sourceUri).parseResult.value;if(!o.$cstNode)return;let s=Wl(o.$cstNode,n.segment.offset);if(!s)return;let u=Ki(s.astNode,Ir);if(!u||!u.$cstNode)return;let f=this.nameProvider.getNameNode(u);if(!f)return;let p=n.sourceUri.toString(),g=p+"@"+f.text;r.has(g)?r.set(g,{parserRule:u.$cstNode,nameNode:f,targetNodes:[...r.get(g).targetNodes,s],docUri:p}):r.set(g,{parserRule:u.$cstNode,nameNode:f,targetNodes:[s],docUri:p})}),r.size!==0)return Array.from(r.values()).map(n=>({from:{kind:ute.SymbolKind.Method,name:n.nameNode.text,range:n.parserRule.range,selectionRange:n.nameNode.range,uri:n.docUri},fromRanges:n.targetNodes.map(i=>i.range)}))}getOutgoingCalls(e){if(!Ir(e))return;let t=oo(e).filter(ha).toArray(),r=new Map;if(t.forEach(n=>{var i;let o=n.$cstNode;if(!o)return;let s=(i=n.rule.ref)===null||i===void 0?void 0:i.$cstNode;if(!s)return;let u=this.nameProvider.getNameNode(s.astNode);if(!u)return;let f=Gn(s.astNode).uri.toString(),p=f+"@"+u.text;r.has(p)?r.set(p,{refCstNode:s,to:u,from:[...r.get(p).from,o.range],docUri:f}):r.set(p,{refCstNode:s,to:u,from:[o.range],docUri:f})}),r.size!==0)return Array.from(r.values()).map(n=>({to:{kind:ute.SymbolKind.Method,name:n.to.text,range:n.refCstNode.range,selectionRange:n.to.range,uri:n.docUri},fromRanges:n.from}))}},gqe=class{static{a(this,"LangiumGrammarValidationResourcesCollector")}static{_(this,"LangiumGrammarValidationResourcesCollector")}constructor(e){this.documents=e.shared.workspace.LangiumDocuments}collectValidationResources(e){let t=Nie(e,this.documents);return{typeToValidationInfo:this.collectValidationInfo(t),typeToSuperProperties:this.collectSuperProperties(t)}}collectValidationInfo({astResources:e,inferred:t,declared:r}){let n=new Map,i=iae(e);for(let s of kI(t))n.set(s.name,{inferred:s,inferredNodes:i.get(s.name)});let o=Xn(e.interfaces).concat(e.types).reduce((s,u)=>s.set(u.name,u),new Map);for(let s of kI(r)){let u=o.get(s.name);if(u){let f=n.get(s.name);n.set(s.name,Object.assign(Object.assign({},f??{}),{declared:s,declaredNode:u}))}}return n}collectSuperProperties({inferred:e,declared:t}){let r=new Map,n=TI(e,t),i=new Map(n.map(o=>[o.name,o]));for(let o of TI(e,t))r.set(o.name,this.addSuperProperties(o,i,new Set));return r}addSuperProperties(e,t,r){if(r.has(e.name))return[];r.add(e.name);let n=[...e.properties];for(let i of e.superTypes){let o=t.get(i.name);o&&n.push(...this.addSuperProperties(o,t,r))}return n}};a(iae,"collectNameToRulesActions");_(iae,"collectNameToRulesActions");a(aae,"isDeclared");_(aae,"isDeclared");a(oae,"isInferred");_(oae,"isInferred");a(sae,"isInferredAndDeclared");_(sae,"isInferredAndDeclared");a(lae,"registerTypeValidationChecks");_(lae,"registerTypeValidationChecks");yqe=class{static{a(this,"LangiumGrammarTypesValidator")}static{_(this,"LangiumGrammarTypesValidator")}checkCyclicType(e,t){Mu(e,new Set)&&t("error",`Type alias '${e.name}' circularly references itself.`,{node:e,property:"name"})}checkCyclicInterface(e,t){Mu(e,new Set)&&t("error",`Type '${e.name}' recursively references itself as a base type.`,{node:e,property:"name"})}checkDeclaredTypesConsistency(e,t){var r;let n=(r=e.$document)===null||r===void 0?void 0:r.validationResources;if(n){for(let i of n.typeToValidationInfo.values())if(aae(i)&&Bc(i.declared)&&Kl(i.declaredNode)){let o=i;uae(o,t),fae(o,t)}}}checkDeclaredAndInferredTypesConsistency(e,t){var r;let n=(r=e.$document)===null||r===void 0?void 0:r.validationResources;if(n)for(let i of n.typeToValidationInfo.values())oae(i)&&i.inferred instanceof Vne&&cae(i.inferred,t),sae(i)&&pae(i,n,t)}checkActionIsNotUnionType(e,t){Zo(e.type)&&t("error","Actions cannot create union types.",{node:e,property:"type"})}};a(Mu,"isCyclicType");_(Mu,"isCyclicType");a(cae,"validateInferredInterface");_(cae,"validateInferredInterface");a(uae,"validateInterfaceSuperTypes");_(uae,"validateInterfaceSuperTypes");a(fae,"validateSuperTypesConsistency");_(fae,"validateSuperTypesConsistency");a(hae,"getNonIdenticalProps");_(hae,"getNonIdenticalProps");a(dae,"arePropTypesIdentical");_(dae,"arePropTypesIdentical");a(pae,"validateDeclaredAndInferredConsistency");_(pae,"validateDeclaredAndInferredConsistency");a(mae,"validateAlternativesConsistency");_(mae,"validateAlternativesConsistency");a(BI,"isOptionalProperty");_(BI,"isOptionalProperty");a(gae,"validatePropertiesConsistency");_(gae,"validatePropertiesConsistency");vqe={validation:{LangiumGrammarValidator:e=>new b9e(e),ValidationResourcesCollector:e=>new gqe(e),LangiumGrammarTypesValidator:()=>new yqe},lsp:{FoldingRangeProvider:e=>new F9e(e),CodeActionProvider:e=>new O9e(e),SemanticTokenProvider:e=>new V9e(e),Formatter:()=>new z9e,DefinitionProvider:e=>new pqe(e),CallHierarchyProvider:e=>new mqe(e),CompletionProvider:e=>new M9e(e)},references:{ScopeComputation:e=>new N9e(e),ScopeProvider:e=>new I9e(e),References:e=>new H9e(e),NameProvider:()=>new W9e}};a(yae,"createLangiumGrammarServices");_(yae,"createLangiumGrammarServices");a(vae,"addTypeCollectionPhase");_(vae,"addTypeCollectionPhase");xqe=class{static{a(this,"EmptyFileSystemProvider")}static{_(this,"EmptyFileSystemProvider")}readFile(){throw new Error("Method not implemented.")}readFileSync(){throw new Error("Method not implemented.")}async readDirectory(){return[]}},xae={fileSystemProvider:()=>new xqe};a(zw,"getEntryRule");_(zw,"getEntryRule");a(bae,"getHiddenRules");_(bae,"getHiddenRules");a(pE,"getAllReachableRules");_(pE,"getAllReachableRules");a(tP,"ruleDfs");_(tP,"ruleDfs");a(rP,"getCrossReferenceTerminal");_(rP,"getCrossReferenceTerminal");a(Tae,"isCommentTerminal");_(Tae,"isCommentTerminal");a(X1,"findNodesForProperty");_(X1,"findNodesForProperty");a(Gc,"findNodeForProperty");_(Gc,"findNodeForProperty");a(mE,"findNodesForPropertyInternal");_(mE,"findNodesForPropertyInternal");a(nP,"findNodesForKeyword");_(nP,"findNodesForKeyword");a(qu,"findNodeForKeyword");_(qu,"findNodeForKeyword");a(iP,"findNodesForKeywordInternal");_(iP,"findNodesForKeywordInternal");a(gE,"findAssignment");_(gE,"findAssignment");a(yE,"findNameAssignment");_(yE,"findNameAssignment");a(aP,"findNameAssignmentInternal");_(aP,"findNameAssignmentInternal");a(oP,"loadGrammarFromJson");_(oP,"loadGrammarFromJson");a(kae,"createGrammarConfig");_(kae,"createGrammarConfig");bqe=typeof global=="object"&&global&&global.Object===Object&&global,_ae=bqe,Tqe=typeof self=="object"&&self&&self.Object===Object&&self,kqe=_ae||Tqe||Function("return this")(),Wc=kqe,_qe=Wc.Symbol,al=_qe,wae=Object.prototype,wqe=wae.hasOwnProperty,Eqe=wae.toString,Jv=al?al.toStringTag:void 0;a(Eae,"getRawTag");_(Eae,"getRawTag");Cqe=Eae,Sqe=Object.prototype,Aqe=Sqe.toString;a(Cae,"objectToString");_(Cae,"objectToString");Rqe=Cae,Dqe="[object Null]",Lqe="[object Undefined]",fte=al?al.toStringTag:void 0;a(Sae,"baseGetTag");_(Sae,"baseGetTag");Ih=Sae;a(Aae,"isObjectLike");_(Aae,"isObjectLike");Zl=Aae,Iqe="[object Symbol]";a(Rae,"isSymbol");_(Rae,"isSymbol");K1=Rae;a(Dae,"arrayMap");_(Dae,"arrayMap");Q1=Dae,Nqe=Array.isArray,yn=Nqe,Pqe=1/0,hte=al?al.prototype:void 0,dte=hte?hte.toString:void 0;a(sP,"baseToString");_(sP,"baseToString");Oqe=sP,Mqe=/\s/;a(Lae,"trimmedEndIndex");_(Lae,"trimmedEndIndex");Fqe=Lae,Bqe=/^\s+/;a(Iae,"baseTrim");_(Iae,"baseTrim");qqe=Iae;a(Nae,"isObject");_(Nae,"isObject");ol=Nae,pte=0/0,zqe=/^[-+]0x[0-9a-f]+$/i,Uqe=/^0b[01]+$/i,$qe=/^0o[0-7]+$/i,Gqe=parseInt;a(Pae,"toNumber");_(Pae,"toNumber");Vqe=Pae,mte=1/0,Wqe=17976931348623157e292;a(Oae,"toFinite");_(Oae,"toFinite");Hqe=Oae;a(Mae,"toInteger");_(Mae,"toInteger");Z1=Mae;a(Fae,"identity");_(Fae,"identity");lp=Fae,jqe="[object AsyncFunction]",Yqe="[object Function]",Xqe="[object GeneratorFunction]",Kqe="[object Proxy]";a(Bae,"isFunction");_(Bae,"isFunction");Yu=Bae,Qqe=Wc["__core-js_shared__"],sI=Qqe,gte=function(){var e=/[^.]+$/.exec(sI&&sI.keys&&sI.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();a(qae,"isMasked");_(qae,"isMasked");Zqe=qae,Jqe=Function.prototype,eze=Jqe.toString;a(zae,"toSource");_(zae,"toSource");mp=zae,tze=/[\\^$.*+?()[\]{}|]/g,rze=/^\[object .+?Constructor\]$/,nze=Function.prototype,ize=Object.prototype,aze=nze.toString,oze=ize.hasOwnProperty,sze=RegExp("^"+aze.call(oze).replace(tze,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");a(Uae,"baseIsNative");_(Uae,"baseIsNative");lze=Uae;a($ae,"getValue");_($ae,"getValue");cze=$ae;a(Gae,"getNative");_(Gae,"getNative");gp=Gae,uze=gp(Wc,"WeakMap"),qI=uze,yte=Object.create,fze=function(){function e(){}return a(e,"object"),_(e,"object"),function(t){if(!ol(t))return{};if(yte)return yte(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),hze=fze;a(Vae,"apply");_(Vae,"apply");dze=Vae;a(Wae,"noop");_(Wae,"noop");la=Wae;a(Hae,"copyArray");_(Hae,"copyArray");pze=Hae,mze=800,gze=16,yze=Date.now;a(jae,"shortOut");_(jae,"shortOut");vze=jae;a(Yae,"constant");_(Yae,"constant");xze=Yae,bze=function(){try{var e=gp(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Uw=bze,Tze=Uw?function(e,t){return Uw(e,"toString",{configurable:!0,enumerable:!1,value:xze(t),writable:!0})}:lp,kze=Tze,_ze=vze(kze),wze=_ze;a(Xae,"arrayEach");_(Xae,"arrayEach");Kae=Xae;a(Qae,"baseFindIndex");_(Qae,"baseFindIndex");Zae=Qae;a(Jae,"baseIsNaN");_(Jae,"baseIsNaN");Eze=Jae;a(eoe,"strictIndexOf");_(eoe,"strictIndexOf");Cze=eoe;a(toe,"baseIndexOf");_(toe,"baseIndexOf");lP=toe;a(roe,"arrayIncludes");_(roe,"arrayIncludes");noe=roe,Sze=9007199254740991,Aze=/^(?:0|[1-9]\d*)$/;a(ioe,"isIndex");_(ioe,"isIndex");vE=ioe;a(aoe,"baseAssignValue");_(aoe,"baseAssignValue");cP=aoe;a(ooe,"eq");_(ooe,"eq");J1=ooe,Rze=Object.prototype,Dze=Rze.hasOwnProperty;a(soe,"assignValue");_(soe,"assignValue");xE=soe;a(loe,"copyObject");_(loe,"copyObject");ex=loe,vte=Math.max;a(coe,"overRest");_(coe,"overRest");Lze=coe;a(uoe,"baseRest");_(uoe,"baseRest");uP=uoe,Ize=9007199254740991;a(foe,"isLength");_(foe,"isLength");fP=foe;a(hoe,"isArrayLike");_(hoe,"isArrayLike");Hc=hoe;a(doe,"isIterateeCall");_(doe,"isIterateeCall");bE=doe;a(poe,"createAssigner");_(poe,"createAssigner");Nze=poe,Pze=Object.prototype;a(moe,"isPrototype");_(moe,"isPrototype");tx=moe;a(goe,"baseTimes");_(goe,"baseTimes");Oze=goe,Mze="[object Arguments]";a(yoe,"baseIsArguments");_(yoe,"baseIsArguments");xte=yoe,voe=Object.prototype,Fze=voe.hasOwnProperty,Bze=voe.propertyIsEnumerable,qze=xte(function(){return arguments}())?xte:function(e){return Zl(e)&&Fze.call(e,"callee")&&!Bze.call(e,"callee")},TE=qze;a(xoe,"stubFalse");_(xoe,"stubFalse");zze=xoe,boe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,bte=boe&&typeof module=="object"&&module&&!module.nodeType&&module,Uze=bte&&bte.exports===boe,Tte=Uze?Wc.Buffer:void 0,$ze=Tte?Tte.isBuffer:void 0,Gze=$ze||zze,L1=Gze,Vze="[object Arguments]",Wze="[object Array]",Hze="[object Boolean]",jze="[object Date]",Yze="[object Error]",Xze="[object Function]",Kze="[object Map]",Qze="[object Number]",Zze="[object Object]",Jze="[object RegExp]",eUe="[object Set]",tUe="[object String]",rUe="[object WeakMap]",nUe="[object ArrayBuffer]",iUe="[object DataView]",aUe="[object Float32Array]",oUe="[object Float64Array]",sUe="[object Int8Array]",lUe="[object Int16Array]",cUe="[object Int32Array]",uUe="[object Uint8Array]",fUe="[object Uint8ClampedArray]",hUe="[object Uint16Array]",dUe="[object Uint32Array]",fi={};fi[aUe]=fi[oUe]=fi[sUe]=fi[lUe]=fi[cUe]=fi[uUe]=fi[fUe]=fi[hUe]=fi[dUe]=!0;fi[Vze]=fi[Wze]=fi[nUe]=fi[Hze]=fi[iUe]=fi[jze]=fi[Yze]=fi[Xze]=fi[Kze]=fi[Qze]=fi[Zze]=fi[Jze]=fi[eUe]=fi[tUe]=fi[rUe]=!1;a(Toe,"baseIsTypedArray");_(Toe,"baseIsTypedArray");pUe=Toe;a(koe,"baseUnary");_(koe,"baseUnary");rx=koe,_oe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,d1=_oe&&typeof module=="object"&&module&&!module.nodeType&&module,mUe=d1&&d1.exports===_oe,lI=mUe&&_ae.process,gUe=function(){try{var e=d1&&d1.require&&d1.require("util").types;return e||lI&&lI.binding&&lI.binding("util")}catch{}}(),Eh=gUe,kte=Eh&&Eh.isTypedArray,yUe=kte?rx(kte):pUe,hP=yUe,vUe=Object.prototype,xUe=vUe.hasOwnProperty;a(woe,"arrayLikeKeys");_(woe,"arrayLikeKeys");Eoe=woe;a(Coe,"overArg");_(Coe,"overArg");Soe=Coe,bUe=Soe(Object.keys,Object),TUe=bUe,kUe=Object.prototype,_Ue=kUe.hasOwnProperty;a(Aoe,"baseKeys");_(Aoe,"baseKeys");Roe=Aoe;a(Doe,"keys");_(Doe,"keys");ks=Doe,wUe=Object.prototype,EUe=wUe.hasOwnProperty,CUe=Nze(function(e,t){if(tx(t)||Hc(t)){ex(t,ks(t),e);return}for(var r in t)EUe.call(t,r)&&xE(e,r,t[r])}),_s=CUe;a(Loe,"nativeKeysIn");_(Loe,"nativeKeysIn");SUe=Loe,AUe=Object.prototype,RUe=AUe.hasOwnProperty;a(Ioe,"baseKeysIn");_(Ioe,"baseKeysIn");DUe=Ioe;a(Noe,"keysIn");_(Noe,"keysIn");kE=Noe,LUe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,IUe=/^\w*$/;a(Poe,"isKey");_(Poe,"isKey");dP=Poe,NUe=gp(Object,"create"),I1=NUe;a(Ooe,"hashClear");_(Ooe,"hashClear");PUe=Ooe;a(Moe,"hashDelete");_(Moe,"hashDelete");OUe=Moe,MUe="__lodash_hash_undefined__",FUe=Object.prototype,BUe=FUe.hasOwnProperty;a(Foe,"hashGet");_(Foe,"hashGet");qUe=Foe,zUe=Object.prototype,UUe=zUe.hasOwnProperty;a(Boe,"hashHas");_(Boe,"hashHas");$Ue=Boe,GUe="__lodash_hash_undefined__";a(qoe,"hashSet");_(qoe,"hashSet");VUe=qoe;a(yp,"Hash");_(yp,"Hash");yp.prototype.clear=PUe;yp.prototype.delete=OUe;yp.prototype.get=qUe;yp.prototype.has=$Ue;yp.prototype.set=VUe;_te=yp;a(zoe,"listCacheClear");_(zoe,"listCacheClear");WUe=zoe;a(Uoe,"assocIndexOf");_(Uoe,"assocIndexOf");_E=Uoe,HUe=Array.prototype,jUe=HUe.splice;a($oe,"listCacheDelete");_($oe,"listCacheDelete");YUe=$oe;a(Goe,"listCacheGet");_(Goe,"listCacheGet");XUe=Goe;a(Voe,"listCacheHas");_(Voe,"listCacheHas");KUe=Voe;a(Woe,"listCacheSet");_(Woe,"listCacheSet");QUe=Woe;a(vp,"ListCache");_(vp,"ListCache");vp.prototype.clear=WUe;vp.prototype.delete=YUe;vp.prototype.get=XUe;vp.prototype.has=KUe;vp.prototype.set=QUe;wE=vp,ZUe=gp(Wc,"Map"),N1=ZUe;a(Hoe,"mapCacheClear");_(Hoe,"mapCacheClear");JUe=Hoe;a(joe,"isKeyable");_(joe,"isKeyable");e$e=joe;a(Yoe,"getMapData");_(Yoe,"getMapData");EE=Yoe;a(Xoe,"mapCacheDelete");_(Xoe,"mapCacheDelete");t$e=Xoe;a(Koe,"mapCacheGet");_(Koe,"mapCacheGet");r$e=Koe;a(Qoe,"mapCacheHas");_(Qoe,"mapCacheHas");n$e=Qoe;a(Zoe,"mapCacheSet");_(Zoe,"mapCacheSet");i$e=Zoe;a(xp,"MapCache");_(xp,"MapCache");xp.prototype.clear=JUe;xp.prototype.delete=t$e;xp.prototype.get=r$e;xp.prototype.has=n$e;xp.prototype.set=i$e;CE=xp,a$e="Expected a function";a(SE,"memoize");_(SE,"memoize");SE.Cache=CE;o$e=SE,s$e=500;a(Joe,"memoizeCapped");_(Joe,"memoizeCapped");l$e=Joe,c$e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u$e=/\\(\\)?/g,f$e=l$e(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(c$e,function(r,n,i,o){t.push(i?o.replace(u$e,"$1"):n||r)}),t}),h$e=f$e;a(ese,"toString3");_(ese,"toString");d$e=ese;a(tse,"castPath");_(tse,"castPath");AE=tse,p$e=1/0;a(rse,"toKey");_(rse,"toKey");nx=rse;a(nse,"baseGet");_(nse,"baseGet");pP=nse;a(ise,"get");_(ise,"get");m$e=ise;a(ase,"arrayPush");_(ase,"arrayPush");mP=ase,wte=al?al.isConcatSpreadable:void 0;a(ose,"isFlattenable");_(ose,"isFlattenable");g$e=ose;a(gP,"baseFlatten");_(gP,"baseFlatten");yP=gP;a(sse,"flatten");_(sse,"flatten");il=sse,y$e=Soe(Object.getPrototypeOf,Object),lse=y$e;a(cse,"baseSlice");_(cse,"baseSlice");use=cse;a(fse,"arrayReduce");_(fse,"arrayReduce");v$e=fse;a(hse,"stackClear");_(hse,"stackClear");x$e=hse;a(dse,"stackDelete");_(dse,"stackDelete");b$e=dse;a(pse,"stackGet");_(pse,"stackGet");T$e=pse;a(mse,"stackHas");_(mse,"stackHas");k$e=mse,_$e=200;a(gse,"stackSet");_(gse,"stackSet");w$e=gse;a(bp,"Stack");_(bp,"Stack");bp.prototype.clear=x$e;bp.prototype.delete=b$e;bp.prototype.get=T$e;bp.prototype.has=k$e;bp.prototype.set=w$e;p1=bp;a(yse,"baseAssign");_(yse,"baseAssign");E$e=yse;a(vse,"baseAssignIn");_(vse,"baseAssignIn");C$e=vse,xse=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ete=xse&&typeof module=="object"&&module&&!module.nodeType&&module,S$e=Ete&&Ete.exports===xse,Cte=S$e?Wc.Buffer:void 0,Ste=Cte?Cte.allocUnsafe:void 0;a(bse,"cloneBuffer");_(bse,"cloneBuffer");A$e=bse;a(Tse,"arrayFilter");_(Tse,"arrayFilter");vP=Tse;a(kse,"stubArray");_(kse,"stubArray");_se=kse,R$e=Object.prototype,D$e=R$e.propertyIsEnumerable,Ate=Object.getOwnPropertySymbols,L$e=Ate?function(e){return e==null?[]:(e=Object(e),vP(Ate(e),function(t){return D$e.call(e,t)}))}:_se,xP=L$e;a(wse,"copySymbols");_(wse,"copySymbols");I$e=wse,N$e=Object.getOwnPropertySymbols,P$e=N$e?function(e){for(var t=[];e;)mP(t,xP(e)),e=lse(e);return t}:_se,Ese=P$e;a(Cse,"copySymbolsIn");_(Cse,"copySymbolsIn");O$e=Cse;a(Sse,"baseGetAllKeys");_(Sse,"baseGetAllKeys");Ase=Sse;a(Rse,"getAllKeys");_(Rse,"getAllKeys");zI=Rse;a(Dse,"getAllKeysIn");_(Dse,"getAllKeysIn");Lse=Dse,M$e=gp(Wc,"DataView"),UI=M$e,F$e=gp(Wc,"Promise"),$I=F$e,B$e=gp(Wc,"Set"),Pg=B$e,Rte="[object Map]",q$e="[object Object]",Dte="[object Promise]",Lte="[object Set]",Ite="[object WeakMap]",Nte="[object DataView]",z$e=mp(UI),U$e=mp(N1),$$e=mp($I),G$e=mp(Pg),V$e=mp(qI),Zd=Ih;(UI&&Zd(new UI(new ArrayBuffer(1)))!=Nte||N1&&Zd(new N1)!=Rte||$I&&Zd($I.resolve())!=Dte||Pg&&Zd(new Pg)!=Lte||qI&&Zd(new qI)!=Ite)&&(Zd=_(function(e){var t=Ih(e),r=t==q$e?e.constructor:void 0,n=r?mp(r):"";if(n)switch(n){case z$e:return Nte;case U$e:return Rte;case $$e:return Dte;case G$e:return Lte;case V$e:return Ite}return t},"getTag"));zg=Zd,W$e=Object.prototype,H$e=W$e.hasOwnProperty;a(Ise,"initCloneArray");_(Ise,"initCloneArray");j$e=Ise,Y$e=Wc.Uint8Array,$w=Y$e;a(Nse,"cloneArrayBuffer");_(Nse,"cloneArrayBuffer");bP=Nse;a(Pse,"cloneDataView");_(Pse,"cloneDataView");X$e=Pse,K$e=/\w*$/;a(Ose,"cloneRegExp");_(Ose,"cloneRegExp");Q$e=Ose,Pte=al?al.prototype:void 0,Ote=Pte?Pte.valueOf:void 0;a(Mse,"cloneSymbol");_(Mse,"cloneSymbol");Z$e=Mse;a(Fse,"cloneTypedArray");_(Fse,"cloneTypedArray");J$e=Fse,eGe="[object Boolean]",tGe="[object Date]",rGe="[object Map]",nGe="[object Number]",iGe="[object RegExp]",aGe="[object Set]",oGe="[object String]",sGe="[object Symbol]",lGe="[object ArrayBuffer]",cGe="[object DataView]",uGe="[object Float32Array]",fGe="[object Float64Array]",hGe="[object Int8Array]",dGe="[object Int16Array]",pGe="[object Int32Array]",mGe="[object Uint8Array]",gGe="[object Uint8ClampedArray]",yGe="[object Uint16Array]",vGe="[object Uint32Array]";a(Bse,"initCloneByTag");_(Bse,"initCloneByTag");xGe=Bse;a(qse,"initCloneObject");_(qse,"initCloneObject");bGe=qse,TGe="[object Map]";a(zse,"baseIsMap");_(zse,"baseIsMap");kGe=zse,Mte=Eh&&Eh.isMap,_Ge=Mte?rx(Mte):kGe,wGe=_Ge,EGe="[object Set]";a(Use,"baseIsSet");_(Use,"baseIsSet");CGe=Use,Fte=Eh&&Eh.isSet,SGe=Fte?rx(Fte):CGe,AGe=SGe,RGe=1,DGe=2,LGe=4,$se="[object Arguments]",IGe="[object Array]",NGe="[object Boolean]",PGe="[object Date]",OGe="[object Error]",Gse="[object Function]",MGe="[object GeneratorFunction]",FGe="[object Map]",BGe="[object Number]",Vse="[object Object]",qGe="[object RegExp]",zGe="[object Set]",UGe="[object String]",$Ge="[object Symbol]",GGe="[object WeakMap]",VGe="[object ArrayBuffer]",WGe="[object DataView]",HGe="[object Float32Array]",jGe="[object Float64Array]",YGe="[object Int8Array]",XGe="[object Int16Array]",KGe="[object Int32Array]",QGe="[object Uint8Array]",ZGe="[object Uint8ClampedArray]",JGe="[object Uint16Array]",eVe="[object Uint32Array]",ti={};ti[$se]=ti[IGe]=ti[VGe]=ti[WGe]=ti[NGe]=ti[PGe]=ti[HGe]=ti[jGe]=ti[YGe]=ti[XGe]=ti[KGe]=ti[FGe]=ti[BGe]=ti[Vse]=ti[qGe]=ti[zGe]=ti[UGe]=ti[$Ge]=ti[QGe]=ti[ZGe]=ti[JGe]=ti[eVe]=!0;ti[OGe]=ti[Gse]=ti[GGe]=!1;a(m1,"baseClone");_(m1,"baseClone");tVe=m1,rVe=4;a(Wse,"clone");_(Wse,"clone");Xa=Wse;a(Hse,"compact");_(Hse,"compact");ix=Hse,nVe="__lodash_hash_undefined__";a(jse,"setCacheAdd");_(jse,"setCacheAdd");iVe=jse;a(Yse,"setCacheHas");_(Yse,"setCacheHas");aVe=Yse;a(P1,"SetCache");_(P1,"SetCache");P1.prototype.add=P1.prototype.push=iVe;P1.prototype.has=aVe;TP=P1;a(Xse,"arraySome");_(Xse,"arraySome");Kse=Xse;a(Qse,"cacheHas");_(Qse,"cacheHas");kP=Qse,oVe=1,sVe=2;a(Zse,"equalArrays");_(Zse,"equalArrays");Jse=Zse;a(ele,"mapToArray");_(ele,"mapToArray");lVe=ele;a(tle,"setToArray");_(tle,"setToArray");_P=tle,cVe=1,uVe=2,fVe="[object Boolean]",hVe="[object Date]",dVe="[object Error]",pVe="[object Map]",mVe="[object Number]",gVe="[object RegExp]",yVe="[object Set]",vVe="[object String]",xVe="[object Symbol]",bVe="[object ArrayBuffer]",TVe="[object DataView]",Bte=al?al.prototype:void 0,cI=Bte?Bte.valueOf:void 0;a(rle,"equalByTag");_(rle,"equalByTag");kVe=rle,_Ve=1,wVe=Object.prototype,EVe=wVe.hasOwnProperty;a(nle,"equalObjects");_(nle,"equalObjects");CVe=nle,SVe=1,qte="[object Arguments]",zte="[object Array]",H_="[object Object]",AVe=Object.prototype,Ute=AVe.hasOwnProperty;a(ile,"baseIsEqualDeep");_(ile,"baseIsEqualDeep");RVe=ile;a(wP,"baseIsEqual");_(wP,"baseIsEqual");ale=wP,DVe=1,LVe=2;a(ole,"baseIsMatch");_(ole,"baseIsMatch");IVe=ole;a(sle,"isStrictComparable");_(sle,"isStrictComparable");lle=sle;a(cle,"getMatchData");_(cle,"getMatchData");NVe=cle;a(ule,"matchesStrictComparable");_(ule,"matchesStrictComparable");fle=ule;a(hle,"baseMatches");_(hle,"baseMatches");PVe=hle;a(dle,"baseHasIn");_(dle,"baseHasIn");OVe=dle;a(ple,"hasPath");_(ple,"hasPath");mle=ple;a(gle,"hasIn");_(gle,"hasIn");MVe=gle,FVe=1,BVe=2;a(yle,"baseMatchesProperty");_(yle,"baseMatchesProperty");qVe=yle;a(vle,"baseProperty");_(vle,"baseProperty");zVe=vle;a(xle,"basePropertyDeep");_(xle,"basePropertyDeep");UVe=xle;a(ble,"property");_(ble,"property");$Ve=ble;a(Tle,"baseIteratee");_(Tle,"baseIteratee");ec=Tle;a(kle,"arrayAggregator");_(kle,"arrayAggregator");GVe=kle;a(_le,"createBaseFor");_(_le,"createBaseFor");VVe=_le,WVe=VVe(),HVe=WVe;a(wle,"baseForOwn");_(wle,"baseForOwn");jVe=wle;a(Ele,"createBaseEach");_(Ele,"createBaseEach");YVe=Ele,XVe=YVe(jVe),Tp=XVe;a(Cle,"baseAggregator");_(Cle,"baseAggregator");KVe=Cle;a(Sle,"createAggregator");_(Sle,"createAggregator");QVe=Sle,Ale=Object.prototype,ZVe=Ale.hasOwnProperty,JVe=uP(function(e,t){e=Object(e);var r=-1,n=t.length,i=n>2?t[2]:void 0;for(i&&bE(t[0],t[1],i)&&(n=1);++r<n;)for(var o=t[r],s=kE(o),u=-1,f=s.length;++u<f;){var p=s[u],g=e[p];(g===void 0||J1(g,Ale[p])&&!ZVe.call(e,p))&&(e[p]=o[p])}return e}),EP=JVe;a(Rle,"isArrayLikeObject");_(Rle,"isArrayLikeObject");$te=Rle;a(Dle,"arrayIncludesWith");_(Dle,"arrayIncludesWith");Lle=Dle,eWe=200;a(Ile,"baseDifference");_(Ile,"baseDifference");tWe=Ile,rWe=uP(function(e,t){return $te(e)?tWe(e,yP(t,1,$te,!0)):[]}),RE=rWe;a(Nle,"last");_(Nle,"last");Ug=Nle;a(Ple,"drop");_(Ple,"drop");Ha=Ple;a(Ole,"dropRight");_(Ole,"dropRight");O1=Ole;a(Mle,"castFunction");_(Mle,"castFunction");nWe=Mle;a(Fle,"forEach");_(Fle,"forEach");Sr=Fle;a(Ble,"arrayEvery");_(Ble,"arrayEvery");iWe=Ble;a(qle,"baseEvery");_(qle,"baseEvery");aWe=qle;a(zle,"every");_(zle,"every");Xl=zle;a(Ule,"baseFilter");_(Ule,"baseFilter");$le=Ule;a(Gle,"filter");_(Gle,"filter");ws=Gle;a(Vle,"createFind");_(Vle,"createFind");oWe=Vle,sWe=Math.max;a(Wle,"findIndex");_(Wle,"findIndex");lWe=Wle,cWe=oWe(lWe),$g=cWe;a(Hle,"head");_(Hle,"head");Jl=Hle;a(jle,"baseMap");_(jle,"baseMap");uWe=jle;a(Yle,"map");_(Yle,"map");sr=Yle;a(Xle,"flatMap");_(Xle,"flatMap");Ts=Xle,fWe=Object.prototype,hWe=fWe.hasOwnProperty,dWe=QVe(function(e,t,r){hWe.call(e,r)?e[r].push(t):cP(e,r,[t])}),pWe=dWe,mWe=Object.prototype,gWe=mWe.hasOwnProperty;a(Kle,"baseHas");_(Kle,"baseHas");yWe=Kle;a(Qle,"has");_(Qle,"has");Rr=Qle,vWe="[object String]";a(Zle,"isString");_(Zle,"isString");Ko=Zle;a(Jle,"baseValues");_(Jle,"baseValues");xWe=Jle;a(ece,"values");_(ece,"values");ca=ece,bWe=Math.max;a(tce,"includes");_(tce,"includes");Do=tce,TWe=Math.max;a(rce,"indexOf");_(rce,"indexOf");Gte=rce,kWe="[object Map]",_We="[object Set]",wWe=Object.prototype,EWe=wWe.hasOwnProperty;a(nce,"isEmpty");_(nce,"isEmpty");Kn=nce,CWe="[object RegExp]";a(ice,"baseIsRegExp");_(ice,"baseIsRegExp");SWe=ice,Vte=Eh&&Eh.isRegExp,AWe=Vte?rx(Vte):SWe,$u=AWe;a(ace,"isUndefined");_(ace,"isUndefined");Gu=ace;a(oce,"baseLt");_(oce,"baseLt");RWe=oce;a(sce,"baseExtremum");_(sce,"baseExtremum");DWe=sce;a(lce,"min");_(lce,"min");LWe=lce,IWe="Expected a function";a(cce,"negate");_(cce,"negate");NWe=cce;a(uce,"baseSet");_(uce,"baseSet");PWe=uce;a(fce,"basePickBy");_(fce,"basePickBy");OWe=fce;a(hce,"pickBy");_(hce,"pickBy");tc=hce;a(dce,"baseReduce");_(dce,"baseReduce");MWe=dce;a(pce,"reduce");_(pce,"reduce");So=pce;a(mce,"reject");_(mce,"reject");DE=mce;a(gce,"baseSome");_(gce,"baseSome");FWe=gce;a(yce,"some");_(yce,"some");vce=yce,BWe=1/0,qWe=Pg&&1/_P(new Pg([,-0]))[1]==BWe?function(e){return new Pg(e)}:la,zWe=qWe,UWe=200;a(xce,"baseUniq");_(xce,"baseUniq");bce=xce;a(Tce,"uniq");_(Tce,"uniq");CP=Tce;a(kce,"uniqBy");_(kce,"uniqBy");$We=kce;a(Gw,"PRINT_ERROR");_(Gw,"PRINT_ERROR");a(SP,"PRINT_WARNING");_(SP,"PRINT_WARNING");a(AP,"timer");_(AP,"timer");a(RP,"toFastProperties");_(RP,"toFastProperties");a(_ce,"tokenLabel");_(_ce,"tokenLabel");a(wce,"hasTokenLabel");_(wce,"hasTokenLabel");jc=class{static{a(this,"AbstractProduction")}static{_(this,"AbstractProduction")}get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){this._definition=e}accept(e){e.visit(this),Sr(this.definition,t=>{t.accept(e)})}},Ao=class extends jc{static{a(this,"NonTerminal")}static{_(this,"NonTerminal")}constructor(e){super([]),this.idx=1,_s(this,tc(e,t=>t!==void 0))}set definition(e){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(e){e.visit(this)}},Wg=class extends jc{static{a(this,"Rule")}static{_(this,"Rule")}constructor(e){super(e.definition),this.orgText="",_s(this,tc(e,t=>t!==void 0))}},Qo=class extends jc{static{a(this,"Alternative")}static{_(this,"Alternative")}constructor(e){super(e.definition),this.ignoreAmbiguities=!1,_s(this,tc(e,t=>t!==void 0))}},ja=class extends jc{static{a(this,"Option")}static{_(this,"Option")}constructor(e){super(e.definition),this.idx=1,_s(this,tc(e,t=>t!==void 0))}},Es=class extends jc{static{a(this,"RepetitionMandatory")}static{_(this,"RepetitionMandatory")}constructor(e){super(e.definition),this.idx=1,_s(this,tc(e,t=>t!==void 0))}},Cs=class extends jc{static{a(this,"RepetitionMandatoryWithSeparator")}static{_(this,"RepetitionMandatoryWithSeparator")}constructor(e){super(e.definition),this.idx=1,_s(this,tc(e,t=>t!==void 0))}},Di=class extends jc{static{a(this,"Repetition")}static{_(this,"Repetition")}constructor(e){super(e.definition),this.idx=1,_s(this,tc(e,t=>t!==void 0))}},Jo=class extends jc{static{a(this,"RepetitionWithSeparator")}static{_(this,"RepetitionWithSeparator")}constructor(e){super(e.definition),this.idx=1,_s(this,tc(e,t=>t!==void 0))}},es=class extends jc{static{a(this,"Alternation")}static{_(this,"Alternation")}get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){super(e.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,_s(this,tc(e,t=>t!==void 0))}},hi=class{static{a(this,"Terminal")}static{_(this,"Terminal")}constructor(e){this.idx=1,_s(this,tc(e,t=>t!==void 0))}accept(e){e.visit(this)}};a(Ece,"serializeGrammar");_(Ece,"serializeGrammar");a(g1,"serializeProduction");_(g1,"serializeProduction");Hg=class{static{a(this,"GAstVisitor")}static{_(this,"GAstVisitor")}visit(e){let t=e;switch(t.constructor){case Ao:return this.visitNonTerminal(t);case Qo:return this.visitAlternative(t);case ja:return this.visitOption(t);case Es:return this.visitRepetitionMandatory(t);case Cs:return this.visitRepetitionMandatoryWithSeparator(t);case Jo:return this.visitRepetitionWithSeparator(t);case Di:return this.visitRepetition(t);case es:return this.visitAlternation(t);case hi:return this.visitTerminal(t);case Wg:return this.visitRule(t);default:throw Error("non exhaustive match")}}visitNonTerminal(e){}visitAlternative(e){}visitOption(e){}visitRepetition(e){}visitRepetitionMandatory(e){}visitRepetitionMandatoryWithSeparator(e){}visitRepetitionWithSeparator(e){}visitAlternation(e){}visitTerminal(e){}visitRule(e){}};a(Cce,"isSequenceProd");_(Cce,"isSequenceProd");a(M1,"isOptionalProd");_(M1,"isOptionalProd");a(Sce,"isBranchingProd");_(Sce,"isBranchingProd");a(Vl,"getProductionDslName");_(Vl,"getProductionDslName");LE=class{static{a(this,"RestWalker")}static{_(this,"RestWalker")}walk(e,t=[]){Sr(e.definition,(r,n)=>{let i=Ha(e.definition,n+1);if(r instanceof Ao)this.walkProdRef(r,i,t);else if(r instanceof hi)this.walkTerminal(r,i,t);else if(r instanceof Qo)this.walkFlat(r,i,t);else if(r instanceof ja)this.walkOption(r,i,t);else if(r instanceof Es)this.walkAtLeastOne(r,i,t);else if(r instanceof Cs)this.walkAtLeastOneSep(r,i,t);else if(r instanceof Jo)this.walkManySep(r,i,t);else if(r instanceof Di)this.walkMany(r,i,t);else if(r instanceof es)this.walkOr(r,i,t);else throw Error("non exhaustive match")})}walkTerminal(e,t,r){}walkProdRef(e,t,r){}walkFlat(e,t,r){let n=t.concat(r);this.walk(e,n)}walkOption(e,t,r){let n=t.concat(r);this.walk(e,n)}walkAtLeastOne(e,t,r){let n=[new ja({definition:e.definition})].concat(t,r);this.walk(e,n)}walkAtLeastOneSep(e,t,r){let n=GI(e,t,r);this.walk(e,n)}walkMany(e,t,r){let n=[new ja({definition:e.definition})].concat(t,r);this.walk(e,n)}walkManySep(e,t,r){let n=GI(e,t,r);this.walk(e,n)}walkOr(e,t,r){let n=t.concat(r);Sr(e.definition,i=>{let o=new Qo({definition:[i]});this.walk(o,n)})}};a(GI,"restForRepetitionWithSeparator");_(GI,"restForRepetitionWithSeparator");a(jg,"first");_(jg,"first");a(Ace,"firstForSequence");_(Ace,"firstForSequence");a(Rce,"firstForBranching");_(Rce,"firstForBranching");a(Dce,"firstForTerminal");_(Dce,"firstForTerminal");Lce="_~IN~_",GWe=class extends LE{static{a(this,"ResyncFollowsWalker")}static{_(this,"ResyncFollowsWalker")}constructor(e){super(),this.topProd=e,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(e,t,r){}walkProdRef(e,t,r){let n=Nce(e.referencedRule,e.idx)+this.topProd.name,i=t.concat(r),o=new Qo({definition:i}),s=jg(o);this.follows[n]=s}};a(Ice,"computeAllProdsFollows");_(Ice,"computeAllProdsFollows");a(Nce,"buildBetweenProdsFollowPrefix");_(Nce,"buildBetweenProdsFollowPrefix");iw={},VWe=new Qne;a(ax,"getRegExpAst");_(ax,"getRegExpAst");a(Pce,"clearRegExpParserCache");_(Pce,"clearRegExpParserCache");Oce="Complement Sets are not supported for first char optimization",Vw=`Unable to use "first char" lexer optimizations:
`;a(Mce,"getOptimizedStartCodesIndices");_(Mce,"getOptimizedStartCodesIndices");a(Ww,"firstCharOptimizedIndices");_(Ww,"firstCharOptimizedIndices");a(i1,"addOptimizedIdxToResult");_(i1,"addOptimizedIdxToResult");a(Fce,"handleIgnoreCase");_(Fce,"handleIgnoreCase");a(VI,"findCode");_(VI,"findCode");a(Hw,"isWholeOptional");_(Hw,"isWholeOptional");WWe=class extends cE{static{a(this,"CharCodeFinder")}static{_(this,"CharCodeFinder")}constructor(e){super(),this.targetCharCodes=e,this.found=!1}visitChildren(e){if(this.found!==!0){switch(e.type){case"Lookahead":this.visitLookahead(e);return;case"NegativeLookahead":this.visitNegativeLookahead(e);return}super.visitChildren(e)}}visitCharacter(e){Do(this.targetCharCodes,e.value)&&(this.found=!0)}visitSet(e){e.complement?VI(e,this.targetCharCodes)===void 0&&(this.found=!0):VI(e,this.targetCharCodes)!==void 0&&(this.found=!0)}};a(IE,"canMatchCharCode");_(IE,"canMatchCharCode");cp="PATTERN",a1="defaultMode",j_="modes",Bce=typeof new RegExp("(?:)").sticky=="boolean";a(qce,"analyzeTokenTypes");_(qce,"analyzeTokenTypes");a(zce,"validatePatterns");_(zce,"validatePatterns");a(Uce,"validateRegExpPattern");_(Uce,"validateRegExpPattern");a($ce,"findMissingPatterns");_($ce,"findMissingPatterns");a(Gce,"findInvalidPatterns");_(Gce,"findInvalidPatterns");HWe=/[^\\][$]/;a(Vce,"findEndOfInputAnchor");_(Vce,"findEndOfInputAnchor");a(Wce,"findEmptyMatchRegExps");_(Wce,"findEmptyMatchRegExps");jWe=/[^\\[][\^]|^\^/;a(Hce,"findStartOfInputAnchor");_(Hce,"findStartOfInputAnchor");a(jce,"findUnsupportedFlags");_(jce,"findUnsupportedFlags");a(Yce,"findDuplicatePatterns");_(Yce,"findDuplicatePatterns");a(Xce,"findInvalidGroupType");_(Xce,"findInvalidGroupType");a(Kce,"findModesThatDoNotExist");_(Kce,"findModesThatDoNotExist");a(Qce,"findUnreachablePatterns");_(Qce,"findUnreachablePatterns");a(Zce,"testTokenType");_(Zce,"testTokenType");a(Jce,"noMetaChar");_(Jce,"noMetaChar");a(WI,"addStartOfInput");_(WI,"addStartOfInput");a(HI,"addStickyFlag");_(HI,"addStickyFlag");a(eue,"performRuntimeChecks");_(eue,"performRuntimeChecks");a(tue,"performWarningRuntimeChecks");_(tue,"performWarningRuntimeChecks");a(rue,"cloneEmptyGroups");_(rue,"cloneEmptyGroups");a(DP,"isCustomPattern");_(DP,"isCustomPattern");a(nue,"isShortPattern");_(nue,"isShortPattern");YWe={test:function(e){let t=e.length;for(let r=this.lastIndex;r<t;r++){let n=e.charCodeAt(r);if(n===10)return this.lastIndex=r+1,!0;if(n===13)return e.charCodeAt(r+1)===10?this.lastIndex=r+2:this.lastIndex=r+1,!0}return!1},lastIndex:0};a(LP,"checkLineBreaksIssues");_(LP,"checkLineBreaksIssues");a(iue,"buildLineBreakIssueMessage");_(iue,"buildLineBreakIssueMessage");a(IP,"getCharCodes");_(IP,"getCharCodes");a(aw,"addToMapOfArrays");_(aw,"addToMapOfArrays");o1=256,ow=[];a(Vu,"charCodeToOptimizedIndex");_(Vu,"charCodeToOptimizedIndex");a(aue,"initCharCodeToOptimizedIndexMap");_(aue,"initCharCodeToOptimizedIndexMap");a(Yg,"tokenStructuredMatcher");_(Yg,"tokenStructuredMatcher");a(F1,"tokenStructuredMatcherNoCategories");_(F1,"tokenStructuredMatcherNoCategories");Wte=1,oue={};a(Xg,"augmentTokenTypes");_(Xg,"augmentTokenTypes");a(sue,"expandCategories");_(sue,"expandCategories");a(lue,"assignTokenDefaultProps");_(lue,"assignTokenDefaultProps");a(cue,"assignCategoriesTokensProp");_(cue,"assignCategoriesTokensProp");a(uue,"assignCategoriesMapProp");_(uue,"assignCategoriesMapProp");a(NP,"singleAssignCategoriesToksMap");_(NP,"singleAssignCategoriesToksMap");a(PP,"hasShortKeyProperty");_(PP,"hasShortKeyProperty");a(jI,"hasCategoriesProperty");_(jI,"hasCategoriesProperty");a(fue,"hasExtendingTokensTypesProperty");_(fue,"hasExtendingTokensTypesProperty");a(hue,"hasExtendingTokensTypesMapProperty");_(hue,"hasExtendingTokensTypesMapProperty");a(due,"isTokenType");_(due,"isTokenType");XWe={buildUnableToPopLexerModeMessage(e){return`Unable to pop Lexer Mode after encountering Token ->${e.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(e,t,r,n,i){return`unexpected character: ->${e.charAt(t)}<- at offset: ${t}, skipped ${r} characters.`}};(function(e){e[e.MISSING_PATTERN=0]="MISSING_PATTERN",e[e.INVALID_PATTERN=1]="INVALID_PATTERN",e[e.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",e[e.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",e[e.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",e[e.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",e[e.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",e[e.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",e[e.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",e[e.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",e[e.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",e[e.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",e[e.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",e[e.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",e[e.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",e[e.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",e[e.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",e[e.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(Li||(Li={}));s1={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:XWe,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(s1);Yo=class{static{a(this,"Lexer")}static{_(this,"Lexer")}constructor(e,t=s1){if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(n,i)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;let o=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${o}--> <${n}>`);let{time:s,value:u}=AP(i),f=s>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&f(`${o}<-- <${n}> time: ${s}ms`),this.traceInitIndent--,u}else return i()},typeof t=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=_s({},s1,t);let r=this.config.traceInitPerf;r===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof r=="number"&&(this.traceInitMaxIdent=r,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let n,i=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===s1.lineTerminatorsPattern)this.config.lineTerminatorsPattern=YWe;else if(this.config.lineTerminatorCharacters===s1.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(t.safeMode&&t.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),yn(e)?n={modes:{defaultMode:Xa(e)},defaultMode:a1}:(i=!1,n=Xa(e))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(eue(n,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(tue(n,this.trackStartLines,this.config.lineTerminatorCharacters))})),n.modes=n.modes?n.modes:{},Sr(n.modes,(s,u)=>{n.modes[u]=DE(s,f=>Gu(f))});let o=ks(n.modes);if(Sr(n.modes,(s,u)=>{this.TRACE_INIT(`Mode: <${u}> processing`,()=>{if(this.modes.push(u),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(zce(s,o))}),Kn(this.lexerDefinitionErrors)){Xg(s);let f;this.TRACE_INIT("analyzeTokenTypes",()=>{f=qce(s,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:t.positionTracking,ensureOptimizations:t.ensureOptimizations,safeMode:t.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[u]=f.patternIdxToConfig,this.charCodeToPatternIdxToConfig[u]=f.charCodeToPatternIdxToConfig,this.emptyGroups=_s({},this.emptyGroups,f.emptyGroups),this.hasCustom=f.hasCustom||this.hasCustom,this.canModeBeOptimized[u]=f.canBeOptimized}})}),this.defaultMode=n.defaultMode,!Kn(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){let u=sr(this.lexerDefinitionErrors,f=>f.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+u)}Sr(this.lexerDefinitionWarning,s=>{SP(s.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(Bce?(this.chopInput=lp,this.match=this.matchWithTest):(this.updateLastIndex=la,this.match=this.matchWithExec),i&&(this.handleModes=la),this.trackStartLines===!1&&(this.computeNewColumn=lp),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=la),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{let s=So(this.canModeBeOptimized,(u,f,p)=>(f===!1&&u.push(p),u),[]);if(t.ensureOptimizations&&!Kn(s))throw Error(`Lexer Modes: < ${s.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{Pce()}),this.TRACE_INIT("toFastProperties",()=>{RP(this)})})}tokenize(e,t=this.defaultMode){if(!Kn(this.lexerDefinitionErrors)){let n=sr(this.lexerDefinitionErrors,i=>i.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+n)}return this.tokenizeInternal(e,t)}tokenizeInternal(e,t){let r,n,i,o,s,u,f,p,g,y,x,b,E,A,O,N,I=e,$=I.length,X=0,q=0,M=this.hasCustom?0:Math.floor(e.length/10),B=new Array(M),G=[],U=this.trackStartLines?1:void 0,W=this.trackStartLines?1:void 0,D=rue(this.emptyGroups),K=this.trackStartLines,P=this.config.lineTerminatorsPattern,re=0,ce=[],ee=[],H=[],te=[];Object.freeze(te);let J;function Y(){return ce}a(Y,"getPossiblePatternsSlow"),_(Y,"getPossiblePatternsSlow");function de(_e){let Ve=Vu(_e),Ye=ee[Ve];return Ye===void 0?te:Ye}a(de,"getPossiblePatternsOptimized"),_(de,"getPossiblePatternsOptimized");let Fe=_(_e=>{if(H.length===1&&_e.tokenType.PUSH_MODE===void 0){let Ve=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(_e);G.push({offset:_e.startOffset,line:_e.startLine,column:_e.startColumn,length:_e.image.length,message:Ve})}else{H.pop();let Ve=Ug(H);ce=this.patternIdxToConfig[Ve],ee=this.charCodeToPatternIdxToConfig[Ve],re=ce.length;let Ye=this.canModeBeOptimized[Ve]&&this.config.safeMode===!1;ee&&Ye?J=de:J=Y}},"pop_mode");function oe(_e){H.push(_e),ee=this.charCodeToPatternIdxToConfig[_e],ce=this.patternIdxToConfig[_e],re=ce.length,re=ce.length;let Ve=this.canModeBeOptimized[_e]&&this.config.safeMode===!1;ee&&Ve?J=de:J=Y}a(oe,"push_mode"),_(oe,"push_mode"),oe.call(this,t);let rt,We=this.config.recoveryEnabled;for(;X<$;){u=null;let _e=I.charCodeAt(X),Ve=J(_e),Ye=Ve.length;for(r=0;r<Ye;r++){rt=Ve[r];let Le=rt.pattern;f=null;let fe=rt.short;if(fe!==!1?_e===fe&&(u=Le):rt.isCustom===!0?(N=Le.exec(I,X,B,D),N!==null?(u=N[0],N.payload!==void 0&&(f=N.payload)):u=null):(this.updateLastIndex(Le,X),u=this.match(Le,e,X)),u!==null){if(s=rt.longerAlt,s!==void 0){let le=s.length;for(i=0;i<le;i++){let he=ce[s[i]],xe=he.pattern;if(p=null,he.isCustom===!0?(N=xe.exec(I,X,B,D),N!==null?(o=N[0],N.payload!==void 0&&(p=N.payload)):o=null):(this.updateLastIndex(xe,X),o=this.match(xe,e,X)),o&&o.length>u.length){u=o,f=p,rt=he;break}}}break}}if(u!==null){if(g=u.length,y=rt.group,y!==void 0&&(x=rt.tokenTypeIdx,b=this.createTokenInstance(u,X,x,rt.tokenType,U,W,g),this.handlePayload(b,f),y===!1?q=this.addToken(B,q,b):D[y].push(b)),e=this.chopInput(e,g),X=X+g,W=this.computeNewColumn(W,g),K===!0&&rt.canLineTerminator===!0){let Le=0,fe,le;P.lastIndex=0;do fe=P.test(u),fe===!0&&(le=P.lastIndex-1,Le++);while(fe===!0);Le!==0&&(U=U+Le,W=g-le,this.updateTokenEndLineColumnLocation(b,y,le,Le,U,W,g))}this.handleModes(rt,Fe,oe,b)}else{let Le=X,fe=U,le=W,he=We===!1;for(;he===!1&&X<$;)for(e=this.chopInput(e,1),X++,n=0;n<re;n++){let xe=ce[n],ke=xe.pattern,pe=xe.short;if(pe!==!1?I.charCodeAt(X)===pe&&(he=!0):xe.isCustom===!0?he=ke.exec(I,X,B,D)!==null:(this.updateLastIndex(ke,X),he=ke.exec(e)!==null),he===!0)break}if(E=X-Le,W=this.computeNewColumn(W,E),O=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(I,Le,E,fe,le),G.push({offset:Le,line:fe,column:le,length:E,message:O}),We===!1)break}}return this.hasCustom||(B.length=q),{tokens:B,groups:D,errors:G}}handleModes(e,t,r,n){if(e.pop===!0){let i=e.push;t(n),i!==void 0&&r.call(this,i)}else e.push!==void 0&&r.call(this,e.push)}chopInput(e,t){return e.substring(t)}updateLastIndex(e,t){e.lastIndex=t}updateTokenEndLineColumnLocation(e,t,r,n,i,o,s){let u,f;t!==void 0&&(u=r===s-1,f=u?-1:0,n===1&&u===!0||(e.endLine=i+f,e.endColumn=o-1+-f))}computeNewColumn(e,t){return e+t}createOffsetOnlyToken(e,t,r,n){return{image:e,startOffset:t,tokenTypeIdx:r,tokenType:n}}createStartOnlyToken(e,t,r,n,i,o){return{image:e,startOffset:t,startLine:i,startColumn:o,tokenTypeIdx:r,tokenType:n}}createFullToken(e,t,r,n,i,o,s){return{image:e,startOffset:t,endOffset:t+s-1,startLine:i,endLine:i,startColumn:o,endColumn:o+s-1,tokenTypeIdx:r,tokenType:n}}addTokenUsingPush(e,t,r){return e.push(r),t}addTokenUsingMemberAccess(e,t,r){return e[t]=r,t++,t}handlePayloadNoCustom(e,t){}handlePayloadWithCustom(e,t){t!==null&&(e.payload=t)}matchWithTest(e,t,r){return e.test(t)===!0?t.substring(r,e.lastIndex):null}matchWithExec(e,t){let r=e.exec(t);return r!==null?r[0]:null}};Yo.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.";Yo.NA=/NOT_APPLICABLE/;a(ip,"tokenLabel2");_(ip,"tokenLabel");a(OP,"hasTokenLabel2");_(OP,"hasTokenLabel");KWe="parent",Hte="categories",jte="label",Yte="group",Xte="push_mode",Kte="pop_mode",Qte="longer_alt",Zte="line_breaks",Jte="start_chars_hint";a(MP,"createToken");_(MP,"createToken");a(pue,"createTokenInternal");_(pue,"createTokenInternal");up=MP({name:"EOF",pattern:Yo.NA});Xg([up]);a(NE,"createTokenInstance");_(NE,"createTokenInstance");a(FP,"tokenMatcher");_(FP,"tokenMatcher");Dg={buildMismatchTokenMessage({expected:e,actual:t,previous:r,ruleName:n}){return`Expecting ${OP(e)?`--> ${ip(e)} <--`:`token of type --> ${e.name} <--`} but found --> '${t.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:e,ruleName:t}){return"Redundant input, expecting EOF but found: "+e.image},buildNoViableAltMessage({expectedPathsPerAlt:e,actual:t,previous:r,customUserDescription:n,ruleName:i}){let o="Expecting: ",u=`
but found: '`+Jl(t).image+"'";if(n)return o+n+u;{let f=So(e,(x,b)=>x.concat(b),[]),p=sr(f,x=>`[${sr(x,b=>ip(b)).join(", ")}]`),y=`one of these possible Token sequences:
${sr(p,(x,b)=>`  ${b+1}. ${x}`).join(`
`)}`;return o+y+u}},buildEarlyExitMessage({expectedIterationPaths:e,actual:t,customUserDescription:r,ruleName:n}){let i="Expecting: ",s=`
but found: '`+Jl(t).image+"'";if(r)return i+r+s;{let f=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${sr(e,p=>`[${sr(p,g=>ip(g)).join(",")}]`).join(" ,")}>`;return i+f+s}}};Object.freeze(Dg);QWe={buildRuleNotFoundError(e,t){return"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+`<-
inside top level rule: ->`+e.name+"<-"}},ep={buildDuplicateFoundError(e,t){function r(g){return g instanceof hi?g.terminalType.name:g instanceof Ao?g.nonTerminalName:""}a(r,"getExtraProductionArgument2"),_(r,"getExtraProductionArgument");let n=e.name,i=Jl(t),o=i.idx,s=Vl(i),u=r(i),f=o>0,p=`->${s}${f?o:""}<- ${u?`with argument: ->${u}<-`:""}
                  appears more than once (${t.length} times) in the top level rule: ->${n}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return p=p.replace(/[ \t]+/g," "),p=p.replace(/\s\s+/g,`
`),p},buildNamespaceConflictError(e){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${e.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(e){let t=sr(e.prefixPath,i=>ip(i)).join(", "),r=e.alternation.idx===0?"":e.alternation.idx;return`Ambiguous alternatives: <${e.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(e){let t=sr(e.prefixPath,i=>ip(i)).join(", "),r=e.alternation.idx===0?"":e.alternation.idx,n=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(" ,")}> in <OR${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
`;return n=n+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,n},buildEmptyRepetitionError(e){let t=Vl(e.repetition);return e.repetition.idx!==0&&(t+=e.repetition.idx),`The repetition <${t}> within Rule <${e.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(e){return"deprecated"},buildEmptyAlternationError(e){return`Ambiguous empty alternative: <${e.emptyChoiceIdx+1}> in <OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(e){return`An Alternation cannot have more than 256 alternatives:
<OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.
 has ${e.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(e){let t=e.topLevelRule.name,r=sr(e.leftRecursionPath,o=>o.name),n=`${t} --> ${r.concat([t]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${t}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${n}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(e){return"deprecated"},buildDuplicateRuleNameError(e){let t;return e.topLevelRule instanceof Wg?t=e.topLevelRule.name:t=e.topLevelRule,`Duplicate definition, rule: ->${t}<- is already defined in the grammar: ->${e.grammarName}<-`}};a(mue,"resolveGrammar");_(mue,"resolveGrammar");ZWe=class extends Hg{static{a(this,"GastRefResolverVisitor")}static{_(this,"GastRefResolverVisitor")}constructor(e,t){super(),this.nameToTopRule=e,this.errMsgProvider=t,this.errors=[]}resolveRefs(){Sr(ca(this.nameToTopRule),e=>{this.currTopLevel=e,e.accept(this)})}visitNonTerminal(e){let t=this.nameToTopRule[e.nonTerminalName];if(t)e.referencedRule=t;else{let r=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:r,type:Ro.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}},JWe=class extends LE{static{a(this,"AbstractNextPossibleTokensWalker")}static{_(this,"AbstractNextPossibleTokensWalker")}constructor(e,t){super(),this.topProd=e,this.path=t,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=Xa(this.path.ruleStack).reverse(),this.occurrenceStack=Xa(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(e,t=[]){this.found||super.walk(e,t)}walkProdRef(e,t,r){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){let n=t.concat(r);this.updateExpectedNext(),this.walk(e.referencedRule,n)}}updateExpectedNext(){Kn(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}},eHe=class extends JWe{static{a(this,"NextAfterTokenWalker")}static{_(this,"NextAfterTokenWalker")}constructor(e,t){super(e,t),this.path=t,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(e,t,r){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){let n=t.concat(r),i=new Qo({definition:n});this.possibleTokTypes=jg(i),this.found=!0}}},PE=class extends LE{static{a(this,"AbstractNextTerminalAfterProductionWalker")}static{_(this,"AbstractNextTerminalAfterProductionWalker")}constructor(e,t){super(),this.topRule=e,this.occurrence=t,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}},tHe=class extends PE{static{a(this,"NextTerminalAfterManyWalker")}static{_(this,"NextTerminalAfterManyWalker")}walkMany(e,t,r){if(e.idx===this.occurrence){let n=Jl(t.concat(r));this.result.isEndOfRule=n===void 0,n instanceof hi&&(this.result.token=n.terminalType,this.result.occurrence=n.idx)}else super.walkMany(e,t,r)}},ere=class extends PE{static{a(this,"NextTerminalAfterManySepWalker")}static{_(this,"NextTerminalAfterManySepWalker")}walkManySep(e,t,r){if(e.idx===this.occurrence){let n=Jl(t.concat(r));this.result.isEndOfRule=n===void 0,n instanceof hi&&(this.result.token=n.terminalType,this.result.occurrence=n.idx)}else super.walkManySep(e,t,r)}},rHe=class extends PE{static{a(this,"NextTerminalAfterAtLeastOneWalker")}static{_(this,"NextTerminalAfterAtLeastOneWalker")}walkAtLeastOne(e,t,r){if(e.idx===this.occurrence){let n=Jl(t.concat(r));this.result.isEndOfRule=n===void 0,n instanceof hi&&(this.result.token=n.terminalType,this.result.occurrence=n.idx)}else super.walkAtLeastOne(e,t,r)}},tre=class extends PE{static{a(this,"NextTerminalAfterAtLeastOneSepWalker")}static{_(this,"NextTerminalAfterAtLeastOneSepWalker")}walkAtLeastOneSep(e,t,r){if(e.idx===this.occurrence){let n=Jl(t.concat(r));this.result.isEndOfRule=n===void 0,n instanceof hi&&(this.result.token=n.terminalType,this.result.occurrence=n.idx)}else super.walkAtLeastOneSep(e,t,r)}};a(jw,"possiblePathsFrom");_(jw,"possiblePathsFrom");a(BP,"nextPossibleTokensAfter");_(BP,"nextPossibleTokensAfter");a(gue,"expandTopLevelRule");_(gue,"expandTopLevelRule");(function(e){e[e.OPTION=0]="OPTION",e[e.REPETITION=1]="REPETITION",e[e.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",e[e.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",e[e.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",e[e.ALTERNATION=5]="ALTERNATION"})(xi||(xi={}));a(OE,"getProdType");_(OE,"getProdType");a(YI,"getLookaheadPaths");_(YI,"getLookaheadPaths");a(yue,"buildLookaheadFuncForOr");_(yue,"buildLookaheadFuncForOr");a(vue,"buildLookaheadFuncForOptionalProd");_(vue,"buildLookaheadFuncForOptionalProd");a(xue,"buildAlternativesLookAheadFunc");_(xue,"buildAlternativesLookAheadFunc");a(bue,"buildSingleAlternativeLookaheadFunction");_(bue,"buildSingleAlternativeLookaheadFunction");nHe=class extends LE{static{a(this,"RestDefinitionFinderWalker")}static{_(this,"RestDefinitionFinderWalker")}constructor(e,t,r){super(),this.topProd=e,this.targetOccurrence=t,this.targetProdType=r}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(e,t,r,n){return e.idx===this.targetOccurrence&&this.targetProdType===t?(this.restDef=r.concat(n),!0):!1}walkOption(e,t,r){this.checkIsTarget(e,xi.OPTION,t,r)||super.walkOption(e,t,r)}walkAtLeastOne(e,t,r){this.checkIsTarget(e,xi.REPETITION_MANDATORY,t,r)||super.walkOption(e,t,r)}walkAtLeastOneSep(e,t,r){this.checkIsTarget(e,xi.REPETITION_MANDATORY_WITH_SEPARATOR,t,r)||super.walkOption(e,t,r)}walkMany(e,t,r){this.checkIsTarget(e,xi.REPETITION,t,r)||super.walkOption(e,t,r)}walkManySep(e,t,r){this.checkIsTarget(e,xi.REPETITION_WITH_SEPARATOR,t,r)||super.walkOption(e,t,r)}},Tue=class extends Hg{static{a(this,"InsideDefinitionFinderVisitor")}static{_(this,"InsideDefinitionFinderVisitor")}constructor(e,t,r){super(),this.targetOccurrence=e,this.targetProdType=t,this.targetRef=r,this.result=[]}checkIsTarget(e,t){e.idx===this.targetOccurrence&&this.targetProdType===t&&(this.targetRef===void 0||e===this.targetRef)&&(this.result=e.definition)}visitOption(e){this.checkIsTarget(e,xi.OPTION)}visitRepetition(e){this.checkIsTarget(e,xi.REPETITION)}visitRepetitionMandatory(e){this.checkIsTarget(e,xi.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(e){this.checkIsTarget(e,xi.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(e){this.checkIsTarget(e,xi.REPETITION_WITH_SEPARATOR)}visitAlternation(e){this.checkIsTarget(e,xi.ALTERNATION)}};a(XI,"initializeArrayOfArrays");_(XI,"initializeArrayOfArrays");a(sw,"pathToHashKeys");_(sw,"pathToHashKeys");a(kue,"isUniquePrefixHash");_(kue,"isUniquePrefixHash");a(qP,"lookAheadSequenceFromAlternatives");_(qP,"lookAheadSequenceFromAlternatives");a(ox,"getLookaheadPathsForOr");_(ox,"getLookaheadPathsForOr");a(sx,"getLookaheadPathsForOptionalProd");_(sx,"getLookaheadPathsForOptionalProd");a(Yw,"containsPath");_(Yw,"containsPath");a(_ue,"isStrictPrefixOfPath");_(_ue,"isStrictPrefixOfPath");a(zP,"areTokenCategoriesNotUsed");_(zP,"areTokenCategoriesNotUsed");a(wue,"validateLookahead");_(wue,"validateLookahead");a(Eue,"validateGrammar");_(Eue,"validateGrammar");a(Cue,"validateDuplicateProductions");_(Cue,"validateDuplicateProductions");a(Sue,"identifyProductionForDuplicates");_(Sue,"identifyProductionForDuplicates");a(UP,"getExtraProductionArgument");_(UP,"getExtraProductionArgument");iHe=class extends Hg{static{a(this,"OccurrenceValidationCollector")}static{_(this,"OccurrenceValidationCollector")}constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(e){this.allProductions.push(e)}visitOption(e){this.allProductions.push(e)}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}visitAlternation(e){this.allProductions.push(e)}visitTerminal(e){this.allProductions.push(e)}};a(Aue,"validateRuleDoesNotAlreadyExist");_(Aue,"validateRuleDoesNotAlreadyExist");a(Rue,"validateRuleIsOverridden");_(Rue,"validateRuleIsOverridden");a($P,"validateNoLeftRecursion");_($P,"validateNoLeftRecursion");a(y1,"getFirstNoneTerminal");_(y1,"getFirstNoneTerminal");GP=class extends Hg{static{a(this,"OrCollector")}static{_(this,"OrCollector")}constructor(){super(...arguments),this.alternations=[]}visitAlternation(e){this.alternations.push(e)}};a(Due,"validateEmptyOrAlternative");_(Due,"validateEmptyOrAlternative");a(Lue,"validateAmbiguousAlternationAlternatives");_(Lue,"validateAmbiguousAlternationAlternatives");aHe=class extends Hg{static{a(this,"RepetitionCollector")}static{_(this,"RepetitionCollector")}constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}};a(Iue,"validateTooManyAlts");_(Iue,"validateTooManyAlts");a(Nue,"validateSomeNonEmptyLookaheadPath");_(Nue,"validateSomeNonEmptyLookaheadPath");a(Pue,"checkAlternativesAmbiguities");_(Pue,"checkAlternativesAmbiguities");a(Oue,"checkPrefixAlternativesAmbiguities");_(Oue,"checkPrefixAlternativesAmbiguities");a(Mue,"checkTerminalAndNoneTerminalsNameSpace");_(Mue,"checkTerminalAndNoneTerminalsNameSpace");a(Fue,"resolveGrammar2");_(Fue,"resolveGrammar");a(Bue,"validateGrammar2");_(Bue,"validateGrammar");que="MismatchedTokenException",zue="NoViableAltException",Uue="EarlyExitException",$ue="NotAllInputParsedException",Gue=[que,zue,Uue,$ue];Object.freeze(Gue);a(B1,"isRecognitionException");_(B1,"isRecognitionException");ME=class extends Error{static{a(this,"RecognitionException")}static{_(this,"RecognitionException")}constructor(e,t){super(e),this.token=t,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},Vue=class extends ME{static{a(this,"MismatchedTokenException")}static{_(this,"MismatchedTokenException")}constructor(e,t,r){super(e,t),this.previousToken=r,this.name=que}},oHe=class extends ME{static{a(this,"NoViableAltException")}static{_(this,"NoViableAltException")}constructor(e,t,r){super(e,t),this.previousToken=r,this.name=zue}},sHe=class extends ME{static{a(this,"NotAllInputParsedException")}static{_(this,"NotAllInputParsedException")}constructor(e,t){super(e,t),this.name=$ue}},lHe=class extends ME{static{a(this,"EarlyExitException")}static{_(this,"EarlyExitException")}constructor(e,t,r){super(e,t),this.previousToken=r,this.name=Uue}},uI={},Wue="InRuleRecoveryException",cHe=class extends Error{static{a(this,"InRuleRecoveryException")}static{_(this,"InRuleRecoveryException")}constructor(e){super(e),this.name=Wue}},uHe=class{static{a(this,"Recoverable")}static{_(this,"Recoverable")}initRecoverable(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=Rr(e,"recoveryEnabled")?e.recoveryEnabled:Wu.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=Hue)}getTokenToInsert(e){let t=NE(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return t.isInsertedInRecovery=!0,t}canTokenTypeBeInsertedInRecovery(e){return!0}canTokenTypeBeDeletedInRecovery(e){return!0}tryInRepetitionRecovery(e,t,r,n){let i=this.findReSyncTokenType(),o=this.exportLexerState(),s=[],u=!1,f=this.LA(1),p=this.LA(1),g=_(()=>{let y=this.LA(0),x=this.errorMessageProvider.buildMismatchTokenMessage({expected:n,actual:f,previous:y,ruleName:this.getCurrRuleFullName()}),b=new Vue(x,f,this.LA(0));b.resyncedTokens=O1(s),this.SAVE_ERROR(b)},"generateErrorMessage");for(;!u;)if(this.tokenMatcher(p,n)){g();return}else if(r.call(this)){g(),e.apply(this,t);return}else this.tokenMatcher(p,i)?u=!0:(p=this.SKIP_TOKEN(),this.addToResyncTokens(p,s));this.importLexerState(o)}shouldInRepetitionRecoveryBeTried(e,t,r){return!(r===!1||this.tokenMatcher(this.LA(1),e)||this.isBackTracking()||this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,t)))}getFollowsForInRuleRecovery(e,t){let r=this.getCurrentGrammarPath(e,t);return this.getNextPossibleTokenTypes(r)}tryInRuleRecovery(e,t){if(this.canRecoverWithSingleTokenInsertion(e,t))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){let r=this.SKIP_TOKEN();return this.consumeToken(),r}throw new cHe("sad sad panda")}canPerformInRuleRecovery(e,t){return this.canRecoverWithSingleTokenInsertion(e,t)||this.canRecoverWithSingleTokenDeletion(e)}canRecoverWithSingleTokenInsertion(e,t){if(!this.canTokenTypeBeInsertedInRecovery(e)||Kn(t))return!1;let r=this.LA(1);return $g(t,i=>this.tokenMatcher(r,i))!==void 0}canRecoverWithSingleTokenDeletion(e){return this.canTokenTypeBeDeletedInRecovery(e)?this.tokenMatcher(this.LA(2),e):!1}isInCurrentRuleReSyncSet(e){let t=this.getCurrFollowKey(),r=this.getFollowSetFromFollowKey(t);return Do(r,e)}findReSyncTokenType(){let e=this.flattenFollowSet(),t=this.LA(1),r=2;for(;;){let n=$g(e,i=>FP(t,i));if(n!==void 0)return n;t=this.LA(r),r++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return uI;let e=this.getLastExplicitRuleShortName(),t=this.getLastExplicitRuleOccurrenceIndex(),r=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:t,inRule:this.shortRuleNameToFullName(r)}}buildFullFollowKeyStack(){let e=this.RULE_STACK,t=this.RULE_OCCURRENCE_STACK;return sr(e,(r,n)=>n===0?uI:{ruleName:this.shortRuleNameToFullName(r),idxInCallingRule:t[n],inRule:this.shortRuleNameToFullName(e[n-1])})}flattenFollowSet(){let e=sr(this.buildFullFollowKeyStack(),t=>this.getFollowSetFromFollowKey(t));return il(e)}getFollowSetFromFollowKey(e){if(e===uI)return[up];let t=e.ruleName+e.idxInCallingRule+Lce+e.inRule;return this.resyncFollows[t]}addToResyncTokens(e,t){return this.tokenMatcher(e,up)||t.push(e),t}reSyncTo(e){let t=[],r=this.LA(1);for(;this.tokenMatcher(r,e)===!1;)r=this.SKIP_TOKEN(),this.addToResyncTokens(r,t);return O1(t)}attemptInRepetitionRecovery(e,t,r,n,i,o,s){}getCurrentGrammarPath(e,t){let r=this.getHumanReadableRuleStack(),n=Xa(this.RULE_OCCURRENCE_STACK);return{ruleStack:r,occurrenceStack:n,lastTok:e,lastTokOccurrence:t}}getHumanReadableRuleStack(){return sr(this.RULE_STACK,e=>this.shortRuleNameToFullName(e))}};a(Hue,"attemptInRepetitionRecovery");_(Hue,"attemptInRepetitionRecovery");fHe=4,Nh=8,hHe=8,jue=1<<Nh,Yue=2<<Nh,KI=3<<Nh,QI=4<<Nh,ZI=5<<Nh,lw=6<<Nh;a(cw,"getKeyForAutomaticLookahead");_(cw,"getKeyForAutomaticLookahead");Q$t=32-hHe,VP=class{static{a(this,"LLkLookaheadStrategy")}static{_(this,"LLkLookaheadStrategy")}constructor(e){var t;this.maxLookahead=(t=e?.maxLookahead)!==null&&t!==void 0?t:Wu.maxLookahead}validate(e){let t=this.validateNoLeftRecursion(e.rules);if(Kn(t)){let r=this.validateEmptyOrAlternatives(e.rules),n=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),i=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return[...t,...r,...n,...i]}return t}validateNoLeftRecursion(e){return Ts(e,t=>$P(t,t,ep))}validateEmptyOrAlternatives(e){return Ts(e,t=>Due(t,ep))}validateAmbiguousAlternationAlternatives(e,t){return Ts(e,r=>Lue(r,t,ep))}validateSomeNonEmptyLookaheadPath(e,t){return Nue(e,t,ep)}buildLookaheadForAlternation(e){return yue(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,xue)}buildLookaheadForOptional(e){return vue(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,OE(e.prodType),bue)}},dHe=class{static{a(this,"LooksAhead")}static{_(this,"LooksAhead")}initLooksAhead(e){this.dynamicTokensEnabled=Rr(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:Wu.dynamicTokensEnabled,this.maxLookahead=Rr(e,"maxLookahead")?e.maxLookahead:Wu.maxLookahead,this.lookaheadStrategy=Rr(e,"lookaheadStrategy")?e.lookaheadStrategy:new VP({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(e){Sr(e,t=>{this.TRACE_INIT(`${t.name} Rule Lookahead`,()=>{let{alternation:r,repetition:n,option:i,repetitionMandatory:o,repetitionMandatoryWithSeparator:s,repetitionWithSeparator:u}=Xue(t);Sr(r,f=>{let p=f.idx===0?"":f.idx;this.TRACE_INIT(`${Vl(f)}${p}`,()=>{let g=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:f.idx,rule:t,maxLookahead:f.maxLookahead||this.maxLookahead,hasPredicates:f.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),y=cw(this.fullRuleNameToShort[t.name],jue,f.idx);this.setLaFuncCache(y,g)})}),Sr(n,f=>{this.computeLookaheadFunc(t,f.idx,KI,"Repetition",f.maxLookahead,Vl(f))}),Sr(i,f=>{this.computeLookaheadFunc(t,f.idx,Yue,"Option",f.maxLookahead,Vl(f))}),Sr(o,f=>{this.computeLookaheadFunc(t,f.idx,QI,"RepetitionMandatory",f.maxLookahead,Vl(f))}),Sr(s,f=>{this.computeLookaheadFunc(t,f.idx,lw,"RepetitionMandatoryWithSeparator",f.maxLookahead,Vl(f))}),Sr(u,f=>{this.computeLookaheadFunc(t,f.idx,ZI,"RepetitionWithSeparator",f.maxLookahead,Vl(f))})})})}computeLookaheadFunc(e,t,r,n,i,o){this.TRACE_INIT(`${o}${t===0?"":t}`,()=>{let s=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:t,rule:e,maxLookahead:i||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:n}),u=cw(this.fullRuleNameToShort[e.name],r,t);this.setLaFuncCache(u,s)})}getKeyForAutomaticLookahead(e,t){let r=this.getLastExplicitRuleShortName();return cw(r,e,t)}getLaFuncFromCache(e){return this.lookAheadFuncsCache.get(e)}setLaFuncCache(e,t){this.lookAheadFuncsCache.set(e,t)}},pHe=class extends Hg{static{a(this,"DslMethodsCollectorVisitor")}static{_(this,"DslMethodsCollectorVisitor")}constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(e){this.dslMethods.option.push(e)}visitRepetitionWithSeparator(e){this.dslMethods.repetitionWithSeparator.push(e)}visitRepetitionMandatory(e){this.dslMethods.repetitionMandatory.push(e)}visitRepetitionMandatoryWithSeparator(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)}visitRepetition(e){this.dslMethods.repetition.push(e)}visitAlternation(e){this.dslMethods.alternation.push(e)}},Y_=new pHe;a(Xue,"collectMethods");_(Xue,"collectMethods");a(JI,"setNodeLocationOnlyOffset");_(JI,"setNodeLocationOnlyOffset");a(eN,"setNodeLocationFull");_(eN,"setNodeLocationFull");a(Kue,"addTerminalToCst");_(Kue,"addTerminalToCst");a(Que,"addNoneTerminalToCst");_(Que,"addNoneTerminalToCst");mHe="name";a(WP,"defineNameProp");_(WP,"defineNameProp");a(Zue,"defaultVisit");_(Zue,"defaultVisit");a(Jue,"createBaseSemanticVisitorConstructor");_(Jue,"createBaseSemanticVisitorConstructor");a(efe,"createBaseVisitorConstructorWithDefaults");_(efe,"createBaseVisitorConstructorWithDefaults");(function(e){e[e.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",e[e.MISSING_METHOD=1]="MISSING_METHOD"})(tN||(tN={}));a(tfe,"validateVisitor");_(tfe,"validateVisitor");a(rfe,"validateMissingCstMethods");_(rfe,"validateMissingCstMethods");gHe=class{static{a(this,"TreeBuilder")}static{_(this,"TreeBuilder")}initTreeBuilder(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=Rr(e,"nodeLocationTracking")?e.nodeLocationTracking:Wu.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=la,this.cstFinallyStateUpdate=la,this.cstPostTerminal=la,this.cstPostNonTerminal=la,this.cstPostRule=la;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=eN,this.setNodeLocationFromNode=eN,this.cstPostRule=la,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=la,this.setNodeLocationFromNode=la,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=JI,this.setNodeLocationFromNode=JI,this.cstPostRule=la,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=la,this.setNodeLocationFromNode=la,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=la,this.setNodeLocationFromNode=la,this.cstPostRule=la,this.setInitialNodeLocation=la;else throw Error(`Invalid <nodeLocationTracking> config option: "${e.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(e){e.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(e){let t=this.LA(1);e.location={startOffset:t.startOffset,startLine:t.startLine,startColumn:t.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(e){let t={name:e,children:Object.create(null)};this.setInitialNodeLocation(t),this.CST_STACK.push(t)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(e){let t=this.LA(0),r=e.location;r.startOffset<=t.startOffset?(r.endOffset=t.endOffset,r.endLine=t.endLine,r.endColumn=t.endColumn):(r.startOffset=NaN,r.startLine=NaN,r.startColumn=NaN)}cstPostRuleOnlyOffset(e){let t=this.LA(0),r=e.location;r.startOffset<=t.startOffset?r.endOffset=t.endOffset:r.startOffset=NaN}cstPostTerminal(e,t){let r=this.CST_STACK[this.CST_STACK.length-1];Kue(r,t,e),this.setNodeLocationFromToken(r.location,t)}cstPostNonTerminal(e,t){let r=this.CST_STACK[this.CST_STACK.length-1];Que(r,t,e),this.setNodeLocationFromNode(r.location,e.location)}getBaseCstVisitorConstructor(){if(Gu(this.baseCstVisitorConstructor)){let e=Jue(this.className,ks(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(Gu(this.baseCstVisitorWithDefaultsConstructor)){let e=efe(this.className,ks(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){let e=this.RULE_STACK;return e[e.length-1]}getPreviousExplicitRuleShortName(){let e=this.RULE_STACK;return e[e.length-2]}getLastExplicitRuleOccurrenceIndex(){let e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}},yHe=class{static{a(this,"LexerAdapter")}static{_(this,"LexerAdapter")}initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(e){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):Xw}LA(e){let t=this.currIdx+e;return t<0||this.tokVectorLength<=t?Xw:this.tokVector[t]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(e){this.currIdx=e}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}},vHe=class{static{a(this,"RecognizerApi")}static{_(this,"RecognizerApi")}ACTION(e){return e.call(this)}consume(e,t,r){return this.consumeInternal(t,e,r)}subrule(e,t,r){return this.subruleInternal(t,e,r)}option(e,t){return this.optionInternal(t,e)}or(e,t){return this.orInternal(t,e)}many(e,t){return this.manyInternal(e,t)}atLeastOne(e,t){return this.atLeastOneInternal(e,t)}CONSUME(e,t){return this.consumeInternal(e,0,t)}CONSUME1(e,t){return this.consumeInternal(e,1,t)}CONSUME2(e,t){return this.consumeInternal(e,2,t)}CONSUME3(e,t){return this.consumeInternal(e,3,t)}CONSUME4(e,t){return this.consumeInternal(e,4,t)}CONSUME5(e,t){return this.consumeInternal(e,5,t)}CONSUME6(e,t){return this.consumeInternal(e,6,t)}CONSUME7(e,t){return this.consumeInternal(e,7,t)}CONSUME8(e,t){return this.consumeInternal(e,8,t)}CONSUME9(e,t){return this.consumeInternal(e,9,t)}SUBRULE(e,t){return this.subruleInternal(e,0,t)}SUBRULE1(e,t){return this.subruleInternal(e,1,t)}SUBRULE2(e,t){return this.subruleInternal(e,2,t)}SUBRULE3(e,t){return this.subruleInternal(e,3,t)}SUBRULE4(e,t){return this.subruleInternal(e,4,t)}SUBRULE5(e,t){return this.subruleInternal(e,5,t)}SUBRULE6(e,t){return this.subruleInternal(e,6,t)}SUBRULE7(e,t){return this.subruleInternal(e,7,t)}SUBRULE8(e,t){return this.subruleInternal(e,8,t)}SUBRULE9(e,t){return this.subruleInternal(e,9,t)}OPTION(e){return this.optionInternal(e,0)}OPTION1(e){return this.optionInternal(e,1)}OPTION2(e){return this.optionInternal(e,2)}OPTION3(e){return this.optionInternal(e,3)}OPTION4(e){return this.optionInternal(e,4)}OPTION5(e){return this.optionInternal(e,5)}OPTION6(e){return this.optionInternal(e,6)}OPTION7(e){return this.optionInternal(e,7)}OPTION8(e){return this.optionInternal(e,8)}OPTION9(e){return this.optionInternal(e,9)}OR(e){return this.orInternal(e,0)}OR1(e){return this.orInternal(e,1)}OR2(e){return this.orInternal(e,2)}OR3(e){return this.orInternal(e,3)}OR4(e){return this.orInternal(e,4)}OR5(e){return this.orInternal(e,5)}OR6(e){return this.orInternal(e,6)}OR7(e){return this.orInternal(e,7)}OR8(e){return this.orInternal(e,8)}OR9(e){return this.orInternal(e,9)}MANY(e){this.manyInternal(0,e)}MANY1(e){this.manyInternal(1,e)}MANY2(e){this.manyInternal(2,e)}MANY3(e){this.manyInternal(3,e)}MANY4(e){this.manyInternal(4,e)}MANY5(e){this.manyInternal(5,e)}MANY6(e){this.manyInternal(6,e)}MANY7(e){this.manyInternal(7,e)}MANY8(e){this.manyInternal(8,e)}MANY9(e){this.manyInternal(9,e)}MANY_SEP(e){this.manySepFirstInternal(0,e)}MANY_SEP1(e){this.manySepFirstInternal(1,e)}MANY_SEP2(e){this.manySepFirstInternal(2,e)}MANY_SEP3(e){this.manySepFirstInternal(3,e)}MANY_SEP4(e){this.manySepFirstInternal(4,e)}MANY_SEP5(e){this.manySepFirstInternal(5,e)}MANY_SEP6(e){this.manySepFirstInternal(6,e)}MANY_SEP7(e){this.manySepFirstInternal(7,e)}MANY_SEP8(e){this.manySepFirstInternal(8,e)}MANY_SEP9(e){this.manySepFirstInternal(9,e)}AT_LEAST_ONE(e){this.atLeastOneInternal(0,e)}AT_LEAST_ONE1(e){return this.atLeastOneInternal(1,e)}AT_LEAST_ONE2(e){this.atLeastOneInternal(2,e)}AT_LEAST_ONE3(e){this.atLeastOneInternal(3,e)}AT_LEAST_ONE4(e){this.atLeastOneInternal(4,e)}AT_LEAST_ONE5(e){this.atLeastOneInternal(5,e)}AT_LEAST_ONE6(e){this.atLeastOneInternal(6,e)}AT_LEAST_ONE7(e){this.atLeastOneInternal(7,e)}AT_LEAST_ONE8(e){this.atLeastOneInternal(8,e)}AT_LEAST_ONE9(e){this.atLeastOneInternal(9,e)}AT_LEAST_ONE_SEP(e){this.atLeastOneSepFirstInternal(0,e)}AT_LEAST_ONE_SEP1(e){this.atLeastOneSepFirstInternal(1,e)}AT_LEAST_ONE_SEP2(e){this.atLeastOneSepFirstInternal(2,e)}AT_LEAST_ONE_SEP3(e){this.atLeastOneSepFirstInternal(3,e)}AT_LEAST_ONE_SEP4(e){this.atLeastOneSepFirstInternal(4,e)}AT_LEAST_ONE_SEP5(e){this.atLeastOneSepFirstInternal(5,e)}AT_LEAST_ONE_SEP6(e){this.atLeastOneSepFirstInternal(6,e)}AT_LEAST_ONE_SEP7(e){this.atLeastOneSepFirstInternal(7,e)}AT_LEAST_ONE_SEP8(e){this.atLeastOneSepFirstInternal(8,e)}AT_LEAST_ONE_SEP9(e){this.atLeastOneSepFirstInternal(9,e)}RULE(e,t,r=Kw){if(Do(this.definedRulesNames,e)){let o={message:ep.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:Ro.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(o)}this.definedRulesNames.push(e);let n=this.defineRule(e,t,r);return this[e]=n,n}OVERRIDE_RULE(e,t,r=Kw){let n=Rue(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(n);let i=this.defineRule(e,t,r);return this[e]=i,i}BACKTRACK(e,t){return function(){this.isBackTrackingStack.push(1);let r=this.saveRecogState();try{return e.apply(this,t),!0}catch(n){if(B1(n))return!1;throw n}finally{this.reloadRecogState(r),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return Ece(ca(this.gastProductionsCache))}},xHe=class{static{a(this,"RecognizerEngine")}static{_(this,"RecognizerEngine")}initRecognizerEngine(e,t){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=F1,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},Rr(t,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(yn(e)){if(Kn(e))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof e[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(yn(e))this.tokensMap=So(e,(i,o)=>(i[o.name]=o,i),{});else if(Rr(e,"modes")&&Xl(il(ca(e.modes)),due)){let i=il(ca(e.modes)),o=CP(i);this.tokensMap=So(o,(s,u)=>(s[u.name]=u,s),{})}else if(ol(e))this.tokensMap=Xa(e);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=up;let r=Rr(e,"modes")?il(ca(e.modes)):ca(e),n=Xl(r,i=>Kn(i.categoryMatches));this.tokenMatcher=n?F1:Yg,Xg(ca(this.tokensMap))}defineRule(e,t,r){if(this.selfAnalysisDone)throw Error(`Grammar rule <${e}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);let n=Rr(r,"resyncEnabled")?r.resyncEnabled:Kw.resyncEnabled,i=Rr(r,"recoveryValueFunc")?r.recoveryValueFunc:Kw.recoveryValueFunc,o=this.ruleShortNameIdx<<fHe+Nh;this.ruleShortNameIdx++,this.shortRuleNameToFull[o]=e,this.fullRuleNameToShort[e]=o;let s;return this.outputCst===!0?s=_(a(function(...p){try{this.ruleInvocationStateUpdate(o,e,this.subruleIdx),t.apply(this,p);let g=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(g),g}catch(g){return this.invokeRuleCatch(g,n,i)}finally{this.ruleFinallyStateUpdate()}},"invokeRuleWithTry2"),"invokeRuleWithTry"):s=_(a(function(...p){try{return this.ruleInvocationStateUpdate(o,e,this.subruleIdx),t.apply(this,p)}catch(g){return this.invokeRuleCatch(g,n,i)}finally{this.ruleFinallyStateUpdate()}},"invokeRuleWithTryCst"),"invokeRuleWithTryCst"),Object.assign(s,{ruleName:e,originalGrammarAction:t})}invokeRuleCatch(e,t,r){let n=this.RULE_STACK.length===1,i=t&&!this.isBackTracking()&&this.recoveryEnabled;if(B1(e)){let o=e;if(i){let s=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(s))if(o.resyncedTokens=this.reSyncTo(s),this.outputCst){let u=this.CST_STACK[this.CST_STACK.length-1];return u.recoveredNode=!0,u}else return r(e);else{if(this.outputCst){let u=this.CST_STACK[this.CST_STACK.length-1];u.recoveredNode=!0,o.partialCstResult=u}throw o}}else{if(n)return this.moveToTerminatedState(),r(e);throw o}}else throw e}optionInternal(e,t){let r=this.getKeyForAutomaticLookahead(Yue,t);return this.optionInternalLogic(e,t,r)}optionInternalLogic(e,t,r){let n=this.getLaFuncFromCache(r),i;if(typeof e!="function"){i=e.DEF;let o=e.GATE;if(o!==void 0){let s=n;n=_(()=>o.call(this)&&s.call(this),"lookAheadFunc")}}else i=e;if(n.call(this)===!0)return i.call(this)}atLeastOneInternal(e,t){let r=this.getKeyForAutomaticLookahead(QI,e);return this.atLeastOneInternalLogic(e,t,r)}atLeastOneInternalLogic(e,t,r){let n=this.getLaFuncFromCache(r),i;if(typeof t!="function"){i=t.DEF;let o=t.GATE;if(o!==void 0){let s=n;n=_(()=>o.call(this)&&s.call(this),"lookAheadFunc")}}else i=t;if(n.call(this)===!0){let o=this.doSingleRepetition(i);for(;n.call(this)===!0&&o===!0;)o=this.doSingleRepetition(i)}else throw this.raiseEarlyExitException(e,xi.REPETITION_MANDATORY,t.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,t],n,QI,e,rHe)}atLeastOneSepFirstInternal(e,t){let r=this.getKeyForAutomaticLookahead(lw,e);this.atLeastOneSepFirstInternalLogic(e,t,r)}atLeastOneSepFirstInternalLogic(e,t,r){let n=t.DEF,i=t.SEP;if(this.getLaFuncFromCache(r).call(this)===!0){n.call(this);let s=_(()=>this.tokenMatcher(this.LA(1),i),"separatorLookAheadFunc");for(;this.tokenMatcher(this.LA(1),i)===!0;)this.CONSUME(i),n.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,i,s,n,tre],s,lw,e,tre)}else throw this.raiseEarlyExitException(e,xi.REPETITION_MANDATORY_WITH_SEPARATOR,t.ERR_MSG)}manyInternal(e,t){let r=this.getKeyForAutomaticLookahead(KI,e);return this.manyInternalLogic(e,t,r)}manyInternalLogic(e,t,r){let n=this.getLaFuncFromCache(r),i;if(typeof t!="function"){i=t.DEF;let s=t.GATE;if(s!==void 0){let u=n;n=_(()=>s.call(this)&&u.call(this),"lookaheadFunction")}}else i=t;let o=!0;for(;n.call(this)===!0&&o===!0;)o=this.doSingleRepetition(i);this.attemptInRepetitionRecovery(this.manyInternal,[e,t],n,KI,e,tHe,o)}manySepFirstInternal(e,t){let r=this.getKeyForAutomaticLookahead(ZI,e);this.manySepFirstInternalLogic(e,t,r)}manySepFirstInternalLogic(e,t,r){let n=t.DEF,i=t.SEP;if(this.getLaFuncFromCache(r).call(this)===!0){n.call(this);let s=_(()=>this.tokenMatcher(this.LA(1),i),"separatorLookAheadFunc");for(;this.tokenMatcher(this.LA(1),i)===!0;)this.CONSUME(i),n.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,i,s,n,ere],s,ZI,e,ere)}}repetitionSepSecondInternal(e,t,r,n,i){for(;r();)this.CONSUME(t),n.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,t,r,n,i],r,lw,e,i)}doSingleRepetition(e){let t=this.getLexerPosition();return e.call(this),this.getLexerPosition()>t}orInternal(e,t){let r=this.getKeyForAutomaticLookahead(jue,t),n=yn(e)?e:e.DEF,o=this.getLaFuncFromCache(r).call(this,n);if(o!==void 0)return n[o].ALT.call(this);this.raiseNoAltException(t,e.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){let e=this.LA(1),t=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new sHe(t,e))}}subruleInternal(e,t,r){let n;try{let i=r!==void 0?r.ARGS:void 0;return this.subruleIdx=t,n=e.apply(this,i),this.cstPostNonTerminal(n,r!==void 0&&r.LABEL!==void 0?r.LABEL:e.ruleName),n}catch(i){throw this.subruleInternalError(i,r,e.ruleName)}}subruleInternalError(e,t,r){throw B1(e)&&e.partialCstResult!==void 0&&(this.cstPostNonTerminal(e.partialCstResult,t!==void 0&&t.LABEL!==void 0?t.LABEL:r),delete e.partialCstResult),e}consumeInternal(e,t,r){let n;try{let i=this.LA(1);this.tokenMatcher(i,e)===!0?(this.consumeToken(),n=i):this.consumeInternalError(e,i,r)}catch(i){n=this.consumeInternalRecovery(e,t,i)}return this.cstPostTerminal(r!==void 0&&r.LABEL!==void 0?r.LABEL:e.name,n),n}consumeInternalError(e,t,r){let n,i=this.LA(0);throw r!==void 0&&r.ERR_MSG?n=r.ERR_MSG:n=this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:t,previous:i,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new Vue(n,t,i))}consumeInternalRecovery(e,t,r){if(this.recoveryEnabled&&r.name==="MismatchedTokenException"&&!this.isBackTracking()){let n=this.getFollowsForInRuleRecovery(e,t);try{return this.tryInRuleRecovery(e,n)}catch(i){throw i.name===Wue?r:i}}else throw r}saveRecogState(){let e=this.errors,t=Xa(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:t,CST_STACK:this.CST_STACK}}reloadRecogState(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK}ruleInvocationStateUpdate(e,t,r){this.RULE_OCCURRENCE_STACK.push(r),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(t)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){let e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}shortRuleNameToFullName(e){return this.shortRuleNameToFull[e]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),up)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}},bHe=class{static{a(this,"ErrorHandler")}static{_(this,"ErrorHandler")}initErrorHandler(e){this._errors=[],this.errorMessageProvider=Rr(e,"errorMessageProvider")?e.errorMessageProvider:Wu.errorMessageProvider}SAVE_ERROR(e){if(B1(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:Xa(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return Xa(this._errors)}set errors(e){this._errors=e}raiseEarlyExitException(e,t,r){let n=this.getCurrRuleFullName(),i=this.getGAstProductions()[n],s=sx(e,i,t,this.maxLookahead)[0],u=[];for(let p=1;p<=this.maxLookahead;p++)u.push(this.LA(p));let f=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:s,actual:u,previous:this.LA(0),customUserDescription:r,ruleName:n});throw this.SAVE_ERROR(new lHe(f,this.LA(1),this.LA(0)))}raiseNoAltException(e,t){let r=this.getCurrRuleFullName(),n=this.getGAstProductions()[r],i=ox(e,n,this.maxLookahead),o=[];for(let f=1;f<=this.maxLookahead;f++)o.push(this.LA(f));let s=this.LA(0),u=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:i,actual:o,previous:s,customUserDescription:t,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new oHe(u,this.LA(1),s))}},THe=class{static{a(this,"ContentAssist")}static{_(this,"ContentAssist")}initContentAssist(){}computeContentAssist(e,t){let r=this.gastProductionsCache[e];if(Gu(r))throw Error(`Rule ->${e}<- does not exist in this grammar.`);return BP([r],t,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(e){let t=Jl(e.ruleStack),n=this.getGAstProductions()[t];return new eHe(n,e).startWalking()}},FE={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(FE);rre=!0,nre=Math.pow(2,Nh)-1,nfe=MP({name:"RECORDING_PHASE_TOKEN",pattern:Yo.NA});Xg([nfe]);ife=NE(nfe,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(ife);kHe={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}},_He=class{static{a(this,"GastRecorder")}static{_(this,"GastRecorder")}initGastRecorder(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let e=0;e<10;e++){let t=e>0?e:"";this[`CONSUME${t}`]=function(r,n){return this.consumeInternalRecord(r,e,n)},this[`SUBRULE${t}`]=function(r,n){return this.subruleInternalRecord(r,e,n)},this[`OPTION${t}`]=function(r){return this.optionInternalRecord(r,e)},this[`OR${t}`]=function(r){return this.orInternalRecord(r,e)},this[`MANY${t}`]=function(r){this.manyInternalRecord(e,r)},this[`MANY_SEP${t}`]=function(r){this.manySepFirstInternalRecord(e,r)},this[`AT_LEAST_ONE${t}`]=function(r){this.atLeastOneInternalRecord(e,r)},this[`AT_LEAST_ONE_SEP${t}`]=function(r){this.atLeastOneSepFirstInternalRecord(e,r)}}this.consume=function(e,t,r){return this.consumeInternalRecord(t,e,r)},this.subrule=function(e,t,r){return this.subruleInternalRecord(t,e,r)},this.option=function(e,t){return this.optionInternalRecord(t,e)},this.or=function(e,t){return this.orInternalRecord(t,e)},this.many=function(e,t){this.manyInternalRecord(e,t)},this.atLeastOne=function(e,t){this.atLeastOneInternalRecord(e,t)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{let e=this;for(let t=0;t<10;t++){let r=t>0?t:"";delete e[`CONSUME${r}`],delete e[`SUBRULE${r}`],delete e[`OPTION${r}`],delete e[`OR${r}`],delete e[`MANY${r}`],delete e[`MANY_SEP${r}`],delete e[`AT_LEAST_ONE${r}`],delete e[`AT_LEAST_ONE_SEP${r}`]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA})}ACTION_RECORD(e){}BACKTRACK_RECORD(e,t){return()=>!0}LA_RECORD(e){return Xw}topLevelRuleRecord(e,t){try{let r=new Wg({definition:[],name:e});return r.name=e,this.recordingProdStack.push(r),t.call(this),this.recordingProdStack.pop(),r}catch(r){if(r.KNOWN_RECORDER_ERROR!==!0)try{r.message=r.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw r}throw r}}optionInternalRecord(e,t){return Sg.call(this,ja,e,t)}atLeastOneInternalRecord(e,t){Sg.call(this,Es,t,e)}atLeastOneSepFirstInternalRecord(e,t){Sg.call(this,Cs,t,e,rre)}manyInternalRecord(e,t){Sg.call(this,Di,t,e)}manySepFirstInternalRecord(e,t){Sg.call(this,Jo,t,e,rre)}orInternalRecord(e,t){return afe.call(this,e,t)}subruleInternalRecord(e,t,r){if(q1(t),!e||Rr(e,"ruleName")===!1){let s=new Error(`<SUBRULE${rN(t)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw s.KNOWN_RECORDER_ERROR=!0,s}let n=Ug(this.recordingProdStack),i=e.ruleName,o=new Ao({idx:t,nonTerminalName:i,label:r?.LABEL,referencedRule:void 0});return n.definition.push(o),this.outputCst?kHe:FE}consumeInternalRecord(e,t,r){if(q1(t),!PP(e)){let o=new Error(`<CONSUME${rN(t)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw o.KNOWN_RECORDER_ERROR=!0,o}let n=Ug(this.recordingProdStack),i=new hi({idx:t,terminalType:e,label:r?.LABEL});return n.definition.push(i),ife}};a(Sg,"recordProd");_(Sg,"recordProd");a(afe,"recordOrProd");_(afe,"recordOrProd");a(rN,"getIdxSuffix");_(rN,"getIdxSuffix");a(q1,"assertMethodIdxIsValid");_(q1,"assertMethodIdxIsValid");wHe=class{static{a(this,"PerformanceTracer")}static{_(this,"PerformanceTracer")}initPerformanceTracer(e){if(Rr(e,"traceInitPerf")){let t=e.traceInitPerf,r=typeof t=="number";this.traceInitMaxIdent=r?t:1/0,this.traceInitPerf=r?t>0:t}else this.traceInitMaxIdent=0,this.traceInitPerf=Wu.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(e,t){if(this.traceInitPerf===!0){this.traceInitIndent++;let r=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${r}--> <${e}>`);let{time:n,value:i}=AP(t),o=n>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&o(`${r}<-- <${e}> time: ${n}ms`),this.traceInitIndent--,i}else return t()}};a(ofe,"applyMixins");_(ofe,"applyMixins");Xw=NE(up,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(Xw);Wu=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:Dg,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),Kw=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});(function(e){e[e.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",e[e.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",e[e.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",e[e.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",e[e.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",e[e.LEFT_RECURSION=5]="LEFT_RECURSION",e[e.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",e[e.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",e[e.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",e[e.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",e[e.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",e[e.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",e[e.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",e[e.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(Ro||(Ro={}));a(nN,"EMPTY_ALT");_(nN,"EMPTY_ALT");HP=class sfe{static{a(this,"_Parser")}static{_(this,"Parser")}static performSelfAnalysis(t){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let t;this.selfAnalysisDone=!0;let r=this.className;this.TRACE_INIT("toFastProps",()=>{RP(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),Sr(this.definedRulesNames,i=>{let s=this[i].originalGrammarAction,u;this.TRACE_INIT(`${i} Rule`,()=>{u=this.topLevelRuleRecord(i,s)}),this.gastProductionsCache[i]=u})}finally{this.disableRecording()}});let n=[];if(this.TRACE_INIT("Grammar Resolving",()=>{n=Fue({rules:ca(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(n)}),this.TRACE_INIT("Grammar Validations",()=>{if(Kn(n)&&this.skipValidations===!1){let i=Bue({rules:ca(this.gastProductionsCache),tokenTypes:ca(this.tokensMap),errMsgProvider:ep,grammarName:r}),o=wue({lookaheadStrategy:this.lookaheadStrategy,rules:ca(this.gastProductionsCache),tokenTypes:ca(this.tokensMap),grammarName:r});this.definitionErrors=this.definitionErrors.concat(i,o)}}),Kn(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{let i=Ice(ca(this.gastProductionsCache));this.resyncFollows=i}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var i,o;(o=(i=this.lookaheadStrategy).initialize)===null||o===void 0||o.call(i,{rules:ca(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(ca(this.gastProductionsCache))})),!sfe.DEFER_DEFINITION_ERRORS_HANDLING&&!Kn(this.definitionErrors))throw t=sr(this.definitionErrors,i=>i.message),new Error(`Parser Definition Errors detected:
 ${t.join(`
-------------------------------
`)}`)})}constructor(t,r){this.definitionErrors=[],this.selfAnalysisDone=!1;let n=this;if(n.initErrorHandler(r),n.initLexerAdapter(),n.initLooksAhead(r),n.initRecognizerEngine(t,r),n.initRecoverable(r),n.initTreeBuilder(r),n.initContentAssist(),n.initGastRecorder(r),n.initPerformanceTracer(r),Rr(r,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=Rr(r,"skipValidations")?r.skipValidations:Wu.skipValidations}};HP.DEFER_DEFINITION_ERRORS_HANDLING=!1;ofe(HP,[uHe,dHe,gHe,yHe,xHe,vHe,bHe,THe,_He,wHe]);EHe=class extends HP{static{a(this,"EmbeddedActionsParser")}static{_(this,"EmbeddedActionsParser")}constructor(e,t=Wu){let r=Xa(t);r.outputCst=!1,super(e,r)}};a(fp,"buildATNKey");_(fp,"buildATNKey");Ch=1,CHe=2,lfe=4,cfe=5,lx=7,SHe=8,AHe=9,RHe=10,DHe=11,ufe=12,jP=class{static{a(this,"AbstractTransition")}static{_(this,"AbstractTransition")}constructor(e){this.target=e}isEpsilon(){return!1}},YP=class extends jP{static{a(this,"AtomTransition")}static{_(this,"AtomTransition")}constructor(e,t){super(e),this.tokenType=t}},ffe=class extends jP{static{a(this,"EpsilonTransition")}static{_(this,"EpsilonTransition")}constructor(e){super(e)}isEpsilon(){return!0}},XP=class extends jP{static{a(this,"RuleTransition")}static{_(this,"RuleTransition")}constructor(e,t,r){super(e),this.rule=t,this.followState=r}isEpsilon(){return!0}};a(hfe,"createATN");_(hfe,"createATN");a(dfe,"createRuleStartAndStopATNStates");_(dfe,"createRuleStartAndStopATNStates");a(KP,"atom");_(KP,"atom");a(pfe,"repetition");_(pfe,"repetition");a(mfe,"repetitionSep");_(mfe,"repetitionSep");a(gfe,"repetitionMandatory");_(gfe,"repetitionMandatory");a(yfe,"repetitionMandatorySep");_(yfe,"repetitionMandatorySep");a(vfe,"alternation");_(vfe,"alternation");a(xfe,"option");_(xfe,"option");a(Ph,"block");_(Ph,"block");a(QP,"plus");_(QP,"plus");a(ZP,"star");_(ZP,"star");a(bfe,"optional");_(bfe,"optional");a(Xu,"defineDecisionState");_(Xu,"defineDecisionState");a(kp,"makeAlts");_(kp,"makeAlts");a(Tfe,"getProdType2");_(Tfe,"getProdType");a(kfe,"makeBlock");_(kfe,"makeBlock");a(BE,"tokenRef");_(BE,"tokenRef");a(_fe,"ruleRef");_(_fe,"ruleRef");a(wfe,"buildRuleHandle");_(wfe,"buildRuleHandle");a(Ui,"epsilon");_(Ui,"epsilon");a(ua,"newState");_(ua,"newState");a(qE,"addTransition");_(qE,"addTransition");a(Efe,"removeState");_(Efe,"removeState");Qw={},iN=class{static{a(this,"ATNConfigSet")}static{_(this,"ATNConfigSet")}constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(e){let t=JP(e);t in this.map||(this.map[t]=this.configs.length,this.configs.push(e))}get elements(){return this.configs}get alts(){return sr(this.configs,e=>e.alt)}get key(){let e="";for(let t in this.map)e+=t+":";return e}};a(JP,"getATNConfigKey");_(JP,"getATNConfigKey");a(Cfe,"createDFACache");_(Cfe,"createDFACache");Sfe=class{static{a(this,"PredicateSet")}static{_(this,"PredicateSet")}constructor(){this.predicates=[]}is(e){return e>=this.predicates.length||this.predicates[e]}set(e,t){this.predicates[e]=t}toString(){let e="",t=this.predicates.length;for(let r=0;r<t;r++)e+=this.predicates[r]===!0?"1":"0";return e}},ire=new Sfe,LHe=class extends VP{static{a(this,"LLStarLookaheadStrategy")}static{_(this,"LLStarLookaheadStrategy")}constructor(e){var t;super(),this.logging=(t=e?.logging)!==null&&t!==void 0?t:r=>console.log(r)}initialize(e){this.atn=hfe(e.rules),this.dfas=Afe(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(e){let{prodOccurrence:t,rule:r,hasPredicates:n,dynamicTokensEnabled:i}=e,o=this.dfas,s=this.logging,u=fp(r,"Alternation",t),p=this.atn.decisionMap[u].decision,g=sr(YI({maxLookahead:1,occurrence:t,prodType:"Alternation",rule:r}),y=>sr(y,x=>x[0]));if(aN(g,!1)&&!i){let y=So(g,(x,b,E)=>(Sr(b,A=>{A&&(x[A.tokenTypeIdx]=E,Sr(A.categoryMatches,O=>{x[O]=E}))}),x),{});return n?function(x){var b;let E=this.LA(1),A=y[E.tokenTypeIdx];if(x!==void 0&&A!==void 0){let O=(b=x[A])===null||b===void 0?void 0:b.GATE;if(O!==void 0&&O.call(this)===!1)return}return A}:function(){let x=this.LA(1);return y[x.tokenTypeIdx]}}else return n?function(y){let x=new Sfe,b=y===void 0?0:y.length;for(let A=0;A<b;A++){let O=y?.[A].GATE;x.set(A,O===void 0||O.call(this))}let E=uw.call(this,o,p,x,s);return typeof E=="number"?E:void 0}:function(){let y=uw.call(this,o,p,ire,s);return typeof y=="number"?y:void 0}}buildLookaheadForOptional(e){let{prodOccurrence:t,rule:r,prodType:n,dynamicTokensEnabled:i}=e,o=this.dfas,s=this.logging,u=fp(r,n,t),p=this.atn.decisionMap[u].decision,g=sr(YI({maxLookahead:1,occurrence:t,prodType:n,rule:r}),y=>sr(y,x=>x[0]));if(aN(g)&&g[0][0]&&!i){let y=g[0],x=il(y);if(x.length===1&&Kn(x[0].categoryMatches)){let E=x[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===E}}else{let b=So(x,(E,A)=>(A!==void 0&&(E[A.tokenTypeIdx]=!0,Sr(A.categoryMatches,O=>{E[O]=!0})),E),{});return function(){let E=this.LA(1);return b[E.tokenTypeIdx]===!0}}}return function(){let y=uw.call(this,o,p,ire,s);return typeof y=="object"?!1:y===0}}};a(aN,"isLL1Sequence");_(aN,"isLL1Sequence");a(Afe,"initATNSimulator");_(Afe,"initATNSimulator");a(uw,"adaptivePredict");_(uw,"adaptivePredict");a(Rfe,"performLookahead");_(Rfe,"performLookahead");a(Dfe,"computeLookaheadTarget");_(Dfe,"computeLookaheadTarget");a(Lfe,"reportLookaheadAmbiguity");_(Lfe,"reportLookaheadAmbiguity");a(Ife,"buildAmbiguityError");_(Ife,"buildAmbiguityError");a(Nfe,"getProductionDslName2");_(Nfe,"getProductionDslName");a(Pfe,"buildAdaptivePredictError");_(Pfe,"buildAdaptivePredictError");a(Ofe,"getExistingTargetState");_(Ofe,"getExistingTargetState");a(Mfe,"computeReachSet");_(Mfe,"computeReachSet");a(Ffe,"getReachableTarget");_(Ffe,"getReachableTarget");a(Bfe,"getUniqueAlt");_(Bfe,"getUniqueAlt");a(e6,"newDFAState");_(e6,"newDFAState");a(oN,"addDFAEdge");_(oN,"addDFAEdge");a(t6,"addDFAState");_(t6,"addDFAState");a(qfe,"computeStartState");_(qfe,"computeStartState");a(z1,"closure");_(z1,"closure");a(zfe,"getEpsilonTarget");_(zfe,"getEpsilonTarget");a(Ufe,"hasConfigInRuleStopState");_(Ufe,"hasConfigInRuleStopState");a($fe,"allConfigsInRuleStopStates");_($fe,"allConfigsInRuleStopStates");a(Gfe,"hasConflictTerminatingPrediction");_(Gfe,"hasConflictTerminatingPrediction");a(Vfe,"getConflictingAltSets");_(Vfe,"getConflictingAltSets");a(Wfe,"hasConflictingAltSet");_(Wfe,"hasConflictingAltSet");a(Hfe,"hasStateAssociatedWithOneAlt");_(Hfe,"hasStateAssociatedWithOneAlt");IHe=class{static{a(this,"CstNodeBuilder")}static{_(this,"CstNodeBuilder")}constructor(){this.nodeStack=[]}get current(){return this.nodeStack[this.nodeStack.length-1]}buildRootNode(e){return this.rootNode=new PHe(e),this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(e){let t=new Yfe;return t.grammarSource=e,t.root=this.rootNode,this.current.content.push(t),this.nodeStack.push(t),t}buildLeafNode(e,t){let r=new are(e.startOffset,e.image.length,gw(e),e.tokenType,!1);return r.grammarSource=t,r.root=this.rootNode,this.current.content.push(r),r}removeNode(e){let t=e.container;if(t){let r=t.content.indexOf(e);r>=0&&t.content.splice(r,1)}}construct(e){let t=this.current;typeof e.$type=="string"&&(this.current.astNode=e),e.$cstNode=t;let r=this.nodeStack.pop();r?.content.length===0&&this.removeNode(r)}addHiddenTokens(e){for(let t of e){let r=new are(t.startOffset,t.image.length,gw(t),t.tokenType,!0);r.root=this.rootNode,this.addHiddenToken(this.rootNode,r)}}addHiddenToken(e,t){let{offset:r,end:n}=t;for(let i=0;i<e.content.length;i++){let o=e.content[i],{offset:s,end:u}=o;if(hp(o)&&r>s&&n<u){this.addHiddenToken(o,t);return}else if(n<=s){e.content.splice(i,0,t);return}}e.content.push(t)}},jfe=class{static{a(this,"AbstractCstNode")}static{_(this,"AbstractCstNode")}get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var e,t;let r=typeof((e=this._astNode)===null||e===void 0?void 0:e.$type)=="string"?this._astNode:(t=this.container)===null||t===void 0?void 0:t.astNode;if(!r)throw new Error("This node has no associated AST element");return r}set astNode(e){this._astNode=e}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}},are=class extends jfe{static{a(this,"LeafCstNodeImpl")}static{_(this,"LeafCstNodeImpl")}get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(e,t,r,n,i=!1){super(),this._hidden=i,this._offset=e,this._tokenType=n,this._length=t,this._range=r}},Yfe=class extends jfe{static{a(this,"CompositeCstNodeImpl")}static{_(this,"CompositeCstNodeImpl")}constructor(){super(...arguments),this.content=new NHe(this)}get children(){return this.content}get offset(){var e,t;return(t=(e=this.firstNonHiddenNode)===null||e===void 0?void 0:e.offset)!==null&&t!==void 0?t:0}get length(){return this.end-this.offset}get end(){var e,t;return(t=(e=this.lastNonHiddenNode)===null||e===void 0?void 0:e.end)!==null&&t!==void 0?t:0}get range(){let e=this.firstNonHiddenNode,t=this.lastNonHiddenNode;if(e&&t){if(this._rangeCache===void 0){let{range:r}=e,{range:n}=t;this._rangeCache={start:r.start,end:n.end.line<r.start.line?r.start:n.end}}return this._rangeCache}else return{start:bs.create(0,0),end:bs.create(0,0)}}get firstNonHiddenNode(){for(let e of this.content)if(!e.hidden)return e;return this.content[0]}get lastNonHiddenNode(){for(let e=this.content.length-1;e>=0;e--){let t=this.content[e];if(!t.hidden)return t}return this.content[this.content.length-1]}},NHe=class Xfe extends Array{static{a(this,"_CstNodeContainer")}static{_(this,"CstNodeContainer")}constructor(t){super(),this.parent=t,Object.setPrototypeOf(this,Xfe.prototype)}push(...t){return this.addParents(t),super.push(...t)}unshift(...t){return this.addParents(t),super.unshift(...t)}splice(t,r,...n){return this.addParents(n),super.splice(t,r,...n)}addParents(t){for(let r of t)r.container=this.parent}},PHe=class extends Yfe{static{a(this,"RootCstNodeImpl")}static{_(this,"RootCstNodeImpl")}get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(e){super(),this._text="",this._text=e??""}},sN=Symbol("Datatype");a(fw,"isDataTypeNode");_(fw,"isDataTypeNode");ore="\u200B",Kfe=_(e=>e.endsWith(ore)?e:e+ore,"withRuleSuffix"),Qfe=class{static{a(this,"AbstractLangiumParser")}static{_(this,"AbstractLangiumParser")}constructor(e){this._unorderedGroups=new Map,this.lexer=e.parser.Lexer;let t=this.lexer.definition;this.wrapper=new qHe(t,Object.assign(Object.assign({},e.parser.ParserConfig),{errorMessageProvider:e.parser.ParserErrorMessageProvider}))}alternatives(e,t){this.wrapper.wrapOr(e,t)}optional(e,t){this.wrapper.wrapOption(e,t)}many(e,t){this.wrapper.wrapMany(e,t)}atLeastOne(e,t){this.wrapper.wrapAtLeastOne(e,t)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}},OHe=class extends Qfe{static{a(this,"LangiumParser")}static{_(this,"LangiumParser")}get current(){return this.stack[this.stack.length-1]}constructor(e){super(e),this.nodeBuilder=new IHe,this.stack=[],this.assignmentMap=new Map,this.linker=e.references.Linker,this.converter=e.parser.ValueConverter,this.astReflection=e.shared.AstReflection}rule(e,t){let r=e.fragment?void 0:Gl(e)?sN:Lh(e),n=this.wrapper.DEFINE_RULE(Kfe(e.name),this.startImplementation(r,t).bind(this));return e.entry&&(this.mainRule=n),n}parse(e){this.nodeBuilder.buildRootNode(e);let t=this.lexer.tokenize(e);this.wrapper.input=t.tokens;let r=this.mainRule.call(this.wrapper,{});return this.nodeBuilder.addHiddenTokens(t.hidden),this.unorderedGroups.clear(),{value:r,lexerErrors:t.errors,parserErrors:this.wrapper.errors}}startImplementation(e,t){return r=>{if(!this.isRecording()){let i={$type:e};this.stack.push(i),e===sN&&(i.value="")}let n;try{n=t(r)}catch{n=void 0}return!this.isRecording()&&n===void 0&&(n=this.construct()),n}}consume(e,t,r){let n=this.wrapper.wrapConsume(e,t);if(!this.isRecording()&&!n.isInsertedInRecovery){let i=this.nodeBuilder.buildLeafNode(n,r),{assignment:o,isCrossRef:s}=this.getAssignment(r),u=this.current;if(o){let f=Co(r)?n.image:this.converter.convert(n.image,i);this.assign(o.operator,o.feature,f,i,s)}else if(fw(u)){let f=n.image;Co(r)||(f=this.converter.convert(f,i).toString()),u.value+=f}}}subrule(e,t,r,n){let i;this.isRecording()||(i=this.nodeBuilder.buildCompositeNode(r));let o=this.wrapper.wrapSubrule(e,t,n);!this.isRecording()&&i&&i.length>0&&this.performSubruleAssignment(o,r,i)}performSubruleAssignment(e,t,r){let{assignment:n,isCrossRef:i}=this.getAssignment(t);if(n)this.assign(n.operator,n.feature,e,r,i);else if(!n){let o=this.current;if(fw(o))o.value+=e.toString();else{let s=e.$type,u=this.assignWithoutOverride(e,o);s&&(u.$type=s);let f=u;this.stack.pop(),this.stack.push(f)}}}action(e,t){if(!this.isRecording()){let r=this.current;if(!r.$cstNode&&t.feature&&t.operator){r=this.construct(!1);let i=r.$cstNode.feature;this.nodeBuilder.buildCompositeNode(i)}let n={$type:e};this.stack.pop(),this.stack.push(n),t.feature&&t.operator&&this.assign(t.operator,t.feature,r,r.$cstNode,!1)}}construct(e=!0){if(this.isRecording())return;let t=this.current;return Ene(t),this.nodeBuilder.construct(t),e&&this.stack.pop(),fw(t)?this.converter.convert(t.value,t.$cstNode):(this.assignMandatoryProperties(t),t)}assignMandatoryProperties(e){let t=this.astReflection.getTypeMetaData(e.$type);for(let r of t.mandatory){let n=e[r.name];r.type==="array"&&!Array.isArray(n)?e[r.name]=[]:r.type==="boolean"&&n===void 0&&(e[r.name]=!1)}}getAssignment(e){if(!this.assignmentMap.has(e)){let t=Ki(e,Qi);this.assignmentMap.set(e,{assignment:t,isCrossRef:t?zc(t.terminal):!1})}return this.assignmentMap.get(e)}assign(e,t,r,n,i){let o=this.current,s;switch(i&&typeof r=="string"?s=this.linker.buildReference(o,t,n,r):s=r,e){case"=":{o[t]=s;break}case"?=":{o[t]=!0;break}case"+=":Array.isArray(o[t])||(o[t]=[]),o[t].push(s)}}assignWithoutOverride(e,t){for(let[r,n]of Object.entries(t)){let i=e[r];i===void 0?e[r]=n:Array.isArray(i)&&Array.isArray(n)&&(n.push(...i),e[r]=n)}return e}get definitionErrors(){return this.wrapper.definitionErrors}},MHe=class{static{a(this,"AbstractParserErrorMessageProvider")}static{_(this,"AbstractParserErrorMessageProvider")}buildMismatchTokenMessage(e){return Dg.buildMismatchTokenMessage(e)}buildNotAllInputParsedMessage(e){return Dg.buildNotAllInputParsedMessage(e)}buildNoViableAltMessage(e){return Dg.buildNoViableAltMessage(e)}buildEarlyExitMessage(e){return Dg.buildEarlyExitMessage(e)}},Zfe=class extends MHe{static{a(this,"LangiumParserErrorMessageProvider")}static{_(this,"LangiumParserErrorMessageProvider")}buildMismatchTokenMessage({expected:e,actual:t}){return`Expecting ${e.LABEL?"`"+e.LABEL+"`":e.name.endsWith(":KW")?`keyword '${e.name.substring(0,e.name.length-3)}'`:`token of type '${e.name}'`} but found \`${t.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:e}){return`Expecting end of file but found \`${e.image}\`.`}},FHe=class extends Qfe{static{a(this,"LangiumCompletionParser")}static{_(this,"LangiumCompletionParser")}constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(e){this.resetState();let t=this.lexer.tokenize(e);return this.tokens=t.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(e,t){let r=this.wrapper.DEFINE_RULE(Kfe(e.name),this.startImplementation(t).bind(this));return e.entry&&(this.mainRule=r),r}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(e){return t=>{let r=this.keepStackSize();try{e(t)}finally{this.resetStackSize(r)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){let e=this.elementStack.length;return this.stackSize=e,e}resetStackSize(e){this.removeUnexpectedElements(),this.stackSize=e}consume(e,t,r){this.wrapper.wrapConsume(e,t),this.isRecording()||(this.lastElementStack=[...this.elementStack,r],this.nextTokenIndex=this.currIdx+1)}subrule(e,t,r,n){this.before(r),this.wrapper.wrapSubrule(e,t,n),this.after(r)}before(e){this.isRecording()||this.elementStack.push(e)}after(e){if(!this.isRecording()){let t=this.elementStack.lastIndexOf(e);t>=0&&this.elementStack.splice(t)}}get currIdx(){return this.wrapper.currIdx}},BHe={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new Zfe},qHe=class extends EHe{static{a(this,"ChevrotainWrapper")}static{_(this,"ChevrotainWrapper")}constructor(e,t){let r=t&&"maxLookahead"in t;super(e,Object.assign(Object.assign(Object.assign({},BHe),{lookaheadStrategy:r?new VP({maxLookahead:t.maxLookahead}):new LHe}),t))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(e,t){return this.RULE(e,t)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(e,t){return this.consume(e,t)}wrapSubrule(e,t,r){return this.subrule(e,t,{ARGS:[r]})}wrapOr(e,t){this.or(e,t)}wrapOption(e,t){this.option(e,t)}wrapMany(e,t){this.many(e,t)}wrapAtLeastOne(e,t){this.atLeastOne(e,t)}},Jfe=class extends Error{static{a(this,"ErrorWithLocation")}static{_(this,"ErrorWithLocation")}constructor(e,t){super(e?`${t} at ${e.range.start.line}:${e.range.start.character}`:t)}};a(zE,"assertUnreachable");_(zE,"assertUnreachable");a(r6,"createParser");_(r6,"createParser");a(ehe,"buildRules");_(ehe,"buildRules");a(Sh,"buildElement");_(Sh,"buildElement");a(the,"buildAction");_(the,"buildAction");a(rhe,"buildRuleCall");_(rhe,"buildRuleCall");a(nhe,"buildRuleCallPredicate");_(nhe,"buildRuleCallPredicate");a(Mc,"buildPredicate");_(Mc,"buildPredicate");a(ihe,"buildAlternatives");_(ihe,"buildAlternatives");a(ahe,"buildUnorderedGroup");_(ahe,"buildUnorderedGroup");a(ohe,"buildGroup");_(ohe,"buildGroup");a(U1,"getGuardCondition");_(U1,"getGuardCondition");a(n6,"buildCrossReference");_(n6,"buildCrossReference");a(she,"buildKeyword");_(she,"buildKeyword");a(i6,"wrap");_(i6,"wrap");a(a6,"getRule");_(a6,"getRule");a(lhe,"getRuleName");_(lhe,"getRuleName");a(Zw,"getToken");_(Zw,"getToken");a(che,"createCompletionParser");_(che,"createCompletionParser");a(uhe,"createLangiumParser");_(uhe,"createLangiumParser");a(fhe,"prepareLangiumParser");_(fhe,"prepareLangiumParser");hhe=class{static{a(this,"DefaultTokenBuilder")}static{_(this,"DefaultTokenBuilder")}buildTokens(e,t){let r=Xn(pE(e,!1)),n=this.buildTerminalTokens(r),i=this.buildKeywordTokens(r,n,t);return n.forEach(o=>{let s=o.PATTERN;typeof s=="object"&&s&&"test"in s&&wI(s)?i.unshift(o):i.push(o)}),i}buildTerminalTokens(e){return e.filter(zi).filter(t=>!t.fragment).map(t=>this.buildTerminalToken(t)).toArray()}buildTerminalToken(e){let t=dp(e),r=t.flags.includes("u")?this.regexPatternFunction(t):t,n={name:e.name,PATTERN:r,LINE_BREAKS:!0};return e.hidden&&(n.GROUP=wI(t)?Yo.SKIPPED:"hidden"),n}regexPatternFunction(e){let t=new RegExp(e,e.flags+"y");return(r,n)=>(t.lastIndex=n,t.exec(r))}buildKeywordTokens(e,t,r){return e.filter(Ir).flatMap(n=>oo(n).filter(Co)).distinct(n=>n.value).toArray().sort((n,i)=>i.value.length-n.value.length).map(n=>this.buildKeywordToken(n,t,!!r?.caseInsensitive))}buildKeywordToken(e,t,r){return{name:e.value,PATTERN:this.buildKeywordPattern(e,r),LONGER_ALT:this.findLongerAlt(e,t)}}buildKeywordPattern(e,t){return t?new RegExp(Jne(e.value)):e.value}findLongerAlt(e,t){return t.reduce((r,n)=>{let i=n?.PATTERN;return i?.source&&eie("^"+i.source+"$",e.value)&&r.push(n),r},[])}},dhe=class{static{a(this,"DefaultValueConverter")}static{_(this,"DefaultValueConverter")}convert(e,t){let r=t.grammarSource;if(zc(r)&&(r=rP(r)),ha(r)){let n=r.rule.ref;if(!n)throw new Error("This cst node was not parsed by a rule.");return this.runConverter(n,e,t)}return e}runConverter(e,t,r){var n;switch(e.name.toUpperCase()){case"INT":return yhe(t);case"STRING":return phe(t);case"ID":return ghe(t)}switch((n=Y1(e))===null||n===void 0?void 0:n.toLowerCase()){case"number":return bhe(t);case"boolean":return The(t);case"bigint":return vhe(t);case"date":return xhe(t);default:return t}}};a(phe,"convertString");_(phe,"convertString");a(mhe,"convertEscapeCharacter");_(mhe,"convertEscapeCharacter");a(ghe,"convertID");_(ghe,"convertID");a(yhe,"convertInt");_(yhe,"convertInt");a(vhe,"convertBigint");_(vhe,"convertBigint");a(xhe,"convertDate");_(xhe,"convertDate");a(bhe,"convertNumber");_(bhe,"convertNumber");a(The,"convertBoolean");_(The,"convertBoolean");zHe=En(Vn(),1),UHe=class{static{a(this,"DefaultLinker")}static{_(this,"DefaultLinker")}constructor(e){this.reflection=e.shared.AstReflection,this.langiumDocuments=()=>e.shared.workspace.LangiumDocuments,this.scopeProvider=e.references.ScopeProvider,this.astNodeLocator=e.workspace.AstNodeLocator}async link(e,t=zHe.CancellationToken.None){for(let r of W1(e.parseResult.value))await Eo(t),wN(r).forEach(n=>this.doLink(n,e))}doLink(e,t){let r=e.reference;if(r._ref===void 0)try{let n=this.getCandidate(e);if(l1(n))r._ref=n;else if(r._nodeDescription=n,this.langiumDocuments().hasDocument(n.documentUri)){let i=this.loadAstNode(n);r._ref=i??this.createLinkingError(e,n)}}catch(n){r._ref=Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${r.$refText}': ${n}`})}t.references.push(r)}unlink(e){for(let t of e.references)delete t._ref,delete t._nodeDescription;e.references=[]}getCandidate(e){let r=this.scopeProvider.getScope(e).getElement(e.reference.$refText);return r??this.createLinkingError(e)}buildReference(e,t,r,n){let i=this,o={$refNode:r,$refText:n,get ref(){var s;if(ao(this._ref))return this._ref;if(Cre(this._nodeDescription)){let u=i.loadAstNode(this._nodeDescription);this._ref=u??i.createLinkingError({reference:o,container:e,property:t},this._nodeDescription)}else if(this._ref===void 0){let u=i.getLinkedNode({reference:o,container:e,property:t});if(u.error&&Gn(e).state<qi.ComputedScopes)return;this._ref=(s=u.node)!==null&&s!==void 0?s:u.error,this._nodeDescription=u.descr}return ao(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return l1(this._ref)?this._ref:void 0}};return o}getLinkedNode(e){try{let t=this.getCandidate(e);if(l1(t))return{error:t};let r=this.loadAstNode(t);return r?{node:r,descr:t}:{descr:t,error:this.createLinkingError(e,t)}}catch(t){return{error:Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${e.reference.$refText}': ${t}`})}}}loadAstNode(e){if(e.node)return e.node;let t=this.langiumDocuments().getOrCreateDocument(e.documentUri);return this.astNodeLocator.getAstNode(t.parseResult.value,e.path)}createLinkingError(e,t){let r=Gn(e.container);r.state<qi.ComputedScopes&&console.warn(`Attempted reference resolution before document reached ComputedScopes state (${r.uri}).`);let n=this.reflection.getReferenceType(e);return Object.assign(Object.assign({},e),{message:`Could not resolve reference to ${n} named '${e.reference.$refText}'.`,targetDescription:t})}};a(khe,"isAstNodeWithComment");_(khe,"isAstNodeWithComment");a(lN,"isIntermediateReference");_(lN,"isIntermediateReference");$He=class{static{a(this,"DefaultJsonSerializer")}static{_(this,"DefaultJsonSerializer")}constructor(e){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider,this.commentProvider=e.documentation.CommentProvider}serialize(e,t){let r=t?.replacer,n=_((o,s)=>this.replacer(o,s,t),"defaultReplacer");return JSON.stringify(e,r?(o,s)=>r(o,s,n):n,t?.space)}deserialize(e){let t=JSON.parse(e);return this.linkNode(t,t),t}replacer(e,t,{refText:r,sourceText:n,textRegions:i,comments:o}={}){var s,u,f;if(!this.ignoreProperties.has(e))if(ap(t)){let p=t.ref,g=r?t.$refText:void 0;return p?{$refText:g,$ref:"#"+(p&&this.astNodeLocator.getAstNodePath(p))}:{$refText:g,$error:(u=(s=t.error)===null||s===void 0?void 0:s.message)!==null&&u!==void 0?u:"Could not resolve reference"}}else{let p;if(i&&ao(t)&&(p=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},t)),(!e||t.$document)&&p?.$textRegion))try{p.$textRegion.documentURI=Gn(t).uri.toString()}catch{}return n&&!e&&ao(t)&&(p??(p=Object.assign({},t)),p.$sourceText=(f=t.$cstNode)===null||f===void 0?void 0:f.text),o&&ao(t)&&(p??(p=Object.assign({},t)),p.$comment=this.commentProvider.getComment(t)),p??t}}addAstNodeRegionWithAssignmentsTo(e){let t=_(r=>({offset:r.offset,end:r.end,length:r.length,range:r.range}),"createDocumentSegment");if(e.$cstNode){let r=e.$textRegion=t(e.$cstNode),n=r.assignments={};return Object.keys(e).filter(i=>!i.startsWith("$")).forEach(i=>{let o=X1(e.$cstNode,i).map(t);o.length!==0&&(n[i]=o)}),e}}linkNode(e,t,r,n,i){for(let[s,u]of Object.entries(e))if(Array.isArray(u))for(let f=0;f<u.length;f++){let p=u[f];lN(p)?u[f]=this.reviveReference(e,s,t,p):ao(p)&&this.linkNode(p,t,e,s,f)}else lN(u)?e[s]=this.reviveReference(e,s,t,u):ao(u)&&this.linkNode(u,t,e,s);let o=e;o.$container=r,o.$containerProperty=n,o.$containerIndex=i}reviveReference(e,t,r,n){let i=n.$refText;if(n.$ref){let o=this.getRefNode(r,n.$ref);return i||(i=this.nameProvider.getName(o)),{$refText:i??"",ref:o}}else if(n.$error){let o={$refText:i??""};return o.error={container:e,property:t,message:n.$error,reference:o},o}else return}getRefNode(e,t){return this.astNodeLocator.getAstNode(e,t.substring(1))}},GHe=class{static{a(this,"DefaultServiceRegistry")}static{_(this,"DefaultServiceRegistry")}register(e){if(!this.singleton&&!this.map){this.singleton=e;return}if(!this.map&&(this.map={},this.singleton)){for(let t of this.singleton.LanguageMetaData.fileExtensions)this.map[t]=this.singleton;this.singleton=void 0}for(let t of e.LanguageMetaData.fileExtensions)this.map[t]!==void 0&&this.map[t]!==e&&console.warn(`The file extension ${t} is used by multiple languages. It is now assigned to '${e.LanguageMetaData.languageId}'.`),this.map[t]=e}getServices(e){if(this.singleton!==void 0)return this.singleton;if(this.map===void 0)throw new Error("The service registry is empty. Use `register` to register the services of a language.");let t=bi.extname(e),r=this.map[t];if(!r)throw new Error(`The service registry contains no services for the extension '${t}'.`);return r}get all(){return this.singleton!==void 0?[this.singleton]:this.map!==void 0?Object.values(this.map):[]}},VHe=En(Vn(),1),WHe=class{static{a(this,"DefaultAstNodeDescriptionProvider")}static{_(this,"DefaultAstNodeDescriptionProvider")}constructor(e){this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider}createDescription(e,t,r=Gn(e)){t??(t=this.nameProvider.getName(e));let n=this.astNodeLocator.getAstNodePath(e);if(!t)throw new Error(`Node at path ${n} has no name.`);let i,o=_(()=>{var s;return i??(i=rl((s=this.nameProvider.getNameNode(e))!==null&&s!==void 0?s:e.$cstNode))},"nameSegmentGetter");return{node:e,name:t,get nameSegment(){return o()},selectionSegment:rl(e.$cstNode),type:e.$type,documentUri:r.uri,path:n}}},HHe=class{static{a(this,"DefaultReferenceDescriptionProvider")}static{_(this,"DefaultReferenceDescriptionProvider")}constructor(e){this.nodeLocator=e.workspace.AstNodeLocator}async createDescriptions(e,t=VHe.CancellationToken.None){let r=[],n=e.parseResult.value;for(let i of W1(n))await Eo(t),wN(i).filter(o=>!l1(o)).forEach(o=>{let s=this.createDescription(o);s&&r.push(s)});return r}createDescription(e){let t=e.reference.$nodeDescription,r=e.reference.$refNode;if(!t||!r)return;let n=Gn(e.container).uri;return{sourceUri:n,sourcePath:this.nodeLocator.getAstNodePath(e.container),targetUri:t.documentUri,targetPath:t.path,segment:rl(r),local:bi.equals(t.documentUri,n)}}},jHe=class{static{a(this,"DefaultAstNodeLocator")}static{_(this,"DefaultAstNodeLocator")}constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(e){if(e.$container){let t=this.getAstNodePath(e.$container),r=this.getPathSegment(e);return t+this.segmentSeparator+r}return""}getPathSegment({$containerProperty:e,$containerIndex:t}){if(!e)throw new Error("Missing '$containerProperty' in AST node.");return t!==void 0?e+this.indexSeparator+t:e}getAstNode(e,t){return t.split(this.segmentSeparator).reduce((n,i)=>{if(!n||i.length===0)return n;let o=i.indexOf(this.indexSeparator);if(o>0){let s=i.substring(0,o),u=parseInt(i.substring(o+1)),f=n[s];return f?.[u]}return n[i]},e)}},YHe=En(da(),1),XHe=class{static{a(this,"DefaultConfigurationProvider")}static{_(this,"DefaultConfigurationProvider")}constructor(e){this.settings={},this.workspaceConfig=!1,this.initialized=!1,this.serviceRegistry=e.ServiceRegistry,this.connection=e.lsp.Connection,e.lsp.LanguageServer.onInitialize(t=>{var r,n;this.workspaceConfig=(n=(r=t.capabilities.workspace)===null||r===void 0?void 0:r.configuration)!==null&&n!==void 0?n:!1}),e.lsp.LanguageServer.onInitialized(t=>{var r;let n=this.serviceRegistry.all;(r=e.lsp.Connection)===null||r===void 0||r.client.register(YHe.DidChangeConfigurationNotification.type,{section:n.map(i=>this.toSectionName(i.LanguageMetaData.languageId))})})}async initialize(){if(this.workspaceConfig&&this.connection){let t=this.serviceRegistry.all.map(n=>({section:this.toSectionName(n.LanguageMetaData.languageId)})),r=await this.connection.workspace.getConfiguration(t);t.forEach((n,i)=>{this.updateSectionConfiguration(n.section,r[i])})}this.initialized=!0}updateConfiguration(e){e.settings&&Object.keys(e.settings).forEach(t=>{this.updateSectionConfiguration(t,e.settings[t])})}updateSectionConfiguration(e,t){this.settings[e]=t}async getConfiguration(e,t){this.initialized||await this.initialize();let r=this.toSectionName(e);if(this.settings[r])return this.settings[r][t]}toSectionName(e){return`${e}`}},X_=En(Vn(),1),KHe=class{static{a(this,"DefaultDocumentBuilder")}static{_(this,"DefaultDocumentBuilder")}constructor(e){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new no,this.buildState=new Map,this.langiumDocuments=e.workspace.LangiumDocuments,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.indexManager=e.workspace.IndexManager,this.serviceRegistry=e.ServiceRegistry}async build(e,t={},r=X_.CancellationToken.None){var n,i;for(let o of e){let s=o.uri.toString();if(o.state===qi.Validated){if(typeof t.validation=="boolean"&&t.validation)o.state=qi.IndexedReferences,o.diagnostics=void 0,this.buildState.delete(s);else if(typeof t.validation=="object"){let u=this.buildState.get(s),f=(n=u?.result)===null||n===void 0?void 0:n.validationChecks;if(f){let g=((i=t.validation.categories)!==null&&i!==void 0?i:f1.all).filter(y=>!f.includes(y));g.length>0&&(this.buildState.set(s,{completed:!1,options:{validation:Object.assign(Object.assign({},t.validation),{categories:g})},result:u.result}),o.state=qi.IndexedReferences)}}}else this.buildState.delete(s)}await this.buildDocuments(e,t,r)}async update(e,t,r=X_.CancellationToken.None){for(let o of t)this.langiumDocuments.deleteDocument(o),this.buildState.delete(o.toString());this.indexManager.remove(t);for(let o of e)this.langiumDocuments.invalidateDocument(o)||this.langiumDocuments.getOrCreateDocument(o),this.buildState.delete(o.toString());let n=Xn(e).concat(t).map(o=>o.toString()).toSet();this.langiumDocuments.all.filter(o=>!n.has(o.uri.toString())&&this.shouldRelink(o,n)).forEach(o=>{this.serviceRegistry.getServices(o.uri).references.Linker.unlink(o),o.state=Math.min(o.state,qi.ComputedScopes),o.diagnostics=void 0});for(let o of this.updateListeners)o(e,t);await Eo(r);let i=this.langiumDocuments.all.filter(o=>{var s;return o.state<qi.Linked||!(!((s=this.buildState.get(o.uri.toString()))===null||s===void 0)&&s.completed)}).toArray();await this.buildDocuments(i,this.updateBuildOptions,r)}shouldRelink(e,t){return e.references.some(r=>r.error!==void 0)?!0:this.indexManager.isAffected(e,t)}onUpdate(e){return this.updateListeners.push(e),X_.Disposable.create(()=>{let t=this.updateListeners.indexOf(e);t>=0&&this.updateListeners.splice(t,1)})}async buildDocuments(e,t,r){this.prepareBuild(e,t),await this.runCancelable(e,qi.Parsed,r,i=>{this.langiumDocumentFactory.update(i)}),await this.runCancelable(e,qi.IndexedContent,r,i=>this.indexManager.updateContent(i,r)),await this.runCancelable(e,qi.ComputedScopes,r,async i=>{let o=this.serviceRegistry.getServices(i.uri).references.ScopeComputation;i.precomputedScopes=await o.computeLocalScopes(i,r)}),await this.runCancelable(e,qi.Linked,r,i=>this.serviceRegistry.getServices(i.uri).references.Linker.link(i,r)),await this.runCancelable(e,qi.IndexedReferences,r,i=>this.indexManager.updateReferences(i,r));let n=e.filter(i=>this.shouldValidate(i));await this.runCancelable(n,qi.Validated,r,i=>this.validate(i,r));for(let i of e){let o=this.buildState.get(i.uri.toString());o&&(o.completed=!0)}}prepareBuild(e,t){for(let r of e){let n=r.uri.toString(),i=this.buildState.get(n);(!i||i.completed)&&this.buildState.set(n,{completed:!1,options:t,result:i?.result})}}async runCancelable(e,t,r,n){let i=e.filter(o=>o.state<t);for(let o of i)await Eo(r),await n(o),o.state=t;await this.notifyBuildPhase(i,t,r)}onBuildPhase(e,t){return this.buildPhaseListeners.add(e,t),X_.Disposable.create(()=>{this.buildPhaseListeners.delete(e,t)})}async notifyBuildPhase(e,t,r){if(e.length===0)return;let n=this.buildPhaseListeners.get(t);for(let i of n)await Eo(r),await i(e,r)}shouldValidate(e){return!!this.getBuildOptions(e).validation}async validate(e,t){var r,n;let i=this.serviceRegistry.getServices(e.uri).validation.DocumentValidator,o=this.getBuildOptions(e).validation,s=typeof o=="object"?o:void 0,u=await i.validateDocument(e,s,t);e.diagnostics?e.diagnostics.push(...u):e.diagnostics=u;let f=this.buildState.get(e.uri.toString());if(f){(r=f.result)!==null&&r!==void 0||(f.result={});let p=(n=s?.categories)!==null&&n!==void 0?n:f1.all;f.result.validationChecks?f.result.validationChecks.push(...p):f.result.validationChecks=[...p]}}getBuildOptions(e){var t,r;return(r=(t=this.buildState.get(e.uri.toString()))===null||t===void 0?void 0:t.options)!==null&&r!==void 0?r:{}}},sre=En(Vn(),1),QHe=class{static{a(this,"DefaultIndexManager")}static{_(this,"DefaultIndexManager")}constructor(e){this.simpleIndex=new Map,this.simpleTypeIndex=new D9e,this.referenceIndex=new Map,this.documents=e.workspace.LangiumDocuments,this.serviceRegistry=e.ServiceRegistry,this.astReflection=e.AstReflection}findAllReferences(e,t){let r=Gn(e).uri,n=[];return this.referenceIndex.forEach(i=>{i.forEach(o=>{bi.equals(o.targetUri,r)&&o.targetPath===t&&n.push(o)})}),Xn(n)}allElements(e,t){let r=Xn(this.simpleIndex.keys());return t&&(r=r.filter(n=>!t||t.has(n))),r.map(n=>this.getFileDescriptions(n,e)).flat()}getFileDescriptions(e,t){var r;return t?this.simpleTypeIndex.get(e,t,()=>{var i;return((i=this.simpleIndex.get(e))!==null&&i!==void 0?i:[]).filter(s=>this.astReflection.isSubtype(s.type,t))}):(r=this.simpleIndex.get(e))!==null&&r!==void 0?r:[]}remove(e){for(let t of e){let r=t.toString();this.simpleIndex.delete(r),this.simpleTypeIndex.clear(r),this.referenceIndex.delete(r)}}async updateContent(e,t=sre.CancellationToken.None){let n=await this.serviceRegistry.getServices(e.uri).references.ScopeComputation.computeExports(e,t);for(let o of n)o.node=void 0;let i=e.uri.toString();this.simpleIndex.set(i,n),this.simpleTypeIndex.clear(i)}async updateReferences(e,t=sre.CancellationToken.None){let n=await this.serviceRegistry.getServices(e.uri).workspace.ReferenceDescriptionProvider.createDescriptions(e,t);this.referenceIndex.set(e.uri.toString(),n)}isAffected(e,t){let r=this.referenceIndex.get(e.uri.toString());return r?r.some(n=>!n.local&&t.has(n.targetUri.toString())):!1}},ZHe=En(Vn(),1),JHe=class{static{a(this,"DefaultWorkspaceManager")}static{_(this,"DefaultWorkspaceManager")}constructor(e){this.initialBuildOptions={},this.serviceRegistry=e.ServiceRegistry,this.langiumDocuments=e.workspace.LangiumDocuments,this.documentBuilder=e.workspace.DocumentBuilder,this.fileSystemProvider=e.workspace.FileSystemProvider,this.mutex=e.workspace.MutexLock,e.lsp.LanguageServer.onInitialize(t=>{var r;this.folders=(r=t.workspaceFolders)!==null&&r!==void 0?r:void 0}),e.lsp.LanguageServer.onInitialized(t=>{this.mutex.lock(r=>{var n;return this.initializeWorkspace((n=this.folders)!==null&&n!==void 0?n:[],r)})})}async initializeWorkspace(e,t=ZHe.CancellationToken.None){let r=this.serviceRegistry.all.flatMap(o=>o.LanguageMetaData.fileExtensions),n=[],i=_(o=>{n.push(o),this.langiumDocuments.hasDocument(o.uri)||this.langiumDocuments.addDocument(o)},"collector");await this.loadAdditionalDocuments(e,i),await Promise.all(e.map(o=>[o,this.getRootFolder(o)]).map(async o=>this.traverseFolder(...o,r,i))),await Eo(t),await this.documentBuilder.build(n,this.initialBuildOptions,t)}loadAdditionalDocuments(e,t){return Promise.resolve()}getRootFolder(e){return Fg.parse(e.uri)}async traverseFolder(e,t,r,n){let i=await this.fileSystemProvider.readDirectory(t);await Promise.all(i.map(async o=>{if(this.includeEntry(e,o,r)){if(o.isDirectory)await this.traverseFolder(e,o.uri,r,n);else if(o.isFile){let s=this.langiumDocuments.getOrCreateDocument(o.uri);n(s)}}}))}includeEntry(e,t,r){let n=bi.basename(t.uri);if(n.startsWith("."))return!1;if(t.isDirectory)return n!=="node_modules"&&n!=="out";if(t.isFile){let i=bi.extname(t.uri);return r.includes(i)}return!1}},_he=class{static{a(this,"DefaultLexer")}static{_(this,"DefaultLexer")}constructor(e){let t=e.parser.TokenBuilder.buildTokens(e.Grammar,{caseInsensitive:e.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(t);let r=cN(t)?Object.values(t):t;this.chevrotainLexer=new Yo(r,{positionTracking:"full"})}get definition(){return this.tokenTypes}tokenize(e){var t;let r=this.chevrotainLexer.tokenize(e);return{tokens:r.tokens,errors:r.errors,hidden:(t=r.groups.hidden)!==null&&t!==void 0?t:[]}}toTokenTypeDictionary(e){if(cN(e))return e;let t=o6(e)?Object.values(e.modes).flat():e,r={};return t.forEach(n=>r[n.name]=n),r}};a(whe,"isTokenTypeArray");_(whe,"isTokenTypeArray");a(o6,"isIMultiModeLexerDefinition");_(o6,"isIMultiModeLexerDefinition");a(cN,"isTokenTypeDictionary");_(cN,"isTokenTypeDictionary");Dn=En(Vn(),1);a(Ehe,"parseJSDoc");_(Ehe,"parseJSDoc");a(Che,"isJSDoc");_(Che,"isJSDoc");a(s6,"getLines");_(s6,"getLines");lre=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,eje=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu;a(She,"tokenize");_(She,"tokenize");a(Ahe,"buildInlineTokens");_(Ahe,"buildInlineTokens");tje=/\S/,rje=/\s*$/;a(Jw,"skipWhitespace");_(Jw,"skipWhitespace");a(Rhe,"lastCharacter");_(Rhe,"lastCharacter");a(Dhe,"parseJSDocComment");_(Dhe,"parseJSDocComment");a(Lhe,"parseJSDocElement");_(Lhe,"parseJSDocElement");a(Ihe,"appendEmptyLine");_(Ihe,"appendEmptyLine");a(l6,"parseJSDocText");_(l6,"parseJSDocText");a(Nhe,"parseJSDocInline");_(Nhe,"parseJSDocInline");a(c6,"parseJSDocTag");_(c6,"parseJSDocTag");a(u6,"parseJSDocLine");_(u6,"parseJSDocLine");a(UE,"normalizeOptions");_(UE,"normalizeOptions");a(hw,"normalizeOption");_(hw,"normalizeOption");cre=class{static{a(this,"JSDocCommentImpl")}static{_(this,"JSDocCommentImpl")}constructor(e,t){this.elements=e,this.range=t}getTag(e){return this.getAllTags().find(t=>t.name===e)}getTags(e){return this.getAllTags().filter(t=>t.name===e)}getAllTags(){return this.elements.filter(e=>"name"in e)}toString(){let e="";for(let t of this.elements)if(e.length===0)e=t.toString();else{let r=t.toString();e+=fN(e)+r}return e.trim()}toMarkdown(e){let t="";for(let r of this.elements)if(t.length===0)t=r.toMarkdown(e);else{let n=r.toMarkdown(e);t+=fN(t)+n}return t.trim()}},fI=class{static{a(this,"JSDocTagImpl")}static{_(this,"JSDocTagImpl")}constructor(e,t,r,n){this.name=e,this.content=t,this.inline=r,this.range=n}toString(){let e=`@${this.name}`,t=this.content.toString();return this.content.inlines.length===1?e=`${e} ${t}`:this.content.inlines.length>1&&(e=`${e}
${t}`),this.inline?`{${e}}`:e}toMarkdown(e){let t=this.content.toMarkdown(e);if(this.inline){let i=Phe(this.name,t,e??{});if(typeof i=="string")return i}let r="";e?.tag==="italic"||e?.tag===void 0?r="*":e?.tag==="bold"?r="**":e?.tag==="bold-italic"&&(r="***");let n=`${r}@${this.name}${r}`;return this.content.inlines.length===1?n=`${n} \u2014 ${t}`:this.content.inlines.length>1&&(n=`${n}
${t}`),this.inline?`{${n}}`:n}};a(Phe,"renderInlineTag");_(Phe,"renderInlineTag");a(Ohe,"renderLinkDefault");_(Ohe,"renderLinkDefault");uN=class{static{a(this,"JSDocTextImpl")}static{_(this,"JSDocTextImpl")}constructor(e,t){this.inlines=e,this.range=t}toString(){let e="";for(let t=0;t<this.inlines.length;t++){let r=this.inlines[t],n=this.inlines[t+1];e+=r.toString(),n&&n.range.start.line>r.range.start.line&&(e+=`
`)}return e}toMarkdown(e){let t="";for(let r=0;r<this.inlines.length;r++){let n=this.inlines[r],i=this.inlines[r+1];t+=n.toMarkdown(e),i&&i.range.start.line>n.range.start.line&&(t+=`
`)}return t}},Mhe=class{static{a(this,"JSDocLineImpl")}static{_(this,"JSDocLineImpl")}constructor(e,t){this.text=e,this.range=t}toString(){return this.text}toMarkdown(){return this.text}};a(fN,"fillNewlines");_(fN,"fillNewlines");nje=class{static{a(this,"JSDocDocumentationProvider")}static{_(this,"JSDocDocumentationProvider")}constructor(e){this.indexManager=e.shared.workspace.IndexManager,this.commentProvider=e.documentation.CommentProvider}getDocumentation(e){let t=this.commentProvider.getComment(e);if(t&&Che(t))return Ehe(t).toMarkdown({renderLink:(n,i)=>this.documentationLinkRenderer(e,n,i)})}documentationLinkRenderer(e,t,r){var n;let i=(n=this.findNameInPrecomputedScopes(e,t))!==null&&n!==void 0?n:this.findNameInGlobalScope(e,t);if(i&&i.nameSegment){let o=i.nameSegment.range.start.line+1,s=i.nameSegment.range.start.character+1,u=i.documentUri.with({fragment:`L${o},${s}`});return`[${r}](${u.toString()})`}else return}findNameInPrecomputedScopes(e,t){let n=Gn(e).precomputedScopes;if(!n)return;let i=e;do{let s=n.get(i).find(u=>u.name===t);if(s)return s;i=i.$container}while(i)}findNameInGlobalScope(e,t){return this.indexManager.allElements().find(n=>n.name===t)}},ije=class{static{a(this,"DefaultCommentProvider")}static{_(this,"DefaultCommentProvider")}constructor(e){this.grammarConfig=()=>e.parser.GrammarConfig}getComment(e){var t;return khe(e)?e.$comment:(t=Pre(e.$cstNode,this.grammarConfig().multilineCommentRules))===null||t===void 0?void 0:t.text}};a(f6,"createDefaultModule");_(f6,"createDefaultModule");a(h6,"createDefaultSharedModule");_(h6,"createDefaultSharedModule");Fhe=class extends Sre{static{a(this,"MermaidAstReflection")}static{_(this,"MermaidAstReflection")}getAllTypes(){return["Common","Info"]}computeIsSubtype(e,t){switch(e){default:return!1}}getReferenceType(e){let t=`${e.container.$type}:${e.property}`;switch(t){default:throw new Error(`${t} is not a valid reference id.`)}}getTypeMetaData(e){switch(e){default:return{name:e,mandatory:[]}}}},Z$t=new Fhe,aje=_(()=>ure??(ure=oP('{"$type":"Grammar","isDeclared":true,"name":"Info","imports":[],"rules":[{"$type":"ParserRule","name":"Info","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"+"}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/accDescr([\\\\t ]*:[^\\\\n\\\\r]*(?=%%)|\\\\s*{[^}]*})|accDescr([\\\\t ]*:[^\\\\n\\\\r]*|\\\\s*{[^}]*})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/accTitle[\\\\t ]*:[^\\\\n\\\\r]*(?=%%)|accTitle[\\\\t ]*:[^\\\\n\\\\r]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/title([\\\\t ][^\\\\n\\\\r]*|)(?=%%)|title([\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n[\\\\S\\\\s]*?---[\\\\t ]*(?!.)/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%\\\\s*/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"name":"Common","superTypes":[]}],"types":[],"usedGrammars":[]}')),"InfoGrammar"),oje={languageId:"info",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},sje={AstReflection:()=>new Fhe},lje={Grammar:()=>aje(),LanguageMetaData:()=>oje,parser:{}},cje=class extends _he{static{a(this,"CommonLexer")}static{_(this,"CommonLexer")}tokenize(e){return super.tokenize(e+`
`)}},uje=class extends hhe{static{a(this,"MermaidTokenBuilder")}constructor(e){super(),this.keywords=new Set(e)}static{_(this,"MermaidTokenBuilder")}buildKeywordTokens(e,t,r){let n=super.buildKeywordTokens(e,t,r);return n.forEach(i=>{this.keywords.has(i.name)&&i.PATTERN!==void 0&&(i.PATTERN=new RegExp(i.PATTERN.toString()+"(?!\\S)"))}),n}},fje=/accDescr(?:[\t ]*:[\t ]*([^\n\r]*)|\s*{([^}]*)})/,hje=/accTitle[\t ]*:[\t ]*([^\n\r]*)/,dje=/title([\t ]+([^\n\r]*)|)/,pje={ACC_DESCR:fje,ACC_TITLE:hje,TITLE:dje},mje=class extends dhe{static{a(this,"MermaidValueConverter")}static{_(this,"MermaidValueConverter")}runConverter(e,t,r){let n=this.runCommonConverter(e,t,r);return n===void 0&&(n=this.runCustomConverter(e,t,r)),n===void 0?super.runConverter(e,t,r):n}runCommonConverter(e,t,r){let n=pje[e.name];if(n===void 0)return;let i=n.exec(t);if(i!==null){if(i[1]!==void 0)return i[1].trim().replace(/[\t ]{2,}/gm," ");if(i[2]!==void 0)return i[2].replace(/^\s*/gm,"").replace(/\s+$/gm,"").replace(/[\t ]{2,}/gm," ").replace(/[\n\r]{2,}/gm,`
`)}}},gje=class extends mje{static{a(this,"CommonValueConverter")}static{_(this,"CommonValueConverter")}runCustomConverter(e,t,r){}},yje=class extends uje{static{a(this,"InfoTokenBuilder")}static{_(this,"InfoTokenBuilder")}constructor(){super(["info","showInfo"])}},vje={parser:{Lexer:e=>new cje(e),TokenBuilder:()=>new yje,ValueConverter:()=>new gje}};a(Bhe,"createInfoServices");_(Bhe,"createInfoServices");hN={},xje={info:()=>{let e=Bhe().Info.parser.LangiumParser;hN.info=e}};a(d6,"parse");_(d6,"parse");bje=class extends Error{static{a(this,"MermaidParseError")}constructor(e){let t=e.lexerErrors.map(n=>n.message).join(`
`),r=e.parserErrors.map(n=>n.message).join(`
`);super(`Parsing failed: ${t} ${r}`),this.result=e}static{_(this,"MermaidParseError")}};});var zhe,Uhe=F(()=>{"use strict";qhe();br();zhe={parse:e=>{let t=d6("info",e);ye.debug(t)}}});var Tje,kje,$he,Ghe=F(()=>{"use strict";a5();Tje={version:dv},kje=a(()=>Tje.version,"getVersion"),$he={getVersion:kje}});var _je,Vhe,Whe=F(()=>{"use strict";br();Si();wv();_je=a((e,t,r)=>{ye.debug(`rendering info diagram
`+e);let n=Zf(t);wn(n,100,400,!0),n.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size",32).style("text-anchor","middle").text(`v${r}`)},"draw"),Vhe={draw:_je}});var Hhe={};ii(Hhe,{diagram:()=>wje});var wje,jhe=F(()=>{"use strict";Uhe();Ghe();Whe();wje={parser:zhe,db:$he,renderer:Vhe}});var p6,Khe,Qhe=F(()=>{"use strict";p6=function(){var e=a(function($,X,q,M){for(q=q||{},M=$.length;M--;q[$[M]]=X);return q},"o"),t=[1,3],r=[1,4],n=[1,5],i=[1,6],o=[1,10,12,14,16,18,19,20,21,22],s=[2,4],u=[1,5,10,12,14,16,18,19,20,21,22],f=[20,21,22],p=[2,7],g=[1,12],y=[1,13],x=[1,14],b=[1,15],E=[1,16],A=[1,17],O={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,eol:4,PIE:5,document:6,showData:7,line:8,statement:9,txt:10,value:11,title:12,title_value:13,acc_title:14,acc_title_value:15,acc_descr:16,acc_descr_value:17,acc_descr_multiline_value:18,section:19,NEWLINE:20,";":21,EOF:22,$accept:0,$end:1},terminals_:{2:"error",5:"PIE",7:"showData",10:"txt",11:"value",12:"title",13:"title_value",14:"acc_title",15:"acc_title_value",16:"acc_descr",17:"acc_descr_value",18:"acc_descr_multiline_value",19:"section",20:"NEWLINE",21:";",22:"EOF"},productions_:[0,[3,2],[3,2],[3,3],[6,0],[6,2],[8,2],[9,0],[9,2],[9,2],[9,2],[9,2],[9,1],[9,1],[4,1],[4,1],[4,1]],performAction:a(function(X,q,M,B,G,U,W){var D=U.length-1;switch(G){case 3:B.setShowData(!0);break;case 6:this.$=U[D-1];break;case 8:B.addSection(U[D-1],B.cleanupValue(U[D]));break;case 9:this.$=U[D].trim(),B.setDiagramTitle(this.$);break;case 10:this.$=U[D].trim(),B.setAccTitle(this.$);break;case 11:case 12:this.$=U[D].trim(),B.setAccDescription(this.$);break;case 13:B.addSection(U[D].substr(8)),this.$=U[D].substr(8);break}},"anonymous"),table:[{3:1,4:2,5:t,20:r,21:n,22:i},{1:[3]},{3:7,4:2,5:t,20:r,21:n,22:i},e(o,s,{6:8,7:[1,9]}),e(u,[2,14]),e(u,[2,15]),e(u,[2,16]),{1:[2,1]},e(f,p,{8:10,9:11,1:[2,2],10:g,12:y,14:x,16:b,18:E,19:A}),e(o,s,{6:18}),e(o,[2,5]),{4:19,20:r,21:n,22:i},{11:[1,20]},{13:[1,21]},{15:[1,22]},{17:[1,23]},e(f,[2,12]),e(f,[2,13]),e(f,p,{8:10,9:11,1:[2,3],10:g,12:y,14:x,16:b,18:E,19:A}),e(o,[2,6]),e(f,[2,8]),e(f,[2,9]),e(f,[2,10]),e(f,[2,11])],defaultActions:{7:[2,1]},parseError:a(function(X,q){if(q.recoverable)this.trace(X);else{var M=new Error(X);throw M.hash=q,M}},"parseError"),parse:a(function(X){var q=this,M=[0],B=[],G=[null],U=[],W=this.table,D="",K=0,P=0,re=0,ce=2,ee=1,H=U.slice.call(arguments,1),te=Object.create(this.lexer),J={yy:{}};for(var Y in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Y)&&(J.yy[Y]=this.yy[Y]);te.setInput(X,J.yy),J.yy.lexer=te,J.yy.parser=this,typeof te.yylloc>"u"&&(te.yylloc={});var de=te.yylloc;U.push(de);var Fe=te.options&&te.options.ranges;typeof J.yy.parseError=="function"?this.parseError=J.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function oe(Ue){M.length=M.length-2*Ue,G.length=G.length-Ue,U.length=U.length-Ue}a(oe,"popStack");function rt(){var Ue;return Ue=B.pop()||te.lex()||ee,typeof Ue!="number"&&(Ue instanceof Array&&(B=Ue,Ue=B.pop()),Ue=q.symbols_[Ue]||Ue),Ue}a(rt,"lex");for(var We,_e,Ve,Ye,Le,fe,le={},he,xe,ke,pe;;){if(Ve=M[M.length-1],this.defaultActions[Ve]?Ye=this.defaultActions[Ve]:((We===null||typeof We>"u")&&(We=rt()),Ye=W[Ve]&&W[Ve][We]),typeof Ye>"u"||!Ye.length||!Ye[0]){var Ce="";pe=[];for(he in W[Ve])this.terminals_[he]&&he>ce&&pe.push("'"+this.terminals_[he]+"'");te.showPosition?Ce="Parse error on line "+(K+1)+`:
`+te.showPosition()+`
Expecting `+pe.join(", ")+", got '"+(this.terminals_[We]||We)+"'":Ce="Parse error on line "+(K+1)+": Unexpected "+(We==ee?"end of input":"'"+(this.terminals_[We]||We)+"'"),this.parseError(Ce,{text:te.match,token:this.terminals_[We]||We,line:te.yylineno,loc:de,expected:pe})}if(Ye[0]instanceof Array&&Ye.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ve+", token: "+We);switch(Ye[0]){case 1:M.push(We),G.push(te.yytext),U.push(te.yylloc),M.push(Ye[1]),We=null,_e?(We=_e,_e=null):(P=te.yyleng,D=te.yytext,K=te.yylineno,de=te.yylloc,re>0&&re--);break;case 2:if(xe=this.productions_[Ye[1]][1],le.$=G[G.length-xe],le._$={first_line:U[U.length-(xe||1)].first_line,last_line:U[U.length-1].last_line,first_column:U[U.length-(xe||1)].first_column,last_column:U[U.length-1].last_column},Fe&&(le._$.range=[U[U.length-(xe||1)].range[0],U[U.length-1].range[1]]),fe=this.performAction.apply(le,[D,P,K,J.yy,Ye[1],G,U].concat(H)),typeof fe<"u")return fe;xe&&(M=M.slice(0,-1*xe*2),G=G.slice(0,-1*xe),U=U.slice(0,-1*xe)),M.push(this.productions_[Ye[1]][0]),G.push(le.$),U.push(le._$),ke=W[M[M.length-2]][M[M.length-1]],M.push(ke);break;case 3:return!0}}return!0},"parse")},N=function(){var $={EOF:1,parseError:a(function(q,M){if(this.yy.parser)this.yy.parser.parseError(q,M);else throw new Error(q)},"parseError"),setInput:function(X,q){return this.yy=q||this.yy||{},this._input=X,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var X=this._input[0];this.yytext+=X,this.yyleng++,this.offset++,this.match+=X,this.matched+=X;var q=X.match(/(?:\r\n?|\n).*/g);return q?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),X},unput:function(X){var q=X.length,M=X.split(/(?:\r\n?|\n)/g);this._input=X+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-q),this.offset-=q;var B=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),M.length-1&&(this.yylineno-=M.length-1);var G=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:M?(M.length===B.length?this.yylloc.first_column:0)+B[B.length-M.length].length-M[0].length:this.yylloc.first_column-q},this.options.ranges&&(this.yylloc.range=[G[0],G[0]+this.yyleng-q]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(X){this.unput(this.match.slice(X))},pastInput:function(){var X=this.matched.substr(0,this.matched.length-this.match.length);return(X.length>20?"...":"")+X.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var X=this.match;return X.length<20&&(X+=this._input.substr(0,20-X.length)),(X.substr(0,20)+(X.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var X=this.pastInput(),q=new Array(X.length+1).join("-");return X+this.upcomingInput()+`
`+q+"^"},test_match:function(X,q){var M,B,G;if(this.options.backtrack_lexer&&(G={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(G.yylloc.range=this.yylloc.range.slice(0))),B=X[0].match(/(?:\r\n?|\n).*/g),B&&(this.yylineno+=B.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:B?B[B.length-1].length-B[B.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+X[0].length},this.yytext+=X[0],this.match+=X[0],this.matches=X,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(X[0].length),this.matched+=X[0],M=this.performAction.call(this,this.yy,this,q,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),M)return M;if(this._backtrack){for(var U in G)this[U]=G[U];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var X,q,M,B;this._more||(this.yytext="",this.match="");for(var G=this._currentRules(),U=0;U<G.length;U++)if(M=this._input.match(this.rules[G[U]]),M&&(!q||M[0].length>q[0].length)){if(q=M,B=U,this.options.backtrack_lexer){if(X=this.test_match(M,G[U]),X!==!1)return X;if(this._backtrack){q=!1;continue}else return!1}else if(!this.options.flex)break}return q?(X=this.test_match(q,G[B]),X!==!1?X:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var q=this.next();return q||this.lex()},"lex"),begin:a(function(q){this.conditionStack.push(q)},"begin"),popState:a(function(){var q=this.conditionStack.length-1;return q>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(q){return q=this.conditionStack.length-1-Math.abs(q||0),q>=0?this.conditionStack[q]:"INITIAL"},"topState"),pushState:a(function(q){this.begin(q)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(q,M,B,G){var U=G;switch(B){case 0:break;case 1:break;case 2:return 20;case 3:break;case 4:break;case 5:return this.begin("title"),12;break;case 6:return this.popState(),"title_value";break;case 7:return this.begin("acc_title"),14;break;case 8:return this.popState(),"acc_title_value";break;case 9:return this.begin("acc_descr"),16;break;case 10:return this.popState(),"acc_descr_value";break;case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:this.begin("string");break;case 15:this.popState();break;case 16:return"txt";case 17:return 5;case 18:return 7;case 19:return"value";case 20:return 22}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:[\s]+)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:pie\b)/i,/^(?:showData\b)/i,/^(?::[\s]*[\d]+(?:\.[\d]+)?)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},title:{rules:[6],inclusive:!1},string:{rules:[15,16],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,7,9,11,14,17,18,19,20],inclusive:!0}}};return $}();O.lexer=N;function I(){this.yy={}}return a(I,"Parser"),I.prototype=O,O.Parser=I,new I}();p6.parser=p6;Khe=p6});var Zhe,$E,GE,m6,Sje,Aje,Rje,Dje,Lje,Ije,Nje,Pje,Jhe,ede=F(()=>{"use strict";br();Pr();en();Ua();Im();Zhe=si.pie,$E={sections:{},showData:!1,config:Zhe},GE=$E.sections,m6=$E.showData,Sje=structuredClone(Zhe),Aje=a(()=>structuredClone(Sje),"getConfig"),Rje=a(()=>{GE=structuredClone($E.sections),m6=$E.showData,In()},"clear"),Dje=a((e,t)=>{e=zn(e,Me()),GE[e]===void 0&&(GE[e]=t,ye.debug(`added new section: ${e}, with value: ${t}`))},"addSection"),Lje=a(()=>GE,"getSections"),Ije=a(e=>(e.substring(0,1)===":"&&(e=e.substring(1).trim()),Number(e.trim())),"cleanupValue"),Nje=a(e=>{m6=e},"setShowData"),Pje=a(()=>m6,"getShowData"),Jhe={getConfig:Aje,clear:Rje,setDiagramTitle:ci,getDiagramTitle:Yn,setAccTitle:Rn,getAccTitle:Nn,setAccDescription:Pn,getAccDescription:On,addSection:Dje,getSections:Lje,cleanupValue:Ije,setShowData:Nje,getShowData:Pje}});var Oje,tde,rde=F(()=>{"use strict";Oje=a(e=>`
  .pieCircle{
    stroke: ${e.pieStrokeColor};
    stroke-width : ${e.pieStrokeWidth};
    opacity : ${e.pieOpacity};
  }
  .pieOuterCircle{
    stroke: ${e.pieOuterStrokeColor};
    stroke-width: ${e.pieOuterStrokeWidth};
    fill: none;
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${e.pieTitleTextSize};
    fill: ${e.pieTitleTextColor};
    font-family: ${e.fontFamily};
  }
  .slice {
    font-family: ${e.fontFamily};
    fill: ${e.pieSectionTextColor};
    font-size:${e.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${e.pieLegendTextColor};
    font-family: ${e.fontFamily};
    font-size: ${e.pieLegendTextSize};
  }
`,"getStyles"),tde=Oje});var Mje,Fje,nde,ide=F(()=>{"use strict";Zr();br();Si();Pr();An();wv();Mje=a(e=>{let t=Object.entries(e).map(n=>({label:n[0],value:n[1]})).sort((n,i)=>i.value-n.value);return z2().value(n=>n.value)(t)},"createPieArcs"),Fje=a((e,t,r,n)=>{ye.debug(`rendering pie chart
`+e);let i=n.db,o=Me(),s=jf(i.getConfig(),o.pie),u=450,f=document.getElementById(t)?.parentElement?.offsetWidth??s.useWidth,p=Zf(t);p.attr("viewBox",`0 0 ${f} ${u}`),wn(p,u,f,s.useMaxWidth);let g=40,y=18,x=4,b=p.append("g");b.attr("transform","translate("+f/2+","+u/2+")");let{themeVariables:E}=o,[A]=Hf(E.pieOuterStrokeWidth);A??=2;let O=s.textPosition,N=Math.min(f,u)/2-g,I=Cl().innerRadius(0).outerRadius(N),$=Cl().innerRadius(N*O).outerRadius(N*O);b.append("circle").attr("cx",0).attr("cy",0).attr("r",N+A/2).attr("class","pieOuterCircle");let X=i.getSections(),q=Mje(X),M=[E.pie1,E.pie2,E.pie3,E.pie4,E.pie5,E.pie6,E.pie7,E.pie8,E.pie9,E.pie10,E.pie11,E.pie12],B=uu(M);b.selectAll("mySlices").data(q).enter().append("path").attr("d",I).attr("fill",W=>B(W.data.label)).attr("class","pieCircle");let G=0;Object.keys(X).forEach(W=>{G+=X[W]}),b.selectAll("mySlices").data(q).enter().append("text").text(W=>(W.data.value/G*100).toFixed(0)+"%").attr("transform",W=>"translate("+$.centroid(W)+")").style("text-anchor","middle").attr("class","slice"),b.append("text").text(i.getDiagramTitle()).attr("x",0).attr("y",-(u-50)/2).attr("class","pieTitleText");let U=b.selectAll(".legend").data(B.domain()).enter().append("g").attr("class","legend").attr("transform",(W,D)=>{let K=y+x,P=K*B.domain().length/2,re=12*y,ce=D*K-P;return"translate("+re+","+ce+")"});U.append("rect").attr("width",y).attr("height",y).style("fill",B).style("stroke",B),U.data(q).append("text").attr("x",y+x).attr("y",y-x).text(W=>{let{label:D,value:K}=W.data;return i.getShowData()?`${D} [${K}]`:D})},"draw"),nde={draw:Fje}});var ade={};ii(ade,{diagram:()=>Bje});var Bje,ode=F(()=>{"use strict";Qhe();ede();rde();ide();Bje={parser:Khe,db:Jhe,renderer:nde,styles:tde}});var g6,cde,ude=F(()=>{"use strict";g6=function(){var e=a(function(We,_e,Ve,Ye){for(Ve=Ve||{},Ye=We.length;Ye--;Ve[We[Ye]]=_e);return Ve},"o"),t=[1,3],r=[1,4],n=[1,5],i=[1,6],o=[1,7],s=[1,5,13,15,17,19,20,25,27,28,29,30,31,32,33,34,37,38,40,41,42,43,44,45,46,47,48,49,50],u=[1,5,6,13,15,17,19,20,25,27,28,29,30,31,32,33,34,37,38,40,41,42,43,44,45,46,47,48,49,50],f=[32,33,34],p=[2,7],g=[1,13],y=[1,17],x=[1,18],b=[1,19],E=[1,20],A=[1,21],O=[1,22],N=[1,23],I=[1,24],$=[1,25],X=[1,26],q=[1,27],M=[1,30],B=[1,31],G=[1,32],U=[1,33],W=[1,34],D=[1,35],K=[1,36],P=[1,37],re=[1,38],ce=[1,39],ee=[1,40],H=[1,41],te=[1,42],J=[1,57],Y=[1,58],de=[5,22,26,32,33,34,40,41,42,43,44,45,46,47,48,49,50,51],Fe={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,eol:4,SPACE:5,QUADRANT:6,document:7,line:8,statement:9,axisDetails:10,quadrantDetails:11,points:12,title:13,title_value:14,acc_title:15,acc_title_value:16,acc_descr:17,acc_descr_value:18,acc_descr_multiline_value:19,section:20,text:21,point_start:22,point_x:23,point_y:24,"X-AXIS":25,"AXIS-TEXT-DELIMITER":26,"Y-AXIS":27,QUADRANT_1:28,QUADRANT_2:29,QUADRANT_3:30,QUADRANT_4:31,NEWLINE:32,SEMI:33,EOF:34,alphaNumToken:35,textNoTagsToken:36,STR:37,MD_STR:38,alphaNum:39,PUNCTUATION:40,AMP:41,NUM:42,ALPHA:43,COMMA:44,PLUS:45,EQUALS:46,MULT:47,DOT:48,BRKT:49,UNDERSCORE:50,MINUS:51,$accept:0,$end:1},terminals_:{2:"error",5:"SPACE",6:"QUADRANT",13:"title",14:"title_value",15:"acc_title",16:"acc_title_value",17:"acc_descr",18:"acc_descr_value",19:"acc_descr_multiline_value",20:"section",22:"point_start",23:"point_x",24:"point_y",25:"X-AXIS",26:"AXIS-TEXT-DELIMITER",27:"Y-AXIS",28:"QUADRANT_1",29:"QUADRANT_2",30:"QUADRANT_3",31:"QUADRANT_4",32:"NEWLINE",33:"SEMI",34:"EOF",37:"STR",38:"MD_STR",40:"PUNCTUATION",41:"AMP",42:"NUM",43:"ALPHA",44:"COMMA",45:"PLUS",46:"EQUALS",47:"MULT",48:"DOT",49:"BRKT",50:"UNDERSCORE",51:"MINUS"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[9,0],[9,2],[9,1],[9,1],[9,1],[9,2],[9,2],[9,2],[9,1],[9,1],[12,4],[10,4],[10,3],[10,2],[10,4],[10,3],[10,2],[11,2],[11,2],[11,2],[11,2],[4,1],[4,1],[4,1],[21,1],[21,2],[21,1],[21,1],[39,1],[39,2],[35,1],[35,1],[35,1],[35,1],[35,1],[35,1],[35,1],[35,1],[35,1],[35,1],[35,1],[36,1],[36,1],[36,1]],performAction:a(function(_e,Ve,Ye,Le,fe,le,he){var xe=le.length-1;switch(fe){case 12:this.$=le[xe].trim(),Le.setDiagramTitle(this.$);break;case 13:this.$=le[xe].trim(),Le.setAccTitle(this.$);break;case 14:case 15:this.$=le[xe].trim(),Le.setAccDescription(this.$);break;case 16:Le.addSection(le[xe].substr(8)),this.$=le[xe].substr(8);break;case 17:Le.addPoint(le[xe-3],le[xe-1],le[xe]);break;case 18:Le.setXAxisLeftText(le[xe-2]),Le.setXAxisRightText(le[xe]);break;case 19:le[xe-1].text+=" \u27F6 ",Le.setXAxisLeftText(le[xe-1]);break;case 20:Le.setXAxisLeftText(le[xe]);break;case 21:Le.setYAxisBottomText(le[xe-2]),Le.setYAxisTopText(le[xe]);break;case 22:le[xe-1].text+=" \u27F6 ",Le.setYAxisBottomText(le[xe-1]);break;case 23:Le.setYAxisBottomText(le[xe]);break;case 24:Le.setQuadrant1Text(le[xe]);break;case 25:Le.setQuadrant2Text(le[xe]);break;case 26:Le.setQuadrant3Text(le[xe]);break;case 27:Le.setQuadrant4Text(le[xe]);break;case 31:this.$={text:le[xe],type:"text"};break;case 32:this.$={text:le[xe-1].text+""+le[xe],type:le[xe-1].type};break;case 33:this.$={text:le[xe],type:"text"};break;case 34:this.$={text:le[xe],type:"markdown"};break;case 35:this.$=le[xe];break;case 36:this.$=le[xe-1]+""+le[xe];break}},"anonymous"),table:[{3:1,4:2,5:t,6:r,32:n,33:i,34:o},{1:[3]},{3:8,4:2,5:t,6:r,32:n,33:i,34:o},{3:9,4:2,5:t,6:r,32:n,33:i,34:o},e(s,[2,4],{7:10}),e(u,[2,28]),e(u,[2,29]),e(u,[2,30]),{1:[2,1]},{1:[2,2]},e(f,p,{8:11,9:12,10:14,11:15,12:16,21:28,35:29,1:[2,3],5:g,13:y,15:x,17:b,19:E,20:A,25:O,27:N,28:I,29:$,30:X,31:q,37:M,38:B,40:G,41:U,42:W,43:D,44:K,45:P,46:re,47:ce,48:ee,49:H,50:te}),e(s,[2,5]),{4:43,32:n,33:i,34:o},e(f,p,{10:14,11:15,12:16,21:28,35:29,9:44,5:g,13:y,15:x,17:b,19:E,20:A,25:O,27:N,28:I,29:$,30:X,31:q,37:M,38:B,40:G,41:U,42:W,43:D,44:K,45:P,46:re,47:ce,48:ee,49:H,50:te}),e(f,[2,9]),e(f,[2,10]),e(f,[2,11]),{14:[1,45]},{16:[1,46]},{18:[1,47]},e(f,[2,15]),e(f,[2,16]),{21:48,35:29,37:M,38:B,40:G,41:U,42:W,43:D,44:K,45:P,46:re,47:ce,48:ee,49:H,50:te},{21:49,35:29,37:M,38:B,40:G,41:U,42:W,43:D,44:K,45:P,46:re,47:ce,48:ee,49:H,50:te},{21:50,35:29,37:M,38:B,40:G,41:U,42:W,43:D,44:K,45:P,46:re,47:ce,48:ee,49:H,50:te},{21:51,35:29,37:M,38:B,40:G,41:U,42:W,43:D,44:K,45:P,46:re,47:ce,48:ee,49:H,50:te},{21:52,35:29,37:M,38:B,40:G,41:U,42:W,43:D,44:K,45:P,46:re,47:ce,48:ee,49:H,50:te},{21:53,35:29,37:M,38:B,40:G,41:U,42:W,43:D,44:K,45:P,46:re,47:ce,48:ee,49:H,50:te},{5:J,22:[1,54],35:56,36:55,40:G,41:U,42:W,43:D,44:K,45:P,46:re,47:ce,48:ee,49:H,50:te,51:Y},e(de,[2,31]),e(de,[2,33]),e(de,[2,34]),e(de,[2,37]),e(de,[2,38]),e(de,[2,39]),e(de,[2,40]),e(de,[2,41]),e(de,[2,42]),e(de,[2,43]),e(de,[2,44]),e(de,[2,45]),e(de,[2,46]),e(de,[2,47]),e(s,[2,6]),e(f,[2,8]),e(f,[2,12]),e(f,[2,13]),e(f,[2,14]),e(f,[2,20],{36:55,35:56,5:J,26:[1,59],40:G,41:U,42:W,43:D,44:K,45:P,46:re,47:ce,48:ee,49:H,50:te,51:Y}),e(f,[2,23],{36:55,35:56,5:J,26:[1,60],40:G,41:U,42:W,43:D,44:K,45:P,46:re,47:ce,48:ee,49:H,50:te,51:Y}),e(f,[2,24],{36:55,35:56,5:J,40:G,41:U,42:W,43:D,44:K,45:P,46:re,47:ce,48:ee,49:H,50:te,51:Y}),e(f,[2,25],{36:55,35:56,5:J,40:G,41:U,42:W,43:D,44:K,45:P,46:re,47:ce,48:ee,49:H,50:te,51:Y}),e(f,[2,26],{36:55,35:56,5:J,40:G,41:U,42:W,43:D,44:K,45:P,46:re,47:ce,48:ee,49:H,50:te,51:Y}),e(f,[2,27],{36:55,35:56,5:J,40:G,41:U,42:W,43:D,44:K,45:P,46:re,47:ce,48:ee,49:H,50:te,51:Y}),{23:[1,61]},e(de,[2,32]),e(de,[2,48]),e(de,[2,49]),e(de,[2,50]),e(f,[2,19],{35:29,21:62,37:M,38:B,40:G,41:U,42:W,43:D,44:K,45:P,46:re,47:ce,48:ee,49:H,50:te}),e(f,[2,22],{35:29,21:63,37:M,38:B,40:G,41:U,42:W,43:D,44:K,45:P,46:re,47:ce,48:ee,49:H,50:te}),{24:[1,64]},e(f,[2,18],{36:55,35:56,5:J,40:G,41:U,42:W,43:D,44:K,45:P,46:re,47:ce,48:ee,49:H,50:te,51:Y}),e(f,[2,21],{36:55,35:56,5:J,40:G,41:U,42:W,43:D,44:K,45:P,46:re,47:ce,48:ee,49:H,50:te,51:Y}),e(f,[2,17])],defaultActions:{8:[2,1],9:[2,2]},parseError:a(function(_e,Ve){if(Ve.recoverable)this.trace(_e);else{var Ye=new Error(_e);throw Ye.hash=Ve,Ye}},"parseError"),parse:a(function(_e){var Ve=this,Ye=[0],Le=[],fe=[null],le=[],he=this.table,xe="",ke=0,pe=0,Ce=0,Ue=2,He=1,Pt=le.slice.call(arguments,1),Lt=Object.create(this.lexer),Xt={yy:{}};for(var Kt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Kt)&&(Xt.yy[Kt]=this.yy[Kt]);Lt.setInput(_e,Xt.yy),Xt.yy.lexer=Lt,Xt.yy.parser=this,typeof Lt.yylloc>"u"&&(Lt.yylloc={});var kr=Lt.yylloc;le.push(kr);var bt=Lt.options&&Lt.options.ranges;typeof Xt.yy.parseError=="function"?this.parseError=Xt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function gt(Yt){Ye.length=Ye.length-2*Yt,fe.length=fe.length-Yt,le.length=le.length-Yt}a(gt,"popStack");function qt(){var Yt;return Yt=Le.pop()||Lt.lex()||He,typeof Yt!="number"&&(Yt instanceof Array&&(Le=Yt,Yt=Le.pop()),Yt=Ve.symbols_[Yt]||Yt),Yt}a(qt,"lex");for(var ze,$e,Te,pt,it,Qt,_r={},Zt,mr,sn,ir;;){if(Te=Ye[Ye.length-1],this.defaultActions[Te]?pt=this.defaultActions[Te]:((ze===null||typeof ze>"u")&&(ze=qt()),pt=he[Te]&&he[Te][ze]),typeof pt>"u"||!pt.length||!pt[0]){var xr="";ir=[];for(Zt in he[Te])this.terminals_[Zt]&&Zt>Ue&&ir.push("'"+this.terminals_[Zt]+"'");Lt.showPosition?xr="Parse error on line "+(ke+1)+`:
`+Lt.showPosition()+`
Expecting `+ir.join(", ")+", got '"+(this.terminals_[ze]||ze)+"'":xr="Parse error on line "+(ke+1)+": Unexpected "+(ze==He?"end of input":"'"+(this.terminals_[ze]||ze)+"'"),this.parseError(xr,{text:Lt.match,token:this.terminals_[ze]||ze,line:Lt.yylineno,loc:kr,expected:ir})}if(pt[0]instanceof Array&&pt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Te+", token: "+ze);switch(pt[0]){case 1:Ye.push(ze),fe.push(Lt.yytext),le.push(Lt.yylloc),Ye.push(pt[1]),ze=null,$e?(ze=$e,$e=null):(pe=Lt.yyleng,xe=Lt.yytext,ke=Lt.yylineno,kr=Lt.yylloc,Ce>0&&Ce--);break;case 2:if(mr=this.productions_[pt[1]][1],_r.$=fe[fe.length-mr],_r._$={first_line:le[le.length-(mr||1)].first_line,last_line:le[le.length-1].last_line,first_column:le[le.length-(mr||1)].first_column,last_column:le[le.length-1].last_column},bt&&(_r._$.range=[le[le.length-(mr||1)].range[0],le[le.length-1].range[1]]),Qt=this.performAction.apply(_r,[xe,pe,ke,Xt.yy,pt[1],fe,le].concat(Pt)),typeof Qt<"u")return Qt;mr&&(Ye=Ye.slice(0,-1*mr*2),fe=fe.slice(0,-1*mr),le=le.slice(0,-1*mr)),Ye.push(this.productions_[pt[1]][0]),fe.push(_r.$),le.push(_r._$),sn=he[Ye[Ye.length-2]][Ye[Ye.length-1]],Ye.push(sn);break;case 3:return!0}}return!0},"parse")},oe=function(){var We={EOF:1,parseError:a(function(Ve,Ye){if(this.yy.parser)this.yy.parser.parseError(Ve,Ye);else throw new Error(Ve)},"parseError"),setInput:function(_e,Ve){return this.yy=Ve||this.yy||{},this._input=_e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var _e=this._input[0];this.yytext+=_e,this.yyleng++,this.offset++,this.match+=_e,this.matched+=_e;var Ve=_e.match(/(?:\r\n?|\n).*/g);return Ve?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),_e},unput:function(_e){var Ve=_e.length,Ye=_e.split(/(?:\r\n?|\n)/g);this._input=_e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Ve),this.offset-=Ve;var Le=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Ye.length-1&&(this.yylineno-=Ye.length-1);var fe=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Ye?(Ye.length===Le.length?this.yylloc.first_column:0)+Le[Le.length-Ye.length].length-Ye[0].length:this.yylloc.first_column-Ve},this.options.ranges&&(this.yylloc.range=[fe[0],fe[0]+this.yyleng-Ve]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(_e){this.unput(this.match.slice(_e))},pastInput:function(){var _e=this.matched.substr(0,this.matched.length-this.match.length);return(_e.length>20?"...":"")+_e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var _e=this.match;return _e.length<20&&(_e+=this._input.substr(0,20-_e.length)),(_e.substr(0,20)+(_e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var _e=this.pastInput(),Ve=new Array(_e.length+1).join("-");return _e+this.upcomingInput()+`
`+Ve+"^"},test_match:function(_e,Ve){var Ye,Le,fe;if(this.options.backtrack_lexer&&(fe={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(fe.yylloc.range=this.yylloc.range.slice(0))),Le=_e[0].match(/(?:\r\n?|\n).*/g),Le&&(this.yylineno+=Le.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Le?Le[Le.length-1].length-Le[Le.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+_e[0].length},this.yytext+=_e[0],this.match+=_e[0],this.matches=_e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(_e[0].length),this.matched+=_e[0],Ye=this.performAction.call(this,this.yy,this,Ve,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Ye)return Ye;if(this._backtrack){for(var le in fe)this[le]=fe[le];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var _e,Ve,Ye,Le;this._more||(this.yytext="",this.match="");for(var fe=this._currentRules(),le=0;le<fe.length;le++)if(Ye=this._input.match(this.rules[fe[le]]),Ye&&(!Ve||Ye[0].length>Ve[0].length)){if(Ve=Ye,Le=le,this.options.backtrack_lexer){if(_e=this.test_match(Ye,fe[le]),_e!==!1)return _e;if(this._backtrack){Ve=!1;continue}else return!1}else if(!this.options.flex)break}return Ve?(_e=this.test_match(Ve,fe[Le]),_e!==!1?_e:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var Ve=this.next();return Ve||this.lex()},"lex"),begin:a(function(Ve){this.conditionStack.push(Ve)},"begin"),popState:a(function(){var Ve=this.conditionStack.length-1;return Ve>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(Ve){return Ve=this.conditionStack.length-1-Math.abs(Ve||0),Ve>=0?this.conditionStack[Ve]:"INITIAL"},"topState"),pushState:a(function(Ve){this.begin(Ve)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(Ve,Ye,Le,fe){var le=fe;switch(Le){case 0:break;case 1:break;case 2:return 32;case 3:break;case 4:return this.begin("title"),13;break;case 5:return this.popState(),"title_value";break;case 6:return this.begin("acc_title"),15;break;case 7:return this.popState(),"acc_title_value";break;case 8:return this.begin("acc_descr"),17;break;case 9:return this.popState(),"acc_descr_value";break;case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 25;case 14:return 27;case 15:return 26;case 16:return 28;case 17:return 29;case 18:return 30;case 19:return 31;case 20:this.begin("md_string");break;case 21:return"MD_STR";case 22:this.popState();break;case 23:this.begin("string");break;case 24:this.popState();break;case 25:return"STR";case 26:return this.begin("point_start"),22;break;case 27:return this.begin("point_x"),23;break;case 28:this.popState();break;case 29:this.popState(),this.begin("point_y");break;case 30:return this.popState(),24;break;case 31:return 6;case 32:return 43;case 33:return"COLON";case 34:return 45;case 35:return 44;case 36:return 46;case 37:return 46;case 38:return 47;case 39:return 49;case 40:return 50;case 41:return 48;case 42:return 41;case 43:return 51;case 44:return 42;case 45:return 5;case 46:return 33;case 47:return 40;case 48:return 34}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?: *x-axis *)/i,/^(?: *y-axis *)/i,/^(?: *--+> *)/i,/^(?: *quadrant-1 *)/i,/^(?: *quadrant-2 *)/i,/^(?: *quadrant-3 *)/i,/^(?: *quadrant-4 *)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:\s*:\s*\[\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?:\s*\] *)/i,/^(?:\s*,\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?: *quadrantChart *)/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s)/i,/^(?:;)/i,/^(?:[!"#$%&'*+,-.`?\\_/])/i,/^(?:$)/i],conditions:{point_y:{rules:[30],inclusive:!1},point_x:{rules:[29],inclusive:!1},point_start:{rules:[27,28],inclusive:!1},acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},title:{rules:[5],inclusive:!1},md_string:{rules:[21,22],inclusive:!1},string:{rules:[24,25],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,6,8,10,13,14,15,16,17,18,19,20,23,26,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48],inclusive:!0}}};return We}();Fe.lexer=oe;function rt(){this.yy={}}return a(rt,"Parser"),rt.prototype=Fe,Fe.Parser=rt,new rt}();g6.parser=g6;cde=g6});var Lo,VE,fde=F(()=>{"use strict";Zr();br();Im();iT();Lo=Lm(),VE=class{static{a(this,"QuadrantBuilder")}constructor(){this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData()}getDefaultData(){return{titleText:"",quadrant1Text:"",quadrant2Text:"",quadrant3Text:"",quadrant4Text:"",xAxisLeftText:"",xAxisRightText:"",yAxisBottomText:"",yAxisTopText:"",points:[]}}getDefaultConfig(){return{showXAxis:!0,showYAxis:!0,showTitle:!0,chartHeight:si.quadrantChart?.chartWidth||500,chartWidth:si.quadrantChart?.chartHeight||500,titlePadding:si.quadrantChart?.titlePadding||10,titleFontSize:si.quadrantChart?.titleFontSize||20,quadrantPadding:si.quadrantChart?.quadrantPadding||5,xAxisLabelPadding:si.quadrantChart?.xAxisLabelPadding||5,yAxisLabelPadding:si.quadrantChart?.yAxisLabelPadding||5,xAxisLabelFontSize:si.quadrantChart?.xAxisLabelFontSize||16,yAxisLabelFontSize:si.quadrantChart?.yAxisLabelFontSize||16,quadrantLabelFontSize:si.quadrantChart?.quadrantLabelFontSize||16,quadrantTextTopPadding:si.quadrantChart?.quadrantTextTopPadding||5,pointTextPadding:si.quadrantChart?.pointTextPadding||5,pointLabelFontSize:si.quadrantChart?.pointLabelFontSize||12,pointRadius:si.quadrantChart?.pointRadius||5,xAxisPosition:si.quadrantChart?.xAxisPosition||"top",yAxisPosition:si.quadrantChart?.yAxisPosition||"left",quadrantInternalBorderStrokeWidth:si.quadrantChart?.quadrantInternalBorderStrokeWidth||1,quadrantExternalBorderStrokeWidth:si.quadrantChart?.quadrantExternalBorderStrokeWidth||2}}getDefaultThemeConfig(){return{quadrant1Fill:Lo.quadrant1Fill,quadrant2Fill:Lo.quadrant2Fill,quadrant3Fill:Lo.quadrant3Fill,quadrant4Fill:Lo.quadrant4Fill,quadrant1TextFill:Lo.quadrant1TextFill,quadrant2TextFill:Lo.quadrant2TextFill,quadrant3TextFill:Lo.quadrant3TextFill,quadrant4TextFill:Lo.quadrant4TextFill,quadrantPointFill:Lo.quadrantPointFill,quadrantPointTextFill:Lo.quadrantPointTextFill,quadrantXAxisTextFill:Lo.quadrantXAxisTextFill,quadrantYAxisTextFill:Lo.quadrantYAxisTextFill,quadrantTitleFill:Lo.quadrantTitleFill,quadrantInternalBorderStrokeFill:Lo.quadrantInternalBorderStrokeFill,quadrantExternalBorderStrokeFill:Lo.quadrantExternalBorderStrokeFill}}clear(){this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData(),ye.info("clear called")}setData(t){this.data={...this.data,...t}}addPoints(t){this.data.points=[...t,...this.data.points]}setConfig(t){ye.trace("setConfig called with: ",t),this.config={...this.config,...t}}setThemeConfig(t){ye.trace("setThemeConfig called with: ",t),this.themeConfig={...this.themeConfig,...t}}calculateSpace(t,r,n,i){let o=this.config.xAxisLabelPadding*2+this.config.xAxisLabelFontSize,s={top:t==="top"&&r?o:0,bottom:t==="bottom"&&r?o:0},u=this.config.yAxisLabelPadding*2+this.config.yAxisLabelFontSize,f={left:this.config.yAxisPosition==="left"&&n?u:0,right:this.config.yAxisPosition==="right"&&n?u:0},p=this.config.titleFontSize+this.config.titlePadding*2,g={top:i?p:0},y=this.config.quadrantPadding+f.left,x=this.config.quadrantPadding+s.top+g.top,b=this.config.chartWidth-this.config.quadrantPadding*2-f.left-f.right,E=this.config.chartHeight-this.config.quadrantPadding*2-s.top-s.bottom-g.top,A=b/2,O=E/2;return{xAxisSpace:s,yAxisSpace:f,titleSpace:g,quadrantSpace:{quadrantLeft:y,quadrantTop:x,quadrantWidth:b,quadrantHalfWidth:A,quadrantHeight:E,quadrantHalfHeight:O}}}getAxisLabels(t,r,n,i){let{quadrantSpace:o,titleSpace:s}=i,{quadrantHalfHeight:u,quadrantHeight:f,quadrantLeft:p,quadrantHalfWidth:g,quadrantTop:y,quadrantWidth:x}=o,b=!!this.data.xAxisRightText,E=!!this.data.yAxisTopText,A=[];return this.data.xAxisLeftText&&r&&A.push({text:this.data.xAxisLeftText,fill:this.themeConfig.quadrantXAxisTextFill,x:p+(b?g/2:0),y:t==="top"?this.config.xAxisLabelPadding+s.top:this.config.xAxisLabelPadding+y+f+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:b?"center":"left",horizontalPos:"top",rotation:0}),this.data.xAxisRightText&&r&&A.push({text:this.data.xAxisRightText,fill:this.themeConfig.quadrantXAxisTextFill,x:p+g+(b?g/2:0),y:t==="top"?this.config.xAxisLabelPadding+s.top:this.config.xAxisLabelPadding+y+f+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:b?"center":"left",horizontalPos:"top",rotation:0}),this.data.yAxisBottomText&&n&&A.push({text:this.data.yAxisBottomText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+p+x+this.config.quadrantPadding,y:y+f-(E?u/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:E?"center":"left",horizontalPos:"top",rotation:-90}),this.data.yAxisTopText&&n&&A.push({text:this.data.yAxisTopText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+p+x+this.config.quadrantPadding,y:y+u-(E?u/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:E?"center":"left",horizontalPos:"top",rotation:-90}),A}getQuadrants(t){let{quadrantSpace:r}=t,{quadrantHalfHeight:n,quadrantLeft:i,quadrantHalfWidth:o,quadrantTop:s}=r,u=[{text:{text:this.data.quadrant1Text,fill:this.themeConfig.quadrant1TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i+o,y:s,width:o,height:n,fill:this.themeConfig.quadrant1Fill},{text:{text:this.data.quadrant2Text,fill:this.themeConfig.quadrant2TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i,y:s,width:o,height:n,fill:this.themeConfig.quadrant2Fill},{text:{text:this.data.quadrant3Text,fill:this.themeConfig.quadrant3TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i,y:s+n,width:o,height:n,fill:this.themeConfig.quadrant3Fill},{text:{text:this.data.quadrant4Text,fill:this.themeConfig.quadrant4TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i+o,y:s+n,width:o,height:n,fill:this.themeConfig.quadrant4Fill}];for(let f of u)f.text.x=f.x+f.width/2,this.data.points.length===0?(f.text.y=f.y+f.height/2,f.text.horizontalPos="middle"):(f.text.y=f.y+this.config.quadrantTextTopPadding,f.text.horizontalPos="top");return u}getQuadrantPoints(t){let{quadrantSpace:r}=t,{quadrantHeight:n,quadrantLeft:i,quadrantTop:o,quadrantWidth:s}=r,u=kl().domain([0,1]).range([i,s+i]),f=kl().domain([0,1]).range([n+o,o]);return this.data.points.map(g=>({x:u(g.x),y:f(g.y),fill:this.themeConfig.quadrantPointFill,radius:this.config.pointRadius,text:{text:g.text,fill:this.themeConfig.quadrantPointTextFill,x:u(g.x),y:f(g.y)+this.config.pointTextPadding,verticalPos:"center",horizontalPos:"top",fontSize:this.config.pointLabelFontSize,rotation:0}}))}getBorders(t){let r=this.config.quadrantExternalBorderStrokeWidth/2,{quadrantSpace:n}=t,{quadrantHalfHeight:i,quadrantHeight:o,quadrantLeft:s,quadrantHalfWidth:u,quadrantTop:f,quadrantWidth:p}=n;return[{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:s-r,y1:f,x2:s+p+r,y2:f},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:s+p,y1:f+r,x2:s+p,y2:f+o-r},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:s-r,y1:f+o,x2:s+p+r,y2:f+o},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:s,y1:f+r,x2:s,y2:f+o-r},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:s+u,y1:f+r,x2:s+u,y2:f+o-r},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:s+r,y1:f+i,x2:s+p-r,y2:f+i}]}getTitle(t){if(t)return{text:this.data.titleText,fill:this.themeConfig.quadrantTitleFill,fontSize:this.config.titleFontSize,horizontalPos:"top",verticalPos:"center",rotation:0,y:this.config.titlePadding,x:this.config.chartWidth/2}}build(){let t=this.config.showXAxis&&!!(this.data.xAxisLeftText||this.data.xAxisRightText),r=this.config.showYAxis&&!!(this.data.yAxisTopText||this.data.yAxisBottomText),n=this.config.showTitle&&!!this.data.titleText,i=this.data.points.length>0?"bottom":this.config.xAxisPosition,o=this.calculateSpace(i,t,r,n);return{points:this.getQuadrantPoints(o),quadrants:this.getQuadrants(o),axisLabels:this.getAxisLabels(i,t,r,o),borderLines:this.getBorders(o),title:this.getTitle(n)}}}});function Ku(e){return zn(e.trim(),Uje)}function $je(e){so.setData({quadrant1Text:Ku(e.text)})}function Gje(e){so.setData({quadrant2Text:Ku(e.text)})}function Vje(e){so.setData({quadrant3Text:Ku(e.text)})}function Wje(e){so.setData({quadrant4Text:Ku(e.text)})}function Hje(e){so.setData({xAxisLeftText:Ku(e.text)})}function jje(e){so.setData({xAxisRightText:Ku(e.text)})}function Yje(e){so.setData({yAxisTopText:Ku(e.text)})}function Xje(e){so.setData({yAxisBottomText:Ku(e.text)})}function Kje(e,t,r){so.addPoints([{x:t,y:r,text:Ku(e.text)}])}function Qje(e){so.setConfig({chartWidth:e})}function Zje(e){so.setConfig({chartHeight:e})}function Jje(){let e=Me(),{themeVariables:t,quadrantChart:r}=e;return r&&so.setConfig(r),so.setThemeConfig({quadrant1Fill:t.quadrant1Fill,quadrant2Fill:t.quadrant2Fill,quadrant3Fill:t.quadrant3Fill,quadrant4Fill:t.quadrant4Fill,quadrant1TextFill:t.quadrant1TextFill,quadrant2TextFill:t.quadrant2TextFill,quadrant3TextFill:t.quadrant3TextFill,quadrant4TextFill:t.quadrant4TextFill,quadrantPointFill:t.quadrantPointFill,quadrantPointTextFill:t.quadrantPointTextFill,quadrantXAxisTextFill:t.quadrantXAxisTextFill,quadrantYAxisTextFill:t.quadrantYAxisTextFill,quadrantExternalBorderStrokeFill:t.quadrantExternalBorderStrokeFill,quadrantInternalBorderStrokeFill:t.quadrantInternalBorderStrokeFill,quadrantTitleFill:t.quadrantTitleFill}),so.setData({titleText:Yn()}),so.build()}var Uje,so,eYe,hde,dde=F(()=>{"use strict";Pr();en();Ua();fde();Uje=Me();a(Ku,"textSanitizer");so=new VE;a($je,"setQuadrant1Text");a(Gje,"setQuadrant2Text");a(Vje,"setQuadrant3Text");a(Wje,"setQuadrant4Text");a(Hje,"setXAxisLeftText");a(jje,"setXAxisRightText");a(Yje,"setYAxisTopText");a(Xje,"setYAxisBottomText");a(Kje,"addPoint");a(Qje,"setWidth");a(Zje,"setHeight");a(Jje,"getQuadrantData");eYe=a(function(){so.clear(),In()},"clear"),hde={setWidth:Qje,setHeight:Zje,setQuadrant1Text:$je,setQuadrant2Text:Gje,setQuadrant3Text:Vje,setQuadrant4Text:Wje,setXAxisLeftText:Hje,setXAxisRightText:jje,setYAxisTopText:Yje,setYAxisBottomText:Xje,addPoint:Kje,getQuadrantData:Jje,clear:eYe,setAccTitle:Rn,getAccTitle:Nn,setDiagramTitle:ci,getDiagramTitle:Yn,getAccDescription:On,setAccDescription:Pn}});var tYe,pde,mde=F(()=>{"use strict";Zr();Pr();br();Si();tYe=a((e,t,r,n)=>{function i(G){return G==="top"?"hanging":"middle"}a(i,"getDominantBaseLine");function o(G){return G==="left"?"start":"middle"}a(o,"getTextAnchor");function s(G){return`translate(${G.x}, ${G.y}) rotate(${G.rotation||0})`}a(s,"getTransformation");let u=Me();ye.debug(`Rendering quadrant chart
`+e);let f=u.securityLevel,p;f==="sandbox"&&(p=dt("#i"+t));let y=(f==="sandbox"?dt(p.nodes()[0].contentDocument.body):dt("body")).select(`[id="${t}"]`),x=y.append("g").attr("class","main"),b=u.quadrantChart?.chartWidth||500,E=u.quadrantChart?.chartHeight||500;wn(y,E,b,u.quadrantChart?.useMaxWidth||!0),y.attr("viewBox","0 0 "+b+" "+E),n.db.setHeight(E),n.db.setWidth(b);let A=n.db.getQuadrantData(),O=x.append("g").attr("class","quadrants"),N=x.append("g").attr("class","border"),I=x.append("g").attr("class","data-points"),$=x.append("g").attr("class","labels"),X=x.append("g").attr("class","title");A.title&&X.append("text").attr("x",0).attr("y",0).attr("fill",A.title.fill).attr("font-size",A.title.fontSize).attr("dominant-baseline",i(A.title.horizontalPos)).attr("text-anchor",o(A.title.verticalPos)).attr("transform",s(A.title)).text(A.title.text),A.borderLines&&N.selectAll("line").data(A.borderLines).enter().append("line").attr("x1",G=>G.x1).attr("y1",G=>G.y1).attr("x2",G=>G.x2).attr("y2",G=>G.y2).style("stroke",G=>G.strokeFill).style("stroke-width",G=>G.strokeWidth);let q=O.selectAll("g.quadrant").data(A.quadrants).enter().append("g").attr("class","quadrant");q.append("rect").attr("x",G=>G.x).attr("y",G=>G.y).attr("width",G=>G.width).attr("height",G=>G.height).attr("fill",G=>G.fill),q.append("text").attr("x",0).attr("y",0).attr("fill",G=>G.text.fill).attr("font-size",G=>G.text.fontSize).attr("dominant-baseline",G=>i(G.text.horizontalPos)).attr("text-anchor",G=>o(G.text.verticalPos)).attr("transform",G=>s(G.text)).text(G=>G.text.text),$.selectAll("g.label").data(A.axisLabels).enter().append("g").attr("class","label").append("text").attr("x",0).attr("y",0).text(G=>G.text).attr("fill",G=>G.fill).attr("font-size",G=>G.fontSize).attr("dominant-baseline",G=>i(G.horizontalPos)).attr("text-anchor",G=>o(G.verticalPos)).attr("transform",G=>s(G));let B=I.selectAll("g.data-point").data(A.points).enter().append("g").attr("class","data-point");B.append("circle").attr("cx",G=>G.x).attr("cy",G=>G.y).attr("r",G=>G.radius).attr("fill",G=>G.fill),B.append("text").attr("x",0).attr("y",0).text(G=>G.text.text).attr("fill",G=>G.text.fill).attr("font-size",G=>G.text.fontSize).attr("dominant-baseline",G=>i(G.text.horizontalPos)).attr("text-anchor",G=>o(G.text.verticalPos)).attr("transform",G=>s(G.text))},"draw"),pde={draw:tYe}});var gde={};ii(gde,{diagram:()=>rYe});var rYe,yde=F(()=>{"use strict";ude();dde();mde();rYe={parser:cde,db:hde,renderer:pde,styles:()=>""}});var y6,bde,Tde=F(()=>{"use strict";y6=function(){var e=a(function(ce,ee,H,te){for(H=H||{},te=ce.length;te--;H[ce[te]]=ee);return H},"o"),t=[1,10,12,14,16,18,19,21,23],r=[2,6],n=[1,3],i=[1,5],o=[1,6],s=[1,7],u=[1,5,10,12,14,16,18,19,21,23,34,35,36],f=[1,25],p=[1,26],g=[1,28],y=[1,29],x=[1,30],b=[1,31],E=[1,32],A=[1,33],O=[1,34],N=[1,35],I=[1,36],$=[1,37],X=[1,43],q=[1,42],M=[1,47],B=[1,50],G=[1,10,12,14,16,18,19,21,23,34,35,36],U=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36],W=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36,41,42,43,44,45,46,47,48,49,50],D=[1,64],K={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,eol:4,XYCHART:5,chartConfig:6,document:7,CHART_ORIENTATION:8,statement:9,title:10,text:11,X_AXIS:12,parseXAxis:13,Y_AXIS:14,parseYAxis:15,LINE:16,plotData:17,BAR:18,acc_title:19,acc_title_value:20,acc_descr:21,acc_descr_value:22,acc_descr_multiline_value:23,SQUARE_BRACES_START:24,commaSeparatedNumbers:25,SQUARE_BRACES_END:26,NUMBER_WITH_DECIMAL:27,COMMA:28,xAxisData:29,bandData:30,ARROW_DELIMITER:31,commaSeparatedTexts:32,yAxisData:33,NEWLINE:34,SEMI:35,EOF:36,alphaNum:37,STR:38,MD_STR:39,alphaNumToken:40,AMP:41,NUM:42,ALPHA:43,PLUS:44,EQUALS:45,MULT:46,DOT:47,BRKT:48,MINUS:49,UNDERSCORE:50,$accept:0,$end:1},terminals_:{2:"error",5:"XYCHART",8:"CHART_ORIENTATION",10:"title",12:"X_AXIS",14:"Y_AXIS",16:"LINE",18:"BAR",19:"acc_title",20:"acc_title_value",21:"acc_descr",22:"acc_descr_value",23:"acc_descr_multiline_value",24:"SQUARE_BRACES_START",26:"SQUARE_BRACES_END",27:"NUMBER_WITH_DECIMAL",28:"COMMA",31:"ARROW_DELIMITER",34:"NEWLINE",35:"SEMI",36:"EOF",38:"STR",39:"MD_STR",41:"AMP",42:"NUM",43:"ALPHA",44:"PLUS",45:"EQUALS",46:"MULT",47:"DOT",48:"BRKT",49:"MINUS",50:"UNDERSCORE"},productions_:[0,[3,2],[3,3],[3,2],[3,1],[6,1],[7,0],[7,2],[9,2],[9,2],[9,2],[9,2],[9,2],[9,3],[9,2],[9,3],[9,2],[9,2],[9,1],[17,3],[25,3],[25,1],[13,1],[13,2],[13,1],[29,1],[29,3],[30,3],[32,3],[32,1],[15,1],[15,2],[15,1],[33,3],[4,1],[4,1],[4,1],[11,1],[11,1],[11,1],[37,1],[37,2],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1]],performAction:a(function(ee,H,te,J,Y,de,Fe){var oe=de.length-1;switch(Y){case 5:J.setOrientation(de[oe]);break;case 9:J.setDiagramTitle(de[oe].text.trim());break;case 12:J.setLineData({text:"",type:"text"},de[oe]);break;case 13:J.setLineData(de[oe-1],de[oe]);break;case 14:J.setBarData({text:"",type:"text"},de[oe]);break;case 15:J.setBarData(de[oe-1],de[oe]);break;case 16:this.$=de[oe].trim(),J.setAccTitle(this.$);break;case 17:case 18:this.$=de[oe].trim(),J.setAccDescription(this.$);break;case 19:this.$=de[oe-1];break;case 20:this.$=[Number(de[oe-2]),...de[oe]];break;case 21:this.$=[Number(de[oe])];break;case 22:J.setXAxisTitle(de[oe]);break;case 23:J.setXAxisTitle(de[oe-1]);break;case 24:J.setXAxisTitle({type:"text",text:""});break;case 25:J.setXAxisBand(de[oe]);break;case 26:J.setXAxisRangeData(Number(de[oe-2]),Number(de[oe]));break;case 27:this.$=de[oe-1];break;case 28:this.$=[de[oe-2],...de[oe]];break;case 29:this.$=[de[oe]];break;case 30:J.setYAxisTitle(de[oe]);break;case 31:J.setYAxisTitle(de[oe-1]);break;case 32:J.setYAxisTitle({type:"text",text:""});break;case 33:J.setYAxisRangeData(Number(de[oe-2]),Number(de[oe]));break;case 37:this.$={text:de[oe],type:"text"};break;case 38:this.$={text:de[oe],type:"text"};break;case 39:this.$={text:de[oe],type:"markdown"};break;case 40:this.$=de[oe];break;case 41:this.$=de[oe-1]+""+de[oe];break}},"anonymous"),table:[e(t,r,{3:1,4:2,7:4,5:n,34:i,35:o,36:s}),{1:[3]},e(t,r,{4:2,7:4,3:8,5:n,34:i,35:o,36:s}),e(t,r,{4:2,7:4,6:9,3:10,5:n,8:[1,11],34:i,35:o,36:s}),{1:[2,4],9:12,10:[1,13],12:[1,14],14:[1,15],16:[1,16],18:[1,17],19:[1,18],21:[1,19],23:[1,20]},e(u,[2,34]),e(u,[2,35]),e(u,[2,36]),{1:[2,1]},e(t,r,{4:2,7:4,3:21,5:n,34:i,35:o,36:s}),{1:[2,3]},e(u,[2,5]),e(t,[2,7],{4:22,34:i,35:o,36:s}),{11:23,37:24,38:f,39:p,40:27,41:g,42:y,43:x,44:b,45:E,46:A,47:O,48:N,49:I,50:$},{11:39,13:38,24:X,27:q,29:40,30:41,37:24,38:f,39:p,40:27,41:g,42:y,43:x,44:b,45:E,46:A,47:O,48:N,49:I,50:$},{11:45,15:44,27:M,33:46,37:24,38:f,39:p,40:27,41:g,42:y,43:x,44:b,45:E,46:A,47:O,48:N,49:I,50:$},{11:49,17:48,24:B,37:24,38:f,39:p,40:27,41:g,42:y,43:x,44:b,45:E,46:A,47:O,48:N,49:I,50:$},{11:52,17:51,24:B,37:24,38:f,39:p,40:27,41:g,42:y,43:x,44:b,45:E,46:A,47:O,48:N,49:I,50:$},{20:[1,53]},{22:[1,54]},e(G,[2,18]),{1:[2,2]},e(G,[2,8]),e(G,[2,9]),e(U,[2,37],{40:55,41:g,42:y,43:x,44:b,45:E,46:A,47:O,48:N,49:I,50:$}),e(U,[2,38]),e(U,[2,39]),e(W,[2,40]),e(W,[2,42]),e(W,[2,43]),e(W,[2,44]),e(W,[2,45]),e(W,[2,46]),e(W,[2,47]),e(W,[2,48]),e(W,[2,49]),e(W,[2,50]),e(W,[2,51]),e(G,[2,10]),e(G,[2,22],{30:41,29:56,24:X,27:q}),e(G,[2,24]),e(G,[2,25]),{31:[1,57]},{11:59,32:58,37:24,38:f,39:p,40:27,41:g,42:y,43:x,44:b,45:E,46:A,47:O,48:N,49:I,50:$},e(G,[2,11]),e(G,[2,30],{33:60,27:M}),e(G,[2,32]),{31:[1,61]},e(G,[2,12]),{17:62,24:B},{25:63,27:D},e(G,[2,14]),{17:65,24:B},e(G,[2,16]),e(G,[2,17]),e(W,[2,41]),e(G,[2,23]),{27:[1,66]},{26:[1,67]},{26:[2,29],28:[1,68]},e(G,[2,31]),{27:[1,69]},e(G,[2,13]),{26:[1,70]},{26:[2,21],28:[1,71]},e(G,[2,15]),e(G,[2,26]),e(G,[2,27]),{11:59,32:72,37:24,38:f,39:p,40:27,41:g,42:y,43:x,44:b,45:E,46:A,47:O,48:N,49:I,50:$},e(G,[2,33]),e(G,[2,19]),{25:73,27:D},{26:[2,28]},{26:[2,20]}],defaultActions:{8:[2,1],10:[2,3],21:[2,2],72:[2,28],73:[2,20]},parseError:a(function(ee,H){if(H.recoverable)this.trace(ee);else{var te=new Error(ee);throw te.hash=H,te}},"parseError"),parse:a(function(ee){var H=this,te=[0],J=[],Y=[null],de=[],Fe=this.table,oe="",rt=0,We=0,_e=0,Ve=2,Ye=1,Le=de.slice.call(arguments,1),fe=Object.create(this.lexer),le={yy:{}};for(var he in this.yy)Object.prototype.hasOwnProperty.call(this.yy,he)&&(le.yy[he]=this.yy[he]);fe.setInput(ee,le.yy),le.yy.lexer=fe,le.yy.parser=this,typeof fe.yylloc>"u"&&(fe.yylloc={});var xe=fe.yylloc;de.push(xe);var ke=fe.options&&fe.options.ranges;typeof le.yy.parseError=="function"?this.parseError=le.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function pe(Te){te.length=te.length-2*Te,Y.length=Y.length-Te,de.length=de.length-Te}a(pe,"popStack");function Ce(){var Te;return Te=J.pop()||fe.lex()||Ye,typeof Te!="number"&&(Te instanceof Array&&(J=Te,Te=J.pop()),Te=H.symbols_[Te]||Te),Te}a(Ce,"lex");for(var Ue,He,Pt,Lt,Xt,Kt,kr={},bt,gt,qt,ze;;){if(Pt=te[te.length-1],this.defaultActions[Pt]?Lt=this.defaultActions[Pt]:((Ue===null||typeof Ue>"u")&&(Ue=Ce()),Lt=Fe[Pt]&&Fe[Pt][Ue]),typeof Lt>"u"||!Lt.length||!Lt[0]){var $e="";ze=[];for(bt in Fe[Pt])this.terminals_[bt]&&bt>Ve&&ze.push("'"+this.terminals_[bt]+"'");fe.showPosition?$e="Parse error on line "+(rt+1)+`:
`+fe.showPosition()+`
Expecting `+ze.join(", ")+", got '"+(this.terminals_[Ue]||Ue)+"'":$e="Parse error on line "+(rt+1)+": Unexpected "+(Ue==Ye?"end of input":"'"+(this.terminals_[Ue]||Ue)+"'"),this.parseError($e,{text:fe.match,token:this.terminals_[Ue]||Ue,line:fe.yylineno,loc:xe,expected:ze})}if(Lt[0]instanceof Array&&Lt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Pt+", token: "+Ue);switch(Lt[0]){case 1:te.push(Ue),Y.push(fe.yytext),de.push(fe.yylloc),te.push(Lt[1]),Ue=null,He?(Ue=He,He=null):(We=fe.yyleng,oe=fe.yytext,rt=fe.yylineno,xe=fe.yylloc,_e>0&&_e--);break;case 2:if(gt=this.productions_[Lt[1]][1],kr.$=Y[Y.length-gt],kr._$={first_line:de[de.length-(gt||1)].first_line,last_line:de[de.length-1].last_line,first_column:de[de.length-(gt||1)].first_column,last_column:de[de.length-1].last_column},ke&&(kr._$.range=[de[de.length-(gt||1)].range[0],de[de.length-1].range[1]]),Kt=this.performAction.apply(kr,[oe,We,rt,le.yy,Lt[1],Y,de].concat(Le)),typeof Kt<"u")return Kt;gt&&(te=te.slice(0,-1*gt*2),Y=Y.slice(0,-1*gt),de=de.slice(0,-1*gt)),te.push(this.productions_[Lt[1]][0]),Y.push(kr.$),de.push(kr._$),qt=Fe[te[te.length-2]][te[te.length-1]],te.push(qt);break;case 3:return!0}}return!0},"parse")},P=function(){var ce={EOF:1,parseError:a(function(H,te){if(this.yy.parser)this.yy.parser.parseError(H,te);else throw new Error(H)},"parseError"),setInput:function(ee,H){return this.yy=H||this.yy||{},this._input=ee,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ee=this._input[0];this.yytext+=ee,this.yyleng++,this.offset++,this.match+=ee,this.matched+=ee;var H=ee.match(/(?:\r\n?|\n).*/g);return H?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ee},unput:function(ee){var H=ee.length,te=ee.split(/(?:\r\n?|\n)/g);this._input=ee+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-H),this.offset-=H;var J=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),te.length-1&&(this.yylineno-=te.length-1);var Y=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:te?(te.length===J.length?this.yylloc.first_column:0)+J[J.length-te.length].length-te[0].length:this.yylloc.first_column-H},this.options.ranges&&(this.yylloc.range=[Y[0],Y[0]+this.yyleng-H]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(ee){this.unput(this.match.slice(ee))},pastInput:function(){var ee=this.matched.substr(0,this.matched.length-this.match.length);return(ee.length>20?"...":"")+ee.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var ee=this.match;return ee.length<20&&(ee+=this._input.substr(0,20-ee.length)),(ee.substr(0,20)+(ee.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var ee=this.pastInput(),H=new Array(ee.length+1).join("-");return ee+this.upcomingInput()+`
`+H+"^"},test_match:function(ee,H){var te,J,Y;if(this.options.backtrack_lexer&&(Y={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Y.yylloc.range=this.yylloc.range.slice(0))),J=ee[0].match(/(?:\r\n?|\n).*/g),J&&(this.yylineno+=J.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:J?J[J.length-1].length-J[J.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ee[0].length},this.yytext+=ee[0],this.match+=ee[0],this.matches=ee,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ee[0].length),this.matched+=ee[0],te=this.performAction.call(this,this.yy,this,H,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),te)return te;if(this._backtrack){for(var de in Y)this[de]=Y[de];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var ee,H,te,J;this._more||(this.yytext="",this.match="");for(var Y=this._currentRules(),de=0;de<Y.length;de++)if(te=this._input.match(this.rules[Y[de]]),te&&(!H||te[0].length>H[0].length)){if(H=te,J=de,this.options.backtrack_lexer){if(ee=this.test_match(te,Y[de]),ee!==!1)return ee;if(this._backtrack){H=!1;continue}else return!1}else if(!this.options.flex)break}return H?(ee=this.test_match(H,Y[J]),ee!==!1?ee:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var H=this.next();return H||this.lex()},"lex"),begin:a(function(H){this.conditionStack.push(H)},"begin"),popState:a(function(){var H=this.conditionStack.length-1;return H>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(H){return H=this.conditionStack.length-1-Math.abs(H||0),H>=0?this.conditionStack[H]:"INITIAL"},"topState"),pushState:a(function(H){this.begin(H)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(H,te,J,Y){var de=Y;switch(J){case 0:break;case 1:break;case 2:return this.popState(),34;break;case 3:return this.popState(),34;break;case 4:return 34;case 5:break;case 6:return 10;case 7:return this.pushState("acc_title"),19;break;case 8:return this.popState(),"acc_title_value";break;case 9:return this.pushState("acc_descr"),21;break;case 10:return this.popState(),"acc_descr_value";break;case 11:this.pushState("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 5;case 15:return 8;case 16:return this.pushState("axis_data"),"X_AXIS";break;case 17:return this.pushState("axis_data"),"Y_AXIS";break;case 18:return this.pushState("axis_band_data"),24;break;case 19:return 31;case 20:return this.pushState("data"),16;break;case 21:return this.pushState("data"),18;break;case 22:return this.pushState("data_inner"),24;break;case 23:return 27;case 24:return this.popState(),26;break;case 25:this.popState();break;case 26:this.pushState("string");break;case 27:this.popState();break;case 28:return"STR";case 29:return 24;case 30:return 26;case 31:return 43;case 32:return"COLON";case 33:return 44;case 34:return 28;case 35:return 45;case 36:return 46;case 37:return 48;case 38:return 50;case 39:return 47;case 40:return 41;case 41:return 49;case 42:return 42;case 43:break;case 44:return 35;case 45:return 36}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:(\r?\n))/i,/^(?:(\r?\n))/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:\{)/i,/^(?:[^\}]*)/i,/^(?:xychart-beta\b)/i,/^(?:(?:vertical|horizontal))/i,/^(?:x-axis\b)/i,/^(?:y-axis\b)/i,/^(?:\[)/i,/^(?:-->)/i,/^(?:line\b)/i,/^(?:bar\b)/i,/^(?:\[)/i,/^(?:[+-]?(?:\d+(?:\.\d+)?|\.\d+))/i,/^(?:\])/i,/^(?:(?:`\)                                    \{ this\.pushState\(md_string\); \}\n<md_string>\(\?:\(\?!`"\)\.\)\+                  \{ return MD_STR; \}\n<md_string>\(\?:`))/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s+)/i,/^(?:;)/i,/^(?:$)/i],conditions:{data_inner:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,23,24,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},data:{rules:[0,1,3,4,5,6,7,9,11,14,15,16,17,20,21,22,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},axis_band_data:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,24,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},axis_data:{rules:[0,1,2,4,5,6,7,9,11,14,15,16,17,18,19,20,21,23,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},title:{rules:[],inclusive:!1},md_string:{rules:[],inclusive:!1},string:{rules:[27,28],inclusive:!1},INITIAL:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0}}};return ce}();K.lexer=P;function re(){this.yy={}}return a(re,"Parser"),re.prototype=K,K.Parser=re,new re}();y6.parser=y6;bde=y6});function v6(e){return e.type==="bar"}function WE(e){return e.type==="band"}function Kg(e){return e.type==="linear"}var HE=F(()=>{"use strict";a(v6,"isBarPlot");a(WE,"isBandAxisData");a(Kg,"isLinearAxisData")});var Qg,x6=F(()=>{"use strict";vg();Qg=class{constructor(t){this.parentGroup=t}static{a(this,"TextDimensionCalculatorWithFont")}getMaxDimension(t,r){if(!this.parentGroup)return{width:t.reduce((o,s)=>Math.max(s.length,o),0)*r,height:r};let n={width:0,height:0},i=this.parentGroup.append("g").attr("visibility","hidden").attr("font-size",r);for(let o of t){let s=PQ(i,1,o),u=s?s.width:o.length*r,f=s?s.height:r;n.width=Math.max(n.width,u),n.height=Math.max(n.height,f)}return i.remove(),n}}});var Zg,b6=F(()=>{"use strict";Zg=class{constructor(t,r,n,i){this.axisConfig=t;this.title=r;this.textDimensionCalculator=n;this.axisThemeConfig=i;this.boundingRect={x:0,y:0,width:0,height:0};this.axisPosition="left";this.showTitle=!1;this.showLabel=!1;this.showTick=!1;this.showAxisLine=!1;this.outerPadding=0;this.titleTextHeight=0;this.labelTextHeight=0;this.range=[0,10],this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left"}static{a(this,"BaseAxis")}setRange(t){this.range=t,this.axisPosition==="left"||this.axisPosition==="right"?this.boundingRect.height=t[1]-t[0]:this.boundingRect.width=t[1]-t[0],this.recalculateScale()}getRange(){return[this.range[0]+this.outerPadding,this.range[1]-this.outerPadding]}setAxisPosition(t){this.axisPosition=t,this.setRange(this.range)}getTickDistance(){let t=this.getRange();return Math.abs(t[0]-t[1])/this.getTickValues().length}getAxisOuterPadding(){return this.outerPadding}getLabelDimension(){return this.textDimensionCalculator.getMaxDimension(this.getTickValues().map(t=>t.toString()),this.axisConfig.labelFontSize)}recalculateOuterPaddingToDrawBar(){.7*this.getTickDistance()>this.outerPadding*2&&(this.outerPadding=Math.floor(.7*this.getTickDistance()/2)),this.recalculateScale()}calculateSpaceIfDrawnHorizontally(t){let r=t.height;if(this.axisConfig.showAxisLine&&r>this.axisConfig.axisLineWidth&&(r-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){let n=this.getLabelDimension(),i=.2*t.width;this.outerPadding=Math.min(n.width/2,i);let o=n.height+this.axisConfig.labelPadding*2;this.labelTextHeight=n.height,o<=r&&(r-=o,this.showLabel=!0)}if(this.axisConfig.showTick&&r>=this.axisConfig.tickLength&&(this.showTick=!0,r-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){let n=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),i=n.height+this.axisConfig.titlePadding*2;this.titleTextHeight=n.height,i<=r&&(r-=i,this.showTitle=!0)}this.boundingRect.width=t.width,this.boundingRect.height=t.height-r}calculateSpaceIfDrawnVertical(t){let r=t.width;if(this.axisConfig.showAxisLine&&r>this.axisConfig.axisLineWidth&&(r-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){let n=this.getLabelDimension(),i=.2*t.height;this.outerPadding=Math.min(n.height/2,i);let o=n.width+this.axisConfig.labelPadding*2;o<=r&&(r-=o,this.showLabel=!0)}if(this.axisConfig.showTick&&r>=this.axisConfig.tickLength&&(this.showTick=!0,r-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){let n=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),i=n.height+this.axisConfig.titlePadding*2;this.titleTextHeight=n.height,i<=r&&(r-=i,this.showTitle=!0)}this.boundingRect.width=t.width-r,this.boundingRect.height=t.height}calculateSpace(t){return this.axisPosition==="left"||this.axisPosition==="right"?this.calculateSpaceIfDrawnVertical(t):this.calculateSpaceIfDrawnHorizontally(t),this.recalculateScale(),{width:this.boundingRect.width,height:this.boundingRect.height}}setBoundingBoxXY(t){this.boundingRect.x=t.x,this.boundingRect.y=t.y}getDrawableElementsForLeftAxis(){let t=[];if(this.showAxisLine){let r=this.boundingRect.x+this.boundingRect.width-this.axisConfig.axisLineWidth/2;t.push({type:"path",groupTexts:["left-axis","axisl-line"],data:[{path:`M ${r},${this.boundingRect.y} L ${r},${this.boundingRect.y+this.boundingRect.height} `,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&t.push({type:"text",groupTexts:["left-axis","label"],data:this.getTickValues().map(r=>({text:r.toString(),x:this.boundingRect.x+this.boundingRect.width-(this.showLabel?this.axisConfig.labelPadding:0)-(this.showTick?this.axisConfig.tickLength:0)-(this.showAxisLine?this.axisConfig.axisLineWidth:0),y:this.getScaleValue(r),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"middle",horizontalPos:"right"}))}),this.showTick){let r=this.boundingRect.x+this.boundingRect.width-(this.showAxisLine?this.axisConfig.axisLineWidth:0);t.push({type:"path",groupTexts:["left-axis","ticks"],data:this.getTickValues().map(n=>({path:`M ${r},${this.getScaleValue(n)} L ${r-this.axisConfig.tickLength},${this.getScaleValue(n)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&t.push({type:"text",groupTexts:["left-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.axisConfig.titlePadding,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:270,verticalPos:"top",horizontalPos:"center"}]}),t}getDrawableElementsForBottomAxis(){let t=[];if(this.showAxisLine){let r=this.boundingRect.y+this.axisConfig.axisLineWidth/2;t.push({type:"path",groupTexts:["bottom-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${r} L ${this.boundingRect.x+this.boundingRect.width},${r}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&t.push({type:"text",groupTexts:["bottom-axis","label"],data:this.getTickValues().map(r=>({text:r.toString(),x:this.getScaleValue(r),y:this.boundingRect.y+this.axisConfig.labelPadding+(this.showTick?this.axisConfig.tickLength:0)+(this.showAxisLine?this.axisConfig.axisLineWidth:0),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){let r=this.boundingRect.y+(this.showAxisLine?this.axisConfig.axisLineWidth:0);t.push({type:"path",groupTexts:["bottom-axis","ticks"],data:this.getTickValues().map(n=>({path:`M ${this.getScaleValue(n)},${r} L ${this.getScaleValue(n)},${r+this.axisConfig.tickLength}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&t.push({type:"text",groupTexts:["bottom-axis","title"],data:[{text:this.title,x:this.range[0]+(this.range[1]-this.range[0])/2,y:this.boundingRect.y+this.boundingRect.height-this.axisConfig.titlePadding-this.titleTextHeight,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),t}getDrawableElementsForTopAxis(){let t=[];if(this.showAxisLine){let r=this.boundingRect.y+this.boundingRect.height-this.axisConfig.axisLineWidth/2;t.push({type:"path",groupTexts:["top-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${r} L ${this.boundingRect.x+this.boundingRect.width},${r}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&t.push({type:"text",groupTexts:["top-axis","label"],data:this.getTickValues().map(r=>({text:r.toString(),x:this.getScaleValue(r),y:this.boundingRect.y+(this.showTitle?this.titleTextHeight+this.axisConfig.titlePadding*2:0)+this.axisConfig.labelPadding,fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){let r=this.boundingRect.y;t.push({type:"path",groupTexts:["top-axis","ticks"],data:this.getTickValues().map(n=>({path:`M ${this.getScaleValue(n)},${r+this.boundingRect.height-(this.showAxisLine?this.axisConfig.axisLineWidth:0)} L ${this.getScaleValue(n)},${r+this.boundingRect.height-this.axisConfig.tickLength-(this.showAxisLine?this.axisConfig.axisLineWidth:0)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&t.push({type:"text",groupTexts:["top-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.axisConfig.titlePadding,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),t}getDrawableElements(){if(this.axisPosition==="left")return this.getDrawableElementsForLeftAxis();if(this.axisPosition==="right")throw Error("Drawing of right axis is not implemented");return this.axisPosition==="bottom"?this.getDrawableElementsForBottomAxis():this.axisPosition==="top"?this.getDrawableElementsForTopAxis():[]}}});var jE,kde=F(()=>{"use strict";Zr();br();b6();jE=class extends Zg{constructor(r,n,i,o,s){super(r,o,s,n);this.categories=i,this.scale=bm().domain(this.categories).range(this.getRange())}static{a(this,"BandAxis")}setRange(r){super.setRange(r)}recalculateScale(){this.scale=bm().domain(this.categories).range(this.getRange()).paddingInner(1).paddingOuter(0).align(.5),ye.trace("BandAxis axis final categories, range: ",this.categories,this.getRange())}getTickValues(){return this.categories}getScaleValue(r){return this.scale(r)||this.getRange()[0]}}});var YE,_de=F(()=>{"use strict";Zr();b6();YE=class extends Zg{constructor(r,n,i,o,s){super(r,o,s,n);this.domain=i,this.scale=kl().domain(this.domain).range(this.getRange())}static{a(this,"LinearAxis")}getTickValues(){return this.scale.ticks()}recalculateScale(){let r=[...this.domain];this.axisPosition==="left"&&r.reverse(),this.scale=kl().domain(r).range(this.getRange())}getScaleValue(r){return this.scale(r)}}});function T6(e,t,r,n){let i=new Qg(n);return WE(e)?new jE(t,r,e.categories,e.title,i):new YE(t,r,[e.min,e.max],e.title,i)}var wde=F(()=>{"use strict";HE();x6();kde();_de();a(T6,"getAxis")});function Ede(e,t,r,n){let i=new Qg(n);return new k6(i,e,t,r)}var k6,Cde=F(()=>{"use strict";x6();k6=class{constructor(t,r,n,i){this.textDimensionCalculator=t;this.chartConfig=r;this.chartData=n;this.chartThemeConfig=i;this.boundingRect={x:0,y:0,width:0,height:0},this.showChartTitle=!1}static{a(this,"ChartTitle")}setBoundingBoxXY(t){this.boundingRect.x=t.x,this.boundingRect.y=t.y}calculateSpace(t){let r=this.textDimensionCalculator.getMaxDimension([this.chartData.title],this.chartConfig.titleFontSize),n=Math.max(r.width,t.width),i=r.height+2*this.chartConfig.titlePadding;return r.width<=n&&r.height<=i&&this.chartConfig.showTitle&&this.chartData.title&&(this.boundingRect.width=n,this.boundingRect.height=i,this.showChartTitle=!0),{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){let t=[];return this.showChartTitle&&t.push({groupTexts:["chart-title"],type:"text",data:[{fontSize:this.chartConfig.titleFontSize,text:this.chartData.title,verticalPos:"middle",horizontalPos:"center",x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.chartThemeConfig.titleColor,rotation:0}]}),t}};a(Ede,"getChartTitleComponent")});var XE,Sde=F(()=>{"use strict";Zr();XE=class{constructor(t,r,n,i,o){this.plotData=t;this.xAxis=r;this.yAxis=n;this.orientation=i;this.plotIndex=o}static{a(this,"LinePlot")}getDrawableElement(){let t=this.plotData.data.map(n=>[this.xAxis.getScaleValue(n[0]),this.yAxis.getScaleValue(n[1])]),r;return this.orientation==="horizontal"?r=za().y(n=>n[0]).x(n=>n[1])(t):r=za().x(n=>n[0]).y(n=>n[1])(t),r?[{groupTexts:["plot",`line-plot-${this.plotIndex}`],type:"path",data:[{path:r,strokeFill:this.plotData.strokeFill,strokeWidth:this.plotData.strokeWidth}]}]:[]}}});var KE,Ade=F(()=>{"use strict";KE=class{constructor(t,r,n,i,o,s){this.barData=t;this.boundingRect=r;this.xAxis=n;this.yAxis=i;this.orientation=o;this.plotIndex=s}static{a(this,"BarPlot")}getDrawableElement(){let t=this.barData.data.map(o=>[this.xAxis.getScaleValue(o[0]),this.yAxis.getScaleValue(o[1])]),r=.05,n=Math.min(this.xAxis.getAxisOuterPadding()*2,this.xAxis.getTickDistance())*(1-r),i=n/2;return this.orientation==="horizontal"?[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:t.map(o=>({x:this.boundingRect.x,y:o[0]-i,height:n,width:o[1]-this.boundingRect.x,fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]:[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:t.map(o=>({x:o[0]-i,y:o[1],width:n,height:this.boundingRect.y+this.boundingRect.height-o[1],fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]}}});function Rde(e,t,r){return new _6(e,t,r)}var _6,Dde=F(()=>{"use strict";Sde();Ade();_6=class{constructor(t,r,n){this.chartConfig=t;this.chartData=r;this.chartThemeConfig=n;this.boundingRect={x:0,y:0,width:0,height:0}}static{a(this,"BasePlot")}setAxes(t,r){this.xAxis=t,this.yAxis=r}setBoundingBoxXY(t){this.boundingRect.x=t.x,this.boundingRect.y=t.y}calculateSpace(t){return this.boundingRect.width=t.width,this.boundingRect.height=t.height,{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){if(!(this.xAxis&&this.yAxis))throw Error("Axes must be passed to render Plots");let t=[];for(let[r,n]of this.chartData.plots.entries())switch(n.type){case"line":{let i=new XE(n,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,r);t.push(...i.getDrawableElement())}break;case"bar":{let i=new KE(n,this.boundingRect,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,r);t.push(...i.getDrawableElement())}break}return t}};a(Rde,"getPlotComponent")});var QE,Lde=F(()=>{"use strict";HE();wde();Cde();Dde();QE=class{constructor(t,r,n,i){this.chartConfig=t;this.chartData=r;this.componentStore={title:Ede(t,r,n,i),plot:Rde(t,r,n),xAxis:T6(r.xAxis,t.xAxis,{titleColor:n.xAxisTitleColor,labelColor:n.xAxisLabelColor,tickColor:n.xAxisTickColor,axisLineColor:n.xAxisLineColor},i),yAxis:T6(r.yAxis,t.yAxis,{titleColor:n.yAxisTitleColor,labelColor:n.yAxisLabelColor,tickColor:n.yAxisTickColor,axisLineColor:n.yAxisLineColor},i)}}static{a(this,"Orchestrator")}calculateVerticalSpace(){let t=this.chartConfig.width,r=this.chartConfig.height,n=0,i=0,o=Math.floor(t*this.chartConfig.plotReservedSpacePercent/100),s=Math.floor(r*this.chartConfig.plotReservedSpacePercent/100),u=this.componentStore.plot.calculateSpace({width:o,height:s});t-=u.width,r-=u.height,u=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:r}),i=u.height,r-=u.height,this.componentStore.xAxis.setAxisPosition("bottom"),u=this.componentStore.xAxis.calculateSpace({width:t,height:r}),r-=u.height,this.componentStore.yAxis.setAxisPosition("left"),u=this.componentStore.yAxis.calculateSpace({width:t,height:r}),n=u.width,t-=u.width,t>0&&(o+=t,t=0),r>0&&(s+=r,r=0),this.componentStore.plot.calculateSpace({width:o,height:s}),this.componentStore.plot.setBoundingBoxXY({x:n,y:i}),this.componentStore.xAxis.setRange([n,n+o]),this.componentStore.xAxis.setBoundingBoxXY({x:n,y:i+s}),this.componentStore.yAxis.setRange([i,i+s]),this.componentStore.yAxis.setBoundingBoxXY({x:0,y:i}),this.chartData.plots.some(f=>v6(f))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateHorizonatalSpace(){let t=this.chartConfig.width,r=this.chartConfig.height,n=0,i=0,o=0,s=Math.floor(t*this.chartConfig.plotReservedSpacePercent/100),u=Math.floor(r*this.chartConfig.plotReservedSpacePercent/100),f=this.componentStore.plot.calculateSpace({width:s,height:u});t-=f.width,r-=f.height,f=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:r}),n=f.height,r-=f.height,this.componentStore.xAxis.setAxisPosition("left"),f=this.componentStore.xAxis.calculateSpace({width:t,height:r}),t-=f.width,i=f.width,this.componentStore.yAxis.setAxisPosition("top"),f=this.componentStore.yAxis.calculateSpace({width:t,height:r}),r-=f.height,o=n+f.height,t>0&&(s+=t,t=0),r>0&&(u+=r,r=0),this.componentStore.plot.calculateSpace({width:s,height:u}),this.componentStore.plot.setBoundingBoxXY({x:i,y:o}),this.componentStore.yAxis.setRange([i,i+s]),this.componentStore.yAxis.setBoundingBoxXY({x:i,y:n}),this.componentStore.xAxis.setRange([o,o+u]),this.componentStore.xAxis.setBoundingBoxXY({x:0,y:o}),this.chartData.plots.some(p=>v6(p))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateSpace(){this.chartConfig.chartOrientation==="horizontal"?this.calculateHorizonatalSpace():this.calculateVerticalSpace()}getDrawableElement(){this.calculateSpace();let t=[];this.componentStore.plot.setAxes(this.componentStore.xAxis,this.componentStore.yAxis);for(let r of Object.values(this.componentStore))t.push(...r.getDrawableElements());return t}}});var ZE,Ide=F(()=>{"use strict";Lde();ZE=class{static{a(this,"XYChartBuilder")}static build(t,r,n,i){return new QE(t,r,n,i).getDrawableElement()}}});function Pde(){let e=Lm(),t=ka();return jf(e.xyChart,t.themeVariables.xyChart)}function Ode(){let e=ka();return jf(si.xyChart,e.xyChart)}function Mde(){return{yAxis:{type:"linear",title:"",min:1/0,max:-1/0},xAxis:{type:"band",title:"",categories:[]},title:"",plots:[]}}function C6(e){let t=ka();return zn(e.trim(),t)}function oYe(e){Nde=e}function sYe(e){e==="horizontal"?ux.chartOrientation="horizontal":ux.chartOrientation="vertical"}function lYe(e){Fn.xAxis.title=C6(e.text)}function Fde(e,t){Fn.xAxis={type:"linear",title:Fn.xAxis.title,min:e,max:t},JE=!0}function cYe(e){Fn.xAxis={type:"band",title:Fn.xAxis.title,categories:e.map(t=>C6(t.text))},JE=!0}function uYe(e){Fn.yAxis.title=C6(e.text)}function fYe(e,t){Fn.yAxis={type:"linear",title:Fn.yAxis.title,min:e,max:t},E6=!0}function hYe(e){let t=Math.min(...e),r=Math.max(...e),n=Kg(Fn.yAxis)?Fn.yAxis.min:1/0,i=Kg(Fn.yAxis)?Fn.yAxis.max:-1/0;Fn.yAxis={type:"linear",title:Fn.yAxis.title,min:Math.min(n,t),max:Math.max(i,r)}}function Bde(e){let t=[];if(e.length===0)return t;if(!JE){let r=Kg(Fn.xAxis)?Fn.xAxis.min:1/0,n=Kg(Fn.xAxis)?Fn.xAxis.max:-1/0;Fde(Math.min(r,1),Math.max(n,e.length))}if(E6||hYe(e),WE(Fn.xAxis)&&(t=Fn.xAxis.categories.map((r,n)=>[r,e[n]])),Kg(Fn.xAxis)){let r=Fn.xAxis.min,n=Fn.xAxis.max,i=(n-r+1)/e.length,o=[];for(let s=r;s<=n;s+=i)o.push(`${s}`);t=o.map((s,u)=>[s,e[u]])}return t}function qde(e){return w6[e===0?0:e%w6.length]}function dYe(e,t){let r=Bde(t);Fn.plots.push({type:"line",strokeFill:qde(cx),strokeWidth:2,data:r}),cx++}function pYe(e,t){let r=Bde(t);Fn.plots.push({type:"bar",fill:qde(cx),data:r}),cx++}function mYe(){if(Fn.plots.length===0)throw Error("No Plot to render, please provide a plot with some data");return Fn.title=Yn(),ZE.build(ux,Fn,fx,Nde)}function gYe(){return fx}function yYe(){return ux}var cx,Nde,ux,fx,Fn,w6,JE,E6,vYe,zde,Ude=F(()=>{"use strict";Ua();Jm();Im();iT();An();en();Ide();HE();cx=0,ux=Ode(),fx=Pde(),Fn=Mde(),w6=fx.plotColorPalette.split(",").map(e=>e.trim()),JE=!1,E6=!1;a(Pde,"getChartDefaultThemeConfig");a(Ode,"getChartDefaultConfig");a(Mde,"getChartDefaultData");a(C6,"textSanitizer");a(oYe,"setTmpSVGG");a(sYe,"setOrientation");a(lYe,"setXAxisTitle");a(Fde,"setXAxisRangeData");a(cYe,"setXAxisBand");a(uYe,"setYAxisTitle");a(fYe,"setYAxisRangeData");a(hYe,"setYAxisRangeFromPlotData");a(Bde,"transformDataWithoutCategory");a(qde,"getPlotColorFromPalette");a(dYe,"setLineData");a(pYe,"setBarData");a(mYe,"getDrawableElem");a(gYe,"getChartThemeConfig");a(yYe,"getChartConfig");vYe=a(function(){In(),cx=0,ux=Ode(),Fn=Mde(),fx=Pde(),w6=fx.plotColorPalette.split(",").map(e=>e.trim()),JE=!1,E6=!1},"clear"),zde={getDrawableElem:mYe,clear:vYe,setAccTitle:Rn,getAccTitle:Nn,setDiagramTitle:ci,getDiagramTitle:Yn,getAccDescription:On,setAccDescription:Pn,setOrientation:sYe,setXAxisTitle:lYe,setXAxisRangeData:Fde,setXAxisBand:cYe,setYAxisTitle:uYe,setYAxisRangeData:fYe,setLineData:dYe,setBarData:pYe,setTmpSVGG:oYe,getChartThemeConfig:gYe,getChartConfig:yYe}});var xYe,$de,Gde=F(()=>{"use strict";br();wv();Si();xYe=a((e,t,r,n)=>{let i=n.db,o=i.getChartThemeConfig(),s=i.getChartConfig();function u(O){return O==="top"?"text-before-edge":"middle"}a(u,"getDominantBaseLine");function f(O){return O==="left"?"start":O==="right"?"end":"middle"}a(f,"getTextAnchor");function p(O){return`translate(${O.x}, ${O.y}) rotate(${O.rotation||0})`}a(p,"getTextTransformation"),ye.debug(`Rendering xychart chart
`+e);let g=Zf(t),y=g.append("g").attr("class","main"),x=y.append("rect").attr("width",s.width).attr("height",s.height).attr("class","background");wn(g,s.height,s.width,!0),g.attr("viewBox",`0 0 ${s.width} ${s.height}`),x.attr("fill",o.backgroundColor),i.setTmpSVGG(g.append("g").attr("class","mermaid-tmp-group"));let b=i.getDrawableElem(),E={};function A(O){let N=y,I="";for(let[$]of O.entries()){let X=y;$>0&&E[I]&&(X=E[I]),I+=O[$],N=E[I],N||(N=E[I]=X.append("g").attr("class",O[$]))}return N}a(A,"getGroup");for(let O of b){if(O.data.length===0)continue;let N=A(O.groupTexts);switch(O.type){case"rect":N.selectAll("rect").data(O.data).enter().append("rect").attr("x",I=>I.x).attr("y",I=>I.y).attr("width",I=>I.width).attr("height",I=>I.height).attr("fill",I=>I.fill).attr("stroke",I=>I.strokeFill).attr("stroke-width",I=>I.strokeWidth);break;case"text":N.selectAll("text").data(O.data).enter().append("text").attr("x",0).attr("y",0).attr("fill",I=>I.fill).attr("font-size",I=>I.fontSize).attr("dominant-baseline",I=>u(I.verticalPos)).attr("text-anchor",I=>f(I.horizontalPos)).attr("transform",I=>p(I)).text(I=>I.text);break;case"path":N.selectAll("path").data(O.data).enter().append("path").attr("d",I=>I.path).attr("fill",I=>I.fill?I.fill:"none").attr("stroke",I=>I.strokeFill).attr("stroke-width",I=>I.strokeWidth);break}}},"draw"),$de={draw:xYe}});var Vde={};ii(Vde,{diagram:()=>bYe});var bYe,Wde=F(()=>{"use strict";Tde();Ude();Gde();bYe={parser:bde,db:zde,renderer:$de}});var S6,Yde,Xde=F(()=>{"use strict";S6=function(){var e=a(function(We,_e,Ve,Ye){for(Ve=Ve||{},Ye=We.length;Ye--;Ve[We[Ye]]=_e);return Ve},"o"),t=[1,3],r=[1,4],n=[1,5],i=[1,6],o=[5,6,8,9,11,13,31,32,33,34,35,36,44,62,63],s=[1,18],u=[2,7],f=[1,22],p=[1,23],g=[1,24],y=[1,25],x=[1,26],b=[1,27],E=[1,20],A=[1,28],O=[1,29],N=[62,63],I=[5,8,9,11,13,31,32,33,34,35,36,44,51,53,62,63],$=[1,47],X=[1,48],q=[1,49],M=[1,50],B=[1,51],G=[1,52],U=[1,53],W=[53,54],D=[1,64],K=[1,60],P=[1,61],re=[1,62],ce=[1,63],ee=[1,65],H=[1,69],te=[1,70],J=[1,67],Y=[1,68],de=[5,8,9,11,13,31,32,33,34,35,36,44,62,63],Fe={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,acc_title:9,acc_title_value:10,acc_descr:11,acc_descr_value:12,acc_descr_multiline_value:13,requirementDef:14,elementDef:15,relationshipDef:16,requirementType:17,requirementName:18,STRUCT_START:19,requirementBody:20,ID:21,COLONSEP:22,id:23,TEXT:24,text:25,RISK:26,riskLevel:27,VERIFYMTHD:28,verifyType:29,STRUCT_STOP:30,REQUIREMENT:31,FUNCTIONAL_REQUIREMENT:32,INTERFACE_REQUIREMENT:33,PERFORMANCE_REQUIREMENT:34,PHYSICAL_REQUIREMENT:35,DESIGN_CONSTRAINT:36,LOW_RISK:37,MED_RISK:38,HIGH_RISK:39,VERIFY_ANALYSIS:40,VERIFY_DEMONSTRATION:41,VERIFY_INSPECTION:42,VERIFY_TEST:43,ELEMENT:44,elementName:45,elementBody:46,TYPE:47,type:48,DOCREF:49,ref:50,END_ARROW_L:51,relationship:52,LINE:53,END_ARROW_R:54,CONTAINS:55,COPIES:56,DERIVES:57,SATISFIES:58,VERIFIES:59,REFINES:60,TRACES:61,unqString:62,qString:63,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",9:"acc_title",10:"acc_title_value",11:"acc_descr",12:"acc_descr_value",13:"acc_descr_multiline_value",19:"STRUCT_START",21:"ID",22:"COLONSEP",24:"TEXT",26:"RISK",28:"VERIFYMTHD",30:"STRUCT_STOP",31:"REQUIREMENT",32:"FUNCTIONAL_REQUIREMENT",33:"INTERFACE_REQUIREMENT",34:"PERFORMANCE_REQUIREMENT",35:"PHYSICAL_REQUIREMENT",36:"DESIGN_CONSTRAINT",37:"LOW_RISK",38:"MED_RISK",39:"HIGH_RISK",40:"VERIFY_ANALYSIS",41:"VERIFY_DEMONSTRATION",42:"VERIFY_INSPECTION",43:"VERIFY_TEST",44:"ELEMENT",47:"TYPE",49:"DOCREF",51:"END_ARROW_L",53:"LINE",54:"END_ARROW_R",55:"CONTAINS",56:"COPIES",57:"DERIVES",58:"SATISFIES",59:"VERIFIES",60:"REFINES",61:"TRACES",62:"unqString",63:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,2],[4,2],[4,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[14,5],[20,5],[20,5],[20,5],[20,5],[20,2],[20,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[27,1],[27,1],[27,1],[29,1],[29,1],[29,1],[29,1],[15,5],[46,5],[46,5],[46,2],[46,1],[16,5],[16,5],[52,1],[52,1],[52,1],[52,1],[52,1],[52,1],[52,1],[18,1],[18,1],[23,1],[23,1],[25,1],[25,1],[45,1],[45,1],[48,1],[48,1],[50,1],[50,1]],performAction:a(function(_e,Ve,Ye,Le,fe,le,he){var xe=le.length-1;switch(fe){case 4:this.$=le[xe].trim(),Le.setAccTitle(this.$);break;case 5:case 6:this.$=le[xe].trim(),Le.setAccDescription(this.$);break;case 7:this.$=[];break;case 13:Le.addRequirement(le[xe-3],le[xe-4]);break;case 14:Le.setNewReqId(le[xe-2]);break;case 15:Le.setNewReqText(le[xe-2]);break;case 16:Le.setNewReqRisk(le[xe-2]);break;case 17:Le.setNewReqVerifyMethod(le[xe-2]);break;case 20:this.$=Le.RequirementType.REQUIREMENT;break;case 21:this.$=Le.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 22:this.$=Le.RequirementType.INTERFACE_REQUIREMENT;break;case 23:this.$=Le.RequirementType.PERFORMANCE_REQUIREMENT;break;case 24:this.$=Le.RequirementType.PHYSICAL_REQUIREMENT;break;case 25:this.$=Le.RequirementType.DESIGN_CONSTRAINT;break;case 26:this.$=Le.RiskLevel.LOW_RISK;break;case 27:this.$=Le.RiskLevel.MED_RISK;break;case 28:this.$=Le.RiskLevel.HIGH_RISK;break;case 29:this.$=Le.VerifyType.VERIFY_ANALYSIS;break;case 30:this.$=Le.VerifyType.VERIFY_DEMONSTRATION;break;case 31:this.$=Le.VerifyType.VERIFY_INSPECTION;break;case 32:this.$=Le.VerifyType.VERIFY_TEST;break;case 33:Le.addElement(le[xe-3]);break;case 34:Le.setNewElementType(le[xe-2]);break;case 35:Le.setNewElementDocRef(le[xe-2]);break;case 38:Le.addRelationship(le[xe-2],le[xe],le[xe-4]);break;case 39:Le.addRelationship(le[xe-2],le[xe-4],le[xe]);break;case 40:this.$=Le.Relationships.CONTAINS;break;case 41:this.$=Le.Relationships.COPIES;break;case 42:this.$=Le.Relationships.DERIVES;break;case 43:this.$=Le.Relationships.SATISFIES;break;case 44:this.$=Le.Relationships.VERIFIES;break;case 45:this.$=Le.Relationships.REFINES;break;case 46:this.$=Le.Relationships.TRACES;break}},"anonymous"),table:[{3:1,4:2,6:t,9:r,11:n,13:i},{1:[3]},{3:8,4:2,5:[1,7],6:t,9:r,11:n,13:i},{5:[1,9]},{10:[1,10]},{12:[1,11]},e(o,[2,6]),{3:12,4:2,6:t,9:r,11:n,13:i},{1:[2,2]},{4:17,5:s,7:13,8:u,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:f,32:p,33:g,34:y,35:x,36:b,44:E,62:A,63:O},e(o,[2,4]),e(o,[2,5]),{1:[2,1]},{8:[1,30]},{4:17,5:s,7:31,8:u,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:f,32:p,33:g,34:y,35:x,36:b,44:E,62:A,63:O},{4:17,5:s,7:32,8:u,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:f,32:p,33:g,34:y,35:x,36:b,44:E,62:A,63:O},{4:17,5:s,7:33,8:u,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:f,32:p,33:g,34:y,35:x,36:b,44:E,62:A,63:O},{4:17,5:s,7:34,8:u,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:f,32:p,33:g,34:y,35:x,36:b,44:E,62:A,63:O},{4:17,5:s,7:35,8:u,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:f,32:p,33:g,34:y,35:x,36:b,44:E,62:A,63:O},{18:36,62:[1,37],63:[1,38]},{45:39,62:[1,40],63:[1,41]},{51:[1,42],53:[1,43]},e(N,[2,20]),e(N,[2,21]),e(N,[2,22]),e(N,[2,23]),e(N,[2,24]),e(N,[2,25]),e(I,[2,49]),e(I,[2,50]),{1:[2,3]},{8:[2,8]},{8:[2,9]},{8:[2,10]},{8:[2,11]},{8:[2,12]},{19:[1,44]},{19:[2,47]},{19:[2,48]},{19:[1,45]},{19:[2,53]},{19:[2,54]},{52:46,55:$,56:X,57:q,58:M,59:B,60:G,61:U},{52:54,55:$,56:X,57:q,58:M,59:B,60:G,61:U},{5:[1,55]},{5:[1,56]},{53:[1,57]},e(W,[2,40]),e(W,[2,41]),e(W,[2,42]),e(W,[2,43]),e(W,[2,44]),e(W,[2,45]),e(W,[2,46]),{54:[1,58]},{5:D,20:59,21:K,24:P,26:re,28:ce,30:ee},{5:H,30:te,46:66,47:J,49:Y},{23:71,62:A,63:O},{23:72,62:A,63:O},e(de,[2,13]),{22:[1,73]},{22:[1,74]},{22:[1,75]},{22:[1,76]},{5:D,20:77,21:K,24:P,26:re,28:ce,30:ee},e(de,[2,19]),e(de,[2,33]),{22:[1,78]},{22:[1,79]},{5:H,30:te,46:80,47:J,49:Y},e(de,[2,37]),e(de,[2,38]),e(de,[2,39]),{23:81,62:A,63:O},{25:82,62:[1,83],63:[1,84]},{27:85,37:[1,86],38:[1,87],39:[1,88]},{29:89,40:[1,90],41:[1,91],42:[1,92],43:[1,93]},e(de,[2,18]),{48:94,62:[1,95],63:[1,96]},{50:97,62:[1,98],63:[1,99]},e(de,[2,36]),{5:[1,100]},{5:[1,101]},{5:[2,51]},{5:[2,52]},{5:[1,102]},{5:[2,26]},{5:[2,27]},{5:[2,28]},{5:[1,103]},{5:[2,29]},{5:[2,30]},{5:[2,31]},{5:[2,32]},{5:[1,104]},{5:[2,55]},{5:[2,56]},{5:[1,105]},{5:[2,57]},{5:[2,58]},{5:D,20:106,21:K,24:P,26:re,28:ce,30:ee},{5:D,20:107,21:K,24:P,26:re,28:ce,30:ee},{5:D,20:108,21:K,24:P,26:re,28:ce,30:ee},{5:D,20:109,21:K,24:P,26:re,28:ce,30:ee},{5:H,30:te,46:110,47:J,49:Y},{5:H,30:te,46:111,47:J,49:Y},e(de,[2,14]),e(de,[2,15]),e(de,[2,16]),e(de,[2,17]),e(de,[2,34]),e(de,[2,35])],defaultActions:{8:[2,2],12:[2,1],30:[2,3],31:[2,8],32:[2,9],33:[2,10],34:[2,11],35:[2,12],37:[2,47],38:[2,48],40:[2,53],41:[2,54],83:[2,51],84:[2,52],86:[2,26],87:[2,27],88:[2,28],90:[2,29],91:[2,30],92:[2,31],93:[2,32],95:[2,55],96:[2,56],98:[2,57],99:[2,58]},parseError:a(function(_e,Ve){if(Ve.recoverable)this.trace(_e);else{var Ye=new Error(_e);throw Ye.hash=Ve,Ye}},"parseError"),parse:a(function(_e){var Ve=this,Ye=[0],Le=[],fe=[null],le=[],he=this.table,xe="",ke=0,pe=0,Ce=0,Ue=2,He=1,Pt=le.slice.call(arguments,1),Lt=Object.create(this.lexer),Xt={yy:{}};for(var Kt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Kt)&&(Xt.yy[Kt]=this.yy[Kt]);Lt.setInput(_e,Xt.yy),Xt.yy.lexer=Lt,Xt.yy.parser=this,typeof Lt.yylloc>"u"&&(Lt.yylloc={});var kr=Lt.yylloc;le.push(kr);var bt=Lt.options&&Lt.options.ranges;typeof Xt.yy.parseError=="function"?this.parseError=Xt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function gt(Yt){Ye.length=Ye.length-2*Yt,fe.length=fe.length-Yt,le.length=le.length-Yt}a(gt,"popStack");function qt(){var Yt;return Yt=Le.pop()||Lt.lex()||He,typeof Yt!="number"&&(Yt instanceof Array&&(Le=Yt,Yt=Le.pop()),Yt=Ve.symbols_[Yt]||Yt),Yt}a(qt,"lex");for(var ze,$e,Te,pt,it,Qt,_r={},Zt,mr,sn,ir;;){if(Te=Ye[Ye.length-1],this.defaultActions[Te]?pt=this.defaultActions[Te]:((ze===null||typeof ze>"u")&&(ze=qt()),pt=he[Te]&&he[Te][ze]),typeof pt>"u"||!pt.length||!pt[0]){var xr="";ir=[];for(Zt in he[Te])this.terminals_[Zt]&&Zt>Ue&&ir.push("'"+this.terminals_[Zt]+"'");Lt.showPosition?xr="Parse error on line "+(ke+1)+`:
`+Lt.showPosition()+`
Expecting `+ir.join(", ")+", got '"+(this.terminals_[ze]||ze)+"'":xr="Parse error on line "+(ke+1)+": Unexpected "+(ze==He?"end of input":"'"+(this.terminals_[ze]||ze)+"'"),this.parseError(xr,{text:Lt.match,token:this.terminals_[ze]||ze,line:Lt.yylineno,loc:kr,expected:ir})}if(pt[0]instanceof Array&&pt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Te+", token: "+ze);switch(pt[0]){case 1:Ye.push(ze),fe.push(Lt.yytext),le.push(Lt.yylloc),Ye.push(pt[1]),ze=null,$e?(ze=$e,$e=null):(pe=Lt.yyleng,xe=Lt.yytext,ke=Lt.yylineno,kr=Lt.yylloc,Ce>0&&Ce--);break;case 2:if(mr=this.productions_[pt[1]][1],_r.$=fe[fe.length-mr],_r._$={first_line:le[le.length-(mr||1)].first_line,last_line:le[le.length-1].last_line,first_column:le[le.length-(mr||1)].first_column,last_column:le[le.length-1].last_column},bt&&(_r._$.range=[le[le.length-(mr||1)].range[0],le[le.length-1].range[1]]),Qt=this.performAction.apply(_r,[xe,pe,ke,Xt.yy,pt[1],fe,le].concat(Pt)),typeof Qt<"u")return Qt;mr&&(Ye=Ye.slice(0,-1*mr*2),fe=fe.slice(0,-1*mr),le=le.slice(0,-1*mr)),Ye.push(this.productions_[pt[1]][0]),fe.push(_r.$),le.push(_r._$),sn=he[Ye[Ye.length-2]][Ye[Ye.length-1]],Ye.push(sn);break;case 3:return!0}}return!0},"parse")},oe=function(){var We={EOF:1,parseError:a(function(Ve,Ye){if(this.yy.parser)this.yy.parser.parseError(Ve,Ye);else throw new Error(Ve)},"parseError"),setInput:function(_e,Ve){return this.yy=Ve||this.yy||{},this._input=_e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var _e=this._input[0];this.yytext+=_e,this.yyleng++,this.offset++,this.match+=_e,this.matched+=_e;var Ve=_e.match(/(?:\r\n?|\n).*/g);return Ve?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),_e},unput:function(_e){var Ve=_e.length,Ye=_e.split(/(?:\r\n?|\n)/g);this._input=_e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Ve),this.offset-=Ve;var Le=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Ye.length-1&&(this.yylineno-=Ye.length-1);var fe=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Ye?(Ye.length===Le.length?this.yylloc.first_column:0)+Le[Le.length-Ye.length].length-Ye[0].length:this.yylloc.first_column-Ve},this.options.ranges&&(this.yylloc.range=[fe[0],fe[0]+this.yyleng-Ve]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(_e){this.unput(this.match.slice(_e))},pastInput:function(){var _e=this.matched.substr(0,this.matched.length-this.match.length);return(_e.length>20?"...":"")+_e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var _e=this.match;return _e.length<20&&(_e+=this._input.substr(0,20-_e.length)),(_e.substr(0,20)+(_e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var _e=this.pastInput(),Ve=new Array(_e.length+1).join("-");return _e+this.upcomingInput()+`
`+Ve+"^"},test_match:function(_e,Ve){var Ye,Le,fe;if(this.options.backtrack_lexer&&(fe={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(fe.yylloc.range=this.yylloc.range.slice(0))),Le=_e[0].match(/(?:\r\n?|\n).*/g),Le&&(this.yylineno+=Le.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Le?Le[Le.length-1].length-Le[Le.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+_e[0].length},this.yytext+=_e[0],this.match+=_e[0],this.matches=_e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(_e[0].length),this.matched+=_e[0],Ye=this.performAction.call(this,this.yy,this,Ve,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Ye)return Ye;if(this._backtrack){for(var le in fe)this[le]=fe[le];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var _e,Ve,Ye,Le;this._more||(this.yytext="",this.match="");for(var fe=this._currentRules(),le=0;le<fe.length;le++)if(Ye=this._input.match(this.rules[fe[le]]),Ye&&(!Ve||Ye[0].length>Ve[0].length)){if(Ve=Ye,Le=le,this.options.backtrack_lexer){if(_e=this.test_match(Ye,fe[le]),_e!==!1)return _e;if(this._backtrack){Ve=!1;continue}else return!1}else if(!this.options.flex)break}return Ve?(_e=this.test_match(Ve,fe[Le]),_e!==!1?_e:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var Ve=this.next();return Ve||this.lex()},"lex"),begin:a(function(Ve){this.conditionStack.push(Ve)},"begin"),popState:a(function(){var Ve=this.conditionStack.length-1;return Ve>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(Ve){return Ve=this.conditionStack.length-1-Math.abs(Ve||0),Ve>=0?this.conditionStack[Ve]:"INITIAL"},"topState"),pushState:a(function(Ve){this.begin(Ve)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(Ve,Ye,Le,fe){var le=fe;switch(Le){case 0:return"title";case 1:return this.begin("acc_title"),9;break;case 2:return this.popState(),"acc_title_value";break;case 3:return this.begin("acc_descr"),11;break;case 4:return this.popState(),"acc_descr_value";break;case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:return 5;case 9:break;case 10:break;case 11:break;case 12:return 8;case 13:return 6;case 14:return 19;case 15:return 30;case 16:return 22;case 17:return 21;case 18:return 24;case 19:return 26;case 20:return 28;case 21:return 31;case 22:return 32;case 23:return 33;case 24:return 34;case 25:return 35;case 26:return 36;case 27:return 37;case 28:return 38;case 29:return 39;case 30:return 40;case 31:return 41;case 32:return 42;case 33:return 43;case 34:return 44;case 35:return 55;case 36:return 56;case 37:return 57;case 38:return 58;case 39:return 59;case 40:return 60;case 41:return 61;case 42:return 47;case 43:return 49;case 44:return 51;case 45:return 54;case 46:return 53;case 47:this.begin("string");break;case 48:this.popState();break;case 49:return"qString";case 50:return Ye.yytext=Ye.yytext.trim(),62;break}},"anonymous"),rules:[/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n\{\<\>\-\=]*)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[48,49],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,50],inclusive:!0}}};return We}();Fe.lexer=oe;function rt(){this.yy={}}return a(rt,"Parser"),rt.prototype=Fe,Fe.Parser=rt,new rt}();S6.parser=S6;Yde=S6});var A6,ts,hx,Oh,dx,wYe,EYe,CYe,SYe,AYe,RYe,DYe,LYe,IYe,NYe,PYe,OYe,MYe,FYe,BYe,qYe,zYe,Kde,Qde=F(()=>{"use strict";Pr();br();Ua();A6=[],ts={},hx={},Oh={},dx={},wYe={REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},EYe={LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},CYe={VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},SYe={CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},AYe=a((e,t)=>(hx[e]===void 0&&(hx[e]={name:e,type:t,id:ts.id,text:ts.text,risk:ts.risk,verifyMethod:ts.verifyMethod}),ts={},hx[e]),"addRequirement"),RYe=a(()=>hx,"getRequirements"),DYe=a(e=>{ts!==void 0&&(ts.id=e)},"setNewReqId"),LYe=a(e=>{ts!==void 0&&(ts.text=e)},"setNewReqText"),IYe=a(e=>{ts!==void 0&&(ts.risk=e)},"setNewReqRisk"),NYe=a(e=>{ts!==void 0&&(ts.verifyMethod=e)},"setNewReqVerifyMethod"),PYe=a(e=>(dx[e]===void 0&&(dx[e]={name:e,type:Oh.type,docRef:Oh.docRef},ye.info("Added new requirement: ",e)),Oh={},dx[e]),"addElement"),OYe=a(()=>dx,"getElements"),MYe=a(e=>{Oh!==void 0&&(Oh.type=e)},"setNewElementType"),FYe=a(e=>{Oh!==void 0&&(Oh.docRef=e)},"setNewElementDocRef"),BYe=a((e,t,r)=>{A6.push({type:e,src:t,dst:r})},"addRelationship"),qYe=a(()=>A6,"getRelationships"),zYe=a(()=>{A6=[],ts={},hx={},Oh={},dx={},In()},"clear"),Kde={RequirementType:wYe,RiskLevel:EYe,VerifyType:CYe,Relationships:SYe,getConfig:()=>Me().req,addRequirement:AYe,getRequirements:RYe,setNewReqId:DYe,setNewReqText:LYe,setNewReqRisk:IYe,setNewReqVerifyMethod:NYe,setAccTitle:Rn,getAccTitle:Nn,setAccDescription:Pn,getAccDescription:On,addElement:PYe,getElements:OYe,setNewElementType:MYe,setNewElementDocRef:FYe,addRelationship:BYe,getRelationships:qYe,clear:zYe}});var UYe,Zde,Jde=F(()=>{"use strict";UYe=a(e=>`

  marker {
    fill: ${e.relationColor};
    stroke: ${e.relationColor};
  }

  marker.cross {
    stroke: ${e.lineColor};
  }

  svg {
    font-family: ${e.fontFamily};
    font-size: ${e.fontSize};
  }

  .reqBox {
    fill: ${e.requirementBackground};
    fill-opacity: 1.0;
    stroke: ${e.requirementBorderColor};
    stroke-width: ${e.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${e.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${e.relationLabelBackground};
    fill-opacity: 1.0;
  }

  .req-title-line {
    stroke: ${e.requirementBorderColor};
    stroke-width: ${e.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${e.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${e.relationLabelColor};
  }

`,"getStyles"),Zde=UYe});var R6,$Ye,D6,epe=F(()=>{"use strict";R6={CONTAINS:"contains",ARROW:"arrow"},$Ye=a((e,t)=>{let r=e.append("defs").append("marker").attr("id",R6.CONTAINS+"_line_ending").attr("refX",0).attr("refY",t.line_height/2).attr("markerWidth",t.line_height).attr("markerHeight",t.line_height).attr("orient","auto").append("g");r.append("circle").attr("cx",t.line_height/2).attr("cy",t.line_height/2).attr("r",t.line_height/2).attr("fill","none"),r.append("line").attr("x1",0).attr("x2",t.line_height).attr("y1",t.line_height/2).attr("y2",t.line_height/2).attr("stroke-width",1),r.append("line").attr("y1",0).attr("y2",t.line_height).attr("x1",t.line_height/2).attr("x2",t.line_height/2).attr("stroke-width",1),e.append("defs").append("marker").attr("id",R6.ARROW+"_line_ending").attr("refX",t.line_height).attr("refY",.5*t.line_height).attr("markerWidth",t.line_height).attr("markerHeight",t.line_height).attr("orient","auto").append("path").attr("d",`M0,0
      L${t.line_height},${t.line_height/2}
      M${t.line_height},${t.line_height/2}
      L0,${t.line_height}`).attr("stroke-width",1)},"insertLineEndings"),D6={ReqMarkers:R6,insertLineEndings:$Ye}});var Ni,tpe,rpe,npe,ipe,GYe,VYe,WYe,HYe,jYe,YYe,Jg,XYe,ape,ope=F(()=>{"use strict";Zr();Vd();_a();br();Si();en();epe();Pr();Ni={},tpe=0,rpe=a((e,t)=>e.insert("rect","#"+t).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",Ni.rect_min_width+"px").attr("height",Ni.rect_min_height+"px"),"newRectNode"),npe=a((e,t,r)=>{let n=Ni.rect_min_width/2,i=e.append("text").attr("class","req reqLabel reqTitle").attr("id",t).attr("x",n).attr("y",Ni.rect_padding).attr("dominant-baseline","hanging"),o=0;r.forEach(p=>{o==0?i.append("tspan").attr("text-anchor","middle").attr("x",Ni.rect_min_width/2).attr("dy",0).text(p):i.append("tspan").attr("text-anchor","middle").attr("x",Ni.rect_min_width/2).attr("dy",Ni.line_height*.75).text(p),o++});let s=1.5*Ni.rect_padding,u=o*Ni.line_height*.75,f=s+u;return e.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",Ni.rect_min_width).attr("y1",f).attr("y2",f),{titleNode:i,y:f}},"newTitleNode"),ipe=a((e,t,r,n)=>{let i=e.append("text").attr("class","req reqLabel").attr("id",t).attr("x",Ni.rect_padding).attr("y",n).attr("dominant-baseline","hanging"),o=0,s=30,u=[];return r.forEach(f=>{let p=f.length;for(;p>s&&o<3;){let g=f.substring(0,s);f=f.substring(s,f.length),p=f.length,u[u.length]=g,o++}if(o==3){let g=u[u.length-1];u[u.length-1]=g.substring(0,g.length-4)+"..."}else u[u.length]=f;o=0}),u.forEach(f=>{i.append("tspan").attr("x",Ni.rect_padding).attr("dy",Ni.line_height).text(f)}),i},"newBodyNode"),GYe=a((e,t,r,n)=>{let i=t.node().getTotalLength(),o=t.node().getPointAtLength(i*.5),s="rel"+tpe;tpe++;let f=e.append("text").attr("class","req relationshipLabel").attr("id",s).attr("x",o.x).attr("y",o.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(n).node().getBBox();e.insert("rect","#"+s).attr("class","req reqLabelBox").attr("x",o.x-f.width/2).attr("y",o.y-f.height/2).attr("width",f.width).attr("height",f.height).attr("fill","white").attr("fill-opacity","85%")},"addEdgeLabel"),VYe=a(function(e,t,r,n,i){let o=r.edge(Jg(t.src),Jg(t.dst)),s=za().x(function(f){return f.x}).y(function(f){return f.y}),u=e.insert("path","#"+n).attr("class","er relationshipLine").attr("d",s(o.points)).attr("fill","none");t.type==i.db.Relationships.CONTAINS?u.attr("marker-start","url("+Et.getUrl(Ni.arrowMarkerAbsolute)+"#"+t.type+"_line_ending)"):(u.attr("stroke-dasharray","10,7"),u.attr("marker-end","url("+Et.getUrl(Ni.arrowMarkerAbsolute)+"#"+D6.ReqMarkers.ARROW+"_line_ending)")),GYe(e,u,Ni,`<<${t.type}>>`)},"drawRelationshipFromLayout"),WYe=a((e,t,r)=>{Object.keys(e).forEach(n=>{let i=e[n];n=Jg(n),ye.info("Added new requirement: ",n);let o=r.append("g").attr("id",n),s="req-"+n,u=rpe(o,s),f=[],p=npe(o,n+"_title",[`<<${i.type}>>`,`${i.name}`]);f.push(p.titleNode);let g=ipe(o,n+"_body",[`Id: ${i.id}`,`Text: ${i.text}`,`Risk: ${i.risk}`,`Verification: ${i.verifyMethod}`],p.y);f.push(g);let y=u.node().getBBox();t.setNode(n,{width:y.width,height:y.height,shape:"rect",id:n})})},"drawReqs"),HYe=a((e,t,r)=>{Object.keys(e).forEach(n=>{let i=e[n],o=Jg(n),s=r.append("g").attr("id",o),u="element-"+o,f=rpe(s,u),p=[],g=npe(s,u+"_title",["<<Element>>",`${n}`]);p.push(g.titleNode);let y=ipe(s,u+"_body",[`Type: ${i.type||"Not Specified"}`,`Doc Ref: ${i.docRef||"None"}`],g.y);p.push(y);let x=f.node().getBBox();t.setNode(o,{width:x.width,height:x.height,shape:"rect",id:o})})},"drawElements"),jYe=a((e,t)=>(e.forEach(function(r){let n=Jg(r.src),i=Jg(r.dst);t.setEdge(n,i,{relationship:r})}),e),"addRelationships"),YYe=a(function(e,t){t.nodes().forEach(function(r){r!==void 0&&t.node(r)!==void 0&&(e.select("#"+r),e.select("#"+r).attr("transform","translate("+(t.node(r).x-t.node(r).width/2)+","+(t.node(r).y-t.node(r).height/2)+" )"))})},"adjustEntities"),Jg=a(e=>e.replace(/\s/g,"").replace(/\./g,"_"),"elementString"),XYe=a((e,t,r,n)=>{Ni=Me().requirement;let i=Ni.securityLevel,o;i==="sandbox"&&(o=dt("#i"+t));let u=(i==="sandbox"?dt(o.nodes()[0].contentDocument.body):dt("body")).select(`[id='${t}']`);D6.insertLineEndings(u,Ni);let f=new Yr({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:Ni.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}}),p=n.db.getRequirements(),g=n.db.getElements(),y=n.db.getRelationships();WYe(p,f,u),HYe(g,f,u),jYe(y,f),ds(f),YYe(u,f),y.forEach(function(O){VYe(u,O,f,t,n)});let x=Ni.rect_padding,b=u.node().getBBox(),E=b.width+x*2,A=b.height+x*2;wn(u,A,E,Ni.useMaxWidth),u.attr("viewBox",`${b.x-x} ${b.y-x} ${E} ${A}`)},"draw"),ape={draw:XYe}});var spe={};ii(spe,{diagram:()=>KYe});var KYe,lpe=F(()=>{"use strict";Xde();Qde();Jde();ope();KYe={parser:Yde,db:Kde,renderer:ape,styles:Zde}});var L6,fpe,hpe=F(()=>{"use strict";L6=function(){var e=a(function(Le,fe,le,he){for(le=le||{},he=Le.length;he--;le[Le[he]]=fe);return le},"o"),t=[1,2],r=[1,3],n=[1,4],i=[2,4],o=[1,9],s=[1,11],u=[1,13],f=[1,14],p=[1,16],g=[1,17],y=[1,18],x=[1,24],b=[1,25],E=[1,26],A=[1,27],O=[1,28],N=[1,29],I=[1,30],$=[1,31],X=[1,32],q=[1,33],M=[1,34],B=[1,35],G=[1,36],U=[1,37],W=[1,38],D=[1,39],K=[1,41],P=[1,42],re=[1,43],ce=[1,44],ee=[1,45],H=[1,46],te=[1,4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,48,49,50,52,53,54,59,60,61,62,70],J=[4,5,16,50,52,53],Y=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,54,59,60,61,62,70],de=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,49,50,52,53,54,59,60,61,62,70],Fe=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,48,50,52,53,54,59,60,61,62,70],oe=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,50,52,53,54,59,60,61,62,70],rt=[68,69,70],We=[1,120],_e={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,SD:6,document:7,line:8,statement:9,box_section:10,box_line:11,participant_statement:12,create:13,box:14,restOfLine:15,end:16,signal:17,autonumber:18,NUM:19,off:20,activate:21,actor:22,deactivate:23,note_statement:24,links_statement:25,link_statement:26,properties_statement:27,details_statement:28,title:29,legacy_title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,loop:36,rect:37,opt:38,alt:39,else_sections:40,par:41,par_sections:42,par_over:43,critical:44,option_sections:45,break:46,option:47,and:48,else:49,participant:50,AS:51,participant_actor:52,destroy:53,note:54,placement:55,text2:56,over:57,actor_pair:58,links:59,link:60,properties:61,details:62,spaceList:63,",":64,left_of:65,right_of:66,signaltype:67,"+":68,"-":69,ACTOR:70,SOLID_OPEN_ARROW:71,DOTTED_OPEN_ARROW:72,SOLID_ARROW:73,DOTTED_ARROW:74,SOLID_CROSS:75,DOTTED_CROSS:76,SOLID_POINT:77,DOTTED_POINT:78,TXT:79,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",6:"SD",13:"create",14:"box",15:"restOfLine",16:"end",18:"autonumber",19:"NUM",20:"off",21:"activate",23:"deactivate",29:"title",30:"legacy_title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"loop",37:"rect",38:"opt",39:"alt",41:"par",43:"par_over",44:"critical",46:"break",47:"option",48:"and",49:"else",50:"participant",51:"AS",52:"participant_actor",53:"destroy",54:"note",57:"over",59:"links",60:"link",61:"properties",62:"details",64:",",65:"left_of",66:"right_of",68:"+",69:"-",70:"ACTOR",71:"SOLID_OPEN_ARROW",72:"DOTTED_OPEN_ARROW",73:"SOLID_ARROW",74:"DOTTED_ARROW",75:"SOLID_CROSS",76:"DOTTED_CROSS",77:"SOLID_POINT",78:"DOTTED_POINT",79:"TXT"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[10,0],[10,2],[11,2],[11,1],[11,1],[9,1],[9,2],[9,4],[9,2],[9,4],[9,3],[9,3],[9,2],[9,3],[9,3],[9,2],[9,2],[9,2],[9,2],[9,2],[9,1],[9,1],[9,2],[9,2],[9,1],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[45,1],[45,4],[42,1],[42,4],[40,1],[40,4],[12,5],[12,3],[12,5],[12,3],[12,3],[24,4],[24,4],[25,3],[26,3],[27,3],[28,3],[63,2],[63,1],[58,3],[58,1],[55,1],[55,1],[17,5],[17,5],[17,4],[22,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[56,1]],performAction:a(function(fe,le,he,xe,ke,pe,Ce){var Ue=pe.length-1;switch(ke){case 3:return xe.apply(pe[Ue]),pe[Ue];break;case 4:case 9:this.$=[];break;case 5:case 10:pe[Ue-1].push(pe[Ue]),this.$=pe[Ue-1];break;case 6:case 7:case 11:case 12:this.$=pe[Ue];break;case 8:case 13:this.$=[];break;case 15:pe[Ue].type="createParticipant",this.$=pe[Ue];break;case 16:pe[Ue-1].unshift({type:"boxStart",boxData:xe.parseBoxData(pe[Ue-2])}),pe[Ue-1].push({type:"boxEnd",boxText:pe[Ue-2]}),this.$=pe[Ue-1];break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(pe[Ue-2]),sequenceIndexStep:Number(pe[Ue-1]),sequenceVisible:!0,signalType:xe.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceIndex:Number(pe[Ue-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:xe.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:xe.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:xe.LINETYPE.AUTONUMBER};break;case 22:this.$={type:"activeStart",signalType:xe.LINETYPE.ACTIVE_START,actor:pe[Ue-1]};break;case 23:this.$={type:"activeEnd",signalType:xe.LINETYPE.ACTIVE_END,actor:pe[Ue-1]};break;case 29:xe.setDiagramTitle(pe[Ue].substring(6)),this.$=pe[Ue].substring(6);break;case 30:xe.setDiagramTitle(pe[Ue].substring(7)),this.$=pe[Ue].substring(7);break;case 31:this.$=pe[Ue].trim(),xe.setAccTitle(this.$);break;case 32:case 33:this.$=pe[Ue].trim(),xe.setAccDescription(this.$);break;case 34:pe[Ue-1].unshift({type:"loopStart",loopText:xe.parseMessage(pe[Ue-2]),signalType:xe.LINETYPE.LOOP_START}),pe[Ue-1].push({type:"loopEnd",loopText:pe[Ue-2],signalType:xe.LINETYPE.LOOP_END}),this.$=pe[Ue-1];break;case 35:pe[Ue-1].unshift({type:"rectStart",color:xe.parseMessage(pe[Ue-2]),signalType:xe.LINETYPE.RECT_START}),pe[Ue-1].push({type:"rectEnd",color:xe.parseMessage(pe[Ue-2]),signalType:xe.LINETYPE.RECT_END}),this.$=pe[Ue-1];break;case 36:pe[Ue-1].unshift({type:"optStart",optText:xe.parseMessage(pe[Ue-2]),signalType:xe.LINETYPE.OPT_START}),pe[Ue-1].push({type:"optEnd",optText:xe.parseMessage(pe[Ue-2]),signalType:xe.LINETYPE.OPT_END}),this.$=pe[Ue-1];break;case 37:pe[Ue-1].unshift({type:"altStart",altText:xe.parseMessage(pe[Ue-2]),signalType:xe.LINETYPE.ALT_START}),pe[Ue-1].push({type:"altEnd",signalType:xe.LINETYPE.ALT_END}),this.$=pe[Ue-1];break;case 38:pe[Ue-1].unshift({type:"parStart",parText:xe.parseMessage(pe[Ue-2]),signalType:xe.LINETYPE.PAR_START}),pe[Ue-1].push({type:"parEnd",signalType:xe.LINETYPE.PAR_END}),this.$=pe[Ue-1];break;case 39:pe[Ue-1].unshift({type:"parStart",parText:xe.parseMessage(pe[Ue-2]),signalType:xe.LINETYPE.PAR_OVER_START}),pe[Ue-1].push({type:"parEnd",signalType:xe.LINETYPE.PAR_END}),this.$=pe[Ue-1];break;case 40:pe[Ue-1].unshift({type:"criticalStart",criticalText:xe.parseMessage(pe[Ue-2]),signalType:xe.LINETYPE.CRITICAL_START}),pe[Ue-1].push({type:"criticalEnd",signalType:xe.LINETYPE.CRITICAL_END}),this.$=pe[Ue-1];break;case 41:pe[Ue-1].unshift({type:"breakStart",breakText:xe.parseMessage(pe[Ue-2]),signalType:xe.LINETYPE.BREAK_START}),pe[Ue-1].push({type:"breakEnd",optText:xe.parseMessage(pe[Ue-2]),signalType:xe.LINETYPE.BREAK_END}),this.$=pe[Ue-1];break;case 43:this.$=pe[Ue-3].concat([{type:"option",optionText:xe.parseMessage(pe[Ue-1]),signalType:xe.LINETYPE.CRITICAL_OPTION},pe[Ue]]);break;case 45:this.$=pe[Ue-3].concat([{type:"and",parText:xe.parseMessage(pe[Ue-1]),signalType:xe.LINETYPE.PAR_AND},pe[Ue]]);break;case 47:this.$=pe[Ue-3].concat([{type:"else",altText:xe.parseMessage(pe[Ue-1]),signalType:xe.LINETYPE.ALT_ELSE},pe[Ue]]);break;case 48:pe[Ue-3].draw="participant",pe[Ue-3].type="addParticipant",pe[Ue-3].description=xe.parseMessage(pe[Ue-1]),this.$=pe[Ue-3];break;case 49:pe[Ue-1].draw="participant",pe[Ue-1].type="addParticipant",this.$=pe[Ue-1];break;case 50:pe[Ue-3].draw="actor",pe[Ue-3].type="addParticipant",pe[Ue-3].description=xe.parseMessage(pe[Ue-1]),this.$=pe[Ue-3];break;case 51:pe[Ue-1].draw="actor",pe[Ue-1].type="addParticipant",this.$=pe[Ue-1];break;case 52:pe[Ue-1].type="destroyParticipant",this.$=pe[Ue-1];break;case 53:this.$=[pe[Ue-1],{type:"addNote",placement:pe[Ue-2],actor:pe[Ue-1].actor,text:pe[Ue]}];break;case 54:pe[Ue-2]=[].concat(pe[Ue-1],pe[Ue-1]).slice(0,2),pe[Ue-2][0]=pe[Ue-2][0].actor,pe[Ue-2][1]=pe[Ue-2][1].actor,this.$=[pe[Ue-1],{type:"addNote",placement:xe.PLACEMENT.OVER,actor:pe[Ue-2].slice(0,2),text:pe[Ue]}];break;case 55:this.$=[pe[Ue-1],{type:"addLinks",actor:pe[Ue-1].actor,text:pe[Ue]}];break;case 56:this.$=[pe[Ue-1],{type:"addALink",actor:pe[Ue-1].actor,text:pe[Ue]}];break;case 57:this.$=[pe[Ue-1],{type:"addProperties",actor:pe[Ue-1].actor,text:pe[Ue]}];break;case 58:this.$=[pe[Ue-1],{type:"addDetails",actor:pe[Ue-1].actor,text:pe[Ue]}];break;case 61:this.$=[pe[Ue-2],pe[Ue]];break;case 62:this.$=pe[Ue];break;case 63:this.$=xe.PLACEMENT.LEFTOF;break;case 64:this.$=xe.PLACEMENT.RIGHTOF;break;case 65:this.$=[pe[Ue-4],pe[Ue-1],{type:"addMessage",from:pe[Ue-4].actor,to:pe[Ue-1].actor,signalType:pe[Ue-3],msg:pe[Ue],activate:!0},{type:"activeStart",signalType:xe.LINETYPE.ACTIVE_START,actor:pe[Ue-1]}];break;case 66:this.$=[pe[Ue-4],pe[Ue-1],{type:"addMessage",from:pe[Ue-4].actor,to:pe[Ue-1].actor,signalType:pe[Ue-3],msg:pe[Ue]},{type:"activeEnd",signalType:xe.LINETYPE.ACTIVE_END,actor:pe[Ue-4]}];break;case 67:this.$=[pe[Ue-3],pe[Ue-1],{type:"addMessage",from:pe[Ue-3].actor,to:pe[Ue-1].actor,signalType:pe[Ue-2],msg:pe[Ue]}];break;case 68:this.$={type:"addParticipant",actor:pe[Ue]};break;case 69:this.$=xe.LINETYPE.SOLID_OPEN;break;case 70:this.$=xe.LINETYPE.DOTTED_OPEN;break;case 71:this.$=xe.LINETYPE.SOLID;break;case 72:this.$=xe.LINETYPE.DOTTED;break;case 73:this.$=xe.LINETYPE.SOLID_CROSS;break;case 74:this.$=xe.LINETYPE.DOTTED_CROSS;break;case 75:this.$=xe.LINETYPE.SOLID_POINT;break;case 76:this.$=xe.LINETYPE.DOTTED_POINT;break;case 77:this.$=xe.parseMessage(pe[Ue].trim().substring(1));break}},"anonymous"),table:[{3:1,4:t,5:r,6:n},{1:[3]},{3:5,4:t,5:r,6:n},{3:6,4:t,5:r,6:n},e([1,4,5,13,14,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,54,59,60,61,62,70],i,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:o,5:s,8:8,9:10,12:12,13:u,14:f,17:15,18:p,21:g,22:40,23:y,24:19,25:20,26:21,27:22,28:23,29:x,30:b,31:E,33:A,35:O,36:N,37:I,38:$,39:X,41:q,43:M,44:B,46:G,50:U,52:W,53:D,54:K,59:P,60:re,61:ce,62:ee,70:H},e(te,[2,5]),{9:47,12:12,13:u,14:f,17:15,18:p,21:g,22:40,23:y,24:19,25:20,26:21,27:22,28:23,29:x,30:b,31:E,33:A,35:O,36:N,37:I,38:$,39:X,41:q,43:M,44:B,46:G,50:U,52:W,53:D,54:K,59:P,60:re,61:ce,62:ee,70:H},e(te,[2,7]),e(te,[2,8]),e(te,[2,14]),{12:48,50:U,52:W,53:D},{15:[1,49]},{5:[1,50]},{5:[1,53],19:[1,51],20:[1,52]},{22:54,70:H},{22:55,70:H},{5:[1,56]},{5:[1,57]},{5:[1,58]},{5:[1,59]},{5:[1,60]},e(te,[2,29]),e(te,[2,30]),{32:[1,61]},{34:[1,62]},e(te,[2,33]),{15:[1,63]},{15:[1,64]},{15:[1,65]},{15:[1,66]},{15:[1,67]},{15:[1,68]},{15:[1,69]},{15:[1,70]},{22:71,70:H},{22:72,70:H},{22:73,70:H},{67:74,71:[1,75],72:[1,76],73:[1,77],74:[1,78],75:[1,79],76:[1,80],77:[1,81],78:[1,82]},{55:83,57:[1,84],65:[1,85],66:[1,86]},{22:87,70:H},{22:88,70:H},{22:89,70:H},{22:90,70:H},e([5,51,64,71,72,73,74,75,76,77,78,79],[2,68]),e(te,[2,6]),e(te,[2,15]),e(J,[2,9],{10:91}),e(te,[2,17]),{5:[1,93],19:[1,92]},{5:[1,94]},e(te,[2,21]),{5:[1,95]},{5:[1,96]},e(te,[2,24]),e(te,[2,25]),e(te,[2,26]),e(te,[2,27]),e(te,[2,28]),e(te,[2,31]),e(te,[2,32]),e(Y,i,{7:97}),e(Y,i,{7:98}),e(Y,i,{7:99}),e(de,i,{40:100,7:101}),e(Fe,i,{42:102,7:103}),e(Fe,i,{7:103,42:104}),e(oe,i,{45:105,7:106}),e(Y,i,{7:107}),{5:[1,109],51:[1,108]},{5:[1,111],51:[1,110]},{5:[1,112]},{22:115,68:[1,113],69:[1,114],70:H},e(rt,[2,69]),e(rt,[2,70]),e(rt,[2,71]),e(rt,[2,72]),e(rt,[2,73]),e(rt,[2,74]),e(rt,[2,75]),e(rt,[2,76]),{22:116,70:H},{22:118,58:117,70:H},{70:[2,63]},{70:[2,64]},{56:119,79:We},{56:121,79:We},{56:122,79:We},{56:123,79:We},{4:[1,126],5:[1,128],11:125,12:127,16:[1,124],50:U,52:W,53:D},{5:[1,129]},e(te,[2,19]),e(te,[2,20]),e(te,[2,22]),e(te,[2,23]),{4:o,5:s,8:8,9:10,12:12,13:u,14:f,16:[1,130],17:15,18:p,21:g,22:40,23:y,24:19,25:20,26:21,27:22,28:23,29:x,30:b,31:E,33:A,35:O,36:N,37:I,38:$,39:X,41:q,43:M,44:B,46:G,50:U,52:W,53:D,54:K,59:P,60:re,61:ce,62:ee,70:H},{4:o,5:s,8:8,9:10,12:12,13:u,14:f,16:[1,131],17:15,18:p,21:g,22:40,23:y,24:19,25:20,26:21,27:22,28:23,29:x,30:b,31:E,33:A,35:O,36:N,37:I,38:$,39:X,41:q,43:M,44:B,46:G,50:U,52:W,53:D,54:K,59:P,60:re,61:ce,62:ee,70:H},{4:o,5:s,8:8,9:10,12:12,13:u,14:f,16:[1,132],17:15,18:p,21:g,22:40,23:y,24:19,25:20,26:21,27:22,28:23,29:x,30:b,31:E,33:A,35:O,36:N,37:I,38:$,39:X,41:q,43:M,44:B,46:G,50:U,52:W,53:D,54:K,59:P,60:re,61:ce,62:ee,70:H},{16:[1,133]},{4:o,5:s,8:8,9:10,12:12,13:u,14:f,16:[2,46],17:15,18:p,21:g,22:40,23:y,24:19,25:20,26:21,27:22,28:23,29:x,30:b,31:E,33:A,35:O,36:N,37:I,38:$,39:X,41:q,43:M,44:B,46:G,49:[1,134],50:U,52:W,53:D,54:K,59:P,60:re,61:ce,62:ee,70:H},{16:[1,135]},{4:o,5:s,8:8,9:10,12:12,13:u,14:f,16:[2,44],17:15,18:p,21:g,22:40,23:y,24:19,25:20,26:21,27:22,28:23,29:x,30:b,31:E,33:A,35:O,36:N,37:I,38:$,39:X,41:q,43:M,44:B,46:G,48:[1,136],50:U,52:W,53:D,54:K,59:P,60:re,61:ce,62:ee,70:H},{16:[1,137]},{16:[1,138]},{4:o,5:s,8:8,9:10,12:12,13:u,14:f,16:[2,42],17:15,18:p,21:g,22:40,23:y,24:19,25:20,26:21,27:22,28:23,29:x,30:b,31:E,33:A,35:O,36:N,37:I,38:$,39:X,41:q,43:M,44:B,46:G,47:[1,139],50:U,52:W,53:D,54:K,59:P,60:re,61:ce,62:ee,70:H},{4:o,5:s,8:8,9:10,12:12,13:u,14:f,16:[1,140],17:15,18:p,21:g,22:40,23:y,24:19,25:20,26:21,27:22,28:23,29:x,30:b,31:E,33:A,35:O,36:N,37:I,38:$,39:X,41:q,43:M,44:B,46:G,50:U,52:W,53:D,54:K,59:P,60:re,61:ce,62:ee,70:H},{15:[1,141]},e(te,[2,49]),{15:[1,142]},e(te,[2,51]),e(te,[2,52]),{22:143,70:H},{22:144,70:H},{56:145,79:We},{56:146,79:We},{56:147,79:We},{64:[1,148],79:[2,62]},{5:[2,55]},{5:[2,77]},{5:[2,56]},{5:[2,57]},{5:[2,58]},e(te,[2,16]),e(J,[2,10]),{12:149,50:U,52:W,53:D},e(J,[2,12]),e(J,[2,13]),e(te,[2,18]),e(te,[2,34]),e(te,[2,35]),e(te,[2,36]),e(te,[2,37]),{15:[1,150]},e(te,[2,38]),{15:[1,151]},e(te,[2,39]),e(te,[2,40]),{15:[1,152]},e(te,[2,41]),{5:[1,153]},{5:[1,154]},{56:155,79:We},{56:156,79:We},{5:[2,67]},{5:[2,53]},{5:[2,54]},{22:157,70:H},e(J,[2,11]),e(de,i,{7:101,40:158}),e(Fe,i,{7:103,42:159}),e(oe,i,{7:106,45:160}),e(te,[2,48]),e(te,[2,50]),{5:[2,65]},{5:[2,66]},{79:[2,61]},{16:[2,47]},{16:[2,45]},{16:[2,43]}],defaultActions:{5:[2,1],6:[2,2],85:[2,63],86:[2,64],119:[2,55],120:[2,77],121:[2,56],122:[2,57],123:[2,58],145:[2,67],146:[2,53],147:[2,54],155:[2,65],156:[2,66],157:[2,61],158:[2,47],159:[2,45],160:[2,43]},parseError:a(function(fe,le){if(le.recoverable)this.trace(fe);else{var he=new Error(fe);throw he.hash=le,he}},"parseError"),parse:a(function(fe){var le=this,he=[0],xe=[],ke=[null],pe=[],Ce=this.table,Ue="",He=0,Pt=0,Lt=0,Xt=2,Kt=1,kr=pe.slice.call(arguments,1),bt=Object.create(this.lexer),gt={yy:{}};for(var qt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,qt)&&(gt.yy[qt]=this.yy[qt]);bt.setInput(fe,gt.yy),gt.yy.lexer=bt,gt.yy.parser=this,typeof bt.yylloc>"u"&&(bt.yylloc={});var ze=bt.yylloc;pe.push(ze);var $e=bt.options&&bt.options.ranges;typeof gt.yy.parseError=="function"?this.parseError=gt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Te(tn){he.length=he.length-2*tn,ke.length=ke.length-tn,pe.length=pe.length-tn}a(Te,"popStack");function pt(){var tn;return tn=xe.pop()||bt.lex()||Kt,typeof tn!="number"&&(tn instanceof Array&&(xe=tn,tn=xe.pop()),tn=le.symbols_[tn]||tn),tn}a(pt,"lex");for(var it,Qt,_r,Zt,mr,sn,ir={},xr,Yt,hn,dn;;){if(_r=he[he.length-1],this.defaultActions[_r]?Zt=this.defaultActions[_r]:((it===null||typeof it>"u")&&(it=pt()),Zt=Ce[_r]&&Ce[_r][it]),typeof Zt>"u"||!Zt.length||!Zt[0]){var pn="";dn=[];for(xr in Ce[_r])this.terminals_[xr]&&xr>Xt&&dn.push("'"+this.terminals_[xr]+"'");bt.showPosition?pn="Parse error on line "+(He+1)+`:
`+bt.showPosition()+`
Expecting `+dn.join(", ")+", got '"+(this.terminals_[it]||it)+"'":pn="Parse error on line "+(He+1)+": Unexpected "+(it==Kt?"end of input":"'"+(this.terminals_[it]||it)+"'"),this.parseError(pn,{text:bt.match,token:this.terminals_[it]||it,line:bt.yylineno,loc:ze,expected:dn})}if(Zt[0]instanceof Array&&Zt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_r+", token: "+it);switch(Zt[0]){case 1:he.push(it),ke.push(bt.yytext),pe.push(bt.yylloc),he.push(Zt[1]),it=null,Qt?(it=Qt,Qt=null):(Pt=bt.yyleng,Ue=bt.yytext,He=bt.yylineno,ze=bt.yylloc,Lt>0&&Lt--);break;case 2:if(Yt=this.productions_[Zt[1]][1],ir.$=ke[ke.length-Yt],ir._$={first_line:pe[pe.length-(Yt||1)].first_line,last_line:pe[pe.length-1].last_line,first_column:pe[pe.length-(Yt||1)].first_column,last_column:pe[pe.length-1].last_column},$e&&(ir._$.range=[pe[pe.length-(Yt||1)].range[0],pe[pe.length-1].range[1]]),sn=this.performAction.apply(ir,[Ue,Pt,He,gt.yy,Zt[1],ke,pe].concat(kr)),typeof sn<"u")return sn;Yt&&(he=he.slice(0,-1*Yt*2),ke=ke.slice(0,-1*Yt),pe=pe.slice(0,-1*Yt)),he.push(this.productions_[Zt[1]][0]),ke.push(ir.$),pe.push(ir._$),hn=Ce[he[he.length-2]][he[he.length-1]],he.push(hn);break;case 3:return!0}}return!0},"parse")},Ve=function(){var Le={EOF:1,parseError:a(function(le,he){if(this.yy.parser)this.yy.parser.parseError(le,he);else throw new Error(le)},"parseError"),setInput:function(fe,le){return this.yy=le||this.yy||{},this._input=fe,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var fe=this._input[0];this.yytext+=fe,this.yyleng++,this.offset++,this.match+=fe,this.matched+=fe;var le=fe.match(/(?:\r\n?|\n).*/g);return le?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),fe},unput:function(fe){var le=fe.length,he=fe.split(/(?:\r\n?|\n)/g);this._input=fe+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-le),this.offset-=le;var xe=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),he.length-1&&(this.yylineno-=he.length-1);var ke=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:he?(he.length===xe.length?this.yylloc.first_column:0)+xe[xe.length-he.length].length-he[0].length:this.yylloc.first_column-le},this.options.ranges&&(this.yylloc.range=[ke[0],ke[0]+this.yyleng-le]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(fe){this.unput(this.match.slice(fe))},pastInput:function(){var fe=this.matched.substr(0,this.matched.length-this.match.length);return(fe.length>20?"...":"")+fe.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var fe=this.match;return fe.length<20&&(fe+=this._input.substr(0,20-fe.length)),(fe.substr(0,20)+(fe.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var fe=this.pastInput(),le=new Array(fe.length+1).join("-");return fe+this.upcomingInput()+`
`+le+"^"},test_match:function(fe,le){var he,xe,ke;if(this.options.backtrack_lexer&&(ke={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ke.yylloc.range=this.yylloc.range.slice(0))),xe=fe[0].match(/(?:\r\n?|\n).*/g),xe&&(this.yylineno+=xe.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:xe?xe[xe.length-1].length-xe[xe.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+fe[0].length},this.yytext+=fe[0],this.match+=fe[0],this.matches=fe,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(fe[0].length),this.matched+=fe[0],he=this.performAction.call(this,this.yy,this,le,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),he)return he;if(this._backtrack){for(var pe in ke)this[pe]=ke[pe];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var fe,le,he,xe;this._more||(this.yytext="",this.match="");for(var ke=this._currentRules(),pe=0;pe<ke.length;pe++)if(he=this._input.match(this.rules[ke[pe]]),he&&(!le||he[0].length>le[0].length)){if(le=he,xe=pe,this.options.backtrack_lexer){if(fe=this.test_match(he,ke[pe]),fe!==!1)return fe;if(this._backtrack){le=!1;continue}else return!1}else if(!this.options.flex)break}return le?(fe=this.test_match(le,ke[xe]),fe!==!1?fe:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var le=this.next();return le||this.lex()},"lex"),begin:a(function(le){this.conditionStack.push(le)},"begin"),popState:a(function(){var le=this.conditionStack.length-1;return le>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(le){return le=this.conditionStack.length-1-Math.abs(le||0),le>=0?this.conditionStack[le]:"INITIAL"},"topState"),pushState:a(function(le){this.begin(le)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(le,he,xe,ke){var pe=ke;switch(xe){case 0:return 5;case 1:break;case 2:break;case 3:break;case 4:break;case 5:break;case 6:return 19;case 7:return this.begin("LINE"),14;break;case 8:return this.begin("ID"),50;break;case 9:return this.begin("ID"),52;break;case 10:return 13;case 11:return this.begin("ID"),53;break;case 12:return he.yytext=he.yytext.trim(),this.begin("ALIAS"),70;break;case 13:return this.popState(),this.popState(),this.begin("LINE"),51;break;case 14:return this.popState(),this.popState(),5;break;case 15:return this.begin("LINE"),36;break;case 16:return this.begin("LINE"),37;break;case 17:return this.begin("LINE"),38;break;case 18:return this.begin("LINE"),39;break;case 19:return this.begin("LINE"),49;break;case 20:return this.begin("LINE"),41;break;case 21:return this.begin("LINE"),43;break;case 22:return this.begin("LINE"),48;break;case 23:return this.begin("LINE"),44;break;case 24:return this.begin("LINE"),47;break;case 25:return this.begin("LINE"),46;break;case 26:return this.popState(),15;break;case 27:return 16;case 28:return 65;case 29:return 66;case 30:return 59;case 31:return 60;case 32:return 61;case 33:return 62;case 34:return 57;case 35:return 54;case 36:return this.begin("ID"),21;break;case 37:return this.begin("ID"),23;break;case 38:return 29;case 39:return 30;case 40:return this.begin("acc_title"),31;break;case 41:return this.popState(),"acc_title_value";break;case 42:return this.begin("acc_descr"),33;break;case 43:return this.popState(),"acc_descr_value";break;case 44:this.begin("acc_descr_multiline");break;case 45:this.popState();break;case 46:return"acc_descr_multiline_value";case 47:return 6;case 48:return 18;case 49:return 20;case 50:return 64;case 51:return 5;case 52:return he.yytext=he.yytext.trim(),70;break;case 53:return 73;case 54:return 74;case 55:return 71;case 56:return 72;case 57:return 75;case 58:return 76;case 59:return 77;case 60:return 78;case 61:return 79;case 62:return 68;case 63:return 69;case 64:return 5;case 65:return"INVALID"}},"anonymous"),rules:[/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:box\b)/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:create\b)/i,/^(?:destroy\b)/i,/^(?:[^\->:\n,;]+?([\-]*[^\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:par_over\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[45,46],inclusive:!1},acc_descr:{rules:[43],inclusive:!1},acc_title:{rules:[41],inclusive:!1},ID:{rules:[2,3,12],inclusive:!1},ALIAS:{rules:[2,3,13,14],inclusive:!1},LINE:{rules:[2,3,26],inclusive:!1},INITIAL:{rules:[0,1,3,4,5,6,7,8,9,10,11,15,16,17,18,19,20,21,22,23,24,25,27,28,29,30,31,32,33,34,35,36,37,38,39,40,42,44,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65],inclusive:!0}}};return Le}();_e.lexer=Ve;function Ye(){this.yy={}}return a(Ye,"Parser"),Ye.prototype=_e,_e.Parser=Ye,new Ye}();L6.parser=L6;fpe=L6});function M6(e,t){if(e.links==null)e.links=t;else for(let r in t)e.links[r]=t[r]}function gpe(e,t){if(e.properties==null)e.properties=t;else for(let r in t)e.properties[r]=t[r]}function kXe(){Qu=void 0}var px,Zu,P6,O6,t0,Ss,eXe,eC,I6,Qu,mx,e0,tXe,N6,rXe,nXe,Gi,iXe,aXe,oXe,sXe,lXe,cXe,uXe,yx,fXe,hXe,dXe,pXe,mXe,_p,gXe,yXe,vXe,gx,xXe,bXe,dpe,ppe,TXe,mpe,ype,_Xe,vpe,F6,xpe=F(()=>{"use strict";Pr();br();en();Ua();Zu={},P6={},O6={},t0=[],Ss=[],eXe=[],eC=!1,tXe=a(function(e){t0.push({name:e.text,wrap:e.wrap===void 0&&_p()||!!e.wrap,fill:e.color,actorKeys:[]}),Qu=t0.slice(-1)[0]},"addBox"),N6=a(function(e,t,r,n){let i=Qu,o=Zu[e];if(o){if(Qu&&o.box&&Qu!==o.box)throw new Error("A same participant should only be defined in one Box: "+o.name+" can't be in '"+o.box.name+"' and in '"+Qu.name+"' at the same time.");if(i=o.box?o.box:Qu,o.box=i,o&&t===o.name&&r==null)return}(r==null||r.text==null)&&(r={text:t,wrap:null,type:n}),(n==null||r.text==null)&&(r={text:t,wrap:null,type:n}),Zu[e]={box:i,name:t,description:r.text,wrap:r.wrap===void 0&&_p()||!!r.wrap,prevActor:px,links:{},properties:{},actorCnt:null,rectData:null,type:n||"participant"},px&&Zu[px]&&(Zu[px].nextActor=e),Qu&&Qu.actorKeys.push(e),px=e},"addActor"),rXe=a(e=>{let t,r=0;for(t=0;t<Ss.length;t++)Ss[t].type===gx.ACTIVE_START&&Ss[t].from.actor===e&&r++,Ss[t].type===gx.ACTIVE_END&&Ss[t].from.actor===e&&r--;return r},"activationCount"),nXe=a(function(e,t,r,n){Ss.push({from:e,to:t,message:r.text,wrap:r.wrap===void 0&&_p()||!!r.wrap,answer:n})},"addMessage"),Gi=a(function(e,t,r={text:void 0,wrap:void 0},n,i=!1){if(n===gx.ACTIVE_END&&rXe(e.actor)<1){let s=new Error("Trying to inactivate an inactive participant ("+e.actor+")");throw s.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},s}return Ss.push({from:e,to:t,message:r.text,wrap:r.wrap===void 0&&_p()||!!r.wrap,type:n,activate:i}),!0},"addSignal"),iXe=a(function(){return t0.length>0},"hasAtLeastOneBox"),aXe=a(function(){return t0.some(e=>e.name)},"hasAtLeastOneBoxWithTitle"),oXe=a(function(){return Ss},"getMessages"),sXe=a(function(){return t0},"getBoxes"),lXe=a(function(){return Zu},"getActors"),cXe=a(function(){return P6},"getCreatedActors"),uXe=a(function(){return O6},"getDestroyedActors"),yx=a(function(e){return Zu[e]},"getActor"),fXe=a(function(){return Object.keys(Zu)},"getActorKeys"),hXe=a(function(){eC=!0},"enableSequenceNumbers"),dXe=a(function(){eC=!1},"disableSequenceNumbers"),pXe=a(()=>eC,"showSequenceNumbers"),mXe=a(function(e){I6=e},"setWrap"),_p=a(()=>I6!==void 0?I6:Me().sequence.wrap,"autoWrap"),gXe=a(function(){Zu={},P6={},O6={},t0=[],Ss=[],eC=!1,In()},"clear"),yXe=a(function(e){let t=e.trim(),r={text:t.replace(/^:?(?:no)?wrap:/,"").trim(),wrap:t.match(/^:?wrap:/)!==null?!0:t.match(/^:?nowrap:/)!==null?!1:void 0};return ye.debug("parseMessage:",r),r},"parseMessage"),vXe=a(function(e){let t=e.match(/^((?:rgba?|hsla?)\s*\(.*\)|\w*)(.*)$/),r=t!=null&&t[1]?t[1].trim():"transparent",n=t!=null&&t[2]?t[2].trim():void 0;if(window&&window.CSS)window.CSS.supports("color",r)||(r="transparent",n=e.trim());else{let o=new Option().style;o.color=r,o.color!==r&&(r="transparent",n=e.trim())}return{color:r,text:n!==void 0?zn(n.replace(/^:?(?:no)?wrap:/,""),Me()):void 0,wrap:n!==void 0?n.match(/^:?wrap:/)!==null?!0:n.match(/^:?nowrap:/)!==null?!1:void 0:void 0}},"parseBoxData"),gx={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31,PAR_OVER_START:32},xXe={FILLED:0,OPEN:1},bXe={LEFTOF:0,RIGHTOF:1,OVER:2},dpe=a(function(e,t,r){let n={actor:e,placement:t,message:r.text,wrap:r.wrap===void 0&&_p()||!!r.wrap},i=[].concat(e,e);eXe.push(n),Ss.push({from:i[0],to:i[1],message:r.text,wrap:r.wrap===void 0&&_p()||!!r.wrap,type:gx.NOTE,placement:t})},"addNote"),ppe=a(function(e,t){let r=yx(e);try{let n=zn(t.text,Me());n=n.replace(/&amp;/g,"&"),n=n.replace(/&equals;/g,"=");let i=JSON.parse(n);M6(r,i)}catch(n){ye.error("error while parsing actor link text",n)}},"addLinks"),TXe=a(function(e,t){let r=yx(e);try{let s={},u=zn(t.text,Me());var n=u.indexOf("@");u=u.replace(/&amp;/g,"&"),u=u.replace(/&equals;/g,"=");var i=u.slice(0,n-1).trim(),o=u.slice(n+1).trim();s[i]=o,M6(r,s)}catch(s){ye.error("error while parsing actor link text",s)}},"addALink");a(M6,"insertLinks");mpe=a(function(e,t){let r=yx(e);try{let n=zn(t.text,Me()),i=JSON.parse(n);gpe(r,i)}catch(n){ye.error("error while parsing actor properties text",n)}},"addProperties");a(gpe,"insertProperties");a(kXe,"boxEnd");ype=a(function(e,t){let r=yx(e),n=document.getElementById(t.text);try{let i=n.innerHTML,o=JSON.parse(i);o.properties&&gpe(r,o.properties),o.links&&M6(r,o.links)}catch(i){ye.error("error while parsing actor details text",i)}},"addDetails"),_Xe=a(function(e,t){if(e!==void 0&&e.properties!==void 0)return e.properties[t]},"getActorProperty"),vpe=a(function(e){if(Array.isArray(e))e.forEach(function(t){vpe(t)});else switch(e.type){case"sequenceIndex":Ss.push({from:void 0,to:void 0,message:{start:e.sequenceIndex,step:e.sequenceIndexStep,visible:e.sequenceVisible},wrap:!1,type:e.signalType});break;case"addParticipant":N6(e.actor,e.actor,e.description,e.draw);break;case"createParticipant":if(Zu[e.actor])throw new Error("It is not possible to have actors with the same id, even if one is destroyed before the next is created. Use 'AS' aliases to simulate the behavior");mx=e.actor,N6(e.actor,e.actor,e.description,e.draw),P6[e.actor]=Ss.length;break;case"destroyParticipant":e0=e.actor,O6[e.actor]=Ss.length;break;case"activeStart":Gi(e.actor,void 0,void 0,e.signalType);break;case"activeEnd":Gi(e.actor,void 0,void 0,e.signalType);break;case"addNote":dpe(e.actor,e.placement,e.text);break;case"addLinks":ppe(e.actor,e.text);break;case"addALink":TXe(e.actor,e.text);break;case"addProperties":mpe(e.actor,e.text);break;case"addDetails":ype(e.actor,e.text);break;case"addMessage":if(mx){if(e.to!==mx)throw new Error("The created participant "+mx+" does not have an associated creating message after its declaration. Please check the sequence diagram.");mx=void 0}else if(e0){if(e.to!==e0&&e.from!==e0)throw new Error("The destroyed participant "+e0+" does not have an associated destroying message after its declaration. Please check the sequence diagram.");e0=void 0}Gi(e.from,e.to,e.msg,e.signalType,e.activate);break;case"boxStart":tXe(e.boxData);break;case"boxEnd":kXe();break;case"loopStart":Gi(void 0,void 0,e.loopText,e.signalType);break;case"loopEnd":Gi(void 0,void 0,void 0,e.signalType);break;case"rectStart":Gi(void 0,void 0,e.color,e.signalType);break;case"rectEnd":Gi(void 0,void 0,void 0,e.signalType);break;case"optStart":Gi(void 0,void 0,e.optText,e.signalType);break;case"optEnd":Gi(void 0,void 0,void 0,e.signalType);break;case"altStart":Gi(void 0,void 0,e.altText,e.signalType);break;case"else":Gi(void 0,void 0,e.altText,e.signalType);break;case"altEnd":Gi(void 0,void 0,void 0,e.signalType);break;case"setAccTitle":Rn(e.text);break;case"parStart":Gi(void 0,void 0,e.parText,e.signalType);break;case"and":Gi(void 0,void 0,e.parText,e.signalType);break;case"parEnd":Gi(void 0,void 0,void 0,e.signalType);break;case"criticalStart":Gi(void 0,void 0,e.criticalText,e.signalType);break;case"option":Gi(void 0,void 0,e.optionText,e.signalType);break;case"criticalEnd":Gi(void 0,void 0,void 0,e.signalType);break;case"breakStart":Gi(void 0,void 0,e.breakText,e.signalType);break;case"breakEnd":Gi(void 0,void 0,void 0,e.signalType);break}},"apply"),F6={addActor:N6,addMessage:nXe,addSignal:Gi,addLinks:ppe,addDetails:ype,addProperties:mpe,autoWrap:_p,setWrap:mXe,enableSequenceNumbers:hXe,disableSequenceNumbers:dXe,showSequenceNumbers:pXe,getMessages:oXe,getActors:lXe,getCreatedActors:cXe,getDestroyedActors:uXe,getActor:yx,getActorKeys:fXe,getActorProperty:_Xe,getAccTitle:Nn,getBoxes:sXe,getDiagramTitle:Yn,setDiagramTitle:ci,getConfig:()=>Me().sequence,clear:gXe,parseMessage:yXe,parseBoxData:vXe,LINETYPE:gx,ARROWTYPE:xXe,PLACEMENT:bXe,addNote:dpe,setAccTitle:Rn,apply:vpe,setAccDescription:Pn,getAccDescription:On,hasAtLeastOneBox:iXe,hasAtLeastOneBoxWithTitle:aXe}});var wXe,bpe,Tpe=F(()=>{"use strict";wXe=a(e=>`.actor {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
  }

  text.actor > tspan {
    fill: ${e.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${e.actorLineColor};
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${e.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${e.signalColor};
  }

  #arrowhead path {
    fill: ${e.signalColor};
    stroke: ${e.signalColor};
  }

  .sequenceNumber {
    fill: ${e.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${e.signalColor};
  }

  #crosshead path {
    fill: ${e.signalColor};
    stroke: ${e.signalColor};
  }

  .messageText {
    fill: ${e.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${e.labelBoxBorderColor};
    fill: ${e.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${e.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${e.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${e.labelBoxBorderColor};
    fill: ${e.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${e.noteBorderColor};
    fill: ${e.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${e.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .activation1 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .activation2 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${e.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
    stroke-width: 2px;
  }
`,"getStyles"),bpe=wXe});var B6,kpe,_pe,q6=F(()=>{"use strict";B6=[],kpe=a(e=>{B6.push(e)},"addFunction"),_pe=a(()=>{B6.forEach(e=>{e()}),B6=[]},"attachFunctions")});var z6,Mh,U6,wpe,EXe,CXe,SXe,AXe,RXe,wp,Epe,rc,$6,DXe,LXe,IXe,NXe,PXe,OXe,MXe,Cpe,FXe,BXe,qXe,zXe,UXe,$Xe,GXe,Spe,VXe,G6,WXe,Pi,Ape=F(()=>{"use strict";en();kv();q6();An();z6=go(om(),1),Mh=18*2,U6=a(function(e,t){return Md(e,t)},"drawRect"),wpe=a((e,t)=>{kpe(()=>{let r=document.querySelectorAll(e);r.length!==0&&(r[0].addEventListener("mouseover",function(){AXe("actor"+t+"_popup")}),r[0].addEventListener("mouseout",function(){RXe("actor"+t+"_popup")}))})},"addPopupInteraction"),EXe=a(function(e,t,r,n,i){if(t.links===void 0||t.links===null||Object.keys(t.links).length===0)return{height:0,width:0};let o=t.links,s=t.actorCnt,u=t.rectData;var f="none";i&&(f="block !important");let p=e.append("g");p.attr("id","actor"+s+"_popup"),p.attr("class","actorPopupMenu"),p.attr("display",f),wpe("#actor"+s+"_popup",s);var g="";u.class!==void 0&&(g=" "+u.class);let y=u.width>r?u.width:r,x=p.append("rect");if(x.attr("class","actorPopupMenuPanel"+g),x.attr("x",u.x),x.attr("y",u.height),x.attr("fill",u.fill),x.attr("stroke",u.stroke),x.attr("width",y),x.attr("height",u.height),x.attr("rx",u.rx),x.attr("ry",u.ry),o!=null){var b=20;for(let O in o){var E=p.append("a"),A=(0,z6.sanitizeUrl)(o[O]);E.attr("xlink:href",A),E.attr("target","_blank"),WXe(n)(O,E,u.x+10,u.height+b,y,20,{class:"actor"},n),b+=30}}return x.attr("height",b),{height:u.height+b,width:y}},"drawPopup"),CXe=a(function(e){return"var pu = document.getElementById('"+e+"'); if (pu != null) { pu.style.display = 'block'; }"},"popupMenu"),SXe=a(function(e){return"var pu = document.getElementById('"+e+"'); if (pu != null) { pu.style.display = 'none'; }"},"popdownMenu"),AXe=a(function(e){var t=document.getElementById(e);t!=null&&(t.style.display="block")},"popupMenuUpFunc"),RXe=a(function(e){var t=document.getElementById(e);t!=null&&(t.style.display="none")},"popupMenuDownFunc"),wp=a(function(e,t){let r=0,n=0,i=t.text.split(Et.lineBreakRegex),[o,s]=Hf(t.fontSize),u=[],f=0,p=a(()=>t.y,"yfunc");if(t.valign!==void 0&&t.textMargin!==void 0&&t.textMargin>0)switch(t.valign){case"top":case"start":p=a(()=>Math.round(t.y+t.textMargin),"yfunc");break;case"middle":case"center":p=a(()=>Math.round(t.y+(r+n+t.textMargin)/2),"yfunc");break;case"bottom":case"end":p=a(()=>Math.round(t.y+(r+n+2*t.textMargin)-t.textMargin),"yfunc");break}if(t.anchor!==void 0&&t.textMargin!==void 0&&t.width!==void 0)switch(t.anchor){case"left":case"start":t.x=Math.round(t.x+t.textMargin),t.anchor="start",t.dominantBaseline="middle",t.alignmentBaseline="middle";break;case"middle":case"center":t.x=Math.round(t.x+t.width/2),t.anchor="middle",t.dominantBaseline="middle",t.alignmentBaseline="middle";break;case"right":case"end":t.x=Math.round(t.x+t.width-t.textMargin),t.anchor="end",t.dominantBaseline="middle",t.alignmentBaseline="middle";break}for(let[g,y]of i.entries()){t.textMargin!==void 0&&t.textMargin===0&&o!==void 0&&(f=g*o);let x=e.append("text");x.attr("x",t.x),x.attr("y",p()),t.anchor!==void 0&&x.attr("text-anchor",t.anchor).attr("dominant-baseline",t.dominantBaseline).attr("alignment-baseline",t.alignmentBaseline),t.fontFamily!==void 0&&x.style("font-family",t.fontFamily),s!==void 0&&x.style("font-size",s),t.fontWeight!==void 0&&x.style("font-weight",t.fontWeight),t.fill!==void 0&&x.attr("fill",t.fill),t.class!==void 0&&x.attr("class",t.class),t.dy!==void 0?x.attr("dy",t.dy):f!==0&&x.attr("dy",f);let b=y||KR;if(t.tspan){let E=x.append("tspan");E.attr("x",t.x),t.fill!==void 0&&E.attr("fill",t.fill),E.text(b)}else x.text(b);t.valign!==void 0&&t.textMargin!==void 0&&t.textMargin>0&&(n+=(x._groups||x)[0][0].getBBox().height,r=n),u.push(x)}return u},"drawText"),Epe=a(function(e,t){function r(i,o,s,u,f){return i+","+o+" "+(i+s)+","+o+" "+(i+s)+","+(o+u-f)+" "+(i+s-f*1.2)+","+(o+u)+" "+i+","+(o+u)}a(r,"genPoints");let n=e.append("polygon");return n.attr("points",r(t.x,t.y,t.width,t.height,7)),n.attr("class","labelBox"),t.y=t.y+t.height/2,wp(e,t),n},"drawLabel"),rc=-1,$6=a((e,t,r,n)=>{e.select&&r.forEach(i=>{let o=t[i],s=e.select("#actor"+o.actorCnt);!n.mirrorActors&&o.stopy?s.attr("y2",o.stopy+o.height/2):n.mirrorActors&&s.attr("y2",o.stopy)})},"fixLifeLineHeights"),DXe=a(function(e,t,r,n){let i=n?t.stopy:t.starty,o=t.x+t.width/2,s=i+5,u=e.append("g");var f=u;n||(rc++,f.append("line").attr("id","actor"+rc).attr("x1",o).attr("y1",s).attr("x2",o).attr("y2",2e3).attr("class","actor-line").attr("class","200").attr("stroke-width","0.5px").attr("stroke","#999"),f=u.append("g"),t.actorCnt=rc,t.links!=null&&(f.attr("id","root-"+rc),wpe("#root-"+rc,rc)));let p=Ml();var g="actor";t.properties!=null&&t.properties.class?g=t.properties.class:p.fill="#eaeaea",p.x=t.x,p.y=i,p.width=t.width,p.height=t.height,p.class=g,p.rx=3,p.ry=3;let y=U6(f,p);if(t.rectData=p,t.properties!=null&&t.properties.icon){let b=t.properties.icon.trim();b.charAt(0)==="@"?DG(f,p.x+p.width-20,p.y+10,b.substr(1)):RG(f,p.x+p.width-20,p.y+10,b)}G6(r)(t.description,f,p.x,p.y,p.width,p.height,{class:"actor"},r);let x=t.height;if(y.node){let b=y.node().getBBox();t.height=b.height,x=b.height}return x},"drawActorTypeParticipant"),LXe=a(function(e,t,r,n){let i=n?t.stopy:t.starty,o=t.x+t.width/2,s=i+80;e.lower(),n||(rc++,e.append("line").attr("id","actor"+rc).attr("x1",o).attr("y1",s).attr("x2",o).attr("y2",2e3).attr("class","actor-line").attr("class","200").attr("stroke-width","0.5px").attr("stroke","#999"),t.actorCnt=rc);let u=e.append("g");u.attr("class","actor-man");let f=Ml();f.x=t.x,f.y=i,f.fill="#eaeaea",f.width=t.width,f.height=t.height,f.class="actor",f.rx=3,f.ry=3,u.append("line").attr("id","actor-man-torso"+rc).attr("x1",o).attr("y1",i+25).attr("x2",o).attr("y2",i+45),u.append("line").attr("id","actor-man-arms"+rc).attr("x1",o-Mh/2).attr("y1",i+33).attr("x2",o+Mh/2).attr("y2",i+33),u.append("line").attr("x1",o-Mh/2).attr("y1",i+60).attr("x2",o).attr("y2",i+45),u.append("line").attr("x1",o).attr("y1",i+45).attr("x2",o+Mh/2-2).attr("y2",i+60);let p=u.append("circle");p.attr("cx",t.x+t.width/2),p.attr("cy",i+10),p.attr("r",15),p.attr("width",t.width),p.attr("height",t.height);let g=u.node().getBBox();return t.height=g.height,G6(r)(t.description,u,f.x,f.y+35,f.width,f.height,{class:"actor"},r),t.height},"drawActorTypeActor"),IXe=a(function(e,t,r,n){switch(t.type){case"actor":return LXe(e,t,r,n);case"participant":return DXe(e,t,r,n)}},"drawActor"),NXe=a(function(e,t,r){let i=e.append("g");Cpe(i,t),t.name&&G6(r)(t.name,i,t.x,t.y+(t.textMaxHeight||0)/2,t.width,0,{class:"text"},r),i.lower()},"drawBox"),PXe=a(function(e){return e.append("g")},"anchorElement"),OXe=a(function(e,t,r,n,i){let o=Ml(),s=t.anchored;o.x=t.startx,o.y=t.starty,o.class="activation"+i%3,o.width=t.stopx-t.startx,o.height=r-t.starty,U6(s,o)},"drawActivation"),MXe=a(function(e,t,r,n){let{boxMargin:i,boxTextMargin:o,labelBoxHeight:s,labelBoxWidth:u,messageFontFamily:f,messageFontSize:p,messageFontWeight:g}=n,y=e.append("g"),x=a(function(A,O,N,I){return y.append("line").attr("x1",A).attr("y1",O).attr("x2",N).attr("y2",I).attr("class","loopLine")},"drawLoopLine");x(t.startx,t.starty,t.stopx,t.starty),x(t.stopx,t.starty,t.stopx,t.stopy),x(t.startx,t.stopy,t.stopx,t.stopy),x(t.startx,t.starty,t.startx,t.stopy),t.sections!==void 0&&t.sections.forEach(function(A){x(t.startx,A.y,t.stopx,A.y).style("stroke-dasharray","3, 3")});let b=Tv();b.text=r,b.x=t.startx,b.y=t.starty,b.fontFamily=f,b.fontSize=p,b.fontWeight=g,b.anchor="middle",b.valign="middle",b.tspan=!1,b.width=u||50,b.height=s||20,b.textMargin=o,b.class="labelText",Epe(y,b),b=Spe(),b.text=t.title,b.x=t.startx+u/2+(t.stopx-t.startx)/2,b.y=t.starty+i+o,b.anchor="middle",b.valign="middle",b.textMargin=o,b.class="loopText",b.fontFamily=f,b.fontSize=p,b.fontWeight=g,b.wrap=!0;let E=wp(y,b);return t.sectionTitles!==void 0&&t.sectionTitles.forEach(function(A,O){if(A.message){b.text=A.message,b.x=t.startx+(t.stopx-t.startx)/2,b.y=t.sections[O].y+i+o,b.class="loopText",b.anchor="middle",b.valign="middle",b.tspan=!1,b.fontFamily=f,b.fontSize=p,b.fontWeight=g,b.wrap=t.wrap,E=wp(y,b);let N=Math.round(E.map(I=>(I._groups||I)[0][0].getBBox().height).reduce((I,$)=>I+$));t.sections[O].height+=N-(i+o)}}),t.height=Math.round(t.stopy-t.starty),y},"drawLoop"),Cpe=a(function(e,t){YT(e,t)},"drawBackgroundRect"),FXe=a(function(e){e.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),BXe=a(function(e){e.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),qXe=a(function(e){e.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),zXe=a(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",7.9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},"insertArrowHead"),UXe=a(function(e){e.append("defs").append("marker").attr("id","filled-head").attr("refX",15.5).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),$Xe=a(function(e){e.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertSequenceNumber"),GXe=a(function(e){e.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",4).attr("refY",4.5).append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1pt").attr("d","M 1,2 L 6,7 M 6,2 L 1,7")},"insertArrowCrossHead"),Spe=a(function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},"getTextObj"),VXe=a(function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),G6=function(){function e(i,o,s,u,f,p,g){let y=o.append("text").attr("x",s+f/2).attr("y",u+p/2+5).style("text-anchor","middle").text(i);n(y,g)}a(e,"byText");function t(i,o,s,u,f,p,g,y){let{actorFontSize:x,actorFontFamily:b,actorFontWeight:E}=y,[A,O]=Hf(x),N=i.split(Et.lineBreakRegex);for(let I=0;I<N.length;I++){let $=I*A-A*(N.length-1)/2,X=o.append("text").attr("x",s+f/2).attr("y",u).style("text-anchor","middle").style("font-size",O).style("font-weight",E).style("font-family",b);X.append("tspan").attr("x",s+f/2).attr("dy",$).text(N[I]),X.attr("y",u+p/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(X,g)}}a(t,"byTspan");function r(i,o,s,u,f,p,g,y){let x=o.append("switch"),E=x.append("foreignObject").attr("x",s).attr("y",u).attr("width",f).attr("height",p).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");E.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),t(i,x,s,u,f,p,g,y),n(E,g)}a(r,"byFo");function n(i,o){for(let s in o)o.hasOwnProperty(s)&&i.attr(s,o[s])}return a(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?e:t}}(),WXe=function(){function e(i,o,s,u,f,p,g){let y=o.append("text").attr("x",s).attr("y",u).style("text-anchor","start").text(i);n(y,g)}a(e,"byText");function t(i,o,s,u,f,p,g,y){let{actorFontSize:x,actorFontFamily:b,actorFontWeight:E}=y,A=i.split(Et.lineBreakRegex);for(let O=0;O<A.length;O++){let N=O*x-x*(A.length-1)/2,I=o.append("text").attr("x",s).attr("y",u).style("text-anchor","start").style("font-size",x).style("font-weight",E).style("font-family",b);I.append("tspan").attr("x",s).attr("dy",N).text(A[O]),I.attr("y",u+p/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(I,g)}}a(t,"byTspan");function r(i,o,s,u,f,p,g,y){let x=o.append("switch"),E=x.append("foreignObject").attr("x",s).attr("y",u).attr("width",f).attr("height",p).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");E.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),t(i,x,s,u,f,p,g,y),n(E,g)}a(r,"byFo");function n(i,o){for(let s in o)o.hasOwnProperty(s)&&i.attr(s,o[s])}return a(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?e:t}}(),Pi={drawRect:U6,drawText:wp,drawLabel:Epe,drawActor:IXe,drawBox:NXe,drawPopup:EXe,anchorElement:PXe,drawActivation:OXe,drawLoop:MXe,drawBackgroundRect:Cpe,insertArrowHead:zXe,insertArrowFilledHead:UXe,insertSequenceNumber:$Xe,insertArrowCrossHead:GXe,insertDatabaseIcon:FXe,insertComputerIcon:BXe,insertClockIcon:qXe,getTextObj:Spe,getNoteRect:VXe,popupMenu:CXe,popdownMenu:SXe,fixLifeLineHeights:$6,sanitizeUrl:z6.sanitizeUrl}});function jXe(e,t){Nt.bumpVerticalPos(10);let{startx:r,stopx:n,message:i}=t,o=Et.splitBreaks(i).length,s=yr.calculateTextDimensions(i,Ep(nt)),u=s.height/o;t.height+=u,Nt.bumpVerticalPos(u);let f,p=s.height-10,g=s.width;if(r===n){f=Nt.getVerticalPos()+p,nt.rightAngles||(p+=nt.boxMargin,f=Nt.getVerticalPos()+p),p+=30;let y=Et.getMax(g/2,nt.width/2);Nt.insert(r-y,Nt.getVerticalPos()-10+p,n+y,Nt.getVerticalPos()+30+p)}else p+=nt.boxMargin,f=Nt.getVerticalPos()+p,Nt.insert(r,f-10,n,f);return Nt.bumpVerticalPos(p),t.height+=p,t.stopy=t.starty+t.height,Nt.insert(t.fromBounds,t.starty,t.toBounds,t.stopy),f}function Yc(e,t,r,n,i){Nt.bumpVerticalPos(r);let o=n;if(t.id&&t.message&&e[t.id]){let s=e[t.id].width,u=Ep(nt);t.message=yr.wrapLabel(`[${t.message}]`,s-2*nt.wrapPadding,u),t.width=s,t.wrap=!0;let f=yr.calculateTextDimensions(t.message,u),p=Et.getMax(f.height,nt.labelBoxHeight);o=n+p,ye.debug(`${p} - ${t.message}`)}i(t),Nt.bumpVerticalPos(o)}function KXe(e,t,r,n,i,o,s){function u(p,g){p.x<i[e.from].x?(Nt.insert(t.stopx-g,t.starty,t.startx,t.stopy+p.height/2+nt.noteMargin),t.stopx=t.stopx+g):(Nt.insert(t.startx,t.starty,t.stopx+g,t.stopy+p.height/2+nt.noteMargin),t.stopx=t.stopx-g)}a(u,"receiverAdjustment");function f(p,g){p.x<i[e.to].x?(Nt.insert(t.startx-g,t.starty,t.stopx,t.stopy+p.height/2+nt.noteMargin),t.startx=t.startx+g):(Nt.insert(t.stopx,t.starty,t.startx+g,t.stopy+p.height/2+nt.noteMargin),t.startx=t.startx-g)}if(a(f,"senderAdjustment"),o[e.to]==n){let p=i[e.to],g=p.type=="actor"?Mh/2+3:p.width/2+3;u(p,g),p.starty=r-p.height/2,Nt.bumpVerticalPos(p.height/2)}else if(s[e.from]==n){let p=i[e.from];if(nt.mirrorActors){let g=p.type=="actor"?Mh/2:p.width/2;f(p,g)}p.stopy=r-p.height/2,Nt.bumpVerticalPos(p.height/2)}else if(s[e.to]==n){let p=i[e.to];if(nt.mirrorActors){let g=p.type=="actor"?Mh/2+3:p.width/2+3;u(p,g)}p.stopy=r-p.height/2,Nt.bumpVerticalPos(p.height/2)}}function ZXe(e,t,r){let n={};return t.forEach(function(i){if(e[i.to]&&e[i.from]){let o=e[i.to];if(i.placement===r.db.PLACEMENT.LEFTOF&&!o.prevActor||i.placement===r.db.PLACEMENT.RIGHTOF&&!o.nextActor)return;let s=i.placement!==void 0,u=!s,f=s?r0(nt):Ep(nt),p=i.wrap?yr.wrapLabel(i.message,nt.width-2*nt.wrapPadding,f):i.message,y=yr.calculateTextDimensions(p,f).width+2*nt.wrapPadding;u&&i.from===o.nextActor?n[i.to]=Et.getMax(n[i.to]||0,y):u&&i.from===o.prevActor?n[i.from]=Et.getMax(n[i.from]||0,y):u&&i.from===i.to?(n[i.from]=Et.getMax(n[i.from]||0,y/2),n[i.to]=Et.getMax(n[i.to]||0,y/2)):i.placement===r.db.PLACEMENT.RIGHTOF?n[i.from]=Et.getMax(n[i.from]||0,y):i.placement===r.db.PLACEMENT.LEFTOF?n[o.prevActor]=Et.getMax(n[o.prevActor]||0,y):i.placement===r.db.PLACEMENT.OVER&&(o.prevActor&&(n[o.prevActor]=Et.getMax(n[o.prevActor]||0,y/2)),o.nextActor&&(n[i.from]=Et.getMax(n[i.from]||0,y/2)))}}),ye.debug("maxMessageWidthPerActor:",n),n}function eKe(e,t,r){let n=0;Object.keys(e).forEach(o=>{let s=e[o];s.wrap&&(s.description=yr.wrapLabel(s.description,nt.width-2*nt.wrapPadding,V6(nt)));let u=yr.calculateTextDimensions(s.description,V6(nt));s.width=s.wrap?nt.width:Et.getMax(nt.width,u.width+2*nt.wrapPadding),s.height=s.wrap?Et.getMax(u.height,nt.height):nt.height,n=Et.getMax(n,s.height)});for(let o in t){let s=e[o];if(!s)continue;let u=e[s.nextActor];if(!u){let y=t[o]+nt.actorMargin-s.width/2;s.margin=Et.getMax(y,nt.actorMargin);continue}let p=t[o]+nt.actorMargin-s.width/2-u.width/2;s.margin=Et.getMax(p,nt.actorMargin)}let i=0;return r.forEach(o=>{let s=Ep(nt),u=o.actorKeys.reduce((g,y)=>g+=e[y].width+(e[y].margin||0),0);u-=2*nt.boxTextMargin,o.wrap&&(o.name=yr.wrapLabel(o.name,u-2*nt.wrapPadding,s));let f=yr.calculateTextDimensions(o.name,s);i=Et.getMax(f.height,i);let p=Et.getMax(u,f.width+2*nt.wrapPadding);if(o.margin=nt.boxTextMargin,u<p){let g=(p-u)/2;o.margin+=g}}),r.forEach(o=>o.textMaxHeight=i),Et.getMax(n,nt.height)}var nt,Nt,HXe,Ep,r0,V6,YXe,XXe,W6,Dpe,Lpe,tC,Rpe,QXe,JXe,tKe,rKe,nKe,Ipe,Npe=F(()=>{"use strict";Zr();Ape();br();en();kv();Pr();Wy();An();Si();nt={},Nt={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:function(){return Math.max.apply(null,this.actors.length===0?[0]:this.actors.map(e=>e.height||0))+(this.loops.length===0?0:this.loops.map(e=>e.height||0).reduce((e,t)=>e+t))+(this.messages.length===0?0:this.messages.map(e=>e.height||0).reduce((e,t)=>e+t))+(this.notes.length===0?0:this.notes.map(e=>e.height||0).reduce((e,t)=>e+t))},clear:function(){this.actors=[],this.boxes=[],this.loops=[],this.messages=[],this.notes=[]},addBox:function(e){this.boxes.push(e)},addActor:function(e){this.actors.push(e)},addLoop:function(e){this.loops.push(e)},addMessage:function(e){this.messages.push(e)},addNote:function(e){this.notes.push(e)},lastActor:function(){return this.actors[this.actors.length-1]},lastLoop:function(){return this.loops[this.loops.length-1]},lastMessage:function(){return this.messages[this.messages.length-1]},lastNote:function(){return this.notes[this.notes.length-1]},actors:[],boxes:[],loops:[],messages:[],notes:[]},init:function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,Lpe(Me())},updateVal:function(e,t,r,n){e[t]===void 0?e[t]=r:e[t]=n(r,e[t])},updateBounds:function(e,t,r,n){let i=this,o=0;function s(u){return a(function(p){o++;let g=i.sequenceItems.length-o+1;i.updateVal(p,"starty",t-g*nt.boxMargin,Math.min),i.updateVal(p,"stopy",n+g*nt.boxMargin,Math.max),i.updateVal(Nt.data,"startx",e-g*nt.boxMargin,Math.min),i.updateVal(Nt.data,"stopx",r+g*nt.boxMargin,Math.max),u!=="activation"&&(i.updateVal(p,"startx",e-g*nt.boxMargin,Math.min),i.updateVal(p,"stopx",r+g*nt.boxMargin,Math.max),i.updateVal(Nt.data,"starty",t-g*nt.boxMargin,Math.min),i.updateVal(Nt.data,"stopy",n+g*nt.boxMargin,Math.max))},"updateItemBounds")}a(s,"updateFn"),this.sequenceItems.forEach(s()),this.activations.forEach(s("activation"))},insert:function(e,t,r,n){let i=Et.getMin(e,r),o=Et.getMax(e,r),s=Et.getMin(t,n),u=Et.getMax(t,n);this.updateVal(Nt.data,"startx",i,Math.min),this.updateVal(Nt.data,"starty",s,Math.min),this.updateVal(Nt.data,"stopx",o,Math.max),this.updateVal(Nt.data,"stopy",u,Math.max),this.updateBounds(i,s,o,u)},newActivation:function(e,t,r){let n=r[e.from.actor],i=tC(e.from.actor).length||0,o=n.x+n.width/2+(i-1)*nt.activationWidth/2;this.activations.push({startx:o,starty:this.verticalPos+2,stopx:o+nt.activationWidth,stopy:void 0,actor:e.from.actor,anchored:Pi.anchorElement(t)})},endActivation:function(e){let t=this.activations.map(function(r){return r.actor}).lastIndexOf(e.from.actor);return this.activations.splice(t,1)[0]},createLoop:function(e={message:void 0,wrap:!1,width:void 0},t){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:e.message,wrap:e.wrap,width:e.width,height:0,fill:t}},newLoop:function(e={message:void 0,wrap:!1,width:void 0},t){this.sequenceItems.push(this.createLoop(e,t))},endLoop:function(){return this.sequenceItems.pop()},isLoopOverlap:function(){return this.sequenceItems.length?this.sequenceItems[this.sequenceItems.length-1].overlap:!1},addSectionToLoop:function(e){let t=this.sequenceItems.pop();t.sections=t.sections||[],t.sectionTitles=t.sectionTitles||[],t.sections.push({y:Nt.getVerticalPos(),height:0}),t.sectionTitles.push(e),this.sequenceItems.push(t)},saveVerticalPos:function(){this.isLoopOverlap()&&(this.savedVerticalPos=this.verticalPos)},resetVerticalPos:function(){this.isLoopOverlap()&&(this.verticalPos=this.savedVerticalPos)},bumpVerticalPos:function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=Et.getMax(this.data.stopy,this.verticalPos)},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return{bounds:this.data,models:this.models}}},HXe=a(function(e,t){Nt.bumpVerticalPos(nt.boxMargin),t.height=nt.boxMargin,t.starty=Nt.getVerticalPos();let r=Ml();r.x=t.startx,r.y=t.starty,r.width=t.width||nt.width,r.class="note";let n=e.append("g"),i=Pi.drawRect(n,r),o=Tv();o.x=t.startx,o.y=t.starty,o.width=r.width,o.dy="1em",o.text=t.message,o.class="noteText",o.fontFamily=nt.noteFontFamily,o.fontSize=nt.noteFontSize,o.fontWeight=nt.noteFontWeight,o.anchor=nt.noteAlign,o.textMargin=nt.noteMargin,o.valign="center";let s=wp(n,o),u=Math.round(s.map(f=>(f._groups||f)[0][0].getBBox().height).reduce((f,p)=>f+p));i.attr("height",u+2*nt.noteMargin),t.height+=u+2*nt.noteMargin,Nt.bumpVerticalPos(u+2*nt.noteMargin),t.stopy=t.starty+u+2*nt.noteMargin,t.stopx=t.startx+r.width,Nt.insert(t.startx,t.starty,t.stopx,t.stopy),Nt.models.addNote(t)},"drawNote"),Ep=a(e=>({fontFamily:e.messageFontFamily,fontSize:e.messageFontSize,fontWeight:e.messageFontWeight}),"messageFont"),r0=a(e=>({fontFamily:e.noteFontFamily,fontSize:e.noteFontSize,fontWeight:e.noteFontWeight}),"noteFont"),V6=a(e=>({fontFamily:e.actorFontFamily,fontSize:e.actorFontSize,fontWeight:e.actorFontWeight}),"actorFont");a(jXe,"boundMessage");YXe=a(function(e,t,r,n){let{startx:i,stopx:o,starty:s,message:u,type:f,sequenceIndex:p,sequenceVisible:g}=t,y=yr.calculateTextDimensions(u,Ep(nt)),x=Tv();x.x=i,x.y=s+10,x.width=o-i,x.class="messageText",x.dy="1em",x.text=u,x.fontFamily=nt.messageFontFamily,x.fontSize=nt.messageFontSize,x.fontWeight=nt.messageFontWeight,x.anchor=nt.messageAlign,x.valign="center",x.textMargin=nt.wrapPadding,x.tspan=!1,wp(e,x);let b=y.width,E;i===o?nt.rightAngles?E=e.append("path").attr("d",`M  ${i},${r} H ${i+Et.getMax(nt.width/2,b/2)} V ${r+25} H ${i}`):E=e.append("path").attr("d","M "+i+","+r+" C "+(i+60)+","+(r-10)+" "+(i+60)+","+(r+30)+" "+i+","+(r+20)):(E=e.append("line"),E.attr("x1",i),E.attr("y1",r),E.attr("x2",o),E.attr("y2",r)),f===n.db.LINETYPE.DOTTED||f===n.db.LINETYPE.DOTTED_CROSS||f===n.db.LINETYPE.DOTTED_POINT||f===n.db.LINETYPE.DOTTED_OPEN?(E.style("stroke-dasharray","3, 3"),E.attr("class","messageLine1")):E.attr("class","messageLine0");let A="";nt.arrowMarkerAbsolute&&(A=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,A=A.replace(/\(/g,"\\("),A=A.replace(/\)/g,"\\)")),E.attr("stroke-width",2),E.attr("stroke","none"),E.style("fill","none"),(f===n.db.LINETYPE.SOLID||f===n.db.LINETYPE.DOTTED)&&E.attr("marker-end","url("+A+"#arrowhead)"),(f===n.db.LINETYPE.SOLID_POINT||f===n.db.LINETYPE.DOTTED_POINT)&&E.attr("marker-end","url("+A+"#filled-head)"),(f===n.db.LINETYPE.SOLID_CROSS||f===n.db.LINETYPE.DOTTED_CROSS)&&E.attr("marker-end","url("+A+"#crosshead)"),(g||nt.showSequenceNumbers)&&(E.attr("marker-start","url("+A+"#sequencenumber)"),e.append("text").attr("x",i).attr("y",r+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(p))},"drawMessage"),XXe=a(function(e,t,r,n,i,o,s){let u=0,f=0,p,g=0;for(let y of n){let x=t[y],b=x.box;p&&p!=b&&(s||Nt.models.addBox(p),f+=nt.boxMargin+p.margin),b&&b!=p&&(s||(b.x=u+f,b.y=i),f+=b.margin),x.width=x.width||nt.width,x.height=Et.getMax(x.height||nt.height,nt.height),x.margin=x.margin||nt.actorMargin,g=Et.getMax(g,x.height),r[x.name]&&(f+=x.width/2),x.x=u+f,x.starty=Nt.getVerticalPos(),Nt.insert(x.x,i,x.x+x.width,x.height),u+=x.width+f,x.box&&(x.box.width=u+b.margin-x.box.x),f=x.margin,p=x.box,Nt.models.addActor(x)}p&&!s&&Nt.models.addBox(p),Nt.bumpVerticalPos(g)},"addActorRenderingData"),W6=a(function(e,t,r,n){if(n){let i=0;Nt.bumpVerticalPos(nt.boxMargin*2);for(let o of r){let s=t[o];s.stopy||(s.stopy=Nt.getVerticalPos());let u=Pi.drawActor(e,s,nt,!0);i=Et.getMax(i,u)}Nt.bumpVerticalPos(i+nt.boxMargin)}else for(let i of r){let o=t[i];Pi.drawActor(e,o,nt,!1)}},"drawActors"),Dpe=a(function(e,t,r,n){let i=0,o=0;for(let s of r){let u=t[s],f=JXe(u),p=Pi.drawPopup(e,u,f,nt,nt.forceMenus,n);p.height>i&&(i=p.height),p.width+u.x>o&&(o=p.width+u.x)}return{maxHeight:i,maxWidth:o}},"drawActorsPopup"),Lpe=a(function(e){Ei(nt,e),e.fontFamily&&(nt.actorFontFamily=nt.noteFontFamily=nt.messageFontFamily=e.fontFamily),e.fontSize&&(nt.actorFontSize=nt.noteFontSize=nt.messageFontSize=e.fontSize),e.fontWeight&&(nt.actorFontWeight=nt.noteFontWeight=nt.messageFontWeight=e.fontWeight)},"setConf"),tC=a(function(e){return Nt.activations.filter(function(t){return t.actor===e})},"actorActivations"),Rpe=a(function(e,t){let r=t[e],n=tC(e),i=n.reduce(function(s,u){return Et.getMin(s,u.startx)},r.x+r.width/2-1),o=n.reduce(function(s,u){return Et.getMax(s,u.stopx)},r.x+r.width/2+1);return[i,o]},"activationBounds");a(Yc,"adjustLoopHeightForWrap");a(KXe,"adjustCreatedDestroyedData");QXe=a(function(e,t,r,n){let{securityLevel:i,sequence:o}=Me();nt=o;let s;i==="sandbox"&&(s=dt("#i"+t));let u=i==="sandbox"?dt(s.nodes()[0].contentDocument.body):dt("body"),f=i==="sandbox"?s.nodes()[0].contentDocument:document;Nt.init(),ye.debug(n.db);let p=i==="sandbox"?u.select(`[id="${t}"]`):dt(`[id="${t}"]`),g=n.db.getActors(),y=n.db.getCreatedActors(),x=n.db.getDestroyedActors(),b=n.db.getBoxes(),E=n.db.getActorKeys(),A=n.db.getMessages(),O=n.db.getDiagramTitle(),N=n.db.hasAtLeastOneBox(),I=n.db.hasAtLeastOneBoxWithTitle(),$=ZXe(g,A,n);if(nt.height=eKe(g,$,b),Pi.insertComputerIcon(p),Pi.insertDatabaseIcon(p),Pi.insertClockIcon(p),N&&(Nt.bumpVerticalPos(nt.boxMargin),I&&Nt.bumpVerticalPos(b[0].textMaxHeight)),nt.hideUnusedParticipants===!0){let H=new Set;A.forEach(te=>{H.add(te.from),H.add(te.to)}),E=E.filter(te=>H.has(te))}XXe(p,g,y,E,0,A,!1);let X=nKe(A,g,$,n);Pi.insertArrowHead(p),Pi.insertArrowCrossHead(p),Pi.insertArrowFilledHead(p),Pi.insertSequenceNumber(p);function q(H,te){let J=Nt.endActivation(H);J.starty+18>te&&(J.starty=te-6,te+=12),Pi.drawActivation(p,J,te,nt,tC(H.from.actor).length),Nt.insert(J.startx,te-10,J.stopx,te)}a(q,"activeEnd"),ye.debug("createdActors",y),ye.debug("destroyedActors",x),W6(p,g,E,!1);let M=1,B=1,G=[],U=[];A.forEach(function(H,te){let J,Y,de;switch(H.type){case n.db.LINETYPE.NOTE:Nt.resetVerticalPos(),Y=H.noteModel,HXe(p,Y);break;case n.db.LINETYPE.ACTIVE_START:Nt.newActivation(H,p,g);break;case n.db.LINETYPE.ACTIVE_END:q(H,Nt.getVerticalPos());break;case n.db.LINETYPE.LOOP_START:Yc(X,H,nt.boxMargin,nt.boxMargin+nt.boxTextMargin,Fe=>Nt.newLoop(Fe));break;case n.db.LINETYPE.LOOP_END:J=Nt.endLoop(),Pi.drawLoop(p,J,"loop",nt),Nt.bumpVerticalPos(J.stopy-Nt.getVerticalPos()),Nt.models.addLoop(J);break;case n.db.LINETYPE.RECT_START:Yc(X,H,nt.boxMargin,nt.boxMargin,Fe=>Nt.newLoop(void 0,Fe.message));break;case n.db.LINETYPE.RECT_END:J=Nt.endLoop(),U.push(J),Nt.models.addLoop(J),Nt.bumpVerticalPos(J.stopy-Nt.getVerticalPos());break;case n.db.LINETYPE.OPT_START:Yc(X,H,nt.boxMargin,nt.boxMargin+nt.boxTextMargin,Fe=>Nt.newLoop(Fe));break;case n.db.LINETYPE.OPT_END:J=Nt.endLoop(),Pi.drawLoop(p,J,"opt",nt),Nt.bumpVerticalPos(J.stopy-Nt.getVerticalPos()),Nt.models.addLoop(J);break;case n.db.LINETYPE.ALT_START:Yc(X,H,nt.boxMargin,nt.boxMargin+nt.boxTextMargin,Fe=>Nt.newLoop(Fe));break;case n.db.LINETYPE.ALT_ELSE:Yc(X,H,nt.boxMargin+nt.boxTextMargin,nt.boxMargin,Fe=>Nt.addSectionToLoop(Fe));break;case n.db.LINETYPE.ALT_END:J=Nt.endLoop(),Pi.drawLoop(p,J,"alt",nt),Nt.bumpVerticalPos(J.stopy-Nt.getVerticalPos()),Nt.models.addLoop(J);break;case n.db.LINETYPE.PAR_START:case n.db.LINETYPE.PAR_OVER_START:Yc(X,H,nt.boxMargin,nt.boxMargin+nt.boxTextMargin,Fe=>Nt.newLoop(Fe)),Nt.saveVerticalPos();break;case n.db.LINETYPE.PAR_AND:Yc(X,H,nt.boxMargin+nt.boxTextMargin,nt.boxMargin,Fe=>Nt.addSectionToLoop(Fe));break;case n.db.LINETYPE.PAR_END:J=Nt.endLoop(),Pi.drawLoop(p,J,"par",nt),Nt.bumpVerticalPos(J.stopy-Nt.getVerticalPos()),Nt.models.addLoop(J);break;case n.db.LINETYPE.AUTONUMBER:M=H.message.start||M,B=H.message.step||B,H.message.visible?n.db.enableSequenceNumbers():n.db.disableSequenceNumbers();break;case n.db.LINETYPE.CRITICAL_START:Yc(X,H,nt.boxMargin,nt.boxMargin+nt.boxTextMargin,Fe=>Nt.newLoop(Fe));break;case n.db.LINETYPE.CRITICAL_OPTION:Yc(X,H,nt.boxMargin+nt.boxTextMargin,nt.boxMargin,Fe=>Nt.addSectionToLoop(Fe));break;case n.db.LINETYPE.CRITICAL_END:J=Nt.endLoop(),Pi.drawLoop(p,J,"critical",nt),Nt.bumpVerticalPos(J.stopy-Nt.getVerticalPos()),Nt.models.addLoop(J);break;case n.db.LINETYPE.BREAK_START:Yc(X,H,nt.boxMargin,nt.boxMargin+nt.boxTextMargin,Fe=>Nt.newLoop(Fe));break;case n.db.LINETYPE.BREAK_END:J=Nt.endLoop(),Pi.drawLoop(p,J,"break",nt),Nt.bumpVerticalPos(J.stopy-Nt.getVerticalPos()),Nt.models.addLoop(J);break;default:try{de=H.msgModel,de.starty=Nt.getVerticalPos(),de.sequenceIndex=M,de.sequenceVisible=n.db.showSequenceNumbers();let Fe=jXe(p,de);KXe(H,de,Fe,te,g,y,x),G.push({messageModel:de,lineStartY:Fe}),Nt.models.addMessage(de)}catch(Fe){ye.error("error while drawing message",Fe)}}[n.db.LINETYPE.SOLID_OPEN,n.db.LINETYPE.DOTTED_OPEN,n.db.LINETYPE.SOLID,n.db.LINETYPE.DOTTED,n.db.LINETYPE.SOLID_CROSS,n.db.LINETYPE.DOTTED_CROSS,n.db.LINETYPE.SOLID_POINT,n.db.LINETYPE.DOTTED_POINT].includes(H.type)&&(M=M+B)}),G.forEach(H=>YXe(p,H.messageModel,H.lineStartY,n)),nt.mirrorActors&&W6(p,g,E,!0),U.forEach(H=>Pi.drawBackgroundRect(p,H)),$6(p,g,E,nt),Nt.models.boxes.forEach(function(H){H.height=Nt.getVerticalPos()-H.y,Nt.insert(H.x,H.y,H.x+H.width,H.height),H.startx=H.x,H.starty=H.y,H.stopx=H.startx+H.width,H.stopy=H.starty+H.height,H.stroke="rgb(0,0,0, 0.5)",Pi.drawBox(p,H,nt)}),N&&Nt.bumpVerticalPos(nt.boxMargin);let W=Dpe(p,g,E,f),{bounds:D}=Nt.getBounds(),K=D.stopy-D.starty;K<W.maxHeight&&(K=W.maxHeight);let P=K+2*nt.diagramMarginY;nt.mirrorActors&&(P=P-nt.boxMargin+nt.bottomMarginAdj);let re=D.stopx-D.startx;re<W.maxWidth&&(re=W.maxWidth);let ce=re+2*nt.diagramMarginX;O&&p.append("text").text(O).attr("x",(D.stopx-D.startx)/2-2*nt.diagramMarginX).attr("y",-25),wn(p,P,ce,nt.useMaxWidth);let ee=O?40:0;p.attr("viewBox",D.startx-nt.diagramMarginX+" -"+(nt.diagramMarginY+ee)+" "+ce+" "+(P+ee)),ye.debug("models:",Nt.models)},"draw");a(ZXe,"getMaxMessageWidthPerActor");JXe=a(function(e){let t=0,r=V6(nt);for(let n in e.links){let o=yr.calculateTextDimensions(n,r).width+2*nt.wrapPadding+2*nt.boxMargin;t<o&&(t=o)}return t},"getRequiredPopupWidth");a(eKe,"calculateActorMargins");tKe=a(function(e,t,r){let n=t[e.from].x,i=t[e.to].x,o=e.wrap&&e.message,s=yr.calculateTextDimensions(o?yr.wrapLabel(e.message,nt.width,r0(nt)):e.message,r0(nt)),u={width:o?nt.width:Et.getMax(nt.width,s.width+2*nt.noteMargin),height:0,startx:t[e.from].x,stopx:0,starty:0,stopy:0,message:e.message};return e.placement===r.db.PLACEMENT.RIGHTOF?(u.width=o?Et.getMax(nt.width,s.width):Et.getMax(t[e.from].width/2+t[e.to].width/2,s.width+2*nt.noteMargin),u.startx=n+(t[e.from].width+nt.actorMargin)/2):e.placement===r.db.PLACEMENT.LEFTOF?(u.width=o?Et.getMax(nt.width,s.width+2*nt.noteMargin):Et.getMax(t[e.from].width/2+t[e.to].width/2,s.width+2*nt.noteMargin),u.startx=n-u.width+(t[e.from].width-nt.actorMargin)/2):e.to===e.from?(s=yr.calculateTextDimensions(o?yr.wrapLabel(e.message,Et.getMax(nt.width,t[e.from].width),r0(nt)):e.message,r0(nt)),u.width=o?Et.getMax(nt.width,t[e.from].width):Et.getMax(t[e.from].width,nt.width,s.width+2*nt.noteMargin),u.startx=n+(t[e.from].width-u.width)/2):(u.width=Math.abs(n+t[e.from].width/2-(i+t[e.to].width/2))+nt.actorMargin,u.startx=n<i?n+t[e.from].width/2-nt.actorMargin/2:i+t[e.to].width/2-nt.actorMargin/2),o&&(u.message=yr.wrapLabel(e.message,u.width-2*nt.wrapPadding,r0(nt))),ye.debug(`NM:[${u.startx},${u.stopx},${u.starty},${u.stopy}:${u.width},${u.height}=${e.message}]`),u},"buildNoteModel"),rKe=a(function(e,t,r){if(![r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN,r.db.LINETYPE.SOLID,r.db.LINETYPE.DOTTED,r.db.LINETYPE.SOLID_CROSS,r.db.LINETYPE.DOTTED_CROSS,r.db.LINETYPE.SOLID_POINT,r.db.LINETYPE.DOTTED_POINT].includes(e.type))return{};let[n,i]=Rpe(e.from,t),[o,s]=Rpe(e.to,t),u=n<=o,f=u?i:n,p=u?o:s,g=Math.abs(o-s)>2,y=a(A=>u?-A:A,"adjustValue");e.from===e.to?p=f:(e.activate&&!g&&(p+=y(nt.activationWidth/2-1)),[r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN].includes(e.type)||(p+=y(3)));let x=[n,i,o,s],b=Math.abs(f-p);e.wrap&&e.message&&(e.message=yr.wrapLabel(e.message,Et.getMax(b+2*nt.wrapPadding,nt.width),Ep(nt)));let E=yr.calculateTextDimensions(e.message,Ep(nt));return{width:Et.getMax(e.wrap?0:E.width+2*nt.wrapPadding,b+2*nt.wrapPadding,nt.width),height:0,startx:f,stopx:p,starty:0,stopy:0,message:e.message,type:e.type,wrap:e.wrap,fromBounds:Math.min.apply(null,x),toBounds:Math.max.apply(null,x)}},"buildMessageModel"),nKe=a(function(e,t,r,n){let i={},o=[],s,u,f;return e.forEach(function(p){switch(p.id=yr.random({length:10}),p.type){case n.db.LINETYPE.LOOP_START:case n.db.LINETYPE.ALT_START:case n.db.LINETYPE.OPT_START:case n.db.LINETYPE.PAR_START:case n.db.LINETYPE.PAR_OVER_START:case n.db.LINETYPE.CRITICAL_START:case n.db.LINETYPE.BREAK_START:o.push({id:p.id,msg:p.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case n.db.LINETYPE.ALT_ELSE:case n.db.LINETYPE.PAR_AND:case n.db.LINETYPE.CRITICAL_OPTION:p.message&&(s=o.pop(),i[s.id]=s,i[p.id]=s,o.push(s));break;case n.db.LINETYPE.LOOP_END:case n.db.LINETYPE.ALT_END:case n.db.LINETYPE.OPT_END:case n.db.LINETYPE.PAR_END:case n.db.LINETYPE.CRITICAL_END:case n.db.LINETYPE.BREAK_END:s=o.pop(),i[s.id]=s;break;case n.db.LINETYPE.ACTIVE_START:{let y=t[p.from?p.from.actor:p.to.actor],x=tC(p.from?p.from.actor:p.to.actor).length,b=y.x+y.width/2+(x-1)*nt.activationWidth/2,E={startx:b,stopx:b+nt.activationWidth,actor:p.from.actor,enabled:!0};Nt.activations.push(E)}break;case n.db.LINETYPE.ACTIVE_END:{let y=Nt.activations.map(x=>x.actor).lastIndexOf(p.from.actor);delete Nt.activations.splice(y,1)[0]}break}p.placement!==void 0?(u=tKe(p,t,n),p.noteModel=u,o.forEach(y=>{s=y,s.from=Et.getMin(s.from,u.startx),s.to=Et.getMax(s.to,u.startx+u.width),s.width=Et.getMax(s.width,Math.abs(s.from-s.to))-nt.labelBoxWidth})):(f=rKe(p,t,n),p.msgModel=f,f.startx&&f.stopx&&o.length>0&&o.forEach(y=>{if(s=y,f.startx===f.stopx){let x=t[p.from],b=t[p.to];s.from=Et.getMin(x.x-f.width/2,x.x-x.width/2,s.from),s.to=Et.getMax(b.x+f.width/2,b.x+x.width/2,s.to),s.width=Et.getMax(s.width,Math.abs(s.to-s.from))-nt.labelBoxWidth}else s.from=Et.getMin(f.startx,s.from),s.to=Et.getMax(f.stopx,s.to),s.width=Et.getMax(s.width,f.width)-nt.labelBoxWidth}))}),Nt.activations=[],ye.debug("Loop type widths:",i),i},"calculateLoopBounds"),Ipe={bounds:Nt,drawActors:W6,drawActorsPopup:Dpe,setConf:Lpe,draw:QXe}});var Ppe={};ii(Ppe,{diagram:()=>iKe});var iKe,Ope=F(()=>{"use strict";hpe();xpe();Tpe();Npe();iKe={parser:fpe,db:F6,renderer:Ipe,styles:bpe,init:({wrap:e})=>{F6.setWrap(e)}}});var H6,rC,j6=F(()=>{"use strict";H6=function(){var e=a(function(fe,le,he,xe){for(he=he||{},xe=fe.length;xe--;he[fe[xe]]=le);return he},"o"),t=[1,16],r=[1,17],n=[1,18],i=[1,37],o=[1,38],s=[1,24],u=[1,22],f=[1,23],p=[1,29],g=[1,30],y=[1,31],x=[1,32],b=[1,33],E=[1,34],A=[1,25],O=[1,26],N=[1,27],I=[1,28],$=[1,42],X=[1,39],q=[1,40],M=[1,41],B=[1,43],G=[1,9],U=[1,8,9],W=[1,54],D=[1,55],K=[1,56],P=[1,57],re=[1,58],ce=[1,59],ee=[1,60],H=[1,8,9,38],te=[1,71],J=[1,8,9,12,13,21,36,38,41,58,59,60,61,62,63,64,69,71],Y=[1,8,9,12,13,19,21,36,38,41,45,58,59,60,61,62,63,64,69,71,84,86,87,88,89],de=[13,84,86,87,88,89],Fe=[13,63,64,84,86,87,88,89],oe=[13,58,59,60,61,62,84,86,87,88,89],rt=[1,90],We=[1,8,9,36,38,41],_e=[1,8,9,21],Ve={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statements:5,graphConfig:6,CLASS_DIAGRAM:7,NEWLINE:8,EOF:9,statement:10,classLabel:11,SQS:12,STR:13,SQE:14,namespaceName:15,alphaNumToken:16,className:17,classLiteralName:18,GENERICTYPE:19,relationStatement:20,LABEL:21,namespaceStatement:22,classStatement:23,memberStatement:24,annotationStatement:25,clickStatement:26,cssClassStatement:27,noteStatement:28,direction:29,acc_title:30,acc_title_value:31,acc_descr:32,acc_descr_value:33,acc_descr_multiline_value:34,namespaceIdentifier:35,STRUCT_START:36,classStatements:37,STRUCT_STOP:38,NAMESPACE:39,classIdentifier:40,STYLE_SEPARATOR:41,members:42,CLASS:43,ANNOTATION_START:44,ANNOTATION_END:45,MEMBER:46,SEPARATOR:47,relation:48,NOTE_FOR:49,noteText:50,NOTE:51,direction_tb:52,direction_bt:53,direction_rl:54,direction_lr:55,relationType:56,lineType:57,AGGREGATION:58,EXTENSION:59,COMPOSITION:60,DEPENDENCY:61,LOLLIPOP:62,LINE:63,DOTTED_LINE:64,CALLBACK:65,LINK:66,LINK_TARGET:67,CLICK:68,CALLBACK_NAME:69,CALLBACK_ARGS:70,HREF:71,CSSCLASS:72,commentToken:73,textToken:74,graphCodeTokens:75,textNoTagsToken:76,TAGSTART:77,TAGEND:78,"==":79,"--":80,PCT:81,DEFAULT:82,SPACE:83,MINUS:84,keywords:85,UNICODE_TEXT:86,NUM:87,ALPHA:88,BQUOTE_STR:89,$accept:0,$end:1},terminals_:{2:"error",7:"CLASS_DIAGRAM",8:"NEWLINE",9:"EOF",12:"SQS",13:"STR",14:"SQE",19:"GENERICTYPE",21:"LABEL",30:"acc_title",31:"acc_title_value",32:"acc_descr",33:"acc_descr_value",34:"acc_descr_multiline_value",36:"STRUCT_START",38:"STRUCT_STOP",39:"NAMESPACE",41:"STYLE_SEPARATOR",43:"CLASS",44:"ANNOTATION_START",45:"ANNOTATION_END",46:"MEMBER",47:"SEPARATOR",49:"NOTE_FOR",51:"NOTE",52:"direction_tb",53:"direction_bt",54:"direction_rl",55:"direction_lr",58:"AGGREGATION",59:"EXTENSION",60:"COMPOSITION",61:"DEPENDENCY",62:"LOLLIPOP",63:"LINE",64:"DOTTED_LINE",65:"CALLBACK",66:"LINK",67:"LINK_TARGET",68:"CLICK",69:"CALLBACK_NAME",70:"CALLBACK_ARGS",71:"HREF",72:"CSSCLASS",75:"graphCodeTokens",77:"TAGSTART",78:"TAGEND",79:"==",80:"--",81:"PCT",82:"DEFAULT",83:"SPACE",84:"MINUS",85:"keywords",86:"UNICODE_TEXT",87:"NUM",88:"ALPHA",89:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[4,1],[6,4],[5,1],[5,2],[5,3],[11,3],[15,1],[15,2],[17,1],[17,1],[17,2],[17,2],[17,2],[10,1],[10,2],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[22,4],[22,5],[35,2],[37,1],[37,2],[37,3],[23,1],[23,3],[23,4],[23,6],[40,2],[40,3],[25,4],[42,1],[42,2],[24,1],[24,2],[24,1],[24,1],[20,3],[20,4],[20,4],[20,5],[28,3],[28,2],[29,1],[29,1],[29,1],[29,1],[48,3],[48,2],[48,2],[48,1],[56,1],[56,1],[56,1],[56,1],[56,1],[57,1],[57,1],[26,3],[26,4],[26,3],[26,4],[26,4],[26,5],[26,3],[26,4],[26,4],[26,5],[26,4],[26,5],[26,5],[26,6],[27,3],[73,1],[73,1],[74,1],[74,1],[74,1],[74,1],[74,1],[74,1],[74,1],[76,1],[76,1],[76,1],[76,1],[16,1],[16,1],[16,1],[16,1],[18,1],[50,1]],performAction:a(function(le,he,xe,ke,pe,Ce,Ue){var He=Ce.length-1;switch(pe){case 8:this.$=Ce[He-1];break;case 9:case 11:case 12:this.$=Ce[He];break;case 10:case 13:this.$=Ce[He-1]+Ce[He];break;case 14:case 15:this.$=Ce[He-1]+"~"+Ce[He]+"~";break;case 16:ke.addRelation(Ce[He]);break;case 17:Ce[He-1].title=ke.cleanupLabel(Ce[He]),ke.addRelation(Ce[He-1]);break;case 26:this.$=Ce[He].trim(),ke.setAccTitle(this.$);break;case 27:case 28:this.$=Ce[He].trim(),ke.setAccDescription(this.$);break;case 29:ke.addClassesToNamespace(Ce[He-3],Ce[He-1]);break;case 30:ke.addClassesToNamespace(Ce[He-4],Ce[He-1]);break;case 31:this.$=Ce[He],ke.addNamespace(Ce[He]);break;case 32:this.$=[Ce[He]];break;case 33:this.$=[Ce[He-1]];break;case 34:Ce[He].unshift(Ce[He-2]),this.$=Ce[He];break;case 36:ke.setCssClass(Ce[He-2],Ce[He]);break;case 37:ke.addMembers(Ce[He-3],Ce[He-1]);break;case 38:ke.setCssClass(Ce[He-5],Ce[He-3]),ke.addMembers(Ce[He-5],Ce[He-1]);break;case 39:this.$=Ce[He],ke.addClass(Ce[He]);break;case 40:this.$=Ce[He-1],ke.addClass(Ce[He-1]),ke.setClassLabel(Ce[He-1],Ce[He]);break;case 41:ke.addAnnotation(Ce[He],Ce[He-2]);break;case 42:this.$=[Ce[He]];break;case 43:Ce[He].push(Ce[He-1]),this.$=Ce[He];break;case 44:break;case 45:ke.addMember(Ce[He-1],ke.cleanupLabel(Ce[He]));break;case 46:break;case 47:break;case 48:this.$={id1:Ce[He-2],id2:Ce[He],relation:Ce[He-1],relationTitle1:"none",relationTitle2:"none"};break;case 49:this.$={id1:Ce[He-3],id2:Ce[He],relation:Ce[He-1],relationTitle1:Ce[He-2],relationTitle2:"none"};break;case 50:this.$={id1:Ce[He-3],id2:Ce[He],relation:Ce[He-2],relationTitle1:"none",relationTitle2:Ce[He-1]};break;case 51:this.$={id1:Ce[He-4],id2:Ce[He],relation:Ce[He-2],relationTitle1:Ce[He-3],relationTitle2:Ce[He-1]};break;case 52:ke.addNote(Ce[He],Ce[He-1]);break;case 53:ke.addNote(Ce[He]);break;case 54:ke.setDirection("TB");break;case 55:ke.setDirection("BT");break;case 56:ke.setDirection("RL");break;case 57:ke.setDirection("LR");break;case 58:this.$={type1:Ce[He-2],type2:Ce[He],lineType:Ce[He-1]};break;case 59:this.$={type1:"none",type2:Ce[He],lineType:Ce[He-1]};break;case 60:this.$={type1:Ce[He-1],type2:"none",lineType:Ce[He]};break;case 61:this.$={type1:"none",type2:"none",lineType:Ce[He]};break;case 62:this.$=ke.relationType.AGGREGATION;break;case 63:this.$=ke.relationType.EXTENSION;break;case 64:this.$=ke.relationType.COMPOSITION;break;case 65:this.$=ke.relationType.DEPENDENCY;break;case 66:this.$=ke.relationType.LOLLIPOP;break;case 67:this.$=ke.lineType.LINE;break;case 68:this.$=ke.lineType.DOTTED_LINE;break;case 69:case 75:this.$=Ce[He-2],ke.setClickEvent(Ce[He-1],Ce[He]);break;case 70:case 76:this.$=Ce[He-3],ke.setClickEvent(Ce[He-2],Ce[He-1]),ke.setTooltip(Ce[He-2],Ce[He]);break;case 71:this.$=Ce[He-2],ke.setLink(Ce[He-1],Ce[He]);break;case 72:this.$=Ce[He-3],ke.setLink(Ce[He-2],Ce[He-1],Ce[He]);break;case 73:this.$=Ce[He-3],ke.setLink(Ce[He-2],Ce[He-1]),ke.setTooltip(Ce[He-2],Ce[He]);break;case 74:this.$=Ce[He-4],ke.setLink(Ce[He-3],Ce[He-2],Ce[He]),ke.setTooltip(Ce[He-3],Ce[He-1]);break;case 77:this.$=Ce[He-3],ke.setClickEvent(Ce[He-2],Ce[He-1],Ce[He]);break;case 78:this.$=Ce[He-4],ke.setClickEvent(Ce[He-3],Ce[He-2],Ce[He-1]),ke.setTooltip(Ce[He-3],Ce[He]);break;case 79:this.$=Ce[He-3],ke.setLink(Ce[He-2],Ce[He]);break;case 80:this.$=Ce[He-4],ke.setLink(Ce[He-3],Ce[He-1],Ce[He]);break;case 81:this.$=Ce[He-4],ke.setLink(Ce[He-3],Ce[He-1]),ke.setTooltip(Ce[He-3],Ce[He]);break;case 82:this.$=Ce[He-5],ke.setLink(Ce[He-4],Ce[He-2],Ce[He]),ke.setTooltip(Ce[He-4],Ce[He-1]);break;case 83:ke.setCssClass(Ce[He-1],Ce[He]);break}},"anonymous"),table:[{3:1,4:2,5:3,6:4,7:[1,6],10:5,16:35,17:19,18:36,20:7,22:8,23:9,24:10,25:11,26:12,27:13,28:14,29:15,30:t,32:r,34:n,35:20,39:i,40:21,43:o,44:s,46:u,47:f,49:p,51:g,52:y,53:x,54:b,55:E,65:A,66:O,68:N,72:I,84:$,86:X,87:q,88:M,89:B},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},e(G,[2,5],{8:[1,44]}),{8:[1,45]},e(U,[2,16],{21:[1,46]}),e(U,[2,18]),e(U,[2,19]),e(U,[2,20]),e(U,[2,21]),e(U,[2,22]),e(U,[2,23]),e(U,[2,24]),e(U,[2,25]),{31:[1,47]},{33:[1,48]},e(U,[2,28]),e(U,[2,44],{48:49,56:52,57:53,13:[1,50],21:[1,51],58:W,59:D,60:K,61:P,62:re,63:ce,64:ee}),{36:[1,61]},e(H,[2,35],{36:[1,63],41:[1,62]}),e(U,[2,46]),e(U,[2,47]),{16:64,84:$,86:X,87:q,88:M},{16:35,17:65,18:36,84:$,86:X,87:q,88:M,89:B},{16:35,17:66,18:36,84:$,86:X,87:q,88:M,89:B},{16:35,17:67,18:36,84:$,86:X,87:q,88:M,89:B},{13:[1,68]},{16:35,17:69,18:36,84:$,86:X,87:q,88:M,89:B},{13:te,50:70},e(U,[2,54]),e(U,[2,55]),e(U,[2,56]),e(U,[2,57]),e(J,[2,11],{16:35,18:36,17:72,19:[1,73],84:$,86:X,87:q,88:M,89:B}),e(J,[2,12],{19:[1,74]}),{15:75,16:76,84:$,86:X,87:q,88:M},{16:35,17:77,18:36,84:$,86:X,87:q,88:M,89:B},e(Y,[2,97]),e(Y,[2,98]),e(Y,[2,99]),e(Y,[2,100]),e([1,8,9,12,13,19,21,36,38,41,58,59,60,61,62,63,64,69,71],[2,101]),e(G,[2,6],{10:5,20:7,22:8,23:9,24:10,25:11,26:12,27:13,28:14,29:15,17:19,35:20,40:21,16:35,18:36,5:78,30:t,32:r,34:n,39:i,43:o,44:s,46:u,47:f,49:p,51:g,52:y,53:x,54:b,55:E,65:A,66:O,68:N,72:I,84:$,86:X,87:q,88:M,89:B}),{5:79,10:5,16:35,17:19,18:36,20:7,22:8,23:9,24:10,25:11,26:12,27:13,28:14,29:15,30:t,32:r,34:n,35:20,39:i,40:21,43:o,44:s,46:u,47:f,49:p,51:g,52:y,53:x,54:b,55:E,65:A,66:O,68:N,72:I,84:$,86:X,87:q,88:M,89:B},e(U,[2,17]),e(U,[2,26]),e(U,[2,27]),{13:[1,81],16:35,17:80,18:36,84:$,86:X,87:q,88:M,89:B},{48:82,56:52,57:53,58:W,59:D,60:K,61:P,62:re,63:ce,64:ee},e(U,[2,45]),{57:83,63:ce,64:ee},e(de,[2,61],{56:84,58:W,59:D,60:K,61:P,62:re}),e(Fe,[2,62]),e(Fe,[2,63]),e(Fe,[2,64]),e(Fe,[2,65]),e(Fe,[2,66]),e(oe,[2,67]),e(oe,[2,68]),{8:[1,86],23:87,37:85,40:21,43:o},{16:88,84:$,86:X,87:q,88:M},{42:89,46:rt},{45:[1,91]},{13:[1,92]},{13:[1,93]},{69:[1,94],71:[1,95]},{16:96,84:$,86:X,87:q,88:M},{13:te,50:97},e(U,[2,53]),e(U,[2,102]),e(J,[2,13]),e(J,[2,14]),e(J,[2,15]),{36:[2,31]},{15:98,16:76,36:[2,9],84:$,86:X,87:q,88:M},e(We,[2,39],{11:99,12:[1,100]}),e(G,[2,7]),{9:[1,101]},e(_e,[2,48]),{16:35,17:102,18:36,84:$,86:X,87:q,88:M,89:B},{13:[1,104],16:35,17:103,18:36,84:$,86:X,87:q,88:M,89:B},e(de,[2,60],{56:105,58:W,59:D,60:K,61:P,62:re}),e(de,[2,59]),{38:[1,106]},{23:87,37:107,40:21,43:o},{8:[1,108],38:[2,32]},e(H,[2,36],{36:[1,109]}),{38:[1,110]},{38:[2,42],42:111,46:rt},{16:35,17:112,18:36,84:$,86:X,87:q,88:M,89:B},e(U,[2,69],{13:[1,113]}),e(U,[2,71],{13:[1,115],67:[1,114]}),e(U,[2,75],{13:[1,116],70:[1,117]}),{13:[1,118]},e(U,[2,83]),e(U,[2,52]),{36:[2,10]},e(We,[2,40]),{13:[1,119]},{1:[2,4]},e(_e,[2,50]),e(_e,[2,49]),{16:35,17:120,18:36,84:$,86:X,87:q,88:M,89:B},e(de,[2,58]),e(U,[2,29]),{38:[1,121]},{23:87,37:122,38:[2,33],40:21,43:o},{42:123,46:rt},e(H,[2,37]),{38:[2,43]},e(U,[2,41]),e(U,[2,70]),e(U,[2,72]),e(U,[2,73],{67:[1,124]}),e(U,[2,76]),e(U,[2,77],{13:[1,125]}),e(U,[2,79],{13:[1,127],67:[1,126]}),{14:[1,128]},e(_e,[2,51]),e(U,[2,30]),{38:[2,34]},{38:[1,129]},e(U,[2,74]),e(U,[2,78]),e(U,[2,80]),e(U,[2,81],{67:[1,130]}),e(We,[2,8]),e(H,[2,38]),e(U,[2,82])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],75:[2,31],98:[2,10],101:[2,4],111:[2,43],122:[2,34]},parseError:a(function(le,he){if(he.recoverable)this.trace(le);else{var xe=new Error(le);throw xe.hash=he,xe}},"parseError"),parse:a(function(le){var he=this,xe=[0],ke=[],pe=[null],Ce=[],Ue=this.table,He="",Pt=0,Lt=0,Xt=0,Kt=2,kr=1,bt=Ce.slice.call(arguments,1),gt=Object.create(this.lexer),qt={yy:{}};for(var ze in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ze)&&(qt.yy[ze]=this.yy[ze]);gt.setInput(le,qt.yy),qt.yy.lexer=gt,qt.yy.parser=this,typeof gt.yylloc>"u"&&(gt.yylloc={});var $e=gt.yylloc;Ce.push($e);var Te=gt.options&&gt.options.ranges;typeof qt.yy.parseError=="function"?this.parseError=qt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function pt(rn){xe.length=xe.length-2*rn,pe.length=pe.length-rn,Ce.length=Ce.length-rn}a(pt,"popStack");function it(){var rn;return rn=ke.pop()||gt.lex()||kr,typeof rn!="number"&&(rn instanceof Array&&(ke=rn,rn=ke.pop()),rn=he.symbols_[rn]||rn),rn}a(it,"lex");for(var Qt,_r,Zt,mr,sn,ir,xr={},Yt,hn,dn,pn;;){if(Zt=xe[xe.length-1],this.defaultActions[Zt]?mr=this.defaultActions[Zt]:((Qt===null||typeof Qt>"u")&&(Qt=it()),mr=Ue[Zt]&&Ue[Zt][Qt]),typeof mr>"u"||!mr.length||!mr[0]){var tn="";pn=[];for(Yt in Ue[Zt])this.terminals_[Yt]&&Yt>Kt&&pn.push("'"+this.terminals_[Yt]+"'");gt.showPosition?tn="Parse error on line "+(Pt+1)+`:
`+gt.showPosition()+`
Expecting `+pn.join(", ")+", got '"+(this.terminals_[Qt]||Qt)+"'":tn="Parse error on line "+(Pt+1)+": Unexpected "+(Qt==kr?"end of input":"'"+(this.terminals_[Qt]||Qt)+"'"),this.parseError(tn,{text:gt.match,token:this.terminals_[Qt]||Qt,line:gt.yylineno,loc:$e,expected:pn})}if(mr[0]instanceof Array&&mr.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Zt+", token: "+Qt);switch(mr[0]){case 1:xe.push(Qt),pe.push(gt.yytext),Ce.push(gt.yylloc),xe.push(mr[1]),Qt=null,_r?(Qt=_r,_r=null):(Lt=gt.yyleng,He=gt.yytext,Pt=gt.yylineno,$e=gt.yylloc,Xt>0&&Xt--);break;case 2:if(hn=this.productions_[mr[1]][1],xr.$=pe[pe.length-hn],xr._$={first_line:Ce[Ce.length-(hn||1)].first_line,last_line:Ce[Ce.length-1].last_line,first_column:Ce[Ce.length-(hn||1)].first_column,last_column:Ce[Ce.length-1].last_column},Te&&(xr._$.range=[Ce[Ce.length-(hn||1)].range[0],Ce[Ce.length-1].range[1]]),ir=this.performAction.apply(xr,[He,Lt,Pt,qt.yy,mr[1],pe,Ce].concat(bt)),typeof ir<"u")return ir;hn&&(xe=xe.slice(0,-1*hn*2),pe=pe.slice(0,-1*hn),Ce=Ce.slice(0,-1*hn)),xe.push(this.productions_[mr[1]][0]),pe.push(xr.$),Ce.push(xr._$),dn=Ue[xe[xe.length-2]][xe[xe.length-1]],xe.push(dn);break;case 3:return!0}}return!0},"parse")},Ye=function(){var fe={EOF:1,parseError:a(function(he,xe){if(this.yy.parser)this.yy.parser.parseError(he,xe);else throw new Error(he)},"parseError"),setInput:function(le,he){return this.yy=he||this.yy||{},this._input=le,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var le=this._input[0];this.yytext+=le,this.yyleng++,this.offset++,this.match+=le,this.matched+=le;var he=le.match(/(?:\r\n?|\n).*/g);return he?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),le},unput:function(le){var he=le.length,xe=le.split(/(?:\r\n?|\n)/g);this._input=le+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-he),this.offset-=he;var ke=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),xe.length-1&&(this.yylineno-=xe.length-1);var pe=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:xe?(xe.length===ke.length?this.yylloc.first_column:0)+ke[ke.length-xe.length].length-xe[0].length:this.yylloc.first_column-he},this.options.ranges&&(this.yylloc.range=[pe[0],pe[0]+this.yyleng-he]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(le){this.unput(this.match.slice(le))},pastInput:function(){var le=this.matched.substr(0,this.matched.length-this.match.length);return(le.length>20?"...":"")+le.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var le=this.match;return le.length<20&&(le+=this._input.substr(0,20-le.length)),(le.substr(0,20)+(le.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var le=this.pastInput(),he=new Array(le.length+1).join("-");return le+this.upcomingInput()+`
`+he+"^"},test_match:function(le,he){var xe,ke,pe;if(this.options.backtrack_lexer&&(pe={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(pe.yylloc.range=this.yylloc.range.slice(0))),ke=le[0].match(/(?:\r\n?|\n).*/g),ke&&(this.yylineno+=ke.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ke?ke[ke.length-1].length-ke[ke.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+le[0].length},this.yytext+=le[0],this.match+=le[0],this.matches=le,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(le[0].length),this.matched+=le[0],xe=this.performAction.call(this,this.yy,this,he,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),xe)return xe;if(this._backtrack){for(var Ce in pe)this[Ce]=pe[Ce];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var le,he,xe,ke;this._more||(this.yytext="",this.match="");for(var pe=this._currentRules(),Ce=0;Ce<pe.length;Ce++)if(xe=this._input.match(this.rules[pe[Ce]]),xe&&(!he||xe[0].length>he[0].length)){if(he=xe,ke=Ce,this.options.backtrack_lexer){if(le=this.test_match(xe,pe[Ce]),le!==!1)return le;if(this._backtrack){he=!1;continue}else return!1}else if(!this.options.flex)break}return he?(le=this.test_match(he,pe[ke]),le!==!1?le:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var he=this.next();return he||this.lex()},"lex"),begin:a(function(he){this.conditionStack.push(he)},"begin"),popState:a(function(){var he=this.conditionStack.length-1;return he>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(he){return he=this.conditionStack.length-1-Math.abs(he||0),he>=0?this.conditionStack[he]:"INITIAL"},"topState"),pushState:a(function(he){this.begin(he)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:a(function(he,xe,ke,pe){var Ce=pe;switch(ke){case 0:return 52;case 1:return 53;case 2:return 54;case 3:return 55;case 4:break;case 5:break;case 6:return this.begin("acc_title"),30;break;case 7:return this.popState(),"acc_title_value";break;case 8:return this.begin("acc_descr"),32;break;case 9:return this.popState(),"acc_descr_value";break;case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 8;case 14:break;case 15:return 7;case 16:return 7;case 17:return"EDGE_STATE";case 18:this.begin("callback_name");break;case 19:this.popState();break;case 20:this.popState(),this.begin("callback_args");break;case 21:return 69;case 22:this.popState();break;case 23:return 70;case 24:this.popState();break;case 25:return"STR";case 26:this.begin("string");break;case 27:return this.begin("namespace"),39;break;case 28:return this.popState(),8;break;case 29:break;case 30:return this.begin("namespace-body"),36;break;case 31:return this.popState(),38;break;case 32:return"EOF_IN_STRUCT";case 33:return 8;case 34:break;case 35:return"EDGE_STATE";case 36:return this.begin("class"),43;break;case 37:return this.popState(),8;break;case 38:break;case 39:return this.popState(),this.popState(),38;break;case 40:return this.begin("class-body"),36;break;case 41:return this.popState(),38;break;case 42:return"EOF_IN_STRUCT";case 43:return"EDGE_STATE";case 44:return"OPEN_IN_STRUCT";case 45:break;case 46:return"MEMBER";case 47:return 72;case 48:return 65;case 49:return 66;case 50:return 68;case 51:return 49;case 52:return 51;case 53:return 44;case 54:return 45;case 55:return 71;case 56:this.popState();break;case 57:return"GENERICTYPE";case 58:this.begin("generic");break;case 59:this.popState();break;case 60:return"BQUOTE_STR";case 61:this.begin("bqstring");break;case 62:return 67;case 63:return 67;case 64:return 67;case 65:return 67;case 66:return 59;case 67:return 59;case 68:return 61;case 69:return 61;case 70:return 60;case 71:return 58;case 72:return 62;case 73:return 63;case 74:return 64;case 75:return 21;case 76:return 41;case 77:return 84;case 78:return"DOT";case 79:return"PLUS";case 80:return 81;case 81:return"EQUALS";case 82:return"EQUALS";case 83:return 88;case 84:return 12;case 85:return 14;case 86:return"PUNCTUATION";case 87:return 87;case 88:return 86;case 89:return 83;case 90:return 9}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:\[\*\])/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:["])/,/^(?:[^"]*)/,/^(?:["])/,/^(?:namespace\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:\[\*\])/,/^(?:class\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[}])/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\[\*\])/,/^(?:[{])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:href\b)/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:~)/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:[`])/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:\[)/,/^(?:\])/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:$)/],conditions:{"namespace-body":{rules:[26,31,32,33,34,35,36,47,48,49,50,51,52,53,54,55,58,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],inclusive:!1},namespace:{rules:[26,27,28,29,30,47,48,49,50,51,52,53,54,55,58,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],inclusive:!1},"class-body":{rules:[26,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,58,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],inclusive:!1},class:{rules:[26,37,38,39,40,47,48,49,50,51,52,53,54,55,58,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],inclusive:!1},acc_descr_multiline:{rules:[11,12,26,47,48,49,50,51,52,53,54,55,58,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],inclusive:!1},acc_descr:{rules:[9,26,47,48,49,50,51,52,53,54,55,58,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],inclusive:!1},acc_title:{rules:[7,26,47,48,49,50,51,52,53,54,55,58,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],inclusive:!1},callback_args:{rules:[22,23,26,47,48,49,50,51,52,53,54,55,58,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],inclusive:!1},callback_name:{rules:[19,20,21,26,47,48,49,50,51,52,53,54,55,58,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],inclusive:!1},href:{rules:[26,47,48,49,50,51,52,53,54,55,58,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],inclusive:!1},struct:{rules:[26,47,48,49,50,51,52,53,54,55,58,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],inclusive:!1},generic:{rules:[26,47,48,49,50,51,52,53,54,55,56,57,58,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],inclusive:!1},bqstring:{rules:[26,47,48,49,50,51,52,53,54,55,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],inclusive:!1},string:{rules:[24,25,26,47,48,49,50,51,52,53,54,55,58,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,26,27,36,47,48,49,50,51,52,53,54,55,58,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],inclusive:!0}}};return fe}();Ve.lexer=Ye;function Le(){this.yy={}}return a(Le,"Parser"),Le.prototype=Ve,Ve.Parser=Le,new Le}();H6.parser=H6;rC=H6});var Bpe,vx,qpe=F(()=>{"use strict";Pr();en();Bpe=["#","+","~","-",""],vx=class{static{a(this,"ClassMember")}constructor(t,r){this.memberType=r,this.visibility="",this.classifier="";let n=zn(t,Me());this.parseMember(n)}getDisplayDetails(){let t=this.visibility+Cf(this.id);this.memberType==="method"&&(t+=`(${Cf(this.parameters.trim())})`,this.returnType&&(t+=" : "+Cf(this.returnType))),t=t.trim();let r=this.parseClassifier();return{displayText:t,cssStyle:r}}parseMember(t){let r="";if(this.memberType==="method"){let n=/([#+~-])?(.+)\((.*)\)([\s$*])?(.*)([$*])?/,i=t.match(n);if(i){let o=i[1]?i[1].trim():"";if(Bpe.includes(o)&&(this.visibility=o),this.id=i[2].trim(),this.parameters=i[3]?i[3].trim():"",r=i[4]?i[4].trim():"",this.returnType=i[5]?i[5].trim():"",r===""){let s=this.returnType.substring(this.returnType.length-1);s.match(/[$*]/)&&(r=s,this.returnType=this.returnType.substring(0,this.returnType.length-1))}}}else{let n=t.length,i=t.substring(0,1),o=t.substring(n-1);Bpe.includes(i)&&(this.visibility=i),o.match(/[$*]/)&&(r=o),this.id=t.substring(this.visibility===""?0:1,r===""?n:n-1)}this.classifier=r}parseClassifier(){switch(this.classifier){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}}}});var aC,X6,Ti,nC,zpe,Fh,Y6,xx,Cp,n0,lKe,iC,Upe,cKe,uKe,fKe,hKe,dKe,pKe,mKe,$pe,gKe,yKe,vKe,K6,xKe,bKe,TKe,kKe,_Ke,wKe,EKe,CKe,Gpe,Vpe,SKe,AKe,RKe,DKe,LKe,IKe,i0,Q6=F(()=>{"use strict";Zr();br();Pr();en();An();Ua();qpe();aC="classId-",X6=[],Ti={},nC=[],zpe=0,Fh={},Y6=0,xx=[],Cp=a(e=>Et.sanitizeText(e,Me()),"sanitizeText"),n0=a(function(e){let t=Et.sanitizeText(e,Me()),r="",n=t;if(t.indexOf("~")>0){let i=t.split("~");n=Cp(i[0]),r=Cp(i[1])}return{className:n,type:r}},"splitClassNameAndType"),lKe=a(function(e,t){let r=Et.sanitizeText(e,Me());t&&(t=Cp(t));let{className:n}=n0(r);Ti[n].label=t},"setClassLabel"),iC=a(function(e){let t=Et.sanitizeText(e,Me()),{className:r,type:n}=n0(t);if(Object.hasOwn(Ti,r))return;let i=Et.sanitizeText(r,Me());Ti[i]={id:i,type:n,label:i,cssClasses:[],methods:[],members:[],annotations:[],domId:aC+i+"-"+zpe},zpe++},"addClass"),Upe=a(function(e){let t=Et.sanitizeText(e,Me());if(t in Ti)return Ti[t].domId;throw new Error("Class not found: "+t)},"lookUpDomId"),cKe=a(function(){X6=[],Ti={},nC=[],xx=[],xx.push(Gpe),Fh={},Y6=0,In()},"clear"),uKe=a(function(e){return Ti[e]},"getClass"),fKe=a(function(){return Ti},"getClasses"),hKe=a(function(){return X6},"getRelations"),dKe=a(function(){return nC},"getNotes"),pKe=a(function(e){ye.debug("Adding relation: "+JSON.stringify(e)),iC(e.id1),iC(e.id2),e.id1=n0(e.id1).className,e.id2=n0(e.id2).className,e.relationTitle1=Et.sanitizeText(e.relationTitle1.trim(),Me()),e.relationTitle2=Et.sanitizeText(e.relationTitle2.trim(),Me()),X6.push(e)},"addRelation"),mKe=a(function(e,t){let r=n0(e).className;Ti[r].annotations.push(t)},"addAnnotation"),$pe=a(function(e,t){iC(e);let r=n0(e).className,n=Ti[r];if(typeof t=="string"){let i=t.trim();i.startsWith("<<")&&i.endsWith(">>")?n.annotations.push(Cp(i.substring(2,i.length-2))):i.indexOf(")")>0?n.methods.push(new vx(i,"method")):i&&n.members.push(new vx(i,"attribute"))}},"addMember"),gKe=a(function(e,t){Array.isArray(t)&&(t.reverse(),t.forEach(r=>$pe(e,r)))},"addMembers"),yKe=a(function(e,t){let r={id:`note${nC.length}`,class:t,text:e};nC.push(r)},"addNote"),vKe=a(function(e){return e.startsWith(":")&&(e=e.substring(1)),Cp(e.trim())},"cleanupLabel"),K6=a(function(e,t){e.split(",").forEach(function(r){let n=r;r[0].match(/\d/)&&(n=aC+n),Ti[n]!==void 0&&Ti[n].cssClasses.push(t)})},"setCssClass"),xKe=a(function(e,t){e.split(",").forEach(function(r){t!==void 0&&(Ti[r].tooltip=Cp(t))})},"setTooltip"),bKe=a(function(e,t){return t?Fh[t].classes[e].tooltip:Ti[e].tooltip},"getTooltip"),TKe=a(function(e,t,r){let n=Me();e.split(",").forEach(function(i){let o=i;i[0].match(/\d/)&&(o=aC+o),Ti[o]!==void 0&&(Ti[o].link=yr.formatUrl(t,n),n.securityLevel==="sandbox"?Ti[o].linkTarget="_top":typeof r=="string"?Ti[o].linkTarget=Cp(r):Ti[o].linkTarget="_blank")}),K6(e,"clickable")},"setLink"),kKe=a(function(e,t,r){e.split(",").forEach(function(n){_Ke(n,t,r),Ti[n].haveCallback=!0}),K6(e,"clickable")},"setClickEvent"),_Ke=a(function(e,t,r){let n=Et.sanitizeText(e,Me());if(Me().securityLevel!=="loose"||t===void 0)return;let o=n;if(Ti[o]!==void 0){let s=Upe(o),u=[];if(typeof r=="string"){u=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let f=0;f<u.length;f++){let p=u[f].trim();p.charAt(0)==='"'&&p.charAt(p.length-1)==='"'&&(p=p.substr(1,p.length-2)),u[f]=p}}u.length===0&&u.push(s),xx.push(function(){let f=document.querySelector(`[id="${s}"]`);f!==null&&f.addEventListener("click",function(){yr.runFunc(t,...u)},!1)})}},"setClickFunc"),wKe=a(function(e){xx.forEach(function(t){t(e)})},"bindFunctions"),EKe={LINE:0,DOTTED_LINE:1},CKe={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},Gpe=a(function(e){let t=dt(".mermaidTooltip");(t._groups||t)[0][0]===null&&(t=dt("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),dt(e).select("svg").selectAll("g.node").on("mouseover",function(){let i=dt(this);if(i.attr("title")===null)return;let s=this.getBoundingClientRect();t.transition().duration(200).style("opacity",".9"),t.text(i.attr("title")).style("left",window.scrollX+s.left+(s.right-s.left)/2+"px").style("top",window.scrollY+s.top-14+document.body.scrollTop+"px"),t.html(t.html().replace(/&lt;br\/&gt;/g,"<br/>")),i.classed("hover",!0)}).on("mouseout",function(){t.transition().duration(500).style("opacity",0),dt(this).classed("hover",!1)})},"setupToolTips");xx.push(Gpe);Vpe="TB",SKe=a(()=>Vpe,"getDirection"),AKe=a(e=>{Vpe=e},"setDirection"),RKe=a(function(e){Fh[e]===void 0&&(Fh[e]={id:e,classes:{},children:{},domId:aC+e+"-"+Y6},Y6++)},"addNamespace"),DKe=a(function(e){return Fh[e]},"getNamespace"),LKe=a(function(){return Fh},"getNamespaces"),IKe=a(function(e,t){Fh[e]!==void 0&&t.map(r=>{Ti[r].parent=e,Fh[e].classes[r]=Ti[r]})},"addClassesToNamespace"),i0={setAccTitle:Rn,getAccTitle:Nn,getAccDescription:On,setAccDescription:Pn,getConfig:()=>Me().class,addClass:iC,bindFunctions:wKe,clear:cKe,getClass:uKe,getClasses:fKe,getNotes:dKe,addAnnotation:mKe,addNote:yKe,getRelations:hKe,addRelation:pKe,getDirection:SKe,setDirection:AKe,addMember:$pe,addMembers:gKe,cleanupLabel:vKe,lineType:EKe,relationType:CKe,setClickEvent:kKe,setCssClass:K6,setLink:TKe,getTooltip:bKe,setTooltip:xKe,lookUpDomId:Upe,setDiagramTitle:ci,getDiagramTitle:Yn,setClassLabel:lKe,addNamespace:RKe,addClassesToNamespace:IKe,getNamespace:DKe,getNamespaces:LKe}});var NKe,oC,Z6=F(()=>{"use strict";NKe=a(e=>`g.classGroup text {
  fill: ${e.nodeBorder||e.classText};
  stroke: none;
  font-family: ${e.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${e.classText};
}
.edgeLabel .label rect {
  fill: ${e.mainBkg};
}
.label text {
  fill: ${e.classText};
}
.edgeLabel .label span {
  background: ${e.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${e.nodeBorder};
  stroke-width: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${e.mainBkg};
  stroke: ${e.nodeBorder};
}

g.classGroup line {
  stroke: ${e.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${e.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${e.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${e.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

.dotted-line{
  stroke-dasharray: 1 2;
}

#compositionStart, .composition {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
}

.classTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${e.textColor};
}
`,"getStyles"),oC=NKe});var Wpe,PKe,OKe,jpe,MKe,Hpe,sC,Ype=F(()=>{"use strict";Zr();An();br();en();Wpe=0,PKe=a(function(e,t,r,n,i){let o=a(function(I){switch(I){case i.db.relationType.AGGREGATION:return"aggregation";case i.db.relationType.EXTENSION:return"extension";case i.db.relationType.COMPOSITION:return"composition";case i.db.relationType.DEPENDENCY:return"dependency";case i.db.relationType.LOLLIPOP:return"lollipop"}},"getRelationType");t.points=t.points.filter(I=>!Number.isNaN(I.y));let s=t.points,u=za().x(function(I){return I.x}).y(function(I){return I.y}).curve(qs),f=e.append("path").attr("d",u(s)).attr("id","edge"+Wpe).attr("class","relation"),p="";n.arrowMarkerAbsolute&&(p=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,p=p.replace(/\(/g,"\\("),p=p.replace(/\)/g,"\\)")),r.relation.lineType==1&&f.attr("class","relation dashed-line"),r.relation.lineType==10&&f.attr("class","relation dotted-line"),r.relation.type1!=="none"&&f.attr("marker-start","url("+p+"#"+o(r.relation.type1)+"Start)"),r.relation.type2!=="none"&&f.attr("marker-end","url("+p+"#"+o(r.relation.type2)+"End)");let g,y,x=t.points.length,b=yr.calcLabelPosition(t.points);g=b.x,y=b.y;let E,A,O,N;if(x%2!==0&&x>1){let I=yr.calcCardinalityPosition(r.relation.type1!=="none",t.points,t.points[0]),$=yr.calcCardinalityPosition(r.relation.type2!=="none",t.points,t.points[x-1]);ye.debug("cardinality_1_point "+JSON.stringify(I)),ye.debug("cardinality_2_point "+JSON.stringify($)),E=I.x,A=I.y,O=$.x,N=$.y}if(r.title!==void 0){let I=e.append("g").attr("class","classLabel"),$=I.append("text").attr("class","label").attr("x",g).attr("y",y).attr("fill","red").attr("text-anchor","middle").text(r.title);window.label=$;let X=$.node().getBBox();I.insert("rect",":first-child").attr("class","box").attr("x",X.x-n.padding/2).attr("y",X.y-n.padding/2).attr("width",X.width+n.padding).attr("height",X.height+n.padding)}ye.info("Rendering relation "+JSON.stringify(r)),r.relationTitle1!==void 0&&r.relationTitle1!=="none"&&e.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",E).attr("y",A).attr("fill","black").attr("font-size","6").text(r.relationTitle1),r.relationTitle2!==void 0&&r.relationTitle2!=="none"&&e.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",O).attr("y",N).attr("fill","black").attr("font-size","6").text(r.relationTitle2),Wpe++},"drawEdge"),OKe=a(function(e,t,r,n){ye.debug("Rendering class ",t,r);let i=t.id,o={id:i,label:t.id,width:0,height:0},s=e.append("g").attr("id",n.db.lookUpDomId(i)).attr("class","classGroup"),u;t.link?u=s.append("svg:a").attr("xlink:href",t.link).attr("target",t.linkTarget).append("text").attr("y",r.textHeight+r.padding).attr("x",0):u=s.append("text").attr("y",r.textHeight+r.padding).attr("x",0);let f=!0;t.annotations.forEach(function($){let X=u.append("tspan").text("\xAB"+$+"\xBB");f||X.attr("dy",r.textHeight),f=!1});let p=jpe(t),g=u.append("tspan").text(p).attr("class","title");f||g.attr("dy",r.textHeight);let y=u.node().getBBox().height,x,b,E;if(t.members.length>0){x=s.append("line").attr("x1",0).attr("y1",r.padding+y+r.dividerMargin/2).attr("y2",r.padding+y+r.dividerMargin/2);let $=s.append("text").attr("x",r.padding).attr("y",y+r.dividerMargin+r.textHeight).attr("fill","white").attr("class","classText");f=!0,t.members.forEach(function(X){Hpe($,X,f,r),f=!1}),b=$.node().getBBox()}if(t.methods.length>0){E=s.append("line").attr("x1",0).attr("y1",r.padding+y+r.dividerMargin+b.height).attr("y2",r.padding+y+r.dividerMargin+b.height);let $=s.append("text").attr("x",r.padding).attr("y",y+2*r.dividerMargin+b.height+r.textHeight).attr("fill","white").attr("class","classText");f=!0,t.methods.forEach(function(X){Hpe($,X,f,r),f=!1})}let A=s.node().getBBox();var O=" ";t.cssClasses.length>0&&(O=O+t.cssClasses.join(" "));let I=s.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",A.width+2*r.padding).attr("height",A.height+r.padding+.5*r.dividerMargin).attr("class",O).node().getBBox().width;return u.node().childNodes.forEach(function($){$.setAttribute("x",(I-$.getBBox().width)/2)}),t.tooltip&&u.insert("title").text(t.tooltip),x&&x.attr("x2",I),E&&E.attr("x2",I),o.width=I,o.height=A.height+r.padding+.5*r.dividerMargin,o},"drawClass"),jpe=a(function(e){let t=e.id;return e.type&&(t+="<"+Cf(e.type)+">"),t},"getClassTitleString"),MKe=a(function(e,t,r,n){ye.debug("Rendering note ",t,r);let i=t.id,o={id:i,text:t.text,width:0,height:0},s=e.append("g").attr("id",i).attr("class","classGroup"),u=s.append("text").attr("y",r.textHeight+r.padding).attr("x",0),f=JSON.parse(`"${t.text}"`).split(`
`);f.forEach(function(x){ye.debug(`Adding line: ${x}`),u.append("tspan").text(x).attr("class","title").attr("dy",r.textHeight)});let p=s.node().getBBox(),y=s.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",p.width+2*r.padding).attr("height",p.height+f.length*r.textHeight+r.padding+.5*r.dividerMargin).node().getBBox().width;return u.node().childNodes.forEach(function(x){x.setAttribute("x",(y-x.getBBox().width)/2)}),o.width=y,o.height=p.height+f.length*r.textHeight+r.padding+.5*r.dividerMargin,o},"drawNote"),Hpe=a(function(e,t,r,n){let{displayText:i,cssStyle:o}=t.getDisplayDetails(),s=e.append("tspan").attr("x",n.padding).text(i);o!==""&&s.attr("style",t.cssStyle),r||s.attr("dy",n.textHeight)},"addTspan"),sC={getClassTitleString:jpe,drawClass:OKe,drawEdge:PKe,drawNote:MKe}});var cC,lC,bx,FKe,BKe,Xpe,Kpe=F(()=>{"use strict";Zr();Vd();_a();br();Ype();Si();Pr();cC={},lC=20,bx=a(function(e){let t=Object.entries(cC).find(r=>r[1].label===e);if(t)return t[0]},"getGraphId"),FKe=a(function(e){e.append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),e.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertMarkers"),BKe=a(function(e,t,r,n){let i=Me().class;cC={},ye.info("Rendering diagram "+e);let o=Me().securityLevel,s;o==="sandbox"&&(s=dt("#i"+t));let u=o==="sandbox"?dt(s.nodes()[0].contentDocument.body):dt("body"),f=u.select(`[id='${t}']`);FKe(f);let p=new Yr({multigraph:!0});p.setGraph({isMultiGraph:!0}),p.setDefaultEdgeLabel(function(){return{}});let g=n.db.getClasses(),y=Object.keys(g);for(let I of y){let $=g[I],X=sC.drawClass(f,$,i,n);cC[X.id]=X,p.setNode(X.id,X),ye.info("Org height: "+X.height)}n.db.getRelations().forEach(function(I){ye.info("tjoho"+bx(I.id1)+bx(I.id2)+JSON.stringify(I)),p.setEdge(bx(I.id1),bx(I.id2),{relation:I},I.title||"DEFAULT")}),n.db.getNotes().forEach(function(I){ye.debug(`Adding note: ${JSON.stringify(I)}`);let $=sC.drawNote(f,I,i,n);cC[$.id]=$,p.setNode($.id,$),I.class&&I.class in g&&p.setEdge(I.id,bx(I.class),{relation:{id1:I.id,id2:I.class,relation:{type1:"none",type2:"none",lineType:10}}},"DEFAULT")}),ds(p),p.nodes().forEach(function(I){I!==void 0&&p.node(I)!==void 0&&(ye.debug("Node "+I+": "+JSON.stringify(p.node(I))),u.select("#"+(n.db.lookUpDomId(I)||I)).attr("transform","translate("+(p.node(I).x-p.node(I).width/2)+","+(p.node(I).y-p.node(I).height/2)+" )"))}),p.edges().forEach(function(I){I!==void 0&&p.edge(I)!==void 0&&(ye.debug("Edge "+I.v+" -> "+I.w+": "+JSON.stringify(p.edge(I))),sC.drawEdge(f,p.edge(I),p.edge(I).relation,i,n))});let E=f.node().getBBox(),A=E.width+lC*2,O=E.height+lC*2;wn(f,O,A,i.useMaxWidth);let N=`${E.x-lC} ${E.y-lC} ${A} ${O}`;ye.debug(`viewBox ${N}`),f.attr("viewBox",N)},"draw"),Xpe={draw:BKe}});var Qpe={};ii(Qpe,{diagram:()=>qKe});var qKe,Zpe=F(()=>{"use strict";j6();Q6();Z6();Kpe();qKe={parser:rC,db:i0,renderer:Xpe,styles:oC,init:e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute,i0.clear()}}});function tme(e){let t;switch(e){case 0:t="aggregation";break;case 1:t="extension";break;case 2:t="composition";break;case 3:t="dependency";break;case 4:t="lollipop";break;default:t="none"}return t}var eO,J6,GKe,rme,VKe,WKe,HKe,jKe,nme,ime=F(()=>{"use strict";Zr();_a();br();Pr();O_();An();An();Si();en();eO=a(e=>Et.sanitizeText(e,Me()),"sanitizeText"),J6={dividerMargin:10,padding:5,textHeight:10,curve:void 0},GKe=a(function(e,t,r,n){let i=Object.keys(e);ye.info("keys:",i),ye.info(e),i.forEach(function(o){let s=e[o],f={shape:"rect",id:s.id,domId:s.domId,labelText:eO(s.id),labelStyle:"",style:"fill: none; stroke: black",padding:Me().flowchart?.padding??Me().class?.padding};t.setNode(s.id,f),rme(s.classes,t,r,n,s.id),ye.info("setNode",f)})},"addNamespaces"),rme=a(function(e,t,r,n,i){let o=Object.keys(e);ye.info("keys:",o),ye.info(e),o.filter(s=>e[s].parent==i).forEach(function(s){let u=e[s],f=u.cssClasses.join(" "),p={labelStyle:"",style:""},g=u.label??u.id,y=0,x="class_box",b={labelStyle:p.labelStyle,shape:x,labelText:eO(g),classData:u,rx:y,ry:y,class:f,style:p.style,id:u.id,domId:u.domId,tooltip:n.db.getTooltip(u.id,i)||"",haveCallback:u.haveCallback,link:u.link,width:u.type==="group"?500:void 0,type:u.type,padding:Me().flowchart?.padding??Me().class?.padding};t.setNode(u.id,b),i&&t.setParent(u.id,i),ye.info("setNode",b)})},"addClasses"),VKe=a(function(e,t,r,n){ye.info(e),e.forEach(function(i,o){let s=i,u="",f={labelStyle:"",style:""},p=s.text,g=0,y="note",x={labelStyle:f.labelStyle,shape:y,labelText:eO(p),noteData:s,rx:g,ry:g,class:u,style:f.style,id:s.id,domId:s.id,tooltip:"",type:"note",padding:Me().flowchart?.padding??Me().class?.padding};if(t.setNode(s.id,x),ye.info("setNode",x),!s.class||!(s.class in n))return;let b=r+o,E={id:`edgeNote${b}`,classes:"relation",pattern:"dotted",arrowhead:"none",startLabelRight:"",endLabelLeft:"",arrowTypeStart:"none",arrowTypeEnd:"none",style:"fill:none",labelStyle:"",curve:Ws(J6.curve,ra)};t.setEdge(s.id,s.class,E,b)})},"addNotes"),WKe=a(function(e,t){let r=Me().flowchart,n=0;e.forEach(function(i){n++;let o={classes:"relation",pattern:i.relation.lineType==1?"dashed":"solid",id:`id_${i.id1}_${i.id2}_${n}`,arrowhead:i.type==="arrow_open"?"none":"normal",startLabelRight:i.relationTitle1==="none"?"":i.relationTitle1,endLabelLeft:i.relationTitle2==="none"?"":i.relationTitle2,arrowTypeStart:tme(i.relation.type1),arrowTypeEnd:tme(i.relation.type2),style:"fill:none",labelStyle:"",curve:Ws(r?.curve,ra)};if(ye.info(o,i),i.style!==void 0){let s=Il(i.style);o.style=s.style,o.labelStyle=s.labelStyle}i.text=i.title,i.text===void 0?i.style!==void 0&&(o.arrowheadStyle="fill: #333"):(o.arrowheadStyle="fill: #333",o.labelpos="c",Me().flowchart?.htmlLabels??Me().htmlLabels?(o.labelType="html",o.label='<span class="edgeLabel">'+i.text+"</span>"):(o.labelType="text",o.label=i.text.replace(Et.lineBreakRegex,`
`),i.style===void 0&&(o.style=o.style||"stroke: #333; stroke-width: 1.5px;fill:none"),o.labelStyle=o.labelStyle.replace("color:","fill:"))),t.setEdge(i.id1,i.id2,o,n)})},"addRelations"),HKe=a(function(e){J6={...J6,...e}},"setConf"),jKe=a(async function(e,t,r,n){ye.info("Drawing class - ",t);let i=Me().flowchart??Me().class,o=Me().securityLevel;ye.info("config:",i);let s=i?.nodeSpacing??50,u=i?.rankSpacing??50,f=new Yr({multigraph:!0,compound:!0}).setGraph({rankdir:n.db.getDirection(),nodesep:s,ranksep:u,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),p=n.db.getNamespaces(),g=n.db.getClasses(),y=n.db.getRelations(),x=n.db.getNotes();ye.info(y),GKe(p,f,t,n),rme(g,f,t,n),WKe(y,f),VKe(x,f,y.length+1,g);let b;o==="sandbox"&&(b=dt("#i"+t));let E=o==="sandbox"?dt(b.nodes()[0].contentDocument.body):dt("body"),A=E.select(`[id="${t}"]`),O=E.select("#"+t+" g");if(await Tg(O,f,["aggregation","extension","composition","dependency","lollipop"],"classDiagram",t),yr.insertTitle(A,"classTitleText",i?.titleTopMargin??5,n.db.getDiagramTitle()),Ys(f,A,i?.diagramPadding,i?.useMaxWidth),!i?.htmlLabels){let N=o==="sandbox"?b.nodes()[0].contentDocument:document,I=N.querySelectorAll('[id="'+t+'"] .edgeLabel .label');for(let $ of I){let X=$.getBBox(),q=N.createElementNS("http://www.w3.org/2000/svg","rect");q.setAttribute("rx",0),q.setAttribute("ry",0),q.setAttribute("width",X.width),q.setAttribute("height",X.height),$.insertBefore(q,$.firstChild)}}},"draw");a(tme,"getArrowMarker");nme={setConf:HKe,draw:jKe}});var ame={};ii(ame,{diagram:()=>YKe});var YKe,ome=F(()=>{"use strict";j6();Q6();Z6();ime();YKe={parser:rC,db:i0,renderer:nme,styles:oC,init:e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute,i0.clear()}}});var tO,uC,rO=F(()=>{"use strict";tO=function(){var e=a(function(H,te,J,Y){for(J=J||{},Y=H.length;Y--;J[H[Y]]=te);return J},"o"),t=[1,2],r=[1,3],n=[1,4],i=[2,4],o=[1,9],s=[1,11],u=[1,15],f=[1,16],p=[1,17],g=[1,18],y=[1,30],x=[1,19],b=[1,20],E=[1,21],A=[1,22],O=[1,23],N=[1,25],I=[1,26],$=[1,27],X=[1,28],q=[1,29],M=[1,32],B=[1,33],G=[1,34],U=[1,35],W=[1,31],D=[1,4,5,15,16,18,20,21,23,24,25,26,27,28,32,34,36,37,41,44,45,46,47,50],K=[1,4,5,13,14,15,16,18,20,21,23,24,25,26,27,28,32,34,36,37,41,44,45,46,47,50],P=[4,5,15,16,18,20,21,23,24,25,26,27,28,32,34,36,37,41,44,45,46,47,50],re={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,SD:6,document:7,line:8,statement:9,classDefStatement:10,cssClassStatement:11,idStatement:12,DESCR:13,"-->":14,HIDE_EMPTY:15,scale:16,WIDTH:17,COMPOSIT_STATE:18,STRUCT_START:19,STRUCT_STOP:20,STATE_DESCR:21,AS:22,ID:23,FORK:24,JOIN:25,CHOICE:26,CONCURRENT:27,note:28,notePosition:29,NOTE_TEXT:30,direction:31,acc_title:32,acc_title_value:33,acc_descr:34,acc_descr_value:35,acc_descr_multiline_value:36,classDef:37,CLASSDEF_ID:38,CLASSDEF_STYLEOPTS:39,DEFAULT:40,class:41,CLASSENTITY_IDS:42,STYLECLASS:43,direction_tb:44,direction_bt:45,direction_rl:46,direction_lr:47,eol:48,";":49,EDGE_STATE:50,STYLE_SEPARATOR:51,left_of:52,right_of:53,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",6:"SD",13:"DESCR",14:"-->",15:"HIDE_EMPTY",16:"scale",17:"WIDTH",18:"COMPOSIT_STATE",19:"STRUCT_START",20:"STRUCT_STOP",21:"STATE_DESCR",22:"AS",23:"ID",24:"FORK",25:"JOIN",26:"CHOICE",27:"CONCURRENT",28:"note",30:"NOTE_TEXT",32:"acc_title",33:"acc_title_value",34:"acc_descr",35:"acc_descr_value",36:"acc_descr_multiline_value",37:"classDef",38:"CLASSDEF_ID",39:"CLASSDEF_STYLEOPTS",40:"DEFAULT",41:"class",42:"CLASSENTITY_IDS",43:"STYLECLASS",44:"direction_tb",45:"direction_bt",46:"direction_rl",47:"direction_lr",49:";",50:"EDGE_STATE",51:"STYLE_SEPARATOR",52:"left_of",53:"right_of"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[9,1],[9,1],[9,1],[9,2],[9,3],[9,4],[9,1],[9,2],[9,1],[9,4],[9,3],[9,6],[9,1],[9,1],[9,1],[9,1],[9,4],[9,4],[9,1],[9,2],[9,2],[9,1],[10,3],[10,3],[11,3],[31,1],[31,1],[31,1],[31,1],[48,1],[48,1],[12,1],[12,1],[12,3],[12,3],[29,1],[29,1]],performAction:a(function(te,J,Y,de,Fe,oe,rt){var We=oe.length-1;switch(Fe){case 3:return de.setRootDoc(oe[We]),oe[We];break;case 4:this.$=[];break;case 5:oe[We]!="nl"&&(oe[We-1].push(oe[We]),this.$=oe[We-1]);break;case 6:case 7:this.$=oe[We];break;case 8:this.$="nl";break;case 11:this.$=oe[We];break;case 12:let Le=oe[We-1];Le.description=de.trimColon(oe[We]),this.$=Le;break;case 13:this.$={stmt:"relation",state1:oe[We-2],state2:oe[We]};break;case 14:let fe=de.trimColon(oe[We]);this.$={stmt:"relation",state1:oe[We-3],state2:oe[We-1],description:fe};break;case 18:this.$={stmt:"state",id:oe[We-3],type:"default",description:"",doc:oe[We-1]};break;case 19:var _e=oe[We],Ve=oe[We-2].trim();if(oe[We].match(":")){var Ye=oe[We].split(":");_e=Ye[0],Ve=[Ve,Ye[1]]}this.$={stmt:"state",id:_e,type:"default",description:Ve};break;case 20:this.$={stmt:"state",id:oe[We-3],type:"default",description:oe[We-5],doc:oe[We-1]};break;case 21:this.$={stmt:"state",id:oe[We],type:"fork"};break;case 22:this.$={stmt:"state",id:oe[We],type:"join"};break;case 23:this.$={stmt:"state",id:oe[We],type:"choice"};break;case 24:this.$={stmt:"state",id:de.getDividerId(),type:"divider"};break;case 25:this.$={stmt:"state",id:oe[We-1].trim(),note:{position:oe[We-2].trim(),text:oe[We].trim()}};break;case 28:this.$=oe[We].trim(),de.setAccTitle(this.$);break;case 29:case 30:this.$=oe[We].trim(),de.setAccDescription(this.$);break;case 31:case 32:this.$={stmt:"classDef",id:oe[We-1].trim(),classes:oe[We].trim()};break;case 33:this.$={stmt:"applyClass",id:oe[We-1].trim(),styleClass:oe[We].trim()};break;case 34:de.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 35:de.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 36:de.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 37:de.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 40:case 41:this.$={stmt:"state",id:oe[We].trim(),type:"default",description:""};break;case 42:this.$={stmt:"state",id:oe[We-2].trim(),classes:[oe[We].trim()],type:"default",description:""};break;case 43:this.$={stmt:"state",id:oe[We-2].trim(),classes:[oe[We].trim()],type:"default",description:""};break}},"anonymous"),table:[{3:1,4:t,5:r,6:n},{1:[3]},{3:5,4:t,5:r,6:n},{3:6,4:t,5:r,6:n},e([1,4,5,15,16,18,21,23,24,25,26,27,28,32,34,36,37,41,44,45,46,47,50],i,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:o,5:s,8:8,9:10,10:12,11:13,12:14,15:u,16:f,18:p,21:g,23:y,24:x,25:b,26:E,27:A,28:O,31:24,32:N,34:I,36:$,37:X,41:q,44:M,45:B,46:G,47:U,50:W},e(D,[2,5]),{9:36,10:12,11:13,12:14,15:u,16:f,18:p,21:g,23:y,24:x,25:b,26:E,27:A,28:O,31:24,32:N,34:I,36:$,37:X,41:q,44:M,45:B,46:G,47:U,50:W},e(D,[2,7]),e(D,[2,8]),e(D,[2,9]),e(D,[2,10]),e(D,[2,11],{13:[1,37],14:[1,38]}),e(D,[2,15]),{17:[1,39]},e(D,[2,17],{19:[1,40]}),{22:[1,41]},e(D,[2,21]),e(D,[2,22]),e(D,[2,23]),e(D,[2,24]),{29:42,30:[1,43],52:[1,44],53:[1,45]},e(D,[2,27]),{33:[1,46]},{35:[1,47]},e(D,[2,30]),{38:[1,48],40:[1,49]},{42:[1,50]},e(K,[2,40],{51:[1,51]}),e(K,[2,41],{51:[1,52]}),e(D,[2,34]),e(D,[2,35]),e(D,[2,36]),e(D,[2,37]),e(D,[2,6]),e(D,[2,12]),{12:53,23:y,50:W},e(D,[2,16]),e(P,i,{7:54}),{23:[1,55]},{23:[1,56]},{22:[1,57]},{23:[2,44]},{23:[2,45]},e(D,[2,28]),e(D,[2,29]),{39:[1,58]},{39:[1,59]},{43:[1,60]},{23:[1,61]},{23:[1,62]},e(D,[2,13],{13:[1,63]}),{4:o,5:s,8:8,9:10,10:12,11:13,12:14,15:u,16:f,18:p,20:[1,64],21:g,23:y,24:x,25:b,26:E,27:A,28:O,31:24,32:N,34:I,36:$,37:X,41:q,44:M,45:B,46:G,47:U,50:W},e(D,[2,19],{19:[1,65]}),{30:[1,66]},{23:[1,67]},e(D,[2,31]),e(D,[2,32]),e(D,[2,33]),e(K,[2,42]),e(K,[2,43]),e(D,[2,14]),e(D,[2,18]),e(P,i,{7:68}),e(D,[2,25]),e(D,[2,26]),{4:o,5:s,8:8,9:10,10:12,11:13,12:14,15:u,16:f,18:p,20:[1,69],21:g,23:y,24:x,25:b,26:E,27:A,28:O,31:24,32:N,34:I,36:$,37:X,41:q,44:M,45:B,46:G,47:U,50:W},e(D,[2,20])],defaultActions:{5:[2,1],6:[2,2],44:[2,44],45:[2,45]},parseError:a(function(te,J){if(J.recoverable)this.trace(te);else{var Y=new Error(te);throw Y.hash=J,Y}},"parseError"),parse:a(function(te){var J=this,Y=[0],de=[],Fe=[null],oe=[],rt=this.table,We="",_e=0,Ve=0,Ye=0,Le=2,fe=1,le=oe.slice.call(arguments,1),he=Object.create(this.lexer),xe={yy:{}};for(var ke in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ke)&&(xe.yy[ke]=this.yy[ke]);he.setInput(te,xe.yy),xe.yy.lexer=he,xe.yy.parser=this,typeof he.yylloc>"u"&&(he.yylloc={});var pe=he.yylloc;oe.push(pe);var Ce=he.options&&he.options.ranges;typeof xe.yy.parseError=="function"?this.parseError=xe.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ue(it){Y.length=Y.length-2*it,Fe.length=Fe.length-it,oe.length=oe.length-it}a(Ue,"popStack");function He(){var it;return it=de.pop()||he.lex()||fe,typeof it!="number"&&(it instanceof Array&&(de=it,it=de.pop()),it=J.symbols_[it]||it),it}a(He,"lex");for(var Pt,Lt,Xt,Kt,kr,bt,gt={},qt,ze,$e,Te;;){if(Xt=Y[Y.length-1],this.defaultActions[Xt]?Kt=this.defaultActions[Xt]:((Pt===null||typeof Pt>"u")&&(Pt=He()),Kt=rt[Xt]&&rt[Xt][Pt]),typeof Kt>"u"||!Kt.length||!Kt[0]){var pt="";Te=[];for(qt in rt[Xt])this.terminals_[qt]&&qt>Le&&Te.push("'"+this.terminals_[qt]+"'");he.showPosition?pt="Parse error on line "+(_e+1)+`:
`+he.showPosition()+`
Expecting `+Te.join(", ")+", got '"+(this.terminals_[Pt]||Pt)+"'":pt="Parse error on line "+(_e+1)+": Unexpected "+(Pt==fe?"end of input":"'"+(this.terminals_[Pt]||Pt)+"'"),this.parseError(pt,{text:he.match,token:this.terminals_[Pt]||Pt,line:he.yylineno,loc:pe,expected:Te})}if(Kt[0]instanceof Array&&Kt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Xt+", token: "+Pt);switch(Kt[0]){case 1:Y.push(Pt),Fe.push(he.yytext),oe.push(he.yylloc),Y.push(Kt[1]),Pt=null,Lt?(Pt=Lt,Lt=null):(Ve=he.yyleng,We=he.yytext,_e=he.yylineno,pe=he.yylloc,Ye>0&&Ye--);break;case 2:if(ze=this.productions_[Kt[1]][1],gt.$=Fe[Fe.length-ze],gt._$={first_line:oe[oe.length-(ze||1)].first_line,last_line:oe[oe.length-1].last_line,first_column:oe[oe.length-(ze||1)].first_column,last_column:oe[oe.length-1].last_column},Ce&&(gt._$.range=[oe[oe.length-(ze||1)].range[0],oe[oe.length-1].range[1]]),bt=this.performAction.apply(gt,[We,Ve,_e,xe.yy,Kt[1],Fe,oe].concat(le)),typeof bt<"u")return bt;ze&&(Y=Y.slice(0,-1*ze*2),Fe=Fe.slice(0,-1*ze),oe=oe.slice(0,-1*ze)),Y.push(this.productions_[Kt[1]][0]),Fe.push(gt.$),oe.push(gt._$),$e=rt[Y[Y.length-2]][Y[Y.length-1]],Y.push($e);break;case 3:return!0}}return!0},"parse")},ce=function(){var H={EOF:1,parseError:a(function(J,Y){if(this.yy.parser)this.yy.parser.parseError(J,Y);else throw new Error(J)},"parseError"),setInput:function(te,J){return this.yy=J||this.yy||{},this._input=te,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var te=this._input[0];this.yytext+=te,this.yyleng++,this.offset++,this.match+=te,this.matched+=te;var J=te.match(/(?:\r\n?|\n).*/g);return J?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),te},unput:function(te){var J=te.length,Y=te.split(/(?:\r\n?|\n)/g);this._input=te+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-J),this.offset-=J;var de=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Y.length-1&&(this.yylineno-=Y.length-1);var Fe=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Y?(Y.length===de.length?this.yylloc.first_column:0)+de[de.length-Y.length].length-Y[0].length:this.yylloc.first_column-J},this.options.ranges&&(this.yylloc.range=[Fe[0],Fe[0]+this.yyleng-J]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(te){this.unput(this.match.slice(te))},pastInput:function(){var te=this.matched.substr(0,this.matched.length-this.match.length);return(te.length>20?"...":"")+te.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var te=this.match;return te.length<20&&(te+=this._input.substr(0,20-te.length)),(te.substr(0,20)+(te.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var te=this.pastInput(),J=new Array(te.length+1).join("-");return te+this.upcomingInput()+`
`+J+"^"},test_match:function(te,J){var Y,de,Fe;if(this.options.backtrack_lexer&&(Fe={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Fe.yylloc.range=this.yylloc.range.slice(0))),de=te[0].match(/(?:\r\n?|\n).*/g),de&&(this.yylineno+=de.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:de?de[de.length-1].length-de[de.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+te[0].length},this.yytext+=te[0],this.match+=te[0],this.matches=te,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(te[0].length),this.matched+=te[0],Y=this.performAction.call(this,this.yy,this,J,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Y)return Y;if(this._backtrack){for(var oe in Fe)this[oe]=Fe[oe];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var te,J,Y,de;this._more||(this.yytext="",this.match="");for(var Fe=this._currentRules(),oe=0;oe<Fe.length;oe++)if(Y=this._input.match(this.rules[Fe[oe]]),Y&&(!J||Y[0].length>J[0].length)){if(J=Y,de=oe,this.options.backtrack_lexer){if(te=this.test_match(Y,Fe[oe]),te!==!1)return te;if(this._backtrack){J=!1;continue}else return!1}else if(!this.options.flex)break}return J?(te=this.test_match(J,Fe[de]),te!==!1?te:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var J=this.next();return J||this.lex()},"lex"),begin:a(function(J){this.conditionStack.push(J)},"begin"),popState:a(function(){var J=this.conditionStack.length-1;return J>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(J){return J=this.conditionStack.length-1-Math.abs(J||0),J>=0?this.conditionStack[J]:"INITIAL"},"topState"),pushState:a(function(J){this.begin(J)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(J,Y,de,Fe){var oe=Fe;switch(de){case 0:return 40;case 1:return 44;case 2:return 45;case 3:return 46;case 4:return 47;case 5:break;case 6:break;case 7:return 5;case 8:break;case 9:break;case 10:break;case 11:break;case 12:return this.pushState("SCALE"),16;break;case 13:return 17;case 14:this.popState();break;case 15:return this.begin("acc_title"),32;break;case 16:return this.popState(),"acc_title_value";break;case 17:return this.begin("acc_descr"),34;break;case 18:return this.popState(),"acc_descr_value";break;case 19:this.begin("acc_descr_multiline");break;case 20:this.popState();break;case 21:return"acc_descr_multiline_value";case 22:return this.pushState("CLASSDEF"),37;break;case 23:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";break;case 24:return this.popState(),this.pushState("CLASSDEFID"),38;break;case 25:return this.popState(),39;break;case 26:return this.pushState("CLASS"),41;break;case 27:return this.popState(),this.pushState("CLASS_STYLE"),42;break;case 28:return this.popState(),43;break;case 29:return this.pushState("SCALE"),16;break;case 30:return 17;case 31:this.popState();break;case 32:this.pushState("STATE");break;case 33:return this.popState(),Y.yytext=Y.yytext.slice(0,-8).trim(),24;break;case 34:return this.popState(),Y.yytext=Y.yytext.slice(0,-8).trim(),25;break;case 35:return this.popState(),Y.yytext=Y.yytext.slice(0,-10).trim(),26;break;case 36:return this.popState(),Y.yytext=Y.yytext.slice(0,-8).trim(),24;break;case 37:return this.popState(),Y.yytext=Y.yytext.slice(0,-8).trim(),25;break;case 38:return this.popState(),Y.yytext=Y.yytext.slice(0,-10).trim(),26;break;case 39:return 44;case 40:return 45;case 41:return 46;case 42:return 47;case 43:this.pushState("STATE_STRING");break;case 44:return this.pushState("STATE_ID"),"AS";break;case 45:return this.popState(),"ID";break;case 46:this.popState();break;case 47:return"STATE_DESCR";case 48:return 18;case 49:this.popState();break;case 50:return this.popState(),this.pushState("struct"),19;break;case 51:break;case 52:return this.popState(),20;break;case 53:break;case 54:return this.begin("NOTE"),28;break;case 55:return this.popState(),this.pushState("NOTE_ID"),52;break;case 56:return this.popState(),this.pushState("NOTE_ID"),53;break;case 57:this.popState(),this.pushState("FLOATING_NOTE");break;case 58:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";break;case 59:break;case 60:return"NOTE_TEXT";case 61:return this.popState(),"ID";break;case 62:return this.popState(),this.pushState("NOTE_TEXT"),23;break;case 63:return this.popState(),Y.yytext=Y.yytext.substr(2).trim(),30;break;case 64:return this.popState(),Y.yytext=Y.yytext.slice(0,-8).trim(),30;break;case 65:return 6;case 66:return 6;case 67:return 15;case 68:return 50;case 69:return 23;case 70:return Y.yytext=Y.yytext.trim(),13;break;case 71:return 14;case 72:return 27;case 73:return 51;case 74:return 5;case 75:return"INVALID"}},"anonymous"),rules:[/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[9,10],inclusive:!1},struct:{rules:[9,10,22,26,32,39,40,41,42,51,52,53,54,68,69,70,71,72],inclusive:!1},FLOATING_NOTE_ID:{rules:[61],inclusive:!1},FLOATING_NOTE:{rules:[58,59,60],inclusive:!1},NOTE_TEXT:{rules:[63,64],inclusive:!1},NOTE_ID:{rules:[62],inclusive:!1},NOTE:{rules:[55,56,57],inclusive:!1},CLASS_STYLE:{rules:[28],inclusive:!1},CLASS:{rules:[27],inclusive:!1},CLASSDEFID:{rules:[25],inclusive:!1},CLASSDEF:{rules:[23,24],inclusive:!1},acc_descr_multiline:{rules:[20,21],inclusive:!1},acc_descr:{rules:[18],inclusive:!1},acc_title:{rules:[16],inclusive:!1},SCALE:{rules:[13,14,30,31],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[45],inclusive:!1},STATE_STRING:{rules:[46,47],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[9,10,33,34,35,36,37,38,43,44,48,49,50],inclusive:!1},ID:{rules:[9,10],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,10,11,12,15,17,19,22,26,29,32,50,54,65,66,67,68,69,70,71,73,74,75],inclusive:!0}}};return H}();re.lexer=ce;function ee(){this.yy={}}return a(ee,"Parser"),ee.prototype=re,re.Parser=ee,new ee}();tO.parser=tO;uC=tO});var fC,cme,a0,Tx,ume,fme,Sp,hC,nO=F(()=>{"use strict";fC="LR",cme="TB",a0="state",Tx="relation",ume="classDef",fme="applyClass",Sp="default",hC="divider"});function vme(){return{}}function iO(e=""){let t=e;return e===sO&&(_x++,t=`${mme}${_x}`),t}function aO(e="",t=Sp){return e===sO?mme:t}function cQe(e=""){let t=e;return e===gme&&(_x++,t=`${yme}${_x}`),t}function uQe(e="",t=Sp){return e===gme?yme:t}function fQe(e,t,r){let n=iO(e.id.trim()),i=aO(e.id.trim(),e.type),o=iO(t.id.trim()),s=aO(t.id.trim(),t.type);Ap(n,i,e.doc,e.description,e.note,e.classes,e.styles,e.textStyles),Ap(o,s,t.doc,t.description,t.note,t.classes,t.styles,t.textStyles),lo.relations.push({id1:n,id2:o,relationTitle:Et.sanitizeText(r,Me())})}var sO,mme,gme,yme,hme,dme,ZKe,JKe,xme,mC,kx,bme,gC,lo,_x,pme,eQe,tQe,dC,rQe,nQe,pC,iQe,aQe,Ap,Tme,wx,oQe,sQe,lQe,kme,oO,hQe,dQe,_me,pQe,lO,mQe,gQe,yQe,vQe,xQe,sl,yC=F(()=>{"use strict";br();An();en();Pr();Ua();nO();sO="[*]",mme="start",gme=sO,yme="end",hme="color",dme="fill",ZKe="bgFill",JKe=",";a(vme,"newClassesList");xme=fC,mC=[],kx=vme(),bme=a(()=>({relations:[],states:{},documents:{}}),"newDoc"),gC={root:bme()},lo=gC.root,_x=0,pme=0,eQe={LINE:0,DOTTED_LINE:1},tQe={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},dC=a(e=>JSON.parse(JSON.stringify(e)),"clone"),rQe=a(e=>{ye.info("Setting root doc",e),mC=e},"setRootDoc"),nQe=a(()=>mC,"getRootDoc"),pC=a((e,t,r)=>{if(t.stmt===Tx)pC(e,t.state1,!0),pC(e,t.state2,!1);else if(t.stmt===a0&&(t.id==="[*]"?(t.id=r?e.id+"_start":e.id+"_end",t.start=r):t.id=t.id.trim()),t.doc){let n=[],i=[],o;for(o=0;o<t.doc.length;o++)if(t.doc[o].type===hC){let s=dC(t.doc[o]);s.doc=dC(i),n.push(s),i=[]}else i.push(t.doc[o]);if(n.length>0&&i.length>0){let s={stmt:a0,id:ZR(),type:"divider",doc:dC(i)};n.push(dC(s)),t.doc=n}t.doc.forEach(s=>pC(t,s,!0))}},"docTranslator"),iQe=a(()=>(pC({id:"root"},{id:"root",doc:mC},!0),{id:"root",doc:mC}),"getRootDocV2"),aQe=a(e=>{let t;e.doc?t=e.doc:t=e,ye.info(t),Tme(!0),ye.info("Extract",t),t.forEach(r=>{switch(r.stmt){case a0:Ap(r.id.trim(),r.type,r.doc,r.description,r.note,r.classes,r.styles,r.textStyles);break;case Tx:kme(r.state1,r.state2,r.description);break;case ume:_me(r.id.trim(),r.classes);break;case fme:lO(r.id.trim(),r.styleClass);break}})},"extract"),Ap=a(function(e,t=Sp,r=null,n=null,i=null,o=null,s=null,u=null){let f=e?.trim();lo.states[f]===void 0?(ye.info("Adding state ",f,n),lo.states[f]={id:f,descriptions:[],type:t,doc:r,note:i,classes:[],styles:[],textStyles:[]}):(lo.states[f].doc||(lo.states[f].doc=r),lo.states[f].type||(lo.states[f].type=t)),n&&(ye.info("Setting state description",f,n),typeof n=="string"&&oO(f,n.trim()),typeof n=="object"&&n.forEach(p=>oO(f,p.trim()))),i&&(lo.states[f].note=i,lo.states[f].note.text=Et.sanitizeText(lo.states[f].note.text,Me())),o&&(ye.info("Setting state classes",f,o),(typeof o=="string"?[o]:o).forEach(g=>lO(f,g.trim()))),s&&(ye.info("Setting state styles",f,s),(typeof s=="string"?[s]:s).forEach(g=>mQe(f,g.trim()))),u&&(ye.info("Setting state styles",f,s),(typeof u=="string"?[u]:u).forEach(g=>gQe(f,g.trim())))},"addState"),Tme=a(function(e){gC={root:bme()},lo=gC.root,_x=0,kx=vme(),e||In()},"clear"),wx=a(function(e){return lo.states[e]},"getState"),oQe=a(function(){return lo.states},"getStates"),sQe=a(function(){ye.info("Documents = ",gC)},"logDocuments"),lQe=a(function(){return lo.relations},"getRelations");a(iO,"startIdIfNeeded");a(aO,"startTypeIfNeeded");a(cQe,"endIdIfNeeded");a(uQe,"endTypeIfNeeded");a(fQe,"addRelationObjs");kme=a(function(e,t,r){if(typeof e=="object")fQe(e,t,r);else{let n=iO(e.trim()),i=aO(e),o=cQe(t.trim()),s=uQe(t);Ap(n,i),Ap(o,s),lo.relations.push({id1:n,id2:o,title:Et.sanitizeText(r,Me())})}},"addRelation"),oO=a(function(e,t){let r=lo.states[e],n=t.startsWith(":")?t.replace(":","").trim():t;r.descriptions.push(Et.sanitizeText(n,Me()))},"addDescription"),hQe=a(function(e){return e.substring(0,1)===":"?e.substr(2).trim():e.trim()},"cleanupLabel"),dQe=a(()=>(pme++,"divider-id-"+pme),"getDividerId"),_me=a(function(e,t=""){kx[e]===void 0&&(kx[e]={id:e,styles:[],textStyles:[]});let r=kx[e];t?.split(JKe).forEach(n=>{let i=n.replace(/([^;]*);/,"$1").trim();if(n.match(hme)){let s=i.replace(dme,ZKe).replace(hme,dme);r.textStyles.push(s)}r.styles.push(i)})},"addStyleClass"),pQe=a(function(){return kx},"getClasses"),lO=a(function(e,t){e.split(",").forEach(function(r){let n=wx(r);if(n===void 0){let i=r.trim();Ap(i),n=wx(i)}n.classes.push(t)})},"setCssClass"),mQe=a(function(e,t){let r=wx(e);r!==void 0&&r.textStyles.push(t)},"setStyle"),gQe=a(function(e,t){let r=wx(e);r!==void 0&&r.textStyles.push(t)},"setTextStyle"),yQe=a(()=>xme,"getDirection"),vQe=a(e=>{xme=e},"setDirection"),xQe=a(e=>e&&e[0]===":"?e.substr(1).trim():e.trim(),"trimColon"),sl={getConfig:()=>Me().state,addState:Ap,clear:Tme,getState:wx,getStates:oQe,getRelations:lQe,getClasses:pQe,getDirection:yQe,addRelation:kme,getDividerId:dQe,setDirection:vQe,cleanupLabel:hQe,lineType:eQe,relationType:tQe,logDocuments:sQe,getRootDoc:nQe,setRootDoc:rQe,getRootDocV2:iQe,extract:aQe,trimColon:xQe,getAccTitle:Nn,setAccTitle:Rn,getAccDescription:On,setAccDescription:Pn,addStyleClass:_me,setCssClass:lO,addDescription:oO,setDiagramTitle:ci,getDiagramTitle:Yn}});var bQe,vC,cO=F(()=>{"use strict";bQe=a(e=>`
defs #statediagram-barbEnd {
    fill: ${e.transitionColor};
    stroke: ${e.transitionColor};
  }
g.stateGroup text {
  fill: ${e.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${e.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${e.stateLabelColor};
}

g.stateGroup rect {
  fill: ${e.mainBkg};
  stroke: ${e.nodeBorder};
}

g.stateGroup line {
  stroke: ${e.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${e.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${e.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${e.noteBorderColor};
  fill: ${e.noteBkgColor};

  text {
    fill: ${e.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${e.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${e.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel .label text {
  fill: ${e.transitionLabelColor||e.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${e.transitionLabelColor||e.tertiaryTextColor};
}

.stateLabel text {
  fill: ${e.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${e.specialStateColor};
  stroke: ${e.specialStateColor};
}

.node .fork-join {
  fill: ${e.specialStateColor};
  stroke: ${e.specialStateColor};
}

.node circle.state-end {
  fill: ${e.innerEndBackground};
  stroke: ${e.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${e.compositeBackground||e.background};
  // stroke: ${e.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${e.stateBkg||e.mainBkg};
  stroke: ${e.stateBorder||e.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${e.mainBkg};
  stroke: ${e.stateBorder||e.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${e.lineColor};
}

.statediagram-cluster rect {
  fill: ${e.compositeTitleBackground};
  stroke: ${e.stateBorder||e.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${e.stateLabelColor};
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${e.stateBorder||e.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${e.compositeBackground||e.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${e.altBackground?e.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${e.altBackground?e.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${e.noteBkgColor};
  stroke: ${e.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${e.noteBkgColor};
  stroke: ${e.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${e.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${e.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${e.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${e.lineColor};
  stroke: ${e.lineColor};
  stroke-width: 1;
}

.statediagramTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${e.textColor};
}
`,"getStyles"),vC=bQe});var uO,TQe,kQe,wme,_Qe,Eme,Cme=F(()=>{"use strict";uO={},TQe=a((e,t)=>{uO[e]=t},"set"),kQe=a(e=>uO[e],"get"),wme=a(()=>Object.keys(uO),"keys"),_Qe=a(()=>wme().length,"size"),Eme={get:kQe,set:TQe,keys:wme,size:_Qe}});var wQe,EQe,CQe,SQe,Ame,AQe,RQe,DQe,LQe,fO,Sme,Rme,Dme=F(()=>{"use strict";Zr();Cme();yC();An();en();Pr();br();wQe=a(e=>e.append("circle").attr("class","start-state").attr("r",Me().state.sizeUnit).attr("cx",Me().state.padding+Me().state.sizeUnit).attr("cy",Me().state.padding+Me().state.sizeUnit),"drawStartState"),EQe=a(e=>e.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",Me().state.textHeight).attr("class","divider").attr("x2",Me().state.textHeight*2).attr("y1",0).attr("y2",0),"drawDivider"),CQe=a((e,t)=>{let r=e.append("text").attr("x",2*Me().state.padding).attr("y",Me().state.textHeight+2*Me().state.padding).attr("font-size",Me().state.fontSize).attr("class","state-title").text(t.id),n=r.node().getBBox();return e.insert("rect",":first-child").attr("x",Me().state.padding).attr("y",Me().state.padding).attr("width",n.width+2*Me().state.padding).attr("height",n.height+2*Me().state.padding).attr("rx",Me().state.radius),r},"drawSimpleState"),SQe=a((e,t)=>{let r=a(function(x,b,E){let A=x.append("tspan").attr("x",2*Me().state.padding).text(b);E||A.attr("dy",Me().state.textHeight)},"addTspan"),i=e.append("text").attr("x",2*Me().state.padding).attr("y",Me().state.textHeight+1.3*Me().state.padding).attr("font-size",Me().state.fontSize).attr("class","state-title").text(t.descriptions[0]).node().getBBox(),o=i.height,s=e.append("text").attr("x",Me().state.padding).attr("y",o+Me().state.padding*.4+Me().state.dividerMargin+Me().state.textHeight).attr("class","state-description"),u=!0,f=!0;t.descriptions.forEach(function(x){u||(r(s,x,f),f=!1),u=!1});let p=e.append("line").attr("x1",Me().state.padding).attr("y1",Me().state.padding+o+Me().state.dividerMargin/2).attr("y2",Me().state.padding+o+Me().state.dividerMargin/2).attr("class","descr-divider"),g=s.node().getBBox(),y=Math.max(g.width,i.width);return p.attr("x2",y+3*Me().state.padding),e.insert("rect",":first-child").attr("x",Me().state.padding).attr("y",Me().state.padding).attr("width",y+2*Me().state.padding).attr("height",g.height+o+2*Me().state.padding).attr("rx",Me().state.radius),e},"drawDescrState"),Ame=a((e,t,r)=>{let n=Me().state.padding,i=2*Me().state.padding,o=e.node().getBBox(),s=o.width,u=o.x,f=e.append("text").attr("x",0).attr("y",Me().state.titleShift).attr("font-size",Me().state.fontSize).attr("class","state-title").text(t.id),g=f.node().getBBox().width+i,y=Math.max(g,s);y===s&&(y=y+i);let x,b=e.node().getBBox();t.doc,x=u-n,g>s&&(x=(s-y)/2+n),Math.abs(u-b.x)<n&&g>s&&(x=u-(g-s)/2);let E=1-Me().state.textHeight;return e.insert("rect",":first-child").attr("x",x).attr("y",E).attr("class",r?"alt-composit":"composit").attr("width",y).attr("height",b.height+Me().state.textHeight+Me().state.titleShift+1).attr("rx","0"),f.attr("x",x+n),g<=s&&f.attr("x",u+(y-i)/2-g/2+n),e.insert("rect",":first-child").attr("x",x).attr("y",Me().state.titleShift-Me().state.textHeight-Me().state.padding).attr("width",y).attr("height",Me().state.textHeight*3).attr("rx",Me().state.radius),e.insert("rect",":first-child").attr("x",x).attr("y",Me().state.titleShift-Me().state.textHeight-Me().state.padding).attr("width",y).attr("height",b.height+3+2*Me().state.textHeight).attr("rx",Me().state.radius),e},"addTitleAndBox"),AQe=a(e=>(e.append("circle").attr("class","end-state-outer").attr("r",Me().state.sizeUnit+Me().state.miniPadding).attr("cx",Me().state.padding+Me().state.sizeUnit+Me().state.miniPadding).attr("cy",Me().state.padding+Me().state.sizeUnit+Me().state.miniPadding),e.append("circle").attr("class","end-state-inner").attr("r",Me().state.sizeUnit).attr("cx",Me().state.padding+Me().state.sizeUnit+2).attr("cy",Me().state.padding+Me().state.sizeUnit+2)),"drawEndState"),RQe=a((e,t)=>{let r=Me().state.forkWidth,n=Me().state.forkHeight;if(t.parentId){let i=r;r=n,n=i}return e.append("rect").style("stroke","black").style("fill","black").attr("width",r).attr("height",n).attr("x",Me().state.padding).attr("y",Me().state.padding)},"drawForkJoinState"),DQe=a((e,t,r,n)=>{let i=0,o=n.append("text");o.style("text-anchor","start"),o.attr("class","noteText");let s=e.replace(/\r\n/g,"<br/>");s=s.replace(/\n/g,"<br/>");let u=s.split(Et.lineBreakRegex),f=1.25*Me().state.noteMargin;for(let p of u){let g=p.trim();if(g.length>0){let y=o.append("tspan");if(y.text(g),f===0){let x=y.node().getBBox();f+=x.height}i+=f,y.attr("x",t+Me().state.noteMargin),y.attr("y",r+i+1.25*Me().state.noteMargin)}}return{textWidth:o.node().getBBox().width,textHeight:i}},"_drawLongText"),LQe=a((e,t)=>{t.attr("class","state-note");let r=t.append("rect").attr("x",0).attr("y",Me().state.padding),n=t.append("g"),{textWidth:i,textHeight:o}=DQe(e,0,0,n);return r.attr("height",o+2*Me().state.noteMargin),r.attr("width",i+Me().state.noteMargin*2),r},"drawNote"),fO=a(function(e,t){let r=t.id,n={id:r,label:t.id,width:0,height:0},i=e.append("g").attr("id",r).attr("class","stateGroup");t.type==="start"&&wQe(i),t.type==="end"&&AQe(i),(t.type==="fork"||t.type==="join")&&RQe(i,t),t.type==="note"&&LQe(t.note.text,i),t.type==="divider"&&EQe(i),t.type==="default"&&t.descriptions.length===0&&CQe(i,t),t.type==="default"&&t.descriptions.length>0&&SQe(i,t);let o=i.node().getBBox();return n.width=o.width+2*Me().state.padding,n.height=o.height+2*Me().state.padding,Eme.set(r,n),n},"drawState"),Sme=0,Rme=a(function(e,t,r){let n=a(function(f){switch(f){case sl.relationType.AGGREGATION:return"aggregation";case sl.relationType.EXTENSION:return"extension";case sl.relationType.COMPOSITION:return"composition";case sl.relationType.DEPENDENCY:return"dependency"}},"getRelationType");t.points=t.points.filter(f=>!Number.isNaN(f.y));let i=t.points,o=za().x(function(f){return f.x}).y(function(f){return f.y}).curve(qs),s=e.append("path").attr("d",o(i)).attr("id","edge"+Sme).attr("class","transition"),u="";if(Me().state.arrowMarkerAbsolute&&(u=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,u=u.replace(/\(/g,"\\("),u=u.replace(/\)/g,"\\)")),s.attr("marker-end","url("+u+"#"+n(sl.relationType.DEPENDENCY)+"End)"),r.title!==void 0){let f=e.append("g").attr("class","stateLabel"),{x:p,y:g}=yr.calcLabelPosition(t.points),y=Et.getRows(r.title),x=0,b=[],E=0,A=0;for(let I=0;I<=y.length;I++){let $=f.append("text").attr("text-anchor","middle").text(y[I]).attr("x",p).attr("y",g+x),X=$.node().getBBox();E=Math.max(E,X.width),A=Math.min(A,X.x),ye.info(X.x,p,g+x),x===0&&(x=$.node().getBBox().height,ye.info("Title height",x,g)),b.push($)}let O=x*y.length;if(y.length>1){let I=(y.length-1)*x*.5;b.forEach(($,X)=>$.attr("y",g+X*x-I)),O=x*y.length}let N=f.node().getBBox();f.insert("rect",":first-child").attr("class","box").attr("x",p-E/2-Me().state.padding/2).attr("y",g-O/2-Me().state.padding/2-3.5).attr("width",E+Me().state.padding).attr("height",O+Me().state.padding),ye.info(N)}Sme++},"drawEdge")});var As,hO,IQe,NQe,PQe,OQe,Lme,Ime,Nme=F(()=>{"use strict";Zr();Vd();_a();br();en();Dme();Pr();Si();hO={},IQe=a(function(){},"setConf"),NQe=a(function(e){e.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"insertMarkers"),PQe=a(function(e,t,r,n){As=Me().state;let i=Me().securityLevel,o;i==="sandbox"&&(o=dt("#i"+t));let s=i==="sandbox"?dt(o.nodes()[0].contentDocument.body):dt("body"),u=i==="sandbox"?o.nodes()[0].contentDocument:document;ye.debug("Rendering diagram "+e);let f=s.select(`[id='${t}']`);NQe(f);let p=n.db.getRootDoc();Lme(p,f,void 0,!1,s,u,n);let g=As.padding,y=f.node().getBBox(),x=y.width+g*2,b=y.height+g*2,E=x*1.75;wn(f,b,E,As.useMaxWidth),f.attr("viewBox",`${y.x-As.padding}  ${y.y-As.padding} `+x+" "+b)},"draw"),OQe=a(e=>e?e.length*As.fontSizeFactor:1,"getLabelWidth"),Lme=a((e,t,r,n,i,o,s)=>{let u=new Yr({compound:!0,multigraph:!0}),f,p=!0;for(f=0;f<e.length;f++)if(e[f].stmt==="relation"){p=!1;break}r?u.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:p?1:As.edgeLengthFactor,nodeSep:p?1:50,isMultiGraph:!0}):u.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:p?1:As.edgeLengthFactor,nodeSep:p?1:50,ranker:"tight-tree",isMultiGraph:!0}),u.setDefaultEdgeLabel(function(){return{}}),s.db.extract(e);let g=s.db.getStates(),y=s.db.getRelations(),x=Object.keys(g),b=!0;for(let I of x){let $=g[I];r&&($.parentId=r);let X;if($.doc){let q=t.append("g").attr("id",$.id).attr("class","stateGroup");if(X=Lme($.doc,q,$.id,!n,i,o,s),b){q=Ame(q,$,n);let M=q.node().getBBox();X.width=M.width,X.height=M.height+As.padding/2,hO[$.id]={y:As.compositTitleSize}}else{let M=q.node().getBBox();X.width=M.width,X.height=M.height}}else X=fO(t,$,u);if($.note){let q={descriptions:[],id:$.id+"-note",note:$.note,type:"note"},M=fO(t,q,u);$.note.position==="left of"?(u.setNode(X.id+"-note",M),u.setNode(X.id,X)):(u.setNode(X.id,X),u.setNode(X.id+"-note",M)),u.setParent(X.id,X.id+"-group"),u.setParent(X.id+"-note",X.id+"-group")}else u.setNode(X.id,X)}ye.debug("Count=",u.nodeCount(),u);let E=0;y.forEach(function(I){E++,ye.debug("Setting edge",I),u.setEdge(I.id1,I.id2,{relation:I,width:OQe(I.title),height:As.labelHeight*Et.getRows(I.title).length,labelpos:"c"},"id"+E)}),ds(u),ye.debug("Graph after layout",u.nodes());let A=t.node();u.nodes().forEach(function(I){I!==void 0&&u.node(I)!==void 0?(ye.warn("Node "+I+": "+JSON.stringify(u.node(I))),i.select("#"+A.id+" #"+I).attr("transform","translate("+(u.node(I).x-u.node(I).width/2)+","+(u.node(I).y+(hO[I]?hO[I].y:0)-u.node(I).height/2)+" )"),i.select("#"+A.id+" #"+I).attr("data-x-shift",u.node(I).x-u.node(I).width/2),o.querySelectorAll("#"+A.id+" #"+I+" .divider").forEach(X=>{let q=X.parentElement,M=0,B=0;q&&(q.parentElement&&(M=q.parentElement.getBBox().width),B=parseInt(q.getAttribute("data-x-shift"),10),Number.isNaN(B)&&(B=0)),X.setAttribute("x1",0-B+8),X.setAttribute("x2",M-B-8)})):ye.debug("No Node "+I+": "+JSON.stringify(u.node(I)))});let O=A.getBBox();u.edges().forEach(function(I){I!==void 0&&u.edge(I)!==void 0&&(ye.debug("Edge "+I.v+" -> "+I.w+": "+JSON.stringify(u.edge(I))),Rme(t,u.edge(I),u.edge(I).relation))}),O=A.getBBox();let N={id:r||"root",label:r||"root",width:0,height:0};return N.width=O.width+2*As.padding,N.height=O.height+2*As.padding,ye.debug("Doc rendered",N,u),N},"renderDoc"),Ime={setConf:IQe,draw:PQe}});var Pme={};ii(Pme,{diagram:()=>MQe});var MQe,Ome=F(()=>{"use strict";rO();yC();cO();Nme();MQe={parser:uC,db:sl,renderer:Ime,styles:vC,init:e=>{e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute,sl.clear()}}});function sZe(e){return e==null?"":e.classes?e.classes.join(" "):""}function pO(e="",t=0,r="",n=gO){let i=r!==null&&r.length>0?`${n}${r}`:"";return`${rZe}-${e}${i}-${t}`}var xC,dO,zQe,UQe,$Qe,GQe,VQe,WQe,o0,HQe,jQe,qme,YQe,XQe,KQe,QQe,ZQe,JQe,eZe,tZe,zme,Ume,rZe,gO,nZe,Bme,$me,Gme,Vme,Wme,Hme,bC,Bh,iZe,aZe,oZe,Ex,lZe,mO,cZe,jme,Yme=F(()=>{"use strict";_a();Zr();Pr();O_();br();Si();en();An();nO();xC="rect",dO="rectWithTitle",zQe="start",UQe="end",$Qe="divider",GQe="roundedWithTitle",VQe="note",WQe="noteGroup",o0="statediagram",HQe="state",jQe=`${o0}-${HQe}`,qme="transition",YQe="note",XQe="note-edge",KQe=`${qme} ${XQe}`,QQe=`${o0}-${YQe}`,ZQe="cluster",JQe=`${o0}-${ZQe}`,eZe="cluster-alt",tZe=`${o0}-${eZe}`,zme="parent",Ume="note",rZe="state",gO="----",nZe=`${gO}${Ume}`,Bme=`${gO}${zme}`,$me="fill:none",Gme="fill: #333",Vme="c",Wme="text",Hme="normal",bC={},Bh=0,iZe={},aZe=a(function(e){let t=Object.keys(e);for(let r of t)iZe[r]=e[r]},"setConf"),oZe=a(function(e,t){return t.db.extract(t.db.getRootDocV2()),t.db.getClasses()},"getClasses");a(sZe,"getClassesFromDbInfo");a(pO,"stateDomId");Ex=a((e,t,r,n,i,o)=>{let s=r.id,u=sZe(n[s]);if(s!=="root"){let f=xC;r.start===!0&&(f=zQe),r.start===!1&&(f=UQe),r.type!==Sp&&(f=r.type),bC[s]||(bC[s]={id:s,shape:f,description:Et.sanitizeText(s,Me()),classes:`${u} ${jQe}`});let p=bC[s];r.description&&(Array.isArray(p.description)?(p.shape=dO,p.description.push(r.description)):p.description.length>0?(p.shape=dO,p.description===s?p.description=[r.description]:p.description=[p.description,r.description]):(p.shape=xC,p.description=r.description),p.description=Et.sanitizeTextOrArray(p.description,Me())),p.description.length===1&&p.shape===dO&&(p.shape=xC),!p.type&&r.doc&&(ye.info("Setting cluster for ",s,mO(r)),p.type="group",p.dir=mO(r),p.shape=r.type===hC?$Qe:GQe,p.classes=p.classes+" "+JQe+" "+(o?tZe:""));let g={labelStyle:"",shape:p.shape,labelText:p.description,classes:p.classes,style:"",id:s,dir:p.dir,domId:pO(s,Bh),type:p.type,padding:15};if(g.centerLabel=!0,r.note){let y={labelStyle:"",shape:VQe,labelText:r.note.text,classes:QQe,style:"",id:s+nZe+"-"+Bh,domId:pO(s,Bh,Ume),type:p.type,padding:15},x={labelStyle:"",shape:WQe,labelText:r.note.text,classes:p.classes,style:"",id:s+Bme,domId:pO(s,Bh,zme),type:"group",padding:0};Bh++;let b=s+Bme;e.setNode(b,x),e.setNode(y.id,y),e.setNode(s,g),e.setParent(s,b),e.setParent(y.id,b);let E=s,A=y.id;r.note.position==="left of"&&(E=y.id,A=s),e.setEdge(E,A,{arrowhead:"none",arrowType:"",style:$me,labelStyle:"",classes:KQe,arrowheadStyle:Gme,labelpos:Vme,labelType:Wme,thickness:Hme})}else e.setNode(s,g)}t&&t.id!=="root"&&(ye.trace("Setting node ",s," to be child of its parent ",t.id),e.setParent(s,t.id)),r.doc&&(ye.trace("Adding nodes children "),lZe(e,r,r.doc,n,i,!o))},"setupNode"),lZe=a((e,t,r,n,i,o)=>{ye.trace("items",r),r.forEach(s=>{switch(s.stmt){case a0:Ex(e,t,s,n,i,o);break;case Sp:Ex(e,t,s,n,i,o);break;case Tx:{Ex(e,t,s.state1,n,i,o),Ex(e,t,s.state2,n,i,o);let u={id:"edge"+Bh,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:$me,labelStyle:"",label:Et.sanitizeText(s.description,Me()),arrowheadStyle:Gme,labelpos:Vme,labelType:Wme,thickness:Hme,classes:qme};e.setEdge(s.state1.id,s.state2.id,u,Bh),Bh++}break}})},"setupDoc"),mO=a((e,t=cme)=>{let r=t;if(e.doc)for(let n=0;n<e.doc.length;n++){let i=e.doc[n];i.stmt==="dir"&&(r=i.value)}return r},"getDir"),cZe=a(async function(e,t,r,n){ye.info("Drawing state diagram (v2)",t),bC={};let i=n.db.getDirection();i===void 0&&(i=fC);let{securityLevel:o,state:s}=Me(),u=s.nodeSpacing||50,f=s.rankSpacing||50;ye.info(n.db.getRootDocV2()),n.db.extract(n.db.getRootDocV2()),ye.info(n.db.getRootDocV2());let p=n.db.getStates(),g=new Yr({multigraph:!0,compound:!0}).setGraph({rankdir:mO(n.db.getRootDocV2()),nodesep:u,ranksep:f,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});Ex(g,void 0,n.db.getRootDocV2(),p,n.db,!0);let y;o==="sandbox"&&(y=dt("#i"+t));let x=o==="sandbox"?dt(y.nodes()[0].contentDocument.body):dt("body"),b=x.select(`[id="${t}"]`),E=x.select("#"+t+" g");await Tg(E,g,["barb"],o0,t);let A=8;yr.insertTitle(b,"statediagramTitleText",s.titleTopMargin,n.db.getDiagramTitle());let O=b.node().getBBox(),N=O.width+A*2,I=O.height+A*2;b.attr("class",o0);let $=b.node().getBBox();wn(b,I,N,s.useMaxWidth);let X=`${$.x-A} ${$.y-A} ${N} ${I}`;ye.debug(`viewBox ${X}`),b.attr("viewBox",X);let q=document.querySelectorAll('[id="'+t+'"] .edgeLabel .label');for(let M of q){let B=M.getBBox(),G=document.createElementNS("http://www.w3.org/2000/svg",xC);G.setAttribute("rx",0),G.setAttribute("ry",0),G.setAttribute("width",B.width),G.setAttribute("height",B.height),M.insertBefore(G,M.firstChild)}},"draw"),jme={setConf:aZe,getClasses:oZe,draw:cZe}});var Xme={};ii(Xme,{diagram:()=>uZe});var uZe,Kme=F(()=>{"use strict";rO();yC();cO();Yme();uZe={parser:uC,db:sl,renderer:jme,styles:vC,init:e=>{e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute,sl.clear()}}});var yO,Jme,ege=F(()=>{"use strict";yO=function(){var e=a(function(y,x,b,E){for(b=b||{},E=y.length;E--;b[y[E]]=x);return b},"o"),t=[6,8,10,11,12,14,16,17,18],r=[1,9],n=[1,10],i=[1,11],o=[1,12],s=[1,13],u=[1,14],f={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,taskName:18,taskData:19,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",18:"taskName",19:"taskData"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,2]],performAction:a(function(x,b,E,A,O,N,I){var $=N.length-1;switch(O){case 1:return N[$-1];case 2:this.$=[];break;case 3:N[$-1].push(N[$]),this.$=N[$-1];break;case 4:case 5:this.$=N[$];break;case 6:case 7:this.$=[];break;case 8:A.setDiagramTitle(N[$].substr(6)),this.$=N[$].substr(6);break;case 9:this.$=N[$].trim(),A.setAccTitle(this.$);break;case 10:case 11:this.$=N[$].trim(),A.setAccDescription(this.$);break;case 12:A.addSection(N[$].substr(8)),this.$=N[$].substr(8);break;case 13:A.addTask(N[$-1],N[$]),this.$="task";break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:r,12:n,14:i,16:o,17:s,18:u},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:15,11:r,12:n,14:i,16:o,17:s,18:u},e(t,[2,5]),e(t,[2,6]),e(t,[2,8]),{13:[1,16]},{15:[1,17]},e(t,[2,11]),e(t,[2,12]),{19:[1,18]},e(t,[2,4]),e(t,[2,9]),e(t,[2,10]),e(t,[2,13])],defaultActions:{},parseError:a(function(x,b){if(b.recoverable)this.trace(x);else{var E=new Error(x);throw E.hash=b,E}},"parseError"),parse:a(function(x){var b=this,E=[0],A=[],O=[null],N=[],I=this.table,$="",X=0,q=0,M=0,B=2,G=1,U=N.slice.call(arguments,1),W=Object.create(this.lexer),D={yy:{}};for(var K in this.yy)Object.prototype.hasOwnProperty.call(this.yy,K)&&(D.yy[K]=this.yy[K]);W.setInput(x,D.yy),D.yy.lexer=W,D.yy.parser=this,typeof W.yylloc>"u"&&(W.yylloc={});var P=W.yylloc;N.push(P);var re=W.options&&W.options.ranges;typeof D.yy.parseError=="function"?this.parseError=D.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ce(Le){E.length=E.length-2*Le,O.length=O.length-Le,N.length=N.length-Le}a(ce,"popStack");function ee(){var Le;return Le=A.pop()||W.lex()||G,typeof Le!="number"&&(Le instanceof Array&&(A=Le,Le=A.pop()),Le=b.symbols_[Le]||Le),Le}a(ee,"lex");for(var H,te,J,Y,de,Fe,oe={},rt,We,_e,Ve;;){if(J=E[E.length-1],this.defaultActions[J]?Y=this.defaultActions[J]:((H===null||typeof H>"u")&&(H=ee()),Y=I[J]&&I[J][H]),typeof Y>"u"||!Y.length||!Y[0]){var Ye="";Ve=[];for(rt in I[J])this.terminals_[rt]&&rt>B&&Ve.push("'"+this.terminals_[rt]+"'");W.showPosition?Ye="Parse error on line "+(X+1)+`:
`+W.showPosition()+`
Expecting `+Ve.join(", ")+", got '"+(this.terminals_[H]||H)+"'":Ye="Parse error on line "+(X+1)+": Unexpected "+(H==G?"end of input":"'"+(this.terminals_[H]||H)+"'"),this.parseError(Ye,{text:W.match,token:this.terminals_[H]||H,line:W.yylineno,loc:P,expected:Ve})}if(Y[0]instanceof Array&&Y.length>1)throw new Error("Parse Error: multiple actions possible at state: "+J+", token: "+H);switch(Y[0]){case 1:E.push(H),O.push(W.yytext),N.push(W.yylloc),E.push(Y[1]),H=null,te?(H=te,te=null):(q=W.yyleng,$=W.yytext,X=W.yylineno,P=W.yylloc,M>0&&M--);break;case 2:if(We=this.productions_[Y[1]][1],oe.$=O[O.length-We],oe._$={first_line:N[N.length-(We||1)].first_line,last_line:N[N.length-1].last_line,first_column:N[N.length-(We||1)].first_column,last_column:N[N.length-1].last_column},re&&(oe._$.range=[N[N.length-(We||1)].range[0],N[N.length-1].range[1]]),Fe=this.performAction.apply(oe,[$,q,X,D.yy,Y[1],O,N].concat(U)),typeof Fe<"u")return Fe;We&&(E=E.slice(0,-1*We*2),O=O.slice(0,-1*We),N=N.slice(0,-1*We)),E.push(this.productions_[Y[1]][0]),O.push(oe.$),N.push(oe._$),_e=I[E[E.length-2]][E[E.length-1]],E.push(_e);break;case 3:return!0}}return!0},"parse")},p=function(){var y={EOF:1,parseError:a(function(b,E){if(this.yy.parser)this.yy.parser.parseError(b,E);else throw new Error(b)},"parseError"),setInput:function(x,b){return this.yy=b||this.yy||{},this._input=x,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var x=this._input[0];this.yytext+=x,this.yyleng++,this.offset++,this.match+=x,this.matched+=x;var b=x.match(/(?:\r\n?|\n).*/g);return b?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),x},unput:function(x){var b=x.length,E=x.split(/(?:\r\n?|\n)/g);this._input=x+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b),this.offset-=b;var A=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),E.length-1&&(this.yylineno-=E.length-1);var O=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:E?(E.length===A.length?this.yylloc.first_column:0)+A[A.length-E.length].length-E[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[O[0],O[0]+this.yyleng-b]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(x){this.unput(this.match.slice(x))},pastInput:function(){var x=this.matched.substr(0,this.matched.length-this.match.length);return(x.length>20?"...":"")+x.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var x=this.match;return x.length<20&&(x+=this._input.substr(0,20-x.length)),(x.substr(0,20)+(x.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var x=this.pastInput(),b=new Array(x.length+1).join("-");return x+this.upcomingInput()+`
`+b+"^"},test_match:function(x,b){var E,A,O;if(this.options.backtrack_lexer&&(O={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(O.yylloc.range=this.yylloc.range.slice(0))),A=x[0].match(/(?:\r\n?|\n).*/g),A&&(this.yylineno+=A.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:A?A[A.length-1].length-A[A.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+x[0].length},this.yytext+=x[0],this.match+=x[0],this.matches=x,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(x[0].length),this.matched+=x[0],E=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),E)return E;if(this._backtrack){for(var N in O)this[N]=O[N];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var x,b,E,A;this._more||(this.yytext="",this.match="");for(var O=this._currentRules(),N=0;N<O.length;N++)if(E=this._input.match(this.rules[O[N]]),E&&(!b||E[0].length>b[0].length)){if(b=E,A=N,this.options.backtrack_lexer){if(x=this.test_match(E,O[N]),x!==!1)return x;if(this._backtrack){b=!1;continue}else return!1}else if(!this.options.flex)break}return b?(x=this.test_match(b,O[A]),x!==!1?x:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var b=this.next();return b||this.lex()},"lex"),begin:a(function(b){this.conditionStack.push(b)},"begin"),popState:a(function(){var b=this.conditionStack.length-1;return b>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(b){return b=this.conditionStack.length-1-Math.abs(b||0),b>=0?this.conditionStack[b]:"INITIAL"},"topState"),pushState:a(function(b){this.begin(b)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(b,E,A,O){var N=O;switch(A){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;break;case 8:return this.popState(),"acc_title_value";break;case 9:return this.begin("acc_descr"),14;break;case 10:return this.popState(),"acc_descr_value";break;case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 18;case 16:return 19;case 17:return":";case 18:return 6;case 19:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18,19],inclusive:!0}}};return y}();f.lexer=p;function g(){this.yy={}}return a(g,"Parser"),g.prototype=f,f.Parser=g,new g}();yO.parser=yO;Jme=yO});var s0,vO,Cx,Sx,pZe,mZe,gZe,yZe,vZe,xZe,bZe,tge,TZe,xO,rge=F(()=>{"use strict";Pr();Ua();s0="",vO=[],Cx=[],Sx=[],pZe=a(function(){vO.length=0,Cx.length=0,s0="",Sx.length=0,In()},"clear"),mZe=a(function(e){s0=e,vO.push(e)},"addSection"),gZe=a(function(){return vO},"getSections"),yZe=a(function(){let e=tge(),t=100,r=0;for(;!e&&r<t;)e=tge(),r++;return Cx.push(...Sx),Cx},"getTasks"),vZe=a(function(){let e=[];return Cx.forEach(r=>{r.people&&e.push(...r.people)}),[...new Set(e)].sort()},"updateActors"),xZe=a(function(e,t){let r=t.substr(1).split(":"),n=0,i=[];r.length===1?(n=Number(r[0]),i=[]):(n=Number(r[0]),i=r[1].split(","));let o=i.map(u=>u.trim()),s={section:s0,type:s0,people:o,task:e,score:n};Sx.push(s)},"addTask"),bZe=a(function(e){let t={section:s0,type:s0,description:e,task:e,classes:[]};Cx.push(t)},"addTaskOrg"),tge=a(function(){let e=a(function(r){return Sx[r].processed},"compileTask"),t=!0;for(let[r,n]of Sx.entries())e(r),t=t&&n.processed;return t},"compileTasks"),TZe=a(function(){return vZe()},"getActors"),xO={getConfig:()=>Me().journey,clear:pZe,setDiagramTitle:ci,getDiagramTitle:Yn,setAccTitle:Rn,getAccTitle:Nn,setAccDescription:Pn,getAccDescription:On,addSection:mZe,getSections:gZe,getTasks:yZe,addTask:xZe,addTaskOrg:bZe,getActors:TZe}});var kZe,nge,ige=F(()=>{"use strict";kZe=a(e=>`.label {
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    color: ${e.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${e.textColor}
  }

  .legend {
    fill: ${e.textColor};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${e.textColor}
  }

  .face {
    ${e.faceColor?`fill: ${e.faceColor}`:"fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${e.fillType0?`fill: ${e.fillType0}`:""};
  }
  .task-type-1, .section-type-1  {
    ${e.fillType0?`fill: ${e.fillType1}`:""};
  }
  .task-type-2, .section-type-2  {
    ${e.fillType0?`fill: ${e.fillType2}`:""};
  }
  .task-type-3, .section-type-3  {
    ${e.fillType0?`fill: ${e.fillType3}`:""};
  }
  .task-type-4, .section-type-4  {
    ${e.fillType0?`fill: ${e.fillType4}`:""};
  }
  .task-type-5, .section-type-5  {
    ${e.fillType0?`fill: ${e.fillType5}`:""};
  }
  .task-type-6, .section-type-6  {
    ${e.fillType0?`fill: ${e.fillType6}`:""};
  }
  .task-type-7, .section-type-7  {
    ${e.fillType0?`fill: ${e.fillType7}`:""};
  }

  .actor-0 {
    ${e.actor0?`fill: ${e.actor0}`:""};
  }
  .actor-1 {
    ${e.actor1?`fill: ${e.actor1}`:""};
  }
  .actor-2 {
    ${e.actor2?`fill: ${e.actor2}`:""};
  }
  .actor-3 {
    ${e.actor3?`fill: ${e.actor3}`:""};
  }
  .actor-4 {
    ${e.actor4?`fill: ${e.actor4}`:""};
  }
  .actor-5 {
    ${e.actor5?`fill: ${e.actor5}`:""};
  }
`,"getStyles"),nge=kZe});var bO,_Ze,oge,sge,wZe,EZe,age,CZe,SZe,lge,AZe,l0,cge=F(()=>{"use strict";Zr();kv();bO=a(function(e,t){return Md(e,t)},"drawRect"),_Ze=a(function(e,t){let n=e.append("circle").attr("cx",t.cx).attr("cy",t.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),i=e.append("g");i.append("circle").attr("cx",t.cx-15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),i.append("circle").attr("cx",t.cx+15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function o(f){let p=Cl().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);f.append("path").attr("class","mouth").attr("d",p).attr("transform","translate("+t.cx+","+(t.cy+2)+")")}a(o,"smile");function s(f){let p=Cl().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);f.append("path").attr("class","mouth").attr("d",p).attr("transform","translate("+t.cx+","+(t.cy+7)+")")}a(s,"sad");function u(f){f.append("line").attr("class","mouth").attr("stroke",2).attr("x1",t.cx-5).attr("y1",t.cy+7).attr("x2",t.cx+5).attr("y2",t.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return a(u,"ambivalent"),t.score>3?o(i):t.score<3?s(i):u(i),n},"drawFace"),oge=a(function(e,t){let r=e.append("circle");return r.attr("cx",t.cx),r.attr("cy",t.cy),r.attr("class","actor-"+t.pos),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("r",t.r),r.class!==void 0&&r.attr("class",r.class),t.title!==void 0&&r.append("title").text(t.title),r},"drawCircle"),sge=a(function(e,t){return AG(e,t)},"drawText"),wZe=a(function(e,t){function r(i,o,s,u,f){return i+","+o+" "+(i+s)+","+o+" "+(i+s)+","+(o+u-f)+" "+(i+s-f*1.2)+","+(o+u)+" "+i+","+(o+u)}a(r,"genPoints");let n=e.append("polygon");n.attr("points",r(t.x,t.y,50,20,7)),n.attr("class","labelBox"),t.y=t.y+t.labelMargin,t.x=t.x+.5*t.labelMargin,sge(e,t)},"drawLabel"),EZe=a(function(e,t,r){let n=e.append("g"),i=Ml();i.x=t.x,i.y=t.y,i.fill=t.fill,i.width=r.width*t.taskCount+r.diagramMarginX*(t.taskCount-1),i.height=r.height,i.class="journey-section section-type-"+t.num,i.rx=3,i.ry=3,bO(n,i),lge(r)(t.text,n,i.x,i.y,i.width,i.height,{class:"journey-section section-type-"+t.num},r,t.colour)},"drawSection"),age=-1,CZe=a(function(e,t,r){let n=t.x+r.width/2,i=e.append("g");age++;let o=300+5*30;i.append("line").attr("id","task"+age).attr("x1",n).attr("y1",t.y).attr("x2",n).attr("y2",o).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),_Ze(i,{cx:n,cy:300+(5-t.score)*30,score:t.score});let s=Ml();s.x=t.x,s.y=t.y,s.fill=t.fill,s.width=r.width,s.height=r.height,s.class="task task-type-"+t.num,s.rx=3,s.ry=3,bO(i,s);let u=t.x+14;t.people.forEach(f=>{let p=t.actors[f].color,g={cx:u,cy:t.y,r:7,fill:p,stroke:"#000",title:f,pos:t.actors[f].position};oge(i,g),u+=10}),lge(r)(t.task,i,s.x,s.y,s.width,s.height,{class:"task"},r,t.colour)},"drawTask"),SZe=a(function(e,t){YT(e,t)},"drawBackgroundRect"),lge=function(){function e(i,o,s,u,f,p,g,y){let x=o.append("text").attr("x",s+f/2).attr("y",u+p/2+5).style("font-color",y).style("text-anchor","middle").text(i);n(x,g)}a(e,"byText");function t(i,o,s,u,f,p,g,y,x){let{taskFontSize:b,taskFontFamily:E}=y,A=i.split(/<br\s*\/?>/gi);for(let O=0;O<A.length;O++){let N=O*b-b*(A.length-1)/2,I=o.append("text").attr("x",s+f/2).attr("y",u).attr("fill",x).style("text-anchor","middle").style("font-size",b).style("font-family",E);I.append("tspan").attr("x",s+f/2).attr("dy",N).text(A[O]),I.attr("y",u+p/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(I,g)}}a(t,"byTspan");function r(i,o,s,u,f,p,g,y){let x=o.append("switch"),E=x.append("foreignObject").attr("x",s).attr("y",u).attr("width",f).attr("height",p).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");E.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),t(i,x,s,u,f,p,g,y),n(E,g)}a(r,"byFo");function n(i,o){for(let s in o)s in o&&i.attr(s,o[s])}return a(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?e:t}}(),AZe=a(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics"),l0={drawRect:bO,drawCircle:oge,drawSection:EZe,drawText:sge,drawLabel:wZe,drawTask:CZe,drawBackgroundRect:SZe,initGraphics:AZe}});function DZe(e){let t=Me().journey,r=60;Object.keys(Ju).forEach(n=>{let i=Ju[n].color,o={cx:20,cy:r,r:7,fill:i,stroke:"#000",pos:Ju[n].position};l0.drawCircle(e,o);let s={x:40,y:r+7,fill:"#666",text:n,textMargin:t.boxTextMargin|5};l0.drawText(e,s),r+=20})}var RZe,Ju,TC,Rp,LZe,ll,TO,uge,IZe,kO,fge=F(()=>{"use strict";Zr();cge();Pr();Si();RZe=a(function(e){Object.keys(e).forEach(function(r){TC[r]=e[r]})},"setConf"),Ju={};a(DZe,"drawActorLegend");TC=Me().journey,Rp=TC.leftMargin,LZe=a(function(e,t,r,n){let i=Me().journey,o=Me().securityLevel,s;o==="sandbox"&&(s=dt("#i"+t));let u=o==="sandbox"?dt(s.nodes()[0].contentDocument.body):dt("body");ll.init();let f=u.select("#"+t);l0.initGraphics(f);let p=n.db.getTasks(),g=n.db.getDiagramTitle(),y=n.db.getActors();for(let N in Ju)delete Ju[N];let x=0;y.forEach(N=>{Ju[N]={color:i.actorColours[x%i.actorColours.length],position:x},x++}),DZe(f),ll.insert(0,0,Rp,Object.keys(Ju).length*50),IZe(f,p,0);let b=ll.getBounds();g&&f.append("text").text(g).attr("x",Rp).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);let E=b.stopy-b.starty+2*i.diagramMarginY,A=Rp+b.stopx+2*i.diagramMarginX;wn(f,E,A,i.useMaxWidth),f.append("line").attr("x1",Rp).attr("y1",i.height*4).attr("x2",A-Rp-4).attr("y2",i.height*4).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");let O=g?70:0;f.attr("viewBox",`${b.startx} -25 ${A} ${E+O}`),f.attr("preserveAspectRatio","xMinYMin meet"),f.attr("height",E+O+25)},"draw"),ll={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},updateVal:function(e,t,r,n){e[t]===void 0?e[t]=r:e[t]=n(r,e[t])},updateBounds:function(e,t,r,n){let i=Me().journey,o=this,s=0;function u(f){return a(function(g){s++;let y=o.sequenceItems.length-s+1;o.updateVal(g,"starty",t-y*i.boxMargin,Math.min),o.updateVal(g,"stopy",n+y*i.boxMargin,Math.max),o.updateVal(ll.data,"startx",e-y*i.boxMargin,Math.min),o.updateVal(ll.data,"stopx",r+y*i.boxMargin,Math.max),f!=="activation"&&(o.updateVal(g,"startx",e-y*i.boxMargin,Math.min),o.updateVal(g,"stopx",r+y*i.boxMargin,Math.max),o.updateVal(ll.data,"starty",t-y*i.boxMargin,Math.min),o.updateVal(ll.data,"stopy",n+y*i.boxMargin,Math.max))},"updateItemBounds")}a(u,"updateFn"),this.sequenceItems.forEach(u())},insert:function(e,t,r,n){let i=Math.min(e,r),o=Math.max(e,r),s=Math.min(t,n),u=Math.max(t,n);this.updateVal(ll.data,"startx",i,Math.min),this.updateVal(ll.data,"starty",s,Math.min),this.updateVal(ll.data,"stopx",o,Math.max),this.updateVal(ll.data,"stopy",u,Math.max),this.updateBounds(i,s,o,u)},bumpVerticalPos:function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return this.data}},TO=TC.sectionFills,uge=TC.sectionColours,IZe=a(function(e,t,r){let n=Me().journey,i="",o=n.height*2+n.diagramMarginY,s=r+o,u=0,f="#CCC",p="black",g=0;for(let[y,x]of t.entries()){if(i!==x.section){f=TO[u%TO.length],g=u%TO.length,p=uge[u%uge.length];let E=0,A=x.section;for(let N=y;N<t.length&&t[N].section==A;N++)E=E+1;let O={x:y*n.taskMargin+y*n.width+Rp,y:50,text:x.section,fill:f,num:g,colour:p,taskCount:E};l0.drawSection(e,O,n),i=x.section,u++}let b=x.people.reduce((E,A)=>(Ju[A]&&(E[A]=Ju[A]),E),{});x.x=y*n.taskMargin+y*n.width+Rp,x.y=s,x.width=n.diagramMarginX,x.height=n.diagramMarginY,x.colour=p,x.fill=f,x.num=g,x.actors=b,l0.drawTask(e,x,n),ll.insert(x.x,x.y,x.x+x.width+n.taskMargin,300+5*30)}},"drawTasks"),kO={setConf:RZe,draw:LZe}});var hge={};ii(hge,{diagram:()=>NZe});var NZe,dge=F(()=>{"use strict";ege();rge();ige();fge();NZe={parser:Jme,db:xO,renderer:kO,styles:nge,init:e=>{kO.setConf(e.journey),xO.clear()}}});var _O,vge,xge=F(()=>{"use strict";_O=function(){var e=a(function(x,b,E,A){for(E=E||{},A=x.length;A--;E[x[A]]=b);return E},"o"),t=[6,8,10,11,12,14,16,17,20,21],r=[1,9],n=[1,10],i=[1,11],o=[1,12],s=[1,13],u=[1,16],f=[1,17],p={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,timeline:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,period_statement:18,event_statement:19,period:20,event:21,$accept:0,$end:1},terminals_:{2:"error",4:"timeline",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",20:"period",21:"event"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,1],[18,1],[19,1]],performAction:a(function(b,E,A,O,N,I,$){var X=I.length-1;switch(N){case 1:return I[X-1];case 2:this.$=[];break;case 3:I[X-1].push(I[X]),this.$=I[X-1];break;case 4:case 5:this.$=I[X];break;case 6:case 7:this.$=[];break;case 8:O.getCommonDb().setDiagramTitle(I[X].substr(6)),this.$=I[X].substr(6);break;case 9:this.$=I[X].trim(),O.getCommonDb().setAccTitle(this.$);break;case 10:case 11:this.$=I[X].trim(),O.getCommonDb().setAccDescription(this.$);break;case 12:O.addSection(I[X].substr(8)),this.$=I[X].substr(8);break;case 15:O.addTask(I[X],0,""),this.$=I[X];break;case 16:O.addEvent(I[X].substr(2)),this.$=I[X];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:r,12:n,14:i,16:o,17:s,18:14,19:15,20:u,21:f},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:18,11:r,12:n,14:i,16:o,17:s,18:14,19:15,20:u,21:f},e(t,[2,5]),e(t,[2,6]),e(t,[2,8]),{13:[1,19]},{15:[1,20]},e(t,[2,11]),e(t,[2,12]),e(t,[2,13]),e(t,[2,14]),e(t,[2,15]),e(t,[2,16]),e(t,[2,4]),e(t,[2,9]),e(t,[2,10])],defaultActions:{},parseError:a(function(b,E){if(E.recoverable)this.trace(b);else{var A=new Error(b);throw A.hash=E,A}},"parseError"),parse:a(function(b){var E=this,A=[0],O=[],N=[null],I=[],$=this.table,X="",q=0,M=0,B=0,G=2,U=1,W=I.slice.call(arguments,1),D=Object.create(this.lexer),K={yy:{}};for(var P in this.yy)Object.prototype.hasOwnProperty.call(this.yy,P)&&(K.yy[P]=this.yy[P]);D.setInput(b,K.yy),K.yy.lexer=D,K.yy.parser=this,typeof D.yylloc>"u"&&(D.yylloc={});var re=D.yylloc;I.push(re);var ce=D.options&&D.options.ranges;typeof K.yy.parseError=="function"?this.parseError=K.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ee(fe){A.length=A.length-2*fe,N.length=N.length-fe,I.length=I.length-fe}a(ee,"popStack");function H(){var fe;return fe=O.pop()||D.lex()||U,typeof fe!="number"&&(fe instanceof Array&&(O=fe,fe=O.pop()),fe=E.symbols_[fe]||fe),fe}a(H,"lex");for(var te,J,Y,de,Fe,oe,rt={},We,_e,Ve,Ye;;){if(Y=A[A.length-1],this.defaultActions[Y]?de=this.defaultActions[Y]:((te===null||typeof te>"u")&&(te=H()),de=$[Y]&&$[Y][te]),typeof de>"u"||!de.length||!de[0]){var Le="";Ye=[];for(We in $[Y])this.terminals_[We]&&We>G&&Ye.push("'"+this.terminals_[We]+"'");D.showPosition?Le="Parse error on line "+(q+1)+`:
`+D.showPosition()+`
Expecting `+Ye.join(", ")+", got '"+(this.terminals_[te]||te)+"'":Le="Parse error on line "+(q+1)+": Unexpected "+(te==U?"end of input":"'"+(this.terminals_[te]||te)+"'"),this.parseError(Le,{text:D.match,token:this.terminals_[te]||te,line:D.yylineno,loc:re,expected:Ye})}if(de[0]instanceof Array&&de.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Y+", token: "+te);switch(de[0]){case 1:A.push(te),N.push(D.yytext),I.push(D.yylloc),A.push(de[1]),te=null,J?(te=J,J=null):(M=D.yyleng,X=D.yytext,q=D.yylineno,re=D.yylloc,B>0&&B--);break;case 2:if(_e=this.productions_[de[1]][1],rt.$=N[N.length-_e],rt._$={first_line:I[I.length-(_e||1)].first_line,last_line:I[I.length-1].last_line,first_column:I[I.length-(_e||1)].first_column,last_column:I[I.length-1].last_column},ce&&(rt._$.range=[I[I.length-(_e||1)].range[0],I[I.length-1].range[1]]),oe=this.performAction.apply(rt,[X,M,q,K.yy,de[1],N,I].concat(W)),typeof oe<"u")return oe;_e&&(A=A.slice(0,-1*_e*2),N=N.slice(0,-1*_e),I=I.slice(0,-1*_e)),A.push(this.productions_[de[1]][0]),N.push(rt.$),I.push(rt._$),Ve=$[A[A.length-2]][A[A.length-1]],A.push(Ve);break;case 3:return!0}}return!0},"parse")},g=function(){var x={EOF:1,parseError:a(function(E,A){if(this.yy.parser)this.yy.parser.parseError(E,A);else throw new Error(E)},"parseError"),setInput:function(b,E){return this.yy=E||this.yy||{},this._input=b,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var b=this._input[0];this.yytext+=b,this.yyleng++,this.offset++,this.match+=b,this.matched+=b;var E=b.match(/(?:\r\n?|\n).*/g);return E?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),b},unput:function(b){var E=b.length,A=b.split(/(?:\r\n?|\n)/g);this._input=b+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-E),this.offset-=E;var O=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),A.length-1&&(this.yylineno-=A.length-1);var N=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:A?(A.length===O.length?this.yylloc.first_column:0)+O[O.length-A.length].length-A[0].length:this.yylloc.first_column-E},this.options.ranges&&(this.yylloc.range=[N[0],N[0]+this.yyleng-E]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(b){this.unput(this.match.slice(b))},pastInput:function(){var b=this.matched.substr(0,this.matched.length-this.match.length);return(b.length>20?"...":"")+b.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var b=this.match;return b.length<20&&(b+=this._input.substr(0,20-b.length)),(b.substr(0,20)+(b.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var b=this.pastInput(),E=new Array(b.length+1).join("-");return b+this.upcomingInput()+`
`+E+"^"},test_match:function(b,E){var A,O,N;if(this.options.backtrack_lexer&&(N={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(N.yylloc.range=this.yylloc.range.slice(0))),O=b[0].match(/(?:\r\n?|\n).*/g),O&&(this.yylineno+=O.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:O?O[O.length-1].length-O[O.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],A=this.performAction.call(this,this.yy,this,E,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),A)return A;if(this._backtrack){for(var I in N)this[I]=N[I];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var b,E,A,O;this._more||(this.yytext="",this.match="");for(var N=this._currentRules(),I=0;I<N.length;I++)if(A=this._input.match(this.rules[N[I]]),A&&(!E||A[0].length>E[0].length)){if(E=A,O=I,this.options.backtrack_lexer){if(b=this.test_match(A,N[I]),b!==!1)return b;if(this._backtrack){E=!1;continue}else return!1}else if(!this.options.flex)break}return E?(b=this.test_match(E,N[O]),b!==!1?b:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var E=this.next();return E||this.lex()},"lex"),begin:a(function(E){this.conditionStack.push(E)},"begin"),popState:a(function(){var E=this.conditionStack.length-1;return E>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(E){return E=this.conditionStack.length-1-Math.abs(E||0),E>=0?this.conditionStack[E]:"INITIAL"},"topState"),pushState:a(function(E){this.begin(E)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(E,A,O,N){var I=N;switch(O){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;break;case 8:return this.popState(),"acc_title_value";break;case 9:return this.begin("acc_descr"),14;break;case 10:return this.popState(),"acc_descr_value";break;case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 21;case 16:return 20;case 17:return 6;case 18:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:timeline\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?::\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18],inclusive:!0}}};return x}();p.lexer=g;function y(){this.yy={}}return a(y,"Parser"),y.prototype=p,p.Parser=y,new y}();_O.parser=_O;vge=_O});var EO={};ii(EO,{addEvent:()=>Age,addSection:()=>wge,addTask:()=>Sge,addTaskOrg:()=>Rge,clear:()=>_ge,default:()=>zZe,getCommonDb:()=>kge,getSections:()=>Ege,getTasks:()=>Cge});var c0,Tge,wO,kC,u0,kge,_ge,wge,Ege,Cge,Sge,Age,Rge,bge,zZe,Dge=F(()=>{"use strict";Ua();c0="",Tge=0,wO=[],kC=[],u0=[],kge=a(()=>yv,"getCommonDb"),_ge=a(function(){wO.length=0,kC.length=0,c0="",u0.length=0,In()},"clear"),wge=a(function(e){c0=e,wO.push(e)},"addSection"),Ege=a(function(){return wO},"getSections"),Cge=a(function(){let e=bge(),t=100,r=0;for(;!e&&r<t;)e=bge(),r++;return kC.push(...u0),kC},"getTasks"),Sge=a(function(e,t,r){let n={id:Tge++,section:c0,type:c0,task:e,score:t||0,events:r?[r]:[]};u0.push(n)},"addTask"),Age=a(function(e){u0.find(r=>r.id===Tge-1).events.push(e)},"addEvent"),Rge=a(function(e){let t={section:c0,type:c0,description:e,task:e,classes:[]};kC.push(t)},"addTaskOrg"),bge=a(function(){let e=a(function(r){return u0[r].processed},"compileTask"),t=!0;for(let[r,n]of u0.entries())e(r),t=t&&n.processed;return t},"compileTasks"),zZe={clear:_ge,getCommonDb:kge,addSection:wge,getSections:Ege,getTasks:Cge,addTask:Sge,addTaskOrg:Rge,addEvent:Age}});function Pge(e,t){e.each(function(){var r=dt(this),n=r.text().split(/(\s+|<br>)/).reverse(),i,o=[],s=1.1,u=r.attr("y"),f=parseFloat(r.attr("dy")),p=r.text(null).append("tspan").attr("x",0).attr("y",u).attr("dy",f+"em");for(let g=0;g<n.length;g++)i=n[n.length-1-g],o.push(i),p.text(o.join(" ").trim()),(p.node().getComputedTextLength()>t||i==="<br>")&&(o.pop(),p.text(o.join(" ").trim()),i==="<br>"?o=[""]:o=[i],p=r.append("tspan").attr("x",0).attr("y",u).attr("dy",s+"em").text(i))})}var UZe,_C,$Ze,GZe,Ige,VZe,WZe,Lge,HZe,jZe,YZe,CO,Nge,XZe,KZe,QZe,ZZe,qh,Oge=F(()=>{"use strict";Zr();UZe=12,_C=a(function(e,t){let r=e.append("rect");return r.attr("x",t.x),r.attr("y",t.y),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("width",t.width),r.attr("height",t.height),r.attr("rx",t.rx),r.attr("ry",t.ry),t.class!==void 0&&r.attr("class",t.class),r},"drawRect"),$Ze=a(function(e,t){let n=e.append("circle").attr("cx",t.cx).attr("cy",t.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),i=e.append("g");i.append("circle").attr("cx",t.cx-15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),i.append("circle").attr("cx",t.cx+15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function o(f){let p=Cl().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);f.append("path").attr("class","mouth").attr("d",p).attr("transform","translate("+t.cx+","+(t.cy+2)+")")}a(o,"smile");function s(f){let p=Cl().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);f.append("path").attr("class","mouth").attr("d",p).attr("transform","translate("+t.cx+","+(t.cy+7)+")")}a(s,"sad");function u(f){f.append("line").attr("class","mouth").attr("stroke",2).attr("x1",t.cx-5).attr("y1",t.cy+7).attr("x2",t.cx+5).attr("y2",t.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return a(u,"ambivalent"),t.score>3?o(i):t.score<3?s(i):u(i),n},"drawFace"),GZe=a(function(e,t){let r=e.append("circle");return r.attr("cx",t.cx),r.attr("cy",t.cy),r.attr("class","actor-"+t.pos),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("r",t.r),r.class!==void 0&&r.attr("class",r.class),t.title!==void 0&&r.append("title").text(t.title),r},"drawCircle"),Ige=a(function(e,t){let r=t.text.replace(/<br\s*\/?>/gi," "),n=e.append("text");n.attr("x",t.x),n.attr("y",t.y),n.attr("class","legend"),n.style("text-anchor",t.anchor),t.class!==void 0&&n.attr("class",t.class);let i=n.append("tspan");return i.attr("x",t.x+t.textMargin*2),i.text(r),n},"drawText"),VZe=a(function(e,t){function r(i,o,s,u,f){return i+","+o+" "+(i+s)+","+o+" "+(i+s)+","+(o+u-f)+" "+(i+s-f*1.2)+","+(o+u)+" "+i+","+(o+u)}a(r,"genPoints");let n=e.append("polygon");n.attr("points",r(t.x,t.y,50,20,7)),n.attr("class","labelBox"),t.y=t.y+t.labelMargin,t.x=t.x+.5*t.labelMargin,Ige(e,t)},"drawLabel"),WZe=a(function(e,t,r){let n=e.append("g"),i=CO();i.x=t.x,i.y=t.y,i.fill=t.fill,i.width=r.width,i.height=r.height,i.class="journey-section section-type-"+t.num,i.rx=3,i.ry=3,_C(n,i),Nge(r)(t.text,n,i.x,i.y,i.width,i.height,{class:"journey-section section-type-"+t.num},r,t.colour)},"drawSection"),Lge=-1,HZe=a(function(e,t,r){let n=t.x+r.width/2,i=e.append("g");Lge++;let o=300+5*30;i.append("line").attr("id","task"+Lge).attr("x1",n).attr("y1",t.y).attr("x2",n).attr("y2",o).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),$Ze(i,{cx:n,cy:300+(5-t.score)*30,score:t.score});let s=CO();s.x=t.x,s.y=t.y,s.fill=t.fill,s.width=r.width,s.height=r.height,s.class="task task-type-"+t.num,s.rx=3,s.ry=3,_C(i,s);let u=t.x+14;Nge(r)(t.task,i,s.x,s.y,s.width,s.height,{class:"task"},r,t.colour)},"drawTask"),jZe=a(function(e,t){_C(e,{x:t.startx,y:t.starty,width:t.stopx-t.startx,height:t.stopy-t.starty,fill:t.fill,class:"rect"}).lower()},"drawBackgroundRect"),YZe=a(function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},"getTextObj"),CO=a(function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),Nge=function(){function e(i,o,s,u,f,p,g,y){let x=o.append("text").attr("x",s+f/2).attr("y",u+p/2+5).style("font-color",y).style("text-anchor","middle").text(i);n(x,g)}a(e,"byText");function t(i,o,s,u,f,p,g,y,x){let{taskFontSize:b,taskFontFamily:E}=y,A=i.split(/<br\s*\/?>/gi);for(let O=0;O<A.length;O++){let N=O*b-b*(A.length-1)/2,I=o.append("text").attr("x",s+f/2).attr("y",u).attr("fill",x).style("text-anchor","middle").style("font-size",b).style("font-family",E);I.append("tspan").attr("x",s+f/2).attr("dy",N).text(A[O]),I.attr("y",u+p/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(I,g)}}a(t,"byTspan");function r(i,o,s,u,f,p,g,y){let x=o.append("switch"),E=x.append("foreignObject").attr("x",s).attr("y",u).attr("width",f).attr("height",p).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");E.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),t(i,x,s,u,f,p,g,y),n(E,g)}a(r,"byFo");function n(i,o){for(let s in o)s in o&&i.attr(s,o[s])}return a(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?e:t}}(),XZe=a(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics");a(Pge,"wrap");KZe=a(function(e,t,r,n){let i=r%UZe-1,o=e.append("g");t.section=i,o.attr("class",(t.class?t.class+" ":"")+"timeline-node "+("section-"+i));let s=o.append("g"),u=o.append("g"),p=u.append("text").text(t.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(Pge,t.width).node().getBBox(),g=n.fontSize&&n.fontSize.replace?n.fontSize.replace("px",""):n.fontSize;return t.height=p.height+g*1.1*.5+t.padding,t.height=Math.max(t.height,t.maxHeight),t.width=t.width+2*t.padding,u.attr("transform","translate("+t.width/2+", "+t.padding/2+")"),ZZe(s,t,i,n),t},"drawNode"),QZe=a(function(e,t,r){let n=e.append("g"),o=n.append("text").text(t.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(Pge,t.width).node().getBBox(),s=r.fontSize&&r.fontSize.replace?r.fontSize.replace("px",""):r.fontSize;return n.remove(),o.height+s*1.1*.5+t.padding},"getVirtualNodeHeight"),ZZe=a(function(e,t,r){e.append("path").attr("id","node-"+t.id).attr("class","node-bkg node-"+t.type).attr("d",`M0 ${t.height-5} v${-t.height+2*5} q0,-5 5,-5 h${t.width-2*5} q5,0 5,5 v${t.height-5} H0 Z`),e.append("line").attr("class","node-line-"+r).attr("x1",0).attr("y1",t.height).attr("x2",t.width).attr("y2",t.height)},"defaultBkg"),qh={drawRect:_C,drawCircle:GZe,drawSection:WZe,drawText:Ige,drawLabel:VZe,drawTask:HZe,drawBackgroundRect:jZe,getTextObj:YZe,getNoteRect:CO,initGraphics:XZe,drawNode:KZe,getVirtualNodeHeight:QZe}});var JZe,Mge,eJe,Fge,Bge=F(()=>{"use strict";Zr();Oge();br();Pr();Si();JZe=a(function(e,t,r,n){let i=Me(),o=i.leftMargin??50;ye.debug("timeline",n.db);let s=i.securityLevel,u;s==="sandbox"&&(u=dt("#i"+t));let p=(s==="sandbox"?dt(u.nodes()[0].contentDocument.body):dt("body")).select("#"+t);p.append("g");let g=n.db.getTasks(),y=n.db.getCommonDb().getDiagramTitle();ye.debug("task",g),qh.initGraphics(p);let x=n.db.getSections();ye.debug("sections",x);let b=0,E=0,A=0,O=0,N=50+o,I=50;O=50;let $=0,X=!0;x.forEach(function(U){let W={number:$,descr:U,section:$,width:150,padding:20,maxHeight:b},D=qh.getVirtualNodeHeight(p,W,i);ye.debug("sectionHeight before draw",D),b=Math.max(b,D+20)});let q=0,M=0;ye.debug("tasks.length",g.length);for(let[U,W]of g.entries()){let D={number:U,descr:W,section:W.section,width:150,padding:20,maxHeight:E},K=qh.getVirtualNodeHeight(p,D,i);ye.debug("taskHeight before draw",K),E=Math.max(E,K+20),q=Math.max(q,W.events.length);let P=0;for(let re=0;re<W.events.length;re++){let ee={descr:W.events[re],section:W.section,number:W.section,width:150,padding:20,maxHeight:50};P+=qh.getVirtualNodeHeight(p,ee,i)}M=Math.max(M,P)}ye.debug("maxSectionHeight before draw",b),ye.debug("maxTaskHeight before draw",E),x&&x.length>0?x.forEach(U=>{let W=g.filter(re=>re.section===U),D={number:$,descr:U,section:$,width:200*Math.max(W.length,1)-50,padding:20,maxHeight:b};ye.debug("sectionNode",D);let K=p.append("g"),P=qh.drawNode(K,D,$,i);ye.debug("sectionNode output",P),K.attr("transform",`translate(${N}, ${O})`),I+=b+50,W.length>0&&Mge(p,W,$,N,I,E,i,q,M,b,!1),N+=200*Math.max(W.length,1),I=O,$++}):(X=!1,Mge(p,g,$,N,I,E,i,q,M,b,!0));let B=p.node().getBBox();ye.debug("bounds",B),y&&p.append("text").text(y).attr("x",B.width/2-o).attr("font-size","4ex").attr("font-weight","bold").attr("y",20),A=X?b+E+150:E+100,p.append("g").attr("class","lineWrapper").append("line").attr("x1",o).attr("y1",A).attr("x2",B.width+3*o).attr("y2",A).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)"),Ys(void 0,p,i.timeline?.padding??50,i.timeline?.useMaxWidth??!1)},"draw"),Mge=a(function(e,t,r,n,i,o,s,u,f,p,g){for(let y of t){let x={descr:y.task,section:r,number:r,width:150,padding:20,maxHeight:o};ye.debug("taskNode",x);let b=e.append("g").attr("class","taskWrapper"),A=qh.drawNode(b,x,r,s).height;if(ye.debug("taskHeight after draw",A),b.attr("transform",`translate(${n}, ${i})`),o=Math.max(o,A),y.events){let O=e.append("g").attr("class","lineWrapper"),N=o;i+=100,N=N+eJe(e,y.events,r,n,i,s),i-=100,O.append("line").attr("x1",n+190/2).attr("y1",i+o).attr("x2",n+190/2).attr("y2",i+o+(g?o:p)+f+120).attr("stroke-width",2).attr("stroke","black").attr("marker-end","url(#arrowhead)").attr("stroke-dasharray","5,5")}n=n+200,g&&!s.timeline?.disableMulticolor&&r++}i=i-10},"drawTasks"),eJe=a(function(e,t,r,n,i,o){let s=0,u=i;i=i+100;for(let f of t){let p={descr:f,section:r,number:r,width:150,padding:20,maxHeight:50};ye.debug("eventNode",p);let g=e.append("g").attr("class","eventWrapper"),x=qh.drawNode(g,p,r,o).height;s=s+x,g.attr("transform",`translate(${n}, ${i})`),i=i+10+x}return i=u,s},"drawEvents"),Fge={setConf:()=>{},draw:JZe}});var tJe,rJe,qge,zge=F(()=>{"use strict";xc();tJe=a(e=>{let t="";for(let r=0;r<e.THEME_COLOR_LIMIT;r++)e["lineColor"+r]=e["lineColor"+r]||e["cScaleInv"+r],vo(e["lineColor"+r])?e["lineColor"+r]=tr(e["lineColor"+r],20):e["lineColor"+r]=ur(e["lineColor"+r],20);for(let r=0;r<e.THEME_COLOR_LIMIT;r++){let n=""+(17-3*r);t+=`
    .section-${r-1} rect, .section-${r-1} path, .section-${r-1} circle, .section-${r-1} path  {
      fill: ${e["cScale"+r]};
    }
    .section-${r-1} text {
     fill: ${e["cScaleLabel"+r]};
    }
    .node-icon-${r-1} {
      font-size: 40px;
      color: ${e["cScaleLabel"+r]};
    }
    .section-edge-${r-1}{
      stroke: ${e["cScale"+r]};
    }
    .edge-depth-${r-1}{
      stroke-width: ${n};
    }
    .section-${r-1} line {
      stroke: ${e["cScaleInv"+r]} ;
      stroke-width: 3;
    }

    .lineWrapper line{
      stroke: ${e["cScaleLabel"+r]} ;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return t},"genSections"),rJe=a(e=>`
  .edge {
    stroke-width: 3;
  }
  ${tJe(e)}
  .section-root rect, .section-root path, .section-root circle  {
    fill: ${e.git0};
  }
  .section-root text {
    fill: ${e.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .eventWrapper  {
   filter: brightness(120%);
  }
`,"getStyles"),qge=rJe});var Uge={};ii(Uge,{diagram:()=>nJe});var nJe,$ge=F(()=>{"use strict";xge();Dge();Bge();zge();nJe={db:EO,renderer:Fge,parser:vge,styles:qge}});var SO,Wge,Hge=F(()=>{"use strict";SO=function(){var e=a(function(X,q,M,B){for(M=M||{},B=X.length;B--;M[X[B]]=q);return M},"o"),t=[1,4],r=[1,13],n=[1,12],i=[1,15],o=[1,16],s=[1,20],u=[1,19],f=[6,7,8],p=[1,26],g=[1,24],y=[1,25],x=[6,7,11],b=[1,6,13,15,16,19,22],E=[1,33],A=[1,34],O=[1,6,7,11,13,15,16,19,22],N={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,MINDMAP:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,ICON:15,CLASS:16,nodeWithId:17,nodeWithoutId:18,NODE_DSTART:19,NODE_DESCR:20,NODE_DEND:21,NODE_ID:22,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"MINDMAP",11:"EOF",13:"SPACELIST",15:"ICON",16:"CLASS",19:"NODE_DSTART",20:"NODE_DESCR",21:"NODE_DEND",22:"NODE_ID"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,2],[12,2],[12,2],[12,1],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[18,3],[17,1],[17,4]],performAction:a(function(q,M,B,G,U,W,D){var K=W.length-1;switch(U){case 6:case 7:return G;case 8:G.getLogger().trace("Stop NL ");break;case 9:G.getLogger().trace("Stop EOF ");break;case 11:G.getLogger().trace("Stop NL2 ");break;case 12:G.getLogger().trace("Stop EOF2 ");break;case 15:G.getLogger().info("Node: ",W[K].id),G.addNode(W[K-1].length,W[K].id,W[K].descr,W[K].type);break;case 16:G.getLogger().trace("Icon: ",W[K]),G.decorateNode({icon:W[K]});break;case 17:case 21:G.decorateNode({class:W[K]});break;case 18:G.getLogger().trace("SPACELIST");break;case 19:G.getLogger().trace("Node: ",W[K].id),G.addNode(0,W[K].id,W[K].descr,W[K].type);break;case 20:G.decorateNode({icon:W[K]});break;case 25:G.getLogger().trace("node found ..",W[K-2]),this.$={id:W[K-1],descr:W[K-1],type:G.getType(W[K-2],W[K])};break;case 26:this.$={id:W[K],descr:W[K],type:G.nodeType.DEFAULT};break;case 27:G.getLogger().trace("node found ..",W[K-3]),this.$={id:W[K-3],descr:W[K-1],type:G.getType(W[K-2],W[K])};break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:t},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:t},{6:r,7:[1,10],9:9,12:11,13:n,14:14,15:i,16:o,17:17,18:18,19:s,22:u},e(f,[2,3]),{1:[2,2]},e(f,[2,4]),e(f,[2,5]),{1:[2,6],6:r,12:21,13:n,14:14,15:i,16:o,17:17,18:18,19:s,22:u},{6:r,9:22,12:11,13:n,14:14,15:i,16:o,17:17,18:18,19:s,22:u},{6:p,7:g,10:23,11:y},e(x,[2,22],{17:17,18:18,14:27,15:[1,28],16:[1,29],19:s,22:u}),e(x,[2,18]),e(x,[2,19]),e(x,[2,20]),e(x,[2,21]),e(x,[2,23]),e(x,[2,24]),e(x,[2,26],{19:[1,30]}),{20:[1,31]},{6:p,7:g,10:32,11:y},{1:[2,7],6:r,12:21,13:n,14:14,15:i,16:o,17:17,18:18,19:s,22:u},e(b,[2,14],{7:E,11:A}),e(O,[2,8]),e(O,[2,9]),e(O,[2,10]),e(x,[2,15]),e(x,[2,16]),e(x,[2,17]),{20:[1,35]},{21:[1,36]},e(b,[2,13],{7:E,11:A}),e(O,[2,11]),e(O,[2,12]),{21:[1,37]},e(x,[2,25]),e(x,[2,27])],defaultActions:{2:[2,1],6:[2,2]},parseError:a(function(q,M){if(M.recoverable)this.trace(q);else{var B=new Error(q);throw B.hash=M,B}},"parseError"),parse:a(function(q){var M=this,B=[0],G=[],U=[null],W=[],D=this.table,K="",P=0,re=0,ce=0,ee=2,H=1,te=W.slice.call(arguments,1),J=Object.create(this.lexer),Y={yy:{}};for(var de in this.yy)Object.prototype.hasOwnProperty.call(this.yy,de)&&(Y.yy[de]=this.yy[de]);J.setInput(q,Y.yy),Y.yy.lexer=J,Y.yy.parser=this,typeof J.yylloc>"u"&&(J.yylloc={});var Fe=J.yylloc;W.push(Fe);var oe=J.options&&J.options.ranges;typeof Y.yy.parseError=="function"?this.parseError=Y.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function rt(He){B.length=B.length-2*He,U.length=U.length-He,W.length=W.length-He}a(rt,"popStack");function We(){var He;return He=G.pop()||J.lex()||H,typeof He!="number"&&(He instanceof Array&&(G=He,He=G.pop()),He=M.symbols_[He]||He),He}a(We,"lex");for(var _e,Ve,Ye,Le,fe,le,he={},xe,ke,pe,Ce;;){if(Ye=B[B.length-1],this.defaultActions[Ye]?Le=this.defaultActions[Ye]:((_e===null||typeof _e>"u")&&(_e=We()),Le=D[Ye]&&D[Ye][_e]),typeof Le>"u"||!Le.length||!Le[0]){var Ue="";Ce=[];for(xe in D[Ye])this.terminals_[xe]&&xe>ee&&Ce.push("'"+this.terminals_[xe]+"'");J.showPosition?Ue="Parse error on line "+(P+1)+`:
`+J.showPosition()+`
Expecting `+Ce.join(", ")+", got '"+(this.terminals_[_e]||_e)+"'":Ue="Parse error on line "+(P+1)+": Unexpected "+(_e==H?"end of input":"'"+(this.terminals_[_e]||_e)+"'"),this.parseError(Ue,{text:J.match,token:this.terminals_[_e]||_e,line:J.yylineno,loc:Fe,expected:Ce})}if(Le[0]instanceof Array&&Le.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ye+", token: "+_e);switch(Le[0]){case 1:B.push(_e),U.push(J.yytext),W.push(J.yylloc),B.push(Le[1]),_e=null,Ve?(_e=Ve,Ve=null):(re=J.yyleng,K=J.yytext,P=J.yylineno,Fe=J.yylloc,ce>0&&ce--);break;case 2:if(ke=this.productions_[Le[1]][1],he.$=U[U.length-ke],he._$={first_line:W[W.length-(ke||1)].first_line,last_line:W[W.length-1].last_line,first_column:W[W.length-(ke||1)].first_column,last_column:W[W.length-1].last_column},oe&&(he._$.range=[W[W.length-(ke||1)].range[0],W[W.length-1].range[1]]),le=this.performAction.apply(he,[K,re,P,Y.yy,Le[1],U,W].concat(te)),typeof le<"u")return le;ke&&(B=B.slice(0,-1*ke*2),U=U.slice(0,-1*ke),W=W.slice(0,-1*ke)),B.push(this.productions_[Le[1]][0]),U.push(he.$),W.push(he._$),pe=D[B[B.length-2]][B[B.length-1]],B.push(pe);break;case 3:return!0}}return!0},"parse")},I=function(){var X={EOF:1,parseError:a(function(M,B){if(this.yy.parser)this.yy.parser.parseError(M,B);else throw new Error(M)},"parseError"),setInput:function(q,M){return this.yy=M||this.yy||{},this._input=q,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var q=this._input[0];this.yytext+=q,this.yyleng++,this.offset++,this.match+=q,this.matched+=q;var M=q.match(/(?:\r\n?|\n).*/g);return M?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),q},unput:function(q){var M=q.length,B=q.split(/(?:\r\n?|\n)/g);this._input=q+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-M),this.offset-=M;var G=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),B.length-1&&(this.yylineno-=B.length-1);var U=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:B?(B.length===G.length?this.yylloc.first_column:0)+G[G.length-B.length].length-B[0].length:this.yylloc.first_column-M},this.options.ranges&&(this.yylloc.range=[U[0],U[0]+this.yyleng-M]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(q){this.unput(this.match.slice(q))},pastInput:function(){var q=this.matched.substr(0,this.matched.length-this.match.length);return(q.length>20?"...":"")+q.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var q=this.match;return q.length<20&&(q+=this._input.substr(0,20-q.length)),(q.substr(0,20)+(q.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var q=this.pastInput(),M=new Array(q.length+1).join("-");return q+this.upcomingInput()+`
`+M+"^"},test_match:function(q,M){var B,G,U;if(this.options.backtrack_lexer&&(U={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(U.yylloc.range=this.yylloc.range.slice(0))),G=q[0].match(/(?:\r\n?|\n).*/g),G&&(this.yylineno+=G.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:G?G[G.length-1].length-G[G.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+q[0].length},this.yytext+=q[0],this.match+=q[0],this.matches=q,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(q[0].length),this.matched+=q[0],B=this.performAction.call(this,this.yy,this,M,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),B)return B;if(this._backtrack){for(var W in U)this[W]=U[W];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var q,M,B,G;this._more||(this.yytext="",this.match="");for(var U=this._currentRules(),W=0;W<U.length;W++)if(B=this._input.match(this.rules[U[W]]),B&&(!M||B[0].length>M[0].length)){if(M=B,G=W,this.options.backtrack_lexer){if(q=this.test_match(B,U[W]),q!==!1)return q;if(this._backtrack){M=!1;continue}else return!1}else if(!this.options.flex)break}return M?(q=this.test_match(M,U[G]),q!==!1?q:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var M=this.next();return M||this.lex()},"lex"),begin:a(function(M){this.conditionStack.push(M)},"begin"),popState:a(function(){var M=this.conditionStack.length-1;return M>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(M){return M=this.conditionStack.length-1-Math.abs(M||0),M>=0?this.conditionStack[M]:"INITIAL"},"topState"),pushState:a(function(M){this.begin(M)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(M,B,G,U){var W=U;switch(G){case 0:return M.getLogger().trace("Found comment",B.yytext),6;break;case 1:return 8;case 2:this.begin("CLASS");break;case 3:return this.popState(),16;break;case 4:this.popState();break;case 5:M.getLogger().trace("Begin icon"),this.begin("ICON");break;case 6:return M.getLogger().trace("SPACELINE"),6;break;case 7:return 7;case 8:return 15;case 9:M.getLogger().trace("end icon"),this.popState();break;case 10:return M.getLogger().trace("Exploding node"),this.begin("NODE"),19;break;case 11:return M.getLogger().trace("Cloud"),this.begin("NODE"),19;break;case 12:return M.getLogger().trace("Explosion Bang"),this.begin("NODE"),19;break;case 13:return M.getLogger().trace("Cloud Bang"),this.begin("NODE"),19;break;case 14:return this.begin("NODE"),19;break;case 15:return this.begin("NODE"),19;break;case 16:return this.begin("NODE"),19;break;case 17:return this.begin("NODE"),19;break;case 18:return 13;case 19:return 22;case 20:return 11;case 21:this.begin("NSTR2");break;case 22:return"NODE_DESCR";case 23:this.popState();break;case 24:M.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 25:return M.getLogger().trace("description:",B.yytext),"NODE_DESCR";break;case 26:this.popState();break;case 27:return this.popState(),M.getLogger().trace("node end ))"),"NODE_DEND";break;case 28:return this.popState(),M.getLogger().trace("node end )"),"NODE_DEND";break;case 29:return this.popState(),M.getLogger().trace("node end ...",B.yytext),"NODE_DEND";break;case 30:return this.popState(),M.getLogger().trace("node end (("),"NODE_DEND";break;case 31:return this.popState(),M.getLogger().trace("node end (-"),"NODE_DEND";break;case 32:return this.popState(),M.getLogger().trace("node end (-"),"NODE_DEND";break;case 33:return this.popState(),M.getLogger().trace("node end (("),"NODE_DEND";break;case 34:return this.popState(),M.getLogger().trace("node end (("),"NODE_DEND";break;case 35:return M.getLogger().trace("Long description:",B.yytext),20;break;case 36:return M.getLogger().trace("Long description:",B.yytext),20;break}},"anonymous"),rules:[/^(?:\s*%%.*)/i,/^(?:mindmap\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{CLASS:{rules:[3,4],inclusive:!1},ICON:{rules:[8,9],inclusive:!1},NSTR2:{rules:[22,23],inclusive:!1},NSTR:{rules:[25,26],inclusive:!1},NODE:{rules:[21,24,27,28,29,30,31,32,33,34,35,36],inclusive:!1},INITIAL:{rules:[0,1,2,5,6,7,10,11,12,13,14,15,16,17,18,19,20],inclusive:!0}}};return X}();N.lexer=I;function $(){this.yy={}}return a($,"Parser"),$.prototype=N,N.Parser=$,new $}();SO.parser=SO;Wge=SO});var Dx={};ii(Dx,{addNode:()=>uJe,clear:()=>sJe,decorateNode:()=>hJe,getElementById:()=>Rx,getLogger:()=>pJe,getMindmap:()=>cJe,getNodeById:()=>mJe,getType:()=>fJe,nodeType:()=>Wn,parseError:()=>Yge,sanitizeText:()=>Ax,setElementForId:()=>RO,setErrorHandler:()=>dJe,type2Str:()=>zh});var Ax,cl,jge,AO,sJe,lJe,cJe,uJe,Wn,fJe,RO,hJe,zh,Yge,dJe,pJe,mJe,Rx,wC=F(()=>{"use strict";Pr();en();br();Ax=a(e=>zn(e,Me()),"sanitizeText"),cl=[],jge=0,AO={},sJe=a(()=>{cl=[],jge=0,AO={}},"clear"),lJe=a(function(e){for(let t=cl.length-1;t>=0;t--)if(cl[t].level<e)return cl[t];return null},"getParent"),cJe=a(()=>cl.length>0?cl[0]:null,"getMindmap"),uJe=a((e,t,r,n)=>{ye.info("addNode",e,t,r,n);let i=Me(),o={id:jge++,nodeId:Ax(t),level:e,descr:Ax(r),type:n,children:[],width:Me().mindmap.maxNodeWidth};switch(o.type){case Wn.ROUNDED_RECT:o.padding=2*i.mindmap.padding;break;case Wn.RECT:o.padding=2*i.mindmap.padding;break;case Wn.HEXAGON:o.padding=2*i.mindmap.padding;break;default:o.padding=i.mindmap.padding}let s=lJe(e);if(s)s.children.push(o),cl.push(o);else if(cl.length===0)cl.push(o);else{let u=new Error('There can be only one root. No parent could be found for ("'+o.descr+'")');throw u.hash={text:"branch "+name,token:"branch "+name,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"checkout '+name+'"']},u}},"addNode"),Wn={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},fJe=a((e,t)=>{switch(ye.debug("In get type",e,t),e){case"[":return Wn.RECT;case"(":return t===")"?Wn.ROUNDED_RECT:Wn.CLOUD;case"((":return Wn.CIRCLE;case")":return Wn.CLOUD;case"))":return Wn.BANG;case"{{":return Wn.HEXAGON;default:return Wn.DEFAULT}},"getType"),RO=a((e,t)=>{AO[e]=t},"setElementForId"),hJe=a(e=>{let t=cl[cl.length-1];e&&e.icon&&(t.icon=Ax(e.icon)),e&&e.class&&(t.class=Ax(e.class))},"decorateNode"),zh=a(e=>{switch(e){case Wn.DEFAULT:return"no-border";case Wn.RECT:return"rect";case Wn.ROUNDED_RECT:return"rounded-rect";case Wn.CIRCLE:return"circle";case Wn.CLOUD:return"cloud";case Wn.BANG:return"bang";case Wn.HEXAGON:return"hexgon";default:return"no-border"}},"type2Str"),dJe=a(e=>{Yge=e},"setErrorHandler"),pJe=a(()=>ye,"getLogger"),mJe=a(e=>cl[e],"getNodeById"),Rx=a(e=>AO[e],"getElementById")});function TJe(e,t,r,n,i){return e.insert("polygon",":first-child").attr("points",n.map(function(o){return o.x+","+o.y}).join(" ")).attr("transform","translate("+(i.width-t)/2+", "+r+")")}var Xge,gJe,yJe,vJe,xJe,bJe,kJe,_Je,wJe,EJe,CJe,DO,Kge=F(()=>{"use strict";Zr();wC();vg();Xge=12,gJe=a(function(e,t,r){e.append("path").attr("id","node-"+t.id).attr("class","node-bkg node-"+zh(t.type)).attr("d",`M0 ${t.height-5} v${-t.height+2*5} q0,-5 5,-5 h${t.width-2*5} q5,0 5,5 v${t.height-5} H0 Z`),e.append("line").attr("class","node-line-"+r).attr("x1",0).attr("y1",t.height).attr("x2",t.width).attr("y2",t.height)},"defaultBkg"),yJe=a(function(e,t){e.append("rect").attr("id","node-"+t.id).attr("class","node-bkg node-"+zh(t.type)).attr("height",t.height).attr("width",t.width)},"rectBkg"),vJe=a(function(e,t){let r=t.width,n=t.height,i=.15*r,o=.25*r,s=.35*r,u=.2*r;e.append("path").attr("id","node-"+t.id).attr("class","node-bkg node-"+zh(t.type)).attr("d",`M0 0 a${i},${i} 0 0,1 ${r*.25},${-1*r*.1}
      a${s},${s} 1 0,1 ${r*.4},${-1*r*.1}
      a${o},${o} 1 0,1 ${r*.35},${1*r*.2}

      a${i},${i} 1 0,1 ${r*.15},${1*n*.35}
      a${u},${u} 1 0,1 ${-1*r*.15},${1*n*.65}

      a${o},${i} 1 0,1 ${-1*r*.25},${r*.15}
      a${s},${s} 1 0,1 ${-1*r*.5},0
      a${i},${i} 1 0,1 ${-1*r*.25},${-1*r*.15}

      a${i},${i} 1 0,1 ${-1*r*.1},${-1*n*.35}
      a${u},${u} 1 0,1 ${r*.1},${-1*n*.65}

    H0 V0 Z`)},"cloudBkg"),xJe=a(function(e,t){let r=t.width,n=t.height,i=.15*r;e.append("path").attr("id","node-"+t.id).attr("class","node-bkg node-"+zh(t.type)).attr("d",`M0 0 a${i},${i} 1 0,0 ${r*.25},${-1*n*.1}
      a${i},${i} 1 0,0 ${r*.25},0
      a${i},${i} 1 0,0 ${r*.25},0
      a${i},${i} 1 0,0 ${r*.25},${1*n*.1}

      a${i},${i} 1 0,0 ${r*.15},${1*n*.33}
      a${i*.8},${i*.8} 1 0,0 0,${1*n*.34}
      a${i},${i} 1 0,0 ${-1*r*.15},${1*n*.33}

      a${i},${i} 1 0,0 ${-1*r*.25},${n*.15}
      a${i},${i} 1 0,0 ${-1*r*.25},0
      a${i},${i} 1 0,0 ${-1*r*.25},0
      a${i},${i} 1 0,0 ${-1*r*.25},${-1*n*.15}

      a${i},${i} 1 0,0 ${-1*r*.1},${-1*n*.33}
      a${i*.8},${i*.8} 1 0,0 0,${-1*n*.34}
      a${i},${i} 1 0,0 ${r*.1},${-1*n*.33}

    H0 V0 Z`)},"bangBkg"),bJe=a(function(e,t){e.append("circle").attr("id","node-"+t.id).attr("class","node-bkg node-"+zh(t.type)).attr("r",t.width/2)},"circleBkg");a(TJe,"insertPolygonShape");kJe=a(function(e,t){let r=t.height,i=r/4,o=t.width-t.padding+2*i,s=[{x:i,y:0},{x:o-i,y:0},{x:o,y:-r/2},{x:o-i,y:-r},{x:i,y:-r},{x:0,y:-r/2}],u=TJe(e,o,r,s,t)},"hexagonBkg"),_Je=a(function(e,t){e.append("rect").attr("id","node-"+t.id).attr("class","node-bkg node-"+zh(t.type)).attr("height",t.height).attr("rx",t.padding).attr("ry",t.padding).attr("width",t.width)},"roundedRectBkg"),wJe=a(function(e,t,r,n){let i=n.htmlLabels,o=r%(Xge-1),s=e.append("g");t.section=o;let u="section-"+o;o<0&&(u+=" section-root"),s.attr("class",(t.class?t.class+" ":"")+"mindmap-node "+u);let f=s.append("g"),p=s.append("g"),g=t.descr.replace(/(<br\/*>)/g,`
`),y=ph(p,g,{useHtmlLabels:i,width:t.width,classes:"mindmap-node-label"});i||p.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle");let x=p.node().getBBox(),b=n.fontSize.replace?n.fontSize.replace("px",""):n.fontSize;if(t.height=x.height+b*1.1*.5+t.padding,t.width=x.width+2*t.padding,t.icon)if(t.type===Wn.CIRCLE)t.height+=50,t.width+=50,s.append("foreignObject").attr("height","50px").attr("width",t.width).attr("style","text-align: center;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+o+" "+t.icon),p.attr("transform","translate("+t.width/2+", "+(t.height/2-1.5*t.padding)+")");else{t.width+=50;let E=t.height;t.height=Math.max(E,60);let A=Math.abs(t.height-E);s.append("foreignObject").attr("width","60px").attr("height",t.height).attr("style","text-align: center;margin-top:"+A/2+"px;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+o+" "+t.icon),p.attr("transform","translate("+(25+t.width/2)+", "+(A/2+t.padding/2)+")")}else if(i){let E=(t.width-x.width)/2,A=(t.height-x.height)/2;p.attr("transform","translate("+E+", "+A+")")}else{let E=t.width/2,A=t.padding/2;p.attr("transform","translate("+E+", "+A+")")}switch(t.type){case Wn.DEFAULT:gJe(f,t,o,n);break;case Wn.ROUNDED_RECT:_Je(f,t,o,n);break;case Wn.RECT:yJe(f,t,o,n);break;case Wn.CIRCLE:f.attr("transform","translate("+t.width/2+", "+ +t.height/2+")"),bJe(f,t,o,n);break;case Wn.CLOUD:vJe(f,t,o,n);break;case Wn.BANG:xJe(f,t,o,n);break;case Wn.HEXAGON:kJe(f,t,o,n);break}return RO(t.id,s),t.height},"drawNode"),EJe=a(function(t,r,n,i,o){let s=o%(Xge-1),u=n.x+n.width/2,f=n.y+n.height/2,p=r.x+r.width/2,g=r.y+r.height/2,y=p>u?u+Math.abs(u-p)/2:u-Math.abs(u-p)/2,x=g>f?f+Math.abs(f-g)/2:f-Math.abs(f-g)/2,b=p>u?Math.abs(u-y)/2+u:-Math.abs(u-y)/2+u,E=g>f?Math.abs(f-x)/2+f:-Math.abs(f-x)/2+f;t.append("path").attr("d",n.direction==="TB"||n.direction==="BT"?`M${u},${f} Q${u},${E} ${y},${x} T${p},${g}`:`M${u},${f} Q${b},${f} ${y},${x} T${p},${g}`).attr("class","edge section-edge-"+s+" edge-depth-"+i)},"drawEdge"),CJe=a(function(e){let t=Rx(e.id),r=e.x||0,n=e.y||0;t.attr("transform","translate("+r+","+n+")")},"positionNode"),DO={drawNode:wJe,positionNode:CJe,drawEdge:EJe}});var Qge=fc((LO,IO)=>{"use strict";(function(e,t){typeof LO=="object"&&typeof IO<"u"?IO.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self,e.cytoscape=t())})(LO,function(){"use strict";function e(h){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},e(h)}a(e,"_typeof");function t(h,l){if(!(h instanceof l))throw new TypeError("Cannot call a class as a function")}a(t,"_classCallCheck");function r(h,l){for(var d=0;d<l.length;d++){var m=l[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}a(r,"_defineProperties");function n(h,l,d){return l&&r(h.prototype,l),d&&r(h,d),Object.defineProperty(h,"prototype",{writable:!1}),h}a(n,"_createClass");function i(h,l,d){return l in h?Object.defineProperty(h,l,{value:d,enumerable:!0,configurable:!0,writable:!0}):h[l]=d,h}a(i,"_defineProperty$1");function o(h,l){return s(h)||u(h,l)||f(h,l)||g()}a(o,"_slicedToArray");function s(h){if(Array.isArray(h))return h}a(s,"_arrayWithHoles");function u(h,l){var d=h==null?null:typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(d!=null){var m=[],v=!0,T=!1,k,w;try{for(d=d.call(h);!(v=(k=d.next()).done)&&(m.push(k.value),!(l&&m.length===l));v=!0);}catch(S){T=!0,w=S}finally{try{!v&&d.return!=null&&d.return()}finally{if(T)throw w}}return m}}a(u,"_iterableToArrayLimit");function f(h,l){if(h){if(typeof h=="string")return p(h,l);var d=Object.prototype.toString.call(h).slice(8,-1);if(d==="Object"&&h.constructor&&(d=h.constructor.name),d==="Map"||d==="Set")return Array.from(h);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return p(h,l)}}a(f,"_unsupportedIterableToArray");function p(h,l){(l==null||l>h.length)&&(l=h.length);for(var d=0,m=new Array(l);d<l;d++)m[d]=h[d];return m}a(p,"_arrayLikeToArray");function g(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}a(g,"_nonIterableRest");var y=typeof window>"u"?null:window,x=y?y.navigator:null;y&&y.document;var b=e(""),E=e({}),A=e(function(){}),O=typeof HTMLElement>"u"?"undefined":e(HTMLElement),N=a(function(l){return l&&l.instanceString&&$(l.instanceString)?l.instanceString():null},"instanceStr"),I=a(function(l){return l!=null&&e(l)==b},"string"),$=a(function(l){return l!=null&&e(l)===A},"fn"),X=a(function(l){return!W(l)&&(Array.isArray?Array.isArray(l):l!=null&&l instanceof Array)},"array"),q=a(function(l){return l!=null&&e(l)===E&&!X(l)&&l.constructor===Object},"plainObject"),M=a(function(l){return l!=null&&e(l)===E},"object"),B=a(function(l){return l!=null&&e(l)===e(1)&&!isNaN(l)},"number"),G=a(function(l){return B(l)&&Math.floor(l)===l},"integer"),U=a(function(l){if(O!=="undefined")return l!=null&&l instanceof HTMLElement},"htmlElement"),W=a(function(l){return D(l)||K(l)},"elementOrCollection"),D=a(function(l){return N(l)==="collection"&&l._private.single},"element"),K=a(function(l){return N(l)==="collection"&&!l._private.single},"collection"),P=a(function(l){return N(l)==="core"},"core"),re=a(function(l){return N(l)==="stylesheet"},"stylesheet"),ce=a(function(l){return N(l)==="event"},"event"),ee=a(function(l){return l==null?!0:!!(l===""||l.match(/^\s+$/))},"emptyString"),H=a(function(l){return typeof HTMLElement>"u"?!1:l instanceof HTMLElement},"domElement"),te=a(function(l){return q(l)&&B(l.x1)&&B(l.x2)&&B(l.y1)&&B(l.y2)},"boundingBox"),J=a(function(l){return M(l)&&$(l.then)},"promise"),Y=a(function(){return x&&x.userAgent.match(/msie|trident|edge/i)},"ms"),de=a(function(l,d){d||(d=a(function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var T=[],k=0;k<arguments.length;k++)T.push(arguments[k]);return T.join("$")},"keyFn"));var m=a(function v(){var T=this,k=arguments,w,S=d.apply(T,k),C=v.cache;return(w=C[S])||(w=C[S]=l.apply(T,k)),w},"memoizedFn");return m.cache={},m},"memoize"),Fe=de(function(h){return h.replace(/([A-Z])/g,function(l){return"-"+l.toLowerCase()})}),oe=de(function(h){return h.replace(/(-\w)/g,function(l){return l[1].toUpperCase()})}),rt=de(function(h,l){return h+l[0].toUpperCase()+l.substring(1)},function(h,l){return h+"$"+l}),We=a(function(l){return ee(l)?l:l.charAt(0).toUpperCase()+l.substring(1)},"capitalize"),_e="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",Ve="rgb[a]?\\(("+_e+"[%]?)\\s*,\\s*("+_e+"[%]?)\\s*,\\s*("+_e+"[%]?)(?:\\s*,\\s*("+_e+"))?\\)",Ye="rgb[a]?\\((?:"+_e+"[%]?)\\s*,\\s*(?:"+_e+"[%]?)\\s*,\\s*(?:"+_e+"[%]?)(?:\\s*,\\s*(?:"+_e+"))?\\)",Le="hsl[a]?\\(("+_e+")\\s*,\\s*("+_e+"[%])\\s*,\\s*("+_e+"[%])(?:\\s*,\\s*("+_e+"))?\\)",fe="hsl[a]?\\((?:"+_e+")\\s*,\\s*(?:"+_e+"[%])\\s*,\\s*(?:"+_e+"[%])(?:\\s*,\\s*(?:"+_e+"))?\\)",le="\\#[0-9a-fA-F]{3}",he="\\#[0-9a-fA-F]{6}",xe=a(function(l,d){return l<d?-1:l>d?1:0},"ascending"),ke=a(function(l,d){return-1*xe(l,d)},"descending"),pe=Object.assign!=null?Object.assign.bind(Object):function(h){for(var l=arguments,d=1;d<l.length;d++){var m=l[d];if(m!=null)for(var v=Object.keys(m),T=0;T<v.length;T++){var k=v[T];h[k]=m[k]}}return h},Ce=a(function(l){if(!(!(l.length===4||l.length===7)||l[0]!=="#")){var d=l.length===4,m,v,T,k=16;return d?(m=parseInt(l[1]+l[1],k),v=parseInt(l[2]+l[2],k),T=parseInt(l[3]+l[3],k)):(m=parseInt(l[1]+l[2],k),v=parseInt(l[3]+l[4],k),T=parseInt(l[5]+l[6],k)),[m,v,T]}},"hex2tuple"),Ue=a(function(l){var d,m,v,T,k,w,S,C;function R(j,Q,ne){return ne<0&&(ne+=1),ne>1&&(ne-=1),ne<1/6?j+(Q-j)*6*ne:ne<1/2?Q:ne<2/3?j+(Q-j)*(2/3-ne)*6:j}a(R,"hue2rgb");var L=new RegExp("^"+Le+"$").exec(l);if(L){if(m=parseInt(L[1]),m<0?m=(360- -1*m%360)%360:m>360&&(m=m%360),m/=360,v=parseFloat(L[2]),v<0||v>100||(v=v/100,T=parseFloat(L[3]),T<0||T>100)||(T=T/100,k=L[4],k!==void 0&&(k=parseFloat(k),k<0||k>1)))return;if(v===0)w=S=C=Math.round(T*255);else{var z=T<.5?T*(1+v):T+v-T*v,V=2*T-z;w=Math.round(255*R(V,z,m+1/3)),S=Math.round(255*R(V,z,m)),C=Math.round(255*R(V,z,m-1/3))}d=[w,S,C,k]}return d},"hsl2tuple"),He=a(function(l){var d,m=new RegExp("^"+Ve+"$").exec(l);if(m){d=[];for(var v=[],T=1;T<=3;T++){var k=m[T];if(k[k.length-1]==="%"&&(v[T]=!0),k=parseFloat(k),v[T]&&(k=k/100*255),k<0||k>255)return;d.push(Math.floor(k))}var w=v[1]||v[2]||v[3],S=v[1]&&v[2]&&v[3];if(w&&!S)return;var C=m[4];if(C!==void 0){if(C=parseFloat(C),C<0||C>1)return;d.push(C)}}return d},"rgb2tuple"),Pt=a(function(l){return Xt[l.toLowerCase()]},"colorname2tuple"),Lt=a(function(l){return(X(l)?l:null)||Pt(l)||Ce(l)||He(l)||Ue(l)},"color2tuple"),Xt={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Kt=a(function(l){for(var d=l.map,m=l.keys,v=m.length,T=0;T<v;T++){var k=m[T];if(q(k))throw Error("Tried to set map with object key");T<m.length-1?(d[k]==null&&(d[k]={}),d=d[k]):d[k]=l.value}},"setMap"),kr=a(function(l){for(var d=l.map,m=l.keys,v=m.length,T=0;T<v;T++){var k=m[T];if(q(k))throw Error("Tried to get map with object key");if(d=d[k],d==null)return d}return d},"getMap");function bt(h){var l=typeof h;return h!=null&&(l=="object"||l=="function")}a(bt,"isObject");var gt=bt,qt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ze(h,l){return l={exports:{}},h(l,l.exports),l.exports}a(ze,"createCommonjsModule");var $e=typeof qt=="object"&&qt&&qt.Object===Object&&qt,Te=$e,pt=typeof self=="object"&&self&&self.Object===Object&&self,it=Te||pt||Function("return this")(),Qt=it,_r=a(function(){return Qt.Date.now()},"now"),Zt=_r,mr=/\s/;function sn(h){for(var l=h.length;l--&&mr.test(h.charAt(l)););return l}a(sn,"trimmedEndIndex");var ir=sn,xr=/^\s+/;function Yt(h){return h&&h.slice(0,ir(h)+1).replace(xr,"")}a(Yt,"baseTrim");var hn=Yt,dn=Qt.Symbol,pn=dn,tn=Object.prototype,rn=tn.hasOwnProperty,Qe=tn.toString,ge=pn?pn.toStringTag:void 0;function Re(h){var l=rn.call(h,ge),d=h[ge];try{h[ge]=void 0;var m=!0}catch{}var v=Qe.call(h);return m&&(l?h[ge]=d:delete h[ge]),v}a(Re,"getRawTag");var Pe=Re,Ee=Object.prototype,se=Ee.toString;function Ze(h){return se.call(h)}a(Ze,"objectToString");var ue=Ze,Ot="[object Null]",Ae="[object Undefined]",et=pn?pn.toStringTag:void 0;function vt(h){return h==null?h===void 0?Ae:Ot:et&&et in Object(h)?Pe(h):ue(h)}a(vt,"baseGetTag");var It=vt;function Cr(h){return h!=null&&typeof h=="object"}a(Cr,"isObjectLike");var jt=Cr,Or="[object Symbol]";function $r(h){return typeof h=="symbol"||jt(h)&&It(h)==Or}a($r,"isSymbol");var hr=$r,Vr=0/0,Nr=/^[-+]0x[0-9a-f]+$/i,ln=/^0b[01]+$/i,di=/^0o[0-7]+$/i,ri=parseInt;function Da(h){if(typeof h=="number")return h;if(hr(h))return Vr;if(gt(h)){var l=typeof h.valueOf=="function"?h.valueOf():h;h=gt(l)?l+"":l}if(typeof h!="string")return h===0?h:+h;h=hn(h);var d=ln.test(h);return d||di.test(h)?ri(h.slice(2),d?2:8):Nr.test(h)?Vr:+h}a(Da,"toNumber");var Vh=Da,Wh="Expected a function",Io=Math.max,ar=Math.min;function dr(h,l,d){var m,v,T,k,w,S,C=0,R=!1,L=!1,z=!0;if(typeof h!="function")throw new TypeError(Wh);l=Vh(l)||0,gt(d)&&(R=!!d.leading,L="maxWait"in d,T=L?Io(Vh(d.maxWait)||0,l):T,z="trailing"in d?!!d.trailing:z);function V(we){var ve=m,Ie=v;return m=v=void 0,C=we,k=h.apply(Ie,ve),k}a(V,"invokeFunc");function j(we){return C=we,w=setTimeout(Z,l),R?V(we):k}a(j,"leadingEdge");function Q(we){var ve=we-S,Ie=we-C,be=l-ve;return L?ar(be,T-Ie):be}a(Q,"remainingWait");function ne(we){var ve=we-S,Ie=we-C;return S===void 0||ve>=l||ve<0||L&&Ie>=T}a(ne,"shouldInvoke");function Z(){var we=Zt();if(ne(we))return ie(we);w=setTimeout(Z,Q(we))}a(Z,"timerExpired");function ie(we){return w=void 0,z&&m?V(we):(m=v=void 0,k)}a(ie,"trailingEdge");function ae(){w!==void 0&&clearTimeout(w),C=0,m=S=v=w=void 0}a(ae,"cancel");function me(){return w===void 0?k:ie(Zt())}a(me,"flush");function De(){var we=Zt(),ve=ne(we);if(m=arguments,v=this,S=we,ve){if(w===void 0)return j(S);if(L)return clearTimeout(w),w=setTimeout(Z,l),V(S)}return w===void 0&&(w=setTimeout(Z,l)),k}return a(De,"debounced"),De.cancel=ae,De.flush=me,De}a(dr,"debounce");var Er=dr,Ut=y?y.performance:null,vn=Ut&&Ut.now?function(){return Ut.now()}:function(){return Date.now()},Ge=function(){if(y){if(y.requestAnimationFrame)return function(h){y.requestAnimationFrame(h)};if(y.mozRequestAnimationFrame)return function(h){y.mozRequestAnimationFrame(h)};if(y.webkitRequestAnimationFrame)return function(h){y.webkitRequestAnimationFrame(h)};if(y.msRequestAnimationFrame)return function(h){y.msRequestAnimationFrame(h)}}return function(h){h&&setTimeout(function(){h(vn())},1e3/60)}}(),No=a(function(l){return Ge(l)},"requestAnimationFrame"),je=vn,pi=9261,nc=65599,ma=5381,ul=a(function(l){for(var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pi,m=d,v;v=l.next(),!v.done;)m=m*nc+v.value|0;return m},"hashIterableInts"),Rs=a(function(l){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pi;return d*nc+l|0},"hashInt"),fl=a(function(l){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ma;return(d<<5)+d+l|0},"hashIntAlt"),ki=a(function(l,d){return l*2097152+d},"combineHashes"),mi=a(function(l){return l[0]*2097152+l[1]},"combineHashesArray"),ic=a(function(l,d){return[Rs(l[0],d[0]),fl(l[1],d[1])]},"hashArrays"),Hh=a(function(l,d){var m={value:0,done:!1},v=0,T=l.length,k={next:a(function(){return v<T?m.value=l[v++]:m.done=!0,m},"next")};return ul(k,d)},"hashIntsArray"),Bn=a(function(l,d){var m={value:0,done:!1},v=0,T=l.length,k={next:a(function(){return v<T?m.value=l.charCodeAt(v++):m.done=!0,m},"next")};return ul(k,d)},"hashString"),ac=a(function(){return b0(arguments)},"hashStrings"),b0=a(function(l){for(var d,m=0;m<l.length;m++){var v=l[m];m===0?d=Bn(v):d=Bn(v,d)}return d},"hashStringsArray"),Oi=!0,Kc=console.warn!=null,Ds=console.trace!=null,Ji=Number.MAX_SAFE_INTEGER||9007199254740991,T0=a(function(){return!0},"trueify"),is=a(function(){return!1},"falsify"),as=a(function(){return 0},"zeroify"),oc=a(function(){},"noop"),Wr=a(function(l){throw new Error(l)},"error"),Qc=a(function(l){if(l!==void 0)Oi=!!l;else return Oi},"warnings"),Kr=a(function(l){Qc()&&(Kc?console.warn(l):(console.log(l),Ds&&console.trace()))},"warn"),rf=a(function(l){return pe({},l)},"clone"),Qn=a(function(l){return l==null?l:X(l)?l.slice():q(l)?rf(l):l},"copy"),Np=a(function(l){return l.slice()},"copyArray"),Ls=a(function(l,d){for(d=l="";l++<36;d+=l*51&52?(l^15?8^Math.random()*(l^20?16:4):4).toString(16):"-");return d},"uuid"),Vx={},k0=a(function(){return Vx},"staticEmptyObject"),Vi=a(function(l){var d=Object.keys(l);return function(m){for(var v={},T=0;T<d.length;T++){var k=d[T],w=m?.[k];v[k]=w===void 0?l[k]:w}return v}},"defaults"),hl=a(function(l,d,m){for(var v=l.length-1;v>=0&&!(l[v]===d&&(l.splice(v,1),m));v--);},"removeFromArray"),_0=a(function(l){l.splice(0,l.length)},"clearArray"),gr=a(function(l,d){for(var m=0;m<d.length;m++){var v=d[m];l.push(v)}},"push"),tt=a(function(l,d,m){return m&&(d=rt(m,d)),l[d]},"getPrefixedProperty"),Mt=a(function(l,d,m,v){m&&(d=rt(m,d)),l[d]=v},"setPrefixedProperty"),Jt=function(){function h(){t(this,h),this._obj={}}return a(h,"ObjectMap"),n(h,[{key:"set",value:a(function(d,m){return this._obj[d]=m,this},"set")},{key:"delete",value:a(function(d){return this._obj[d]=void 0,this},"_delete")},{key:"clear",value:a(function(){this._obj={}},"clear")},{key:"has",value:a(function(d){return this._obj[d]!==void 0},"has")},{key:"get",value:a(function(d){return this._obj[d]},"get")}]),h}(),Xr=typeof Map<"u"?Map:Jt,Wi="undefined",Po=function(){function h(l){if(t(this,h),this._obj=Object.create(null),this.size=0,l!=null){var d;l.instanceString!=null&&l.instanceString()===this.instanceString()?d=l.toArray():d=l;for(var m=0;m<d.length;m++)this.add(d[m])}}return a(h,"ObjectSet"),n(h,[{key:"instanceString",value:a(function(){return"set"},"instanceString")},{key:"add",value:a(function(d){var m=this._obj;m[d]!==1&&(m[d]=1,this.size++)},"add")},{key:"delete",value:a(function(d){var m=this._obj;m[d]===1&&(m[d]=0,this.size--)},"_delete")},{key:"clear",value:a(function(){this._obj=Object.create(null)},"clear")},{key:"has",value:a(function(d){return this._obj[d]===1},"has")},{key:"toArray",value:a(function(){var d=this;return Object.keys(this._obj).filter(function(m){return d.has(m)})},"toArray")},{key:"forEach",value:a(function(d,m){return this.toArray().forEach(d,m)},"forEach")}]),h}(),Cn=(typeof Set>"u"?"undefined":e(Set))!==Wi?Set:Po,fo=a(function(l,d){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(l===void 0||d===void 0||!P(l)){Wr("An element must have a core reference and parameters set");return}var v=d.group;if(v==null&&(d.data&&d.data.source!=null&&d.data.target!=null?v="edges":v="nodes"),v!=="nodes"&&v!=="edges"){Wr("An element must be of type `nodes` or `edges`; you specified `"+v+"`");return}this.length=1,this[0]=this;var T=this._private={cy:l,single:!0,data:d.data||{},position:d.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:v,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!d.selected,selectable:d.selectable===void 0?!0:!!d.selectable,locked:!!d.locked,grabbed:!1,grabbable:d.grabbable===void 0?!0:!!d.grabbable,pannable:d.pannable===void 0?v==="edges":!!d.pannable,active:!1,classes:new Cn,animation:{current:[],queue:[]},rscratch:{},scratch:d.scratch||{},edges:[],children:[],parent:d.parent&&d.parent.isNode()?d.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(T.position.x==null&&(T.position.x=0),T.position.y==null&&(T.position.y=0),d.renderedPosition){var k=d.renderedPosition,w=l.pan(),S=l.zoom();T.position={x:(k.x-w.x)/S,y:(k.y-w.y)/S}}var C=[];X(d.classes)?C=d.classes:I(d.classes)&&(C=d.classes.split(/\s+/));for(var R=0,L=C.length;R<L;R++){var z=C[R];!z||z===""||T.classes.add(z)}this.createEmitter();var V=d.style||d.css;V&&(Kr("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(V)),(m===void 0||m)&&this.restore()},"Element"),Pp=a(function(l){return l={bfs:l.bfs||!l.dfs,dfs:l.dfs||!l.bfs},a(function(m,v,T){var k;q(m)&&!W(m)&&(k=m,m=k.roots||k.root,v=k.visit,T=k.directed),T=arguments.length===2&&!$(v)?v:T,v=$(v)?v:function(){};for(var w=this._private.cy,S=m=I(m)?this.filter(m):m,C=[],R=[],L={},z={},V={},j=0,Q,ne=this.byGroup(),Z=ne.nodes,ie=ne.edges,ae=0;ae<S.length;ae++){var me=S[ae],De=me.id();me.isNode()&&(C.unshift(me),l.bfs&&(V[De]=!0,R.push(me)),z[De]=0)}for(var we=a(function(){var Xe=l.bfs?C.shift():C.pop(),qe=Xe.id();if(l.dfs){if(V[qe])return"continue";V[qe]=!0,R.push(Xe)}var ot=z[qe],Ke=L[qe],Je=Ke!=null?Ke.source():null,lt=Ke!=null?Ke.target():null,ht=Ke==null?void 0:Xe.same(Je)?lt[0]:Je[0],xt=void 0;if(xt=v(Xe,Ke,ht,j++,ot),xt===!0)return Q=Xe,"break";if(xt===!1)return"break";for(var ut=Xe.connectedEdges().filter(function(Tt){return(!T||Tt.source().same(Xe))&&ie.has(Tt)}),yt=0;yt<ut.length;yt++){var Ct=ut[yt],At=Ct.connectedNodes().filter(function(Tt){return!Tt.same(Xe)&&Z.has(Tt)}),wt=At.id();At.length!==0&&!V[wt]&&(At=At[0],C.push(At),l.bfs&&(V[wt]=!0,R.push(At)),L[wt]=Ct,z[wt]=z[qe]+1)}},"_loop");C.length!==0;){var ve=we();if(ve!=="continue"&&ve==="break")break}for(var Ie=w.collection(),be=0;be<R.length;be++){var Oe=R[be],Be=L[Oe.id()];Be!=null&&Ie.push(Be),Ie.push(Oe)}return{path:w.collection(Ie),found:w.collection(Q)}},"searchFn")},"defineSearch"),nf={breadthFirstSearch:Pp({bfs:!0}),depthFirstSearch:Pp({dfs:!0})};nf.bfs=nf.breadthFirstSearch,nf.dfs=nf.depthFirstSearch;var dM=ze(function(h,l){(function(){var d,m,v,T,k,w,S,C,R,L,z,V,j,Q,ne;v=Math.floor,L=Math.min,m=a(function(Z,ie){return Z<ie?-1:Z>ie?1:0},"defaultCmp"),R=a(function(Z,ie,ae,me,De){var we;if(ae==null&&(ae=0),De==null&&(De=m),ae<0)throw new Error("lo must be non-negative");for(me==null&&(me=Z.length);ae<me;)we=v((ae+me)/2),De(ie,Z[we])<0?me=we:ae=we+1;return[].splice.apply(Z,[ae,ae-ae].concat(ie)),ie},"insort"),w=a(function(Z,ie,ae){return ae==null&&(ae=m),Z.push(ie),Q(Z,0,Z.length-1,ae)},"heappush"),k=a(function(Z,ie){var ae,me;return ie==null&&(ie=m),ae=Z.pop(),Z.length?(me=Z[0],Z[0]=ae,ne(Z,0,ie)):me=ae,me},"heappop"),C=a(function(Z,ie,ae){var me;return ae==null&&(ae=m),me=Z[0],Z[0]=ie,ne(Z,0,ae),me},"heapreplace"),S=a(function(Z,ie,ae){var me;return ae==null&&(ae=m),Z.length&&ae(Z[0],ie)<0&&(me=[Z[0],ie],ie=me[0],Z[0]=me[1],ne(Z,0,ae)),ie},"heappushpop"),T=a(function(Z,ie){var ae,me,De,we,ve,Ie;for(ie==null&&(ie=m),we=function(){Ie=[];for(var be=0,Oe=v(Z.length/2);0<=Oe?be<Oe:be>Oe;0<=Oe?be++:be--)Ie.push(be);return Ie}.apply(this).reverse(),ve=[],me=0,De=we.length;me<De;me++)ae=we[me],ve.push(ne(Z,ae,ie));return ve},"heapify"),j=a(function(Z,ie,ae){var me;if(ae==null&&(ae=m),me=Z.indexOf(ie),me!==-1)return Q(Z,0,me,ae),ne(Z,me,ae)},"updateItem"),z=a(function(Z,ie,ae){var me,De,we,ve,Ie;if(ae==null&&(ae=m),De=Z.slice(0,ie),!De.length)return De;for(T(De,ae),Ie=Z.slice(ie),we=0,ve=Ie.length;we<ve;we++)me=Ie[we],S(De,me,ae);return De.sort(ae).reverse()},"nlargest"),V=a(function(Z,ie,ae){var me,De,we,ve,Ie,be,Oe,Be,Ne;if(ae==null&&(ae=m),ie*10<=Z.length){if(we=Z.slice(0,ie).sort(ae),!we.length)return we;for(De=we[we.length-1],Oe=Z.slice(ie),ve=0,be=Oe.length;ve<be;ve++)me=Oe[ve],ae(me,De)<0&&(R(we,me,0,null,ae),we.pop(),De=we[we.length-1]);return we}for(T(Z,ae),Ne=[],Ie=0,Be=L(ie,Z.length);0<=Be?Ie<Be:Ie>Be;0<=Be?++Ie:--Ie)Ne.push(k(Z,ae));return Ne},"nsmallest"),Q=a(function(Z,ie,ae,me){var De,we,ve;for(me==null&&(me=m),De=Z[ae];ae>ie;){if(ve=ae-1>>1,we=Z[ve],me(De,we)<0){Z[ae]=we,ae=ve;continue}break}return Z[ae]=De},"_siftdown"),ne=a(function(Z,ie,ae){var me,De,we,ve,Ie;for(ae==null&&(ae=m),De=Z.length,Ie=ie,we=Z[ie],me=2*ie+1;me<De;)ve=me+1,ve<De&&!(ae(Z[me],Z[ve])<0)&&(me=ve),Z[ie]=Z[me],ie=me,me=2*ie+1;return Z[ie]=we,Q(Z,Ie,ie,ae)},"_siftup"),d=function(){Z.push=w,Z.pop=k,Z.replace=C,Z.pushpop=S,Z.heapify=T,Z.updateItem=j,Z.nlargest=z,Z.nsmallest=V;function Z(ie){this.cmp=ie??m,this.nodes=[]}return a(Z,"Heap"),Z.prototype.push=function(ie){return w(this.nodes,ie,this.cmp)},Z.prototype.pop=function(){return k(this.nodes,this.cmp)},Z.prototype.peek=function(){return this.nodes[0]},Z.prototype.contains=function(ie){return this.nodes.indexOf(ie)!==-1},Z.prototype.replace=function(ie){return C(this.nodes,ie,this.cmp)},Z.prototype.pushpop=function(ie){return S(this.nodes,ie,this.cmp)},Z.prototype.heapify=function(){return T(this.nodes,this.cmp)},Z.prototype.updateItem=function(ie){return j(this.nodes,ie,this.cmp)},Z.prototype.clear=function(){return this.nodes=[]},Z.prototype.empty=function(){return this.nodes.length===0},Z.prototype.size=function(){return this.nodes.length},Z.prototype.clone=function(){var ie;return ie=new Z,ie.nodes=this.nodes.slice(0),ie},Z.prototype.toArray=function(){return this.nodes.slice(0)},Z.prototype.insert=Z.prototype.push,Z.prototype.top=Z.prototype.peek,Z.prototype.front=Z.prototype.peek,Z.prototype.has=Z.prototype.contains,Z.prototype.copy=Z.prototype.clone,Z}(),function(Z,ie){return h.exports=ie()}(this,function(){return d})}).call(qt)}),w0=dM,Kye=Vi({root:null,weight:a(function(l){return 1},"weight"),directed:!1}),Qye={dijkstra:a(function(l){if(!q(l)){var d=arguments;l={root:d[0],weight:d[1],directed:d[2]}}var m=Kye(l),v=m.root,T=m.weight,k=m.directed,w=this,S=T,C=I(v)?this.filter(v)[0]:v[0],R={},L={},z={},V=this.byGroup(),j=V.nodes,Q=V.edges;Q.unmergeBy(function(ot){return ot.isLoop()});for(var ne=a(function(Ke){return R[Ke.id()]},"getDist"),Z=a(function(Ke,Je){R[Ke.id()]=Je,ie.updateItem(Ke)},"setDist"),ie=new w0(function(ot,Ke){return ne(ot)-ne(Ke)}),ae=0;ae<j.length;ae++){var me=j[ae];R[me.id()]=me.same(C)?0:1/0,ie.push(me)}for(var De=a(function(Ke,Je){for(var lt=(k?Ke.edgesTo(Je):Ke.edgesWith(Je)).intersect(Q),ht=1/0,xt,ut=0;ut<lt.length;ut++){var yt=lt[ut],Ct=S(yt);(Ct<ht||!xt)&&(ht=Ct,xt=yt)}return{edge:xt,dist:ht}},"distBetween");ie.size()>0;){var we=ie.pop(),ve=ne(we),Ie=we.id();if(z[Ie]=ve,ve!==1/0)for(var be=we.neighborhood().intersect(j),Oe=0;Oe<be.length;Oe++){var Be=be[Oe],Ne=Be.id(),Xe=De(we,Be),qe=ve+Xe.dist;qe<ne(Be)&&(Z(Be,qe),L[Ne]={node:we,edge:Xe.edge})}}return{distanceTo:a(function(Ke){var Je=I(Ke)?j.filter(Ke)[0]:Ke[0];return z[Je.id()]},"distanceTo"),pathTo:a(function(Ke){var Je=I(Ke)?j.filter(Ke)[0]:Ke[0],lt=[],ht=Je,xt=ht.id();if(Je.length>0)for(lt.unshift(Je);L[xt];){var ut=L[xt];lt.unshift(ut.edge),lt.unshift(ut.node),ht=ut.node,xt=ht.id()}return w.spawn(lt)},"pathTo")}},"dijkstra")},Zye={kruskal:a(function(l){l=l||function(ae){return 1};for(var d=this.byGroup(),m=d.nodes,v=d.edges,T=m.length,k=new Array(T),w=m,S=a(function(me){for(var De=0;De<k.length;De++){var we=k[De];if(we.has(me))return De}},"findSetIndex"),C=0;C<T;C++)k[C]=this.spawn(m[C]);for(var R=v.sort(function(ae,me){return l(ae)-l(me)}),L=0;L<R.length;L++){var z=R[L],V=z.source()[0],j=z.target()[0],Q=S(V),ne=S(j),Z=k[Q],ie=k[ne];Q!==ne&&(w.merge(z),Z.merge(ie),k.splice(ne,1))}return w},"kruskal")},Jye=Vi({root:null,goal:null,weight:a(function(l){return 1},"weight"),heuristic:a(function(l){return 0},"heuristic"),directed:!1}),eve={aStar:a(function(l){var d=this.cy(),m=Jye(l),v=m.root,T=m.goal,k=m.heuristic,w=m.directed,S=m.weight;v=d.collection(v)[0],T=d.collection(T)[0];var C=v.id(),R=T.id(),L={},z={},V={},j=new w0(function(xt,ut){return z[xt.id()]-z[ut.id()]}),Q=new Cn,ne={},Z={},ie=a(function(ut,yt){j.push(ut),Q.add(yt)},"addToOpenSet"),ae,me,De=a(function(){ae=j.pop(),me=ae.id(),Q.delete(me)},"popFromOpenSet"),we=a(function(ut){return Q.has(ut)},"isInOpenSet");ie(v,C),L[C]=0,z[C]=k(v);for(var ve=0;j.size()>0;){if(De(),ve++,me===R){for(var Ie=[],be=T,Oe=R,Be=Z[Oe];Ie.unshift(be),Be!=null&&Ie.unshift(Be),be=ne[Oe],be!=null;)Oe=be.id(),Be=Z[Oe];return{found:!0,distance:L[me],path:this.spawn(Ie),steps:ve}}V[me]=!0;for(var Ne=ae._private.edges,Xe=0;Xe<Ne.length;Xe++){var qe=Ne[Xe];if(this.hasElementWithId(qe.id())&&!(w&&qe.data("source")!==me)){var ot=qe.source(),Ke=qe.target(),Je=ot.id()!==me?ot:Ke,lt=Je.id();if(this.hasElementWithId(lt)&&!V[lt]){var ht=L[me]+S(qe);if(!we(lt)){L[lt]=ht,z[lt]=ht+k(Je),ie(Je,lt),ne[lt]=ae,Z[lt]=qe;continue}ht<L[lt]&&(L[lt]=ht,z[lt]=ht+k(Je),ne[lt]=ae,Z[lt]=qe)}}}}return{found:!1,distance:void 0,path:void 0,steps:ve}},"aStar")},tve=Vi({weight:a(function(l){return 1},"weight"),directed:!1}),rve={floydWarshall:a(function(l){for(var d=this.cy(),m=tve(l),v=m.weight,T=m.directed,k=v,w=this.byGroup(),S=w.nodes,C=w.edges,R=S.length,L=R*R,z=a(function(Ct){return S.indexOf(Ct)},"indexOf"),V=a(function(Ct){return S[Ct]},"atIndex"),j=new Array(L),Q=0;Q<L;Q++){var ne=Q%R,Z=(Q-ne)/R;Z===ne?j[Q]=0:j[Q]=1/0}for(var ie=new Array(L),ae=new Array(L),me=0;me<C.length;me++){var De=C[me],we=De.source()[0],ve=De.target()[0];if(we!==ve){var Ie=z(we),be=z(ve),Oe=Ie*R+be,Be=k(De);if(j[Oe]>Be&&(j[Oe]=Be,ie[Oe]=be,ae[Oe]=De),!T){var Ne=be*R+Ie;!T&&j[Ne]>Be&&(j[Ne]=Be,ie[Ne]=Ie,ae[Ne]=De)}}}for(var Xe=0;Xe<R;Xe++)for(var qe=0;qe<R;qe++)for(var ot=qe*R+Xe,Ke=0;Ke<R;Ke++){var Je=qe*R+Ke,lt=Xe*R+Ke;j[ot]+j[lt]<j[Je]&&(j[Je]=j[ot]+j[lt],ie[Je]=ie[ot])}var ht=a(function(Ct){return(I(Ct)?d.filter(Ct):Ct)[0]},"getArgEle"),xt=a(function(Ct){return z(ht(Ct))},"indexOfArgEle"),ut={distance:a(function(Ct,At){var wt=xt(Ct),Tt=xt(At);return j[wt*R+Tt]},"distance"),path:a(function(Ct,At){var wt=xt(Ct),Tt=xt(At),st=V(wt);if(wt===Tt)return st.collection();if(ie[wt*R+Tt]==null)return d.collection();var St=d.collection(),Rt=wt,zt;for(St.merge(st);wt!==Tt;)Rt=wt,wt=ie[wt*R+Tt],zt=ae[Rt*R+wt],St.merge(zt),St.merge(V(wt));return St},"path")};return ut},"floydWarshall")},nve=Vi({weight:a(function(l){return 1},"weight"),directed:!1,root:null}),ive={bellmanFord:a(function(l){var d=this,m=nve(l),v=m.weight,T=m.directed,k=m.root,w=v,S=this,C=this.cy(),R=this.byGroup(),L=R.edges,z=R.nodes,V=z.length,j=new Xr,Q=!1,ne=[];k=C.collection(k)[0],L.unmergeBy(function(or){return or.isLoop()});for(var Z=L.length,ie=a(function(Ht){var fr=j.get(Ht.id());return fr||(fr={},j.set(Ht.id(),fr)),fr},"getInfo"),ae=a(function(Ht){return(I(Ht)?C.$(Ht):Ht)[0]},"getNodeFromTo"),me=a(function(Ht){return ie(ae(Ht)).dist},"distanceTo"),De=a(function(Ht){for(var fr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:k,Qr=ae(Ht),Br=[],Ar=Qr;;){if(Ar==null)return d.spawn();var Ft=ie(Ar),Se=Ft.edge,mt=Ft.pred;if(Br.unshift(Ar[0]),Ar.same(fr)&&Br.length>0)break;Se!=null&&Br.unshift(Se),Ar=mt}return S.spawn(Br)},"pathTo"),we=0;we<V;we++){var ve=z[we],Ie=ie(ve);ve.same(k)?Ie.dist=0:Ie.dist=1/0,Ie.pred=null,Ie.edge=null}for(var be=!1,Oe=a(function(Ht,fr,Qr,Br,Ar,Ft){var Se=Br.dist+Ft;Se<Ar.dist&&!Qr.same(Br.edge)&&(Ar.dist=Se,Ar.pred=Ht,Ar.edge=Qr,be=!0)},"checkForEdgeReplacement"),Be=1;Be<V;Be++){be=!1;for(var Ne=0;Ne<Z;Ne++){var Xe=L[Ne],qe=Xe.source(),ot=Xe.target(),Ke=w(Xe),Je=ie(qe),lt=ie(ot);Oe(qe,ot,Xe,Je,lt,Ke),T||Oe(ot,qe,Xe,lt,Je,Ke)}if(!be)break}if(be)for(var ht=[],xt=0;xt<Z;xt++){var ut=L[xt],yt=ut.source(),Ct=ut.target(),At=w(ut),wt=ie(yt).dist,Tt=ie(Ct).dist;if(wt+At<Tt||!T&&Tt+At<wt)if(Q||(Kr("Graph contains a negative weight cycle for Bellman-Ford"),Q=!0),l.findNegativeWeightCycles!==!1){var st=[];wt+At<Tt&&st.push(yt),!T&&Tt+At<wt&&st.push(Ct);for(var St=st.length,Rt=0;Rt<St;Rt++){var zt=st[Rt],Vt=[zt];Vt.push(ie(zt).edge);for(var Dr=ie(zt).pred;Vt.indexOf(Dr)===-1;)Vt.push(Dr),Vt.push(ie(Dr).edge),Dr=ie(Dr).pred;Vt=Vt.slice(Vt.indexOf(Dr));for(var Mr=Vt[0].id(),Wt=0,$t=2;$t<Vt.length;$t+=2)Vt[$t].id()<Mr&&(Mr=Vt[$t].id(),Wt=$t);Vt=Vt.slice(Wt).concat(Vt.slice(0,Wt)),Vt.push(Vt[0]);var wr=Vt.map(function(or){return or.id()}).join(",");ht.indexOf(wr)===-1&&(ne.push(S.spawn(Vt)),ht.push(wr))}}else break}return{distanceTo:me,pathTo:De,hasNegativeWeightCycle:Q,negativeWeightCycles:ne}},"bellmanFord")},ave=Math.sqrt(2),ove=a(function(l,d,m){m.length===0&&Wr("Karger-Stein must be run on a connected (sub)graph");for(var v=m[l],T=v[1],k=v[2],w=d[T],S=d[k],C=m,R=C.length-1;R>=0;R--){var L=C[R],z=L[1],V=L[2];(d[z]===w&&d[V]===S||d[z]===S&&d[V]===w)&&C.splice(R,1)}for(var j=0;j<C.length;j++){var Q=C[j];Q[1]===S?(C[j]=Q.slice(),C[j][1]=w):Q[2]===S&&(C[j]=Q.slice(),C[j][2]=w)}for(var ne=0;ne<d.length;ne++)d[ne]===S&&(d[ne]=w);return C},"collapse"),qC=a(function(l,d,m,v){for(;m>v;){var T=Math.floor(Math.random()*d.length);d=ove(T,l,d),m--}return d},"contractUntil"),sve={kargerStein:a(function(){var l=this,d=this.byGroup(),m=d.nodes,v=d.edges;v.unmergeBy(function(lt){return lt.isLoop()});var T=m.length,k=v.length,w=Math.ceil(Math.pow(Math.log(T)/Math.LN2,2)),S=Math.floor(T/ave);if(T<2){Wr("At least 2 nodes are required for Karger-Stein algorithm");return}for(var C=[],R=0;R<k;R++){var L=v[R];C.push([R,m.indexOf(L.source()),m.indexOf(L.target())])}for(var z=1/0,V=[],j=new Array(T),Q=new Array(T),ne=new Array(T),Z=a(function(ht,xt){for(var ut=0;ut<T;ut++)xt[ut]=ht[ut]},"copyNodesMap"),ie=0;ie<=w;ie++){for(var ae=0;ae<T;ae++)Q[ae]=ae;var me=qC(Q,C.slice(),T,S),De=me.slice();Z(Q,ne);var we=qC(Q,me,S,2),ve=qC(ne,De,S,2);we.length<=ve.length&&we.length<z?(z=we.length,V=we,Z(Q,j)):ve.length<=we.length&&ve.length<z&&(z=ve.length,V=ve,Z(ne,j))}for(var Ie=this.spawn(V.map(function(lt){return v[lt[0]]})),be=this.spawn(),Oe=this.spawn(),Be=j[0],Ne=0;Ne<j.length;Ne++){var Xe=j[Ne],qe=m[Ne];Xe===Be?be.merge(qe):Oe.merge(qe)}var ot=a(function(ht){var xt=l.spawn();return ht.forEach(function(ut){xt.merge(ut),ut.connectedEdges().forEach(function(yt){l.contains(yt)&&!Ie.contains(yt)&&xt.merge(yt)})}),xt},"constructComponent"),Ke=[ot(be),ot(Oe)],Je={cut:Ie,components:Ke,partition1:be,partition2:Oe};return Je},"kargerStein")},lve=a(function(l){return{x:l.x,y:l.y}},"copyPosition"),Wx=a(function(l,d,m){return{x:l.x*d+m.x,y:l.y*d+m.y}},"modelToRenderedPosition"),pM=a(function(l,d,m){return{x:(l.x-m.x)/d,y:(l.y-m.y)/d}},"renderedToModelPosition"),Op=a(function(l){return{x:l[0],y:l[1]}},"array2point"),cve=a(function(l){for(var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.length,v=1/0,T=d;T<m;T++){var k=l[T];isFinite(k)&&(v=Math.min(k,v))}return v},"min"),uve=a(function(l){for(var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.length,v=-1/0,T=d;T<m;T++){var k=l[T];isFinite(k)&&(v=Math.max(k,v))}return v},"max"),fve=a(function(l){for(var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.length,v=0,T=0,k=d;k<m;k++){var w=l[k];isFinite(w)&&(v+=w,T++)}return v/T},"mean"),hve=a(function(l){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.length,v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,T=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,k=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;v?l=l.slice(d,m):(m<l.length&&l.splice(m,l.length-m),d>0&&l.splice(0,d));for(var w=0,S=l.length-1;S>=0;S--){var C=l[S];k?isFinite(C)||(l[S]=-1/0,w++):l.splice(S,1)}T&&l.sort(function(z,V){return z-V});var R=l.length,L=Math.floor(R/2);return R%2!==0?l[L+1+w]:(l[L-1+w]+l[L+w])/2},"median"),dve=a(function(l){return Math.PI*l/180},"deg2rad"),Hx=a(function(l,d){return Math.atan2(d,l)-Math.PI/2},"getAngleFromDisp"),zC=Math.log2||function(h){return Math.log(h)/Math.log(2)},mM=a(function(l){return l>0?1:l<0?-1:0},"signum"),jh=a(function(l,d){return Math.sqrt(Yh(l,d))},"dist"),Yh=a(function(l,d){var m=d.x-l.x,v=d.y-l.y;return m*m+v*v},"sqdist"),pve=a(function(l){for(var d=l.length,m=0,v=0;v<d;v++)m+=l[v];for(var T=0;T<d;T++)l[T]=l[T]/m;return l},"inPlaceSumNormalize"),ga=a(function(l,d,m,v){return(1-v)*(1-v)*l+2*(1-v)*v*d+v*v*m},"qbezierAt"),Mp=a(function(l,d,m,v){return{x:ga(l.x,d.x,m.x,v),y:ga(l.y,d.y,m.y,v)}},"qbezierPtAt"),mve=a(function(l,d,m,v){var T={x:d.x-l.x,y:d.y-l.y},k=jh(l,d),w={x:T.x/k,y:T.y/k};return m=m??0,v=v??m*k,{x:l.x+w.x*v,y:l.y+w.y*v}},"lineAt"),E0=a(function(l,d,m){return Math.max(l,Math.min(m,d))},"bound"),Oo=a(function(l){if(l==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(l.x1!=null&&l.y1!=null){if(l.x2!=null&&l.y2!=null&&l.x2>=l.x1&&l.y2>=l.y1)return{x1:l.x1,y1:l.y1,x2:l.x2,y2:l.y2,w:l.x2-l.x1,h:l.y2-l.y1};if(l.w!=null&&l.h!=null&&l.w>=0&&l.h>=0)return{x1:l.x1,y1:l.y1,x2:l.x1+l.w,y2:l.y1+l.h,w:l.w,h:l.h}}},"makeBoundingBox"),gve=a(function(l){return{x1:l.x1,x2:l.x2,w:l.w,y1:l.y1,y2:l.y2,h:l.h}},"copyBoundingBox"),yve=a(function(l){l.x1=1/0,l.y1=1/0,l.x2=-1/0,l.y2=-1/0,l.w=0,l.h=0},"clearBoundingBox"),vve=a(function(l,d){l.x1=Math.min(l.x1,d.x1),l.x2=Math.max(l.x2,d.x2),l.w=l.x2-l.x1,l.y1=Math.min(l.y1,d.y1),l.y2=Math.max(l.y2,d.y2),l.h=l.y2-l.y1},"updateBoundingBox"),xve=a(function(l,d,m){l.x1=Math.min(l.x1,d),l.x2=Math.max(l.x2,d),l.w=l.x2-l.x1,l.y1=Math.min(l.y1,m),l.y2=Math.max(l.y2,m),l.h=l.y2-l.y1},"expandBoundingBoxByPoint"),jx=a(function(l){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return l.x1-=d,l.x2+=d,l.y1-=d,l.y2+=d,l.w=l.x2-l.x1,l.h=l.y2-l.y1,l},"expandBoundingBox"),UC=a(function(l){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],m,v,T,k;if(d.length===1)m=v=T=k=d[0];else if(d.length===2)m=T=d[0],k=v=d[1];else if(d.length===4){var w=o(d,4);m=w[0],v=w[1],T=w[2],k=w[3]}return l.x1-=k,l.x2+=v,l.y1-=m,l.y2+=T,l.w=l.x2-l.x1,l.h=l.y2-l.y1,l},"expandBoundingBoxSides"),gM=a(function(l,d){l.x1=d.x1,l.y1=d.y1,l.x2=d.x2,l.y2=d.y2,l.w=l.x2-l.x1,l.h=l.y2-l.y1},"assignBoundingBox"),$C=a(function(l,d){return!(l.x1>d.x2||d.x1>l.x2||l.x2<d.x1||d.x2<l.x1||l.y2<d.y1||d.y2<l.y1||l.y1>d.y2||d.y1>l.y2)},"boundingBoxesIntersect"),Fp=a(function(l,d,m){return l.x1<=d&&d<=l.x2&&l.y1<=m&&m<=l.y2},"inBoundingBox"),bve=a(function(l,d){return Fp(l,d.x,d.y)},"pointInBoundingBox"),yM=a(function(l,d){return Fp(l,d.x1,d.y1)&&Fp(l,d.x2,d.y2)},"boundingBoxInBoundingBox"),vM=a(function(l,d,m,v,T,k,w){var S=A0(T,k),C=T/2,R=k/2,L;{var z=m-C+S-w,V=v-R-w,j=m+C-S+w,Q=V;if(L=af(l,d,m,v,z,V,j,Q,!1),L.length>0)return L}{var ne=m+C+w,Z=v-R+S-w,ie=ne,ae=v+R-S+w;if(L=af(l,d,m,v,ne,Z,ie,ae,!1),L.length>0)return L}{var me=m-C+S-w,De=v+R+w,we=m+C-S+w,ve=De;if(L=af(l,d,m,v,me,De,we,ve,!1),L.length>0)return L}{var Ie=m-C-w,be=v-R+S-w,Oe=Ie,Be=v+R-S+w;if(L=af(l,d,m,v,Ie,be,Oe,Be,!1),L.length>0)return L}var Ne;{var Xe=m-C+S,qe=v-R+S;if(Ne=C0(l,d,m,v,Xe,qe,S+w),Ne.length>0&&Ne[0]<=Xe&&Ne[1]<=qe)return[Ne[0],Ne[1]]}{var ot=m+C-S,Ke=v-R+S;if(Ne=C0(l,d,m,v,ot,Ke,S+w),Ne.length>0&&Ne[0]>=ot&&Ne[1]<=Ke)return[Ne[0],Ne[1]]}{var Je=m+C-S,lt=v+R-S;if(Ne=C0(l,d,m,v,Je,lt,S+w),Ne.length>0&&Ne[0]>=Je&&Ne[1]>=lt)return[Ne[0],Ne[1]]}{var ht=m-C+S,xt=v+R-S;if(Ne=C0(l,d,m,v,ht,xt,S+w),Ne.length>0&&Ne[0]<=ht&&Ne[1]>=xt)return[Ne[0],Ne[1]]}return[]},"roundRectangleIntersectLine"),Tve=a(function(l,d,m,v,T,k,w){var S=w,C=Math.min(m,T),R=Math.max(m,T),L=Math.min(v,k),z=Math.max(v,k);return C-S<=l&&l<=R+S&&L-S<=d&&d<=z+S},"inLineVicinity"),kve=a(function(l,d,m,v,T,k,w,S,C){var R={x1:Math.min(m,w,T)-C,x2:Math.max(m,w,T)+C,y1:Math.min(v,S,k)-C,y2:Math.max(v,S,k)+C};return!(l<R.x1||l>R.x2||d<R.y1||d>R.y2)},"inBezierVicinity"),_ve=a(function(l,d,m,v){m-=v;var T=d*d-4*l*m;if(T<0)return[];var k=Math.sqrt(T),w=2*l,S=(-d+k)/w,C=(-d-k)/w;return[S,C]},"solveQuadratic"),wve=a(function(l,d,m,v,T){var k=1e-5;l===0&&(l=k),d/=l,m/=l,v/=l;var w,S,C,R,L,z,V,j;if(S=(3*m-d*d)/9,C=-(27*v)+d*(9*m-2*(d*d)),C/=54,w=S*S*S+C*C,T[1]=0,V=d/3,w>0){L=C+Math.sqrt(w),L=L<0?-Math.pow(-L,1/3):Math.pow(L,1/3),z=C-Math.sqrt(w),z=z<0?-Math.pow(-z,1/3):Math.pow(z,1/3),T[0]=-V+L+z,V+=(L+z)/2,T[4]=T[2]=-V,V=Math.sqrt(3)*(-z+L)/2,T[3]=V,T[5]=-V;return}if(T[5]=T[3]=0,w===0){j=C<0?-Math.pow(-C,1/3):Math.pow(C,1/3),T[0]=-V+2*j,T[4]=T[2]=-(j+V);return}S=-S,R=S*S*S,R=Math.acos(C/Math.sqrt(R)),j=2*Math.sqrt(S),T[0]=-V+j*Math.cos(R/3),T[2]=-V+j*Math.cos((R+2*Math.PI)/3),T[4]=-V+j*Math.cos((R+4*Math.PI)/3)},"solveCubic"),Eve=a(function(l,d,m,v,T,k,w,S){var C=1*m*m-4*m*T+2*m*w+4*T*T-4*T*w+w*w+v*v-4*v*k+2*v*S+4*k*k-4*k*S+S*S,R=1*9*m*T-3*m*m-3*m*w-6*T*T+3*T*w+9*v*k-3*v*v-3*v*S-6*k*k+3*k*S,L=1*3*m*m-6*m*T+m*w-m*l+2*T*T+2*T*l-w*l+3*v*v-6*v*k+v*S-v*d+2*k*k+2*k*d-S*d,z=1*m*T-m*m+m*l-T*l+v*k-v*v+v*d-k*d,V=[];wve(C,R,L,z,V);for(var j=1e-7,Q=[],ne=0;ne<6;ne+=2)Math.abs(V[ne+1])<j&&V[ne]>=0&&V[ne]<=1&&Q.push(V[ne]);Q.push(1),Q.push(0);for(var Z=-1,ie,ae,me,De=0;De<Q.length;De++)ie=Math.pow(1-Q[De],2)*m+2*(1-Q[De])*Q[De]*T+Q[De]*Q[De]*w,ae=Math.pow(1-Q[De],2)*v+2*(1-Q[De])*Q[De]*k+Q[De]*Q[De]*S,me=Math.pow(ie-l,2)+Math.pow(ae-d,2),Z>=0?me<Z&&(Z=me):Z=me;return Z},"sqdistToQuadraticBezier"),Cve=a(function(l,d,m,v,T,k){var w=[l-m,d-v],S=[T-m,k-v],C=S[0]*S[0]+S[1]*S[1],R=w[0]*w[0]+w[1]*w[1],L=w[0]*S[0]+w[1]*S[1],z=L*L/C;return L<0?R:z>C?(l-T)*(l-T)+(d-k)*(d-k):R-z},"sqdistToFiniteLine"),Mo=a(function(l,d,m){for(var v,T,k,w,S,C=0,R=0;R<m.length/2;R++)if(v=m[R*2],T=m[R*2+1],R+1<m.length/2?(k=m[(R+1)*2],w=m[(R+1)*2+1]):(k=m[(R+1-m.length/2)*2],w=m[(R+1-m.length/2)*2+1]),!(v==l&&k==l))if(v>=l&&l>=k||v<=l&&l<=k)S=(l-v)/(k-v)*(w-T)+T,S>d&&C++;else continue;return C%2!==0},"pointInsidePolygonPoints"),Zc=a(function(l,d,m,v,T,k,w,S,C){var R=new Array(m.length),L;S[0]!=null?(L=Math.atan(S[1]/S[0]),S[0]<0?L=L+Math.PI/2:L=-L-Math.PI/2):L=S;for(var z=Math.cos(-L),V=Math.sin(-L),j=0;j<R.length/2;j++)R[j*2]=k/2*(m[j*2]*z-m[j*2+1]*V),R[j*2+1]=w/2*(m[j*2+1]*z+m[j*2]*V),R[j*2]+=v,R[j*2+1]+=T;var Q;if(C>0){var ne=bM(R,-C);Q=xM(ne)}else Q=R;return Mo(l,d,Q)},"pointInsidePolygon"),Sve=a(function(l,d,m,v,T,k,w){for(var S=new Array(m.length),C=k/2,R=w/2,L=WC(k,w),z=L*L,V=0;V<m.length/4;V++){var j=void 0,Q=void 0;V===0?j=m.length-2:j=V*4-2,Q=V*4+2;var ne=v+C*m[V*4],Z=T+R*m[V*4+1],ie=-m[j]*m[Q]-m[j+1]*m[Q+1],ae=L/Math.tan(Math.acos(ie)/2),me=ne-ae*m[j],De=Z-ae*m[j+1],we=ne+ae*m[Q],ve=Z+ae*m[Q+1];S[V*4]=me,S[V*4+1]=De,S[V*4+2]=we,S[V*4+3]=ve;var Ie=m[j+1],be=-m[j],Oe=Ie*m[Q]+be*m[Q+1];Oe<0&&(Ie*=-1,be*=-1);var Be=me+Ie*L,Ne=De+be*L,Xe=Math.pow(Be-l,2)+Math.pow(Ne-d,2);if(Xe<=z)return!0}return Mo(l,d,S)},"pointInsideRoundPolygon"),xM=a(function(l){for(var d=new Array(l.length/2),m,v,T,k,w,S,C,R,L=0;L<l.length/4;L++){m=l[L*4],v=l[L*4+1],T=l[L*4+2],k=l[L*4+3],L<l.length/4-1?(w=l[(L+1)*4],S=l[(L+1)*4+1],C=l[(L+1)*4+2],R=l[(L+1)*4+3]):(w=l[0],S=l[1],C=l[2],R=l[3]);var z=af(m,v,T,k,w,S,C,R,!0);d[L*2]=z[0],d[L*2+1]=z[1]}return d},"joinLines"),bM=a(function(l,d){for(var m=new Array(l.length*2),v,T,k,w,S=0;S<l.length/2;S++){v=l[S*2],T=l[S*2+1],S<l.length/2-1?(k=l[(S+1)*2],w=l[(S+1)*2+1]):(k=l[0],w=l[1]);var C=w-T,R=-(k-v),L=Math.sqrt(C*C+R*R),z=C/L,V=R/L;m[S*4]=v+z*d,m[S*4+1]=T+V*d,m[S*4+2]=k+z*d,m[S*4+3]=w+V*d}return m},"expandPolygon"),Ave=a(function(l,d,m,v,T,k){var w=m-l,S=v-d;w/=T,S/=k;var C=Math.sqrt(w*w+S*S),R=C-1;if(R<0)return[];var L=R/C;return[(m-l)*L+l,(v-d)*L+d]},"intersectLineEllipse"),Xh=a(function(l,d,m,v,T,k,w){return l-=T,d-=k,l/=m/2+w,d/=v/2+w,l*l+d*d<=1},"checkInEllipse"),C0=a(function(l,d,m,v,T,k,w){var S=[m-l,v-d],C=[l-T,d-k],R=S[0]*S[0]+S[1]*S[1],L=2*(C[0]*S[0]+C[1]*S[1]),z=C[0]*C[0]+C[1]*C[1]-w*w,V=L*L-4*R*z;if(V<0)return[];var j=(-L+Math.sqrt(V))/(2*R),Q=(-L-Math.sqrt(V))/(2*R),ne=Math.min(j,Q),Z=Math.max(j,Q),ie=[];if(ne>=0&&ne<=1&&ie.push(ne),Z>=0&&Z<=1&&ie.push(Z),ie.length===0)return[];var ae=ie[0]*S[0]+l,me=ie[0]*S[1]+d;if(ie.length>1){if(ie[0]==ie[1])return[ae,me];var De=ie[1]*S[0]+l,we=ie[1]*S[1]+d;return[ae,me,De,we]}else return[ae,me]},"intersectLineCircle"),GC=a(function(l,d,m){return d<=l&&l<=m||m<=l&&l<=d?l:l<=d&&d<=m||m<=d&&d<=l?d:m},"midOfThree"),af=a(function(l,d,m,v,T,k,w,S,C){var R=l-T,L=m-l,z=w-T,V=d-k,j=v-d,Q=S-k,ne=z*V-Q*R,Z=L*V-j*R,ie=Q*L-z*j;if(ie!==0){var ae=ne/ie,me=Z/ie,De=.001,we=0-De,ve=1+De;return we<=ae&&ae<=ve&&we<=me&&me<=ve?[l+ae*L,d+ae*j]:C?[l+ae*L,d+ae*j]:[]}else return ne===0||Z===0?GC(l,m,w)===w?[w,S]:GC(l,m,T)===T?[T,k]:GC(T,w,m)===m?[m,v]:[]:[]},"finiteLinesIntersect"),S0=a(function(l,d,m,v,T,k,w,S){var C=[],R,L=new Array(m.length),z=!0;k==null&&(z=!1);var V;if(z){for(var j=0;j<L.length/2;j++)L[j*2]=m[j*2]*k+v,L[j*2+1]=m[j*2+1]*w+T;if(S>0){var Q=bM(L,-S);V=xM(Q)}else V=L}else V=m;for(var ne,Z,ie,ae,me=0;me<V.length/2;me++)ne=V[me*2],Z=V[me*2+1],me<V.length/2-1?(ie=V[(me+1)*2],ae=V[(me+1)*2+1]):(ie=V[0],ae=V[1]),R=af(l,d,v,T,ne,Z,ie,ae),R.length!==0&&C.push(R[0],R[1]);return C},"polygonIntersectLine"),Rve=a(function(l,d,m,v,T,k,w,S){for(var C=[],R,L=new Array(m.length),z=k/2,V=w/2,j=WC(k,w),Q=0;Q<m.length/4;Q++){var ne=void 0,Z=void 0;Q===0?ne=m.length-2:ne=Q*4-2,Z=Q*4+2;var ie=v+z*m[Q*4],ae=T+V*m[Q*4+1],me=-m[ne]*m[Z]-m[ne+1]*m[Z+1],De=j/Math.tan(Math.acos(me)/2),we=ie-De*m[ne],ve=ae-De*m[ne+1],Ie=ie+De*m[Z],be=ae+De*m[Z+1];Q===0?(L[m.length-2]=we,L[m.length-1]=ve):(L[Q*4-2]=we,L[Q*4-1]=ve),L[Q*4]=Ie,L[Q*4+1]=be;var Oe=m[ne+1],Be=-m[ne],Ne=Oe*m[Z]+Be*m[Z+1];Ne<0&&(Oe*=-1,Be*=-1);var Xe=we+Oe*j,qe=ve+Be*j;R=C0(l,d,v,T,Xe,qe,j),R.length!==0&&C.push(R[0],R[1])}for(var ot=0;ot<L.length/4;ot++)R=af(l,d,v,T,L[ot*4],L[ot*4+1],L[ot*4+2],L[ot*4+3],!1),R.length!==0&&C.push(R[0],R[1]);if(C.length>2){for(var Ke=[C[0],C[1]],Je=Math.pow(Ke[0]-l,2)+Math.pow(Ke[1]-d,2),lt=1;lt<C.length/2;lt++){var ht=Math.pow(C[lt*2]-l,2)+Math.pow(C[lt*2+1]-d,2);ht<=Je&&(Ke[0]=C[lt*2],Ke[1]=C[lt*2+1],Je=ht)}return Ke}return C},"roundPolygonIntersectLine"),Yx=a(function(l,d,m){var v=[l[0]-d[0],l[1]-d[1]],T=Math.sqrt(v[0]*v[0]+v[1]*v[1]),k=(T-m)/T;return k<0&&(k=1e-5),[d[0]+k*v[0],d[1]+k*v[1]]},"shortenIntersection"),ho=a(function(l,d){var m=VC(l,d);return m=TM(m),m},"generateUnitNgonPointsFitToSquare"),TM=a(function(l){for(var d,m,v=l.length/2,T=1/0,k=1/0,w=-1/0,S=-1/0,C=0;C<v;C++)d=l[2*C],m=l[2*C+1],T=Math.min(T,d),w=Math.max(w,d),k=Math.min(k,m),S=Math.max(S,m);for(var R=2/(w-T),L=2/(S-k),z=0;z<v;z++)d=l[2*z]=l[2*z]*R,m=l[2*z+1]=l[2*z+1]*L,T=Math.min(T,d),w=Math.max(w,d),k=Math.min(k,m),S=Math.max(S,m);if(k<-1)for(var V=0;V<v;V++)m=l[2*V+1]=l[2*V+1]+(-1-k);return l},"fitPolygonToSquare"),VC=a(function(l,d){var m=1/l*2*Math.PI,v=l%2===0?Math.PI/2+m/2:Math.PI/2;v+=d;for(var T=new Array(l*2),k,w=0;w<l;w++)k=w*m+v,T[2*w]=Math.cos(k),T[2*w+1]=Math.sin(-k);return T},"generateUnitNgonPoints"),A0=a(function(l,d){return Math.min(l/4,d/4,8)},"getRoundRectangleRadius"),WC=a(function(l,d){return Math.min(l/10,d/10,8)},"getRoundPolygonRadius"),kM=a(function(){return 8},"getCutRectangleCornerLength"),Dve=a(function(l,d,m){return[l-2*d+m,2*(d-l),l]},"bezierPtsToQuadCoeff"),HC=a(function(l,d){return{heightOffset:Math.min(15,.05*d),widthOffset:Math.min(100,.25*l),ctrlPtOffsetPct:.05}},"getBarrelCurveConstants"),Lve=Vi({dampingFactor:.8,precision:1e-6,iterations:200,weight:a(function(l){return 1},"weight")}),Ive={pageRank:a(function(l){for(var d=Lve(l),m=d.dampingFactor,v=d.precision,T=d.iterations,k=d.weight,w=this._private.cy,S=this.byGroup(),C=S.nodes,R=S.edges,L=C.length,z=L*L,V=R.length,j=new Array(z),Q=new Array(L),ne=(1-m)/L,Z=0;Z<L;Z++){for(var ie=0;ie<L;ie++){var ae=Z*L+ie;j[ae]=0}Q[Z]=0}for(var me=0;me<V;me++){var De=R[me],we=De.data("source"),ve=De.data("target");if(we!==ve){var Ie=C.indexOfId(we),be=C.indexOfId(ve),Oe=k(De),Be=be*L+Ie;j[Be]+=Oe,Q[Ie]+=Oe}}for(var Ne=1/L+ne,Xe=0;Xe<L;Xe++)if(Q[Xe]===0)for(var qe=0;qe<L;qe++){var ot=qe*L+Xe;j[ot]=Ne}else for(var Ke=0;Ke<L;Ke++){var Je=Ke*L+Xe;j[Je]=j[Je]/Q[Xe]+ne}for(var lt=new Array(L),ht=new Array(L),xt,ut=0;ut<L;ut++)lt[ut]=1;for(var yt=0;yt<T;yt++){for(var Ct=0;Ct<L;Ct++)ht[Ct]=0;for(var At=0;At<L;At++)for(var wt=0;wt<L;wt++){var Tt=At*L+wt;ht[At]+=j[Tt]*lt[wt]}pve(ht),xt=lt,lt=ht,ht=xt;for(var st=0,St=0;St<L;St++){var Rt=xt[St]-lt[St];st+=Rt*Rt}if(st<v)break}var zt={rank:a(function(Dr){return Dr=w.collection(Dr)[0],lt[C.indexOf(Dr)]},"rank")};return zt},"pageRank")},_M=Vi({root:null,weight:a(function(l){return 1},"weight"),directed:!1,alpha:0}),Bp={degreeCentralityNormalized:a(function(l){l=_M(l);var d=this.cy(),m=this.nodes(),v=m.length;if(l.directed){for(var R={},L={},z=0,V=0,j=0;j<v;j++){var Q=m[j],ne=Q.id();l.root=Q;var Z=this.degreeCentrality(l);z<Z.indegree&&(z=Z.indegree),V<Z.outdegree&&(V=Z.outdegree),R[ne]=Z.indegree,L[ne]=Z.outdegree}return{indegree:a(function(ae){return z==0?0:(I(ae)&&(ae=d.filter(ae)),R[ae.id()]/z)},"indegree"),outdegree:a(function(ae){return V===0?0:(I(ae)&&(ae=d.filter(ae)),L[ae.id()]/V)},"outdegree")}}else{for(var T={},k=0,w=0;w<v;w++){var S=m[w];l.root=S;var C=this.degreeCentrality(l);k<C.degree&&(k=C.degree),T[S.id()]=C.degree}return{degree:a(function(ae){return k===0?0:(I(ae)&&(ae=d.filter(ae)),T[ae.id()]/k)},"degree")}}},"degreeCentralityNormalized"),degreeCentrality:a(function(l){l=_M(l);var d=this.cy(),m=this,v=l,T=v.root,k=v.weight,w=v.directed,S=v.alpha;if(T=d.collection(T)[0],w){for(var V=T.connectedEdges(),j=V.filter(function(we){return we.target().same(T)&&m.has(we)}),Q=V.filter(function(we){return we.source().same(T)&&m.has(we)}),ne=j.length,Z=Q.length,ie=0,ae=0,me=0;me<j.length;me++)ie+=k(j[me]);for(var De=0;De<Q.length;De++)ae+=k(Q[De]);return{indegree:Math.pow(ne,1-S)*Math.pow(ie,S),outdegree:Math.pow(Z,1-S)*Math.pow(ae,S)}}else{for(var C=T.connectedEdges().intersection(m),R=C.length,L=0,z=0;z<C.length;z++)L+=k(C[z]);return{degree:Math.pow(R,1-S)*Math.pow(L,S)}}},"degreeCentrality")};Bp.dc=Bp.degreeCentrality,Bp.dcn=Bp.degreeCentralityNormalised=Bp.degreeCentralityNormalized;var wM=Vi({harmonic:!0,weight:a(function(){return 1},"weight"),directed:!1,root:null}),qp={closenessCentralityNormalized:a(function(l){for(var d=wM(l),m=d.harmonic,v=d.weight,T=d.directed,k=this.cy(),w={},S=0,C=this.nodes(),R=this.floydWarshall({weight:v,directed:T}),L=0;L<C.length;L++){for(var z=0,V=C[L],j=0;j<C.length;j++)if(L!==j){var Q=R.distance(V,C[j]);m?z+=1/Q:z+=Q}m||(z=1/z),S<z&&(S=z),w[V.id()]=z}return{closeness:a(function(Z){return S==0?0:(I(Z)?Z=k.filter(Z)[0].id():Z=Z.id(),w[Z]/S)},"closeness")}},"closenessCentralityNormalized"),closenessCentrality:a(function(l){var d=wM(l),m=d.root,v=d.weight,T=d.directed,k=d.harmonic;m=this.filter(m)[0];for(var w=this.dijkstra({root:m,weight:v,directed:T}),S=0,C=this.nodes(),R=0;R<C.length;R++){var L=C[R];if(!L.same(m)){var z=w.distanceTo(L);k?S+=1/z:S+=z}}return k?S:1/S},"closenessCentrality")};qp.cc=qp.closenessCentrality,qp.ccn=qp.closenessCentralityNormalised=qp.closenessCentralityNormalized;var Nve=Vi({weight:null,directed:!1}),jC={betweennessCentrality:a(function(l){for(var d=Nve(l),m=d.directed,v=d.weight,T=v!=null,k=this.cy(),w=this.nodes(),S={},C={},R=0,L={set:a(function(ae,me){C[ae]=me,me>R&&(R=me)},"set"),get:a(function(ae){return C[ae]},"get")},z=0;z<w.length;z++){var V=w[z],j=V.id();m?S[j]=V.outgoers().nodes():S[j]=V.openNeighborhood().nodes(),L.set(j,0)}for(var Q=a(function(ae){for(var me=w[ae].id(),De=[],we={},ve={},Ie={},be=new w0(function(wt,Tt){return Ie[wt]-Ie[Tt]}),Oe=0;Oe<w.length;Oe++){var Be=w[Oe].id();we[Be]=[],ve[Be]=0,Ie[Be]=1/0}for(ve[me]=1,Ie[me]=0,be.push(me);!be.empty();){var Ne=be.pop();if(De.push(Ne),T)for(var Xe=0;Xe<S[Ne].length;Xe++){var qe=S[Ne][Xe],ot=k.getElementById(Ne),Ke=void 0;ot.edgesTo(qe).length>0?Ke=ot.edgesTo(qe)[0]:Ke=qe.edgesTo(ot)[0];var Je=v(Ke);qe=qe.id(),Ie[qe]>Ie[Ne]+Je&&(Ie[qe]=Ie[Ne]+Je,be.nodes.indexOf(qe)<0?be.push(qe):be.updateItem(qe),ve[qe]=0,we[qe]=[]),Ie[qe]==Ie[Ne]+Je&&(ve[qe]=ve[qe]+ve[Ne],we[qe].push(Ne))}else for(var lt=0;lt<S[Ne].length;lt++){var ht=S[Ne][lt].id();Ie[ht]==1/0&&(be.push(ht),Ie[ht]=Ie[Ne]+1),Ie[ht]==Ie[Ne]+1&&(ve[ht]=ve[ht]+ve[Ne],we[ht].push(Ne))}}for(var xt={},ut=0;ut<w.length;ut++)xt[w[ut].id()]=0;for(;De.length>0;){for(var yt=De.pop(),Ct=0;Ct<we[yt].length;Ct++){var At=we[yt][Ct];xt[At]=xt[At]+ve[At]/ve[yt]*(1+xt[yt])}yt!=w[ae].id()&&L.set(yt,L.get(yt)+xt[yt])}},"_loop"),ne=0;ne<w.length;ne++)Q(ne);var Z={betweenness:a(function(ae){var me=k.collection(ae).id();return L.get(me)},"betweenness"),betweennessNormalized:a(function(ae){if(R==0)return 0;var me=k.collection(ae).id();return L.get(me)/R},"betweennessNormalized")};return Z.betweennessNormalised=Z.betweennessNormalized,Z},"betweennessCentrality")};jC.bc=jC.betweennessCentrality;var Pve=Vi({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(h){return 1}]}),Ove=a(function(l){return Pve(l)},"setOptions"),Mve=a(function(l,d){for(var m=0,v=0;v<d.length;v++)m+=d[v](l);return m},"getSimilarity"),Fve=a(function(l,d,m){for(var v=0;v<d;v++)l[v*d+v]=m},"addLoops"),EM=a(function(l,d){for(var m,v=0;v<d;v++){m=0;for(var T=0;T<d;T++)m+=l[T*d+v];for(var k=0;k<d;k++)l[k*d+v]=l[k*d+v]/m}},"normalize"),Bve=a(function(l,d,m){for(var v=new Array(m*m),T=0;T<m;T++){for(var k=0;k<m;k++)v[T*m+k]=0;for(var w=0;w<m;w++)for(var S=0;S<m;S++)v[T*m+S]+=l[T*m+w]*d[w*m+S]}return v},"mmult"),qve=a(function(l,d,m){for(var v=l.slice(0),T=1;T<m;T++)l=Bve(l,v,d);return l},"expand"),zve=a(function(l,d,m){for(var v=new Array(d*d),T=0;T<d*d;T++)v[T]=Math.pow(l[T],m);return EM(v,d),v},"inflate"),Uve=a(function(l,d,m,v){for(var T=0;T<m;T++){var k=Math.round(l[T]*Math.pow(10,v))/Math.pow(10,v),w=Math.round(d[T]*Math.pow(10,v))/Math.pow(10,v);if(k!==w)return!1}return!0},"hasConverged"),$ve=a(function(l,d,m,v){for(var T=[],k=0;k<d;k++){for(var w=[],S=0;S<d;S++)Math.round(l[k*d+S]*1e3)/1e3>0&&w.push(m[S]);w.length!==0&&T.push(v.collection(w))}return T},"assign"),Gve=a(function(l,d){for(var m=0;m<l.length;m++)if(!d[m]||l[m].id()!==d[m].id())return!1;return!0},"isDuplicate"),Vve=a(function(l){for(var d=0;d<l.length;d++)for(var m=0;m<l.length;m++)d!=m&&Gve(l[d],l[m])&&l.splice(m,1);return l},"removeDuplicates"),CM=a(function(l){for(var d=this.nodes(),m=this.edges(),v=this.cy(),T=Ove(l),k={},w=0;w<d.length;w++)k[d[w].id()]=w;for(var S=d.length,C=S*S,R=new Array(C),L,z=0;z<C;z++)R[z]=0;for(var V=0;V<m.length;V++){var j=m[V],Q=k[j.source().id()],ne=k[j.target().id()],Z=Mve(j,T.attributes);R[Q*S+ne]+=Z,R[ne*S+Q]+=Z}Fve(R,S,T.multFactor),EM(R,S);for(var ie=!0,ae=0;ie&&ae<T.maxIterations;)ie=!1,L=qve(R,S,T.expandFactor),R=zve(L,S,T.inflateFactor),Uve(R,L,C,4)||(ie=!0),ae++;var me=$ve(R,S,d,v);return me=Vve(me),me},"markovClustering"),Wve={markovClustering:CM,mcl:CM},Hve=a(function(l){return l},"identity"),SM=a(function(l,d){return Math.abs(d-l)},"absDiff"),AM=a(function(l,d,m){return l+SM(d,m)},"addAbsDiff"),RM=a(function(l,d,m){return l+Math.pow(m-d,2)},"addSquaredDiff"),jve=a(function(l){return Math.sqrt(l)},"sqrt"),Yve=a(function(l,d,m){return Math.max(l,SM(d,m))},"maxAbsDiff"),R0=a(function(l,d,m,v,T){for(var k=arguments.length>5&&arguments[5]!==void 0?arguments[5]:Hve,w=v,S,C,R=0;R<l;R++)S=d(R),C=m(R),w=T(w,S,C);return k(w)},"getDistance"),zp={euclidean:a(function(l,d,m){return l>=2?R0(l,d,m,0,RM,jve):R0(l,d,m,0,AM)},"euclidean"),squaredEuclidean:a(function(l,d,m){return R0(l,d,m,0,RM)},"squaredEuclidean"),manhattan:a(function(l,d,m){return R0(l,d,m,0,AM)},"manhattan"),max:a(function(l,d,m){return R0(l,d,m,-1/0,Yve)},"max")};zp["squared-euclidean"]=zp.squaredEuclidean,zp.squaredeuclidean=zp.squaredEuclidean;function Xx(h,l,d,m,v,T){var k;return $(h)?k=h:k=zp[h]||zp.euclidean,l===0&&$(h)?k(v,T):k(l,d,m,v,T)}a(Xx,"clusteringDistance");var Xve=Vi({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),YC=a(function(l){return Xve(l)},"setOptions"),Kx=a(function(l,d,m,v,T){var k=T!=="kMedoids",w=k?function(L){return m[L]}:function(L){return v[L](m)},S=a(function(z){return v[z](d)},"getQ"),C=m,R=d;return Xx(l,v.length,w,S,C,R)},"getDist"),XC=a(function(l,d,m){for(var v=m.length,T=new Array(v),k=new Array(v),w=new Array(d),S=null,C=0;C<v;C++)T[C]=l.min(m[C]).value,k[C]=l.max(m[C]).value;for(var R=0;R<d;R++){S=[];for(var L=0;L<v;L++)S[L]=Math.random()*(k[L]-T[L])+T[L];w[R]=S}return w},"randomCentroids"),DM=a(function(l,d,m,v,T){for(var k=1/0,w=0,S=0;S<d.length;S++){var C=Kx(m,l,d[S],v,T);C<k&&(k=C,w=S)}return w},"classify"),LM=a(function(l,d,m){for(var v=[],T=null,k=0;k<d.length;k++)T=d[k],m[T.id()]===l&&v.push(T);return v},"buildCluster"),Kve=a(function(l,d,m){return Math.abs(d-l)<=m},"haveValuesConverged"),Qve=a(function(l,d,m){for(var v=0;v<l.length;v++)for(var T=0;T<l[v].length;T++){var k=Math.abs(l[v][T]-d[v][T]);if(k>m)return!1}return!0},"haveMatricesConverged"),Zve=a(function(l,d,m){for(var v=0;v<m;v++)if(l===d[v])return!0;return!1},"seenBefore"),IM=a(function(l,d){var m=new Array(d);if(l.length<50)for(var v=0;v<d;v++){for(var T=l[Math.floor(Math.random()*l.length)];Zve(T,m,v);)T=l[Math.floor(Math.random()*l.length)];m[v]=T}else for(var k=0;k<d;k++)m[k]=l[Math.floor(Math.random()*l.length)];return m},"randomMedoids"),NM=a(function(l,d,m){for(var v=0,T=0;T<d.length;T++)v+=Kx("manhattan",d[T],l,m,"kMedoids");return v},"findCost"),Jve=a(function(l){var d=this.cy(),m=this.nodes(),v=null,T=YC(l),k=new Array(T.k),w={},S;T.testMode?typeof T.testCentroids=="number"?(T.testCentroids,S=XC(m,T.k,T.attributes)):e(T.testCentroids)==="object"?S=T.testCentroids:S=XC(m,T.k,T.attributes):S=XC(m,T.k,T.attributes);for(var C=!0,R=0;C&&R<T.maxIterations;){for(var L=0;L<m.length;L++)v=m[L],w[v.id()]=DM(v,S,T.distance,T.attributes,"kMeans");C=!1;for(var z=0;z<T.k;z++){var V=LM(z,m,w);if(V.length!==0){for(var j=T.attributes.length,Q=S[z],ne=new Array(j),Z=new Array(j),ie=0;ie<j;ie++){Z[ie]=0;for(var ae=0;ae<V.length;ae++)v=V[ae],Z[ie]+=T.attributes[ie](v);ne[ie]=Z[ie]/V.length,Kve(ne[ie],Q[ie],T.sensitivityThreshold)||(C=!0)}S[z]=ne,k[z]=d.collection(V)}}R++}return k},"kMeans"),e1e=a(function(l){var d=this.cy(),m=this.nodes(),v=null,T=YC(l),k=new Array(T.k),w,S={},C,R=new Array(T.k);T.testMode?typeof T.testCentroids=="number"||(e(T.testCentroids)==="object"?w=T.testCentroids:w=IM(m,T.k)):w=IM(m,T.k);for(var L=!0,z=0;L&&z<T.maxIterations;){for(var V=0;V<m.length;V++)v=m[V],S[v.id()]=DM(v,w,T.distance,T.attributes,"kMedoids");L=!1;for(var j=0;j<w.length;j++){var Q=LM(j,m,S);if(Q.length!==0){R[j]=NM(w[j],Q,T.attributes);for(var ne=0;ne<Q.length;ne++)C=NM(Q[ne],Q,T.attributes),C<R[j]&&(R[j]=C,w[j]=Q[ne],L=!0);k[j]=d.collection(Q)}}z++}return k},"kMedoids"),t1e=a(function(l,d,m,v,T){for(var k,w,S=0;S<d.length;S++)for(var C=0;C<l.length;C++)v[S][C]=Math.pow(m[S][C],T.m);for(var R=0;R<l.length;R++)for(var L=0;L<T.attributes.length;L++){k=0,w=0;for(var z=0;z<d.length;z++)k+=v[z][R]*T.attributes[L](d[z]),w+=v[z][R];l[R][L]=k/w}},"updateCentroids"),r1e=a(function(l,d,m,v,T){for(var k=0;k<l.length;k++)d[k]=l[k].slice();for(var w,S,C,R=2/(T.m-1),L=0;L<m.length;L++)for(var z=0;z<v.length;z++){w=0;for(var V=0;V<m.length;V++)S=Kx(T.distance,v[z],m[L],T.attributes,"cmeans"),C=Kx(T.distance,v[z],m[V],T.attributes,"cmeans"),w+=Math.pow(S/C,R);l[z][L]=1/w}},"updateMembership"),n1e=a(function(l,d,m,v){for(var T=new Array(m.k),k=0;k<T.length;k++)T[k]=[];for(var w,S,C=0;C<d.length;C++){w=-1/0,S=-1;for(var R=0;R<d[0].length;R++)d[C][R]>w&&(w=d[C][R],S=R);T[S].push(l[C])}for(var L=0;L<T.length;L++)T[L]=v.collection(T[L]);return T},"assign"),PM=a(function(l){var d=this.cy(),m=this.nodes(),v=YC(l),T,k,w,S,C;S=new Array(m.length);for(var R=0;R<m.length;R++)S[R]=new Array(v.k);w=new Array(m.length);for(var L=0;L<m.length;L++)w[L]=new Array(v.k);for(var z=0;z<m.length;z++){for(var V=0,j=0;j<v.k;j++)w[z][j]=Math.random(),V+=w[z][j];for(var Q=0;Q<v.k;Q++)w[z][Q]=w[z][Q]/V}k=new Array(v.k);for(var ne=0;ne<v.k;ne++)k[ne]=new Array(v.attributes.length);C=new Array(m.length);for(var Z=0;Z<m.length;Z++)C[Z]=new Array(v.k);for(var ie=!0,ae=0;ie&&ae<v.maxIterations;)ie=!1,t1e(k,m,w,C,v),r1e(w,S,k,m,v),Qve(w,S,v.sensitivityThreshold)||(ie=!0),ae++;return T=n1e(m,w,v,d),{clusters:T,degreeOfMembership:w}},"fuzzyCMeans"),i1e={kMeans:Jve,kMedoids:e1e,fuzzyCMeans:PM,fcm:PM},a1e=Vi({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),o1e={single:"min",complete:"max"},s1e=a(function(l){var d=a1e(l),m=o1e[d.linkage];return m!=null&&(d.linkage=m),d},"setOptions"),OM=a(function(l,d,m,v,T){for(var k=0,w=1/0,S,C=T.attributes,R=a(function(be,Oe){return Xx(T.distance,C.length,function(Be){return C[Be](be)},function(Be){return C[Be](Oe)},be,Oe)},"getDist"),L=0;L<l.length;L++){var z=l[L].key,V=m[z][v[z]];V<w&&(k=z,w=V)}if(T.mode==="threshold"&&w>=T.threshold||T.mode==="dendrogram"&&l.length===1)return!1;var j=d[k],Q=d[v[k]],ne;T.mode==="dendrogram"?ne={left:j,right:Q,key:j.key}:ne={value:j.value.concat(Q.value),key:j.key},l[j.index]=ne,l.splice(Q.index,1),d[j.key]=ne;for(var Z=0;Z<l.length;Z++){var ie=l[Z];j.key===ie.key?S=1/0:T.linkage==="min"?(S=m[j.key][ie.key],m[j.key][ie.key]>m[Q.key][ie.key]&&(S=m[Q.key][ie.key])):T.linkage==="max"?(S=m[j.key][ie.key],m[j.key][ie.key]<m[Q.key][ie.key]&&(S=m[Q.key][ie.key])):T.linkage==="mean"?S=(m[j.key][ie.key]*j.size+m[Q.key][ie.key]*Q.size)/(j.size+Q.size):T.mode==="dendrogram"?S=R(ie.value,j.value):S=R(ie.value[0],j.value[0]),m[j.key][ie.key]=m[ie.key][j.key]=S}for(var ae=0;ae<l.length;ae++){var me=l[ae].key;if(v[me]===j.key||v[me]===Q.key){for(var De=me,we=0;we<l.length;we++){var ve=l[we].key;m[me][ve]<m[me][De]&&(De=ve)}v[me]=De}l[ae].index=ae}return j.key=Q.key=j.index=Q.index=null,!0},"mergeClosest"),Qx=a(function h(l,d,m){l&&(l.value?d.push(l.value):(l.left&&h(l.left,d),l.right&&h(l.right,d)))},"getAllChildren"),l1e=a(function h(l,d){if(!l)return"";if(l.left&&l.right){var m=h(l.left,d),v=h(l.right,d),T=d.add({group:"nodes",data:{id:m+","+v}});return d.add({group:"edges",data:{source:m,target:T.id()}}),d.add({group:"edges",data:{source:v,target:T.id()}}),T.id()}else if(l.value)return l.value.id()},"buildDendrogram"),c1e=a(function h(l,d,m){if(!l)return[];var v=[],T=[],k=[];return d===0?(l.left&&Qx(l.left,v),l.right&&Qx(l.right,T),k=v.concat(T),[m.collection(k)]):d===1?l.value?[m.collection(l.value)]:(l.left&&Qx(l.left,v),l.right&&Qx(l.right,T),[m.collection(v),m.collection(T)]):l.value?[m.collection(l.value)]:(l.left&&(v=h(l.left,d-1,m)),l.right&&(T=h(l.right,d-1,m)),v.concat(T))},"buildClustersFromTree"),MM=a(function(l){for(var d=this.cy(),m=this.nodes(),v=s1e(l),T=v.attributes,k=a(function(ae,me){return Xx(v.distance,T.length,function(De){return T[De](ae)},function(De){return T[De](me)},ae,me)},"getDist"),w=[],S=[],C=[],R=[],L=0;L<m.length;L++){var z={value:v.mode==="dendrogram"?m[L]:[m[L]],key:L,index:L};w[L]=z,R[L]=z,S[L]=[],C[L]=0}for(var V=0;V<w.length;V++)for(var j=0;j<=V;j++){var Q=void 0;v.mode==="dendrogram"?Q=V===j?1/0:k(w[V].value,w[j].value):Q=V===j?1/0:k(w[V].value[0],w[j].value[0]),S[V][j]=Q,S[j][V]=Q,Q<S[V][C[V]]&&(C[V]=j)}for(var ne=OM(w,R,S,C,v);ne;)ne=OM(w,R,S,C,v);var Z;return v.mode==="dendrogram"?(Z=c1e(w[0],v.dendrogramDepth,d),v.addDendrogram&&l1e(w[0],d)):(Z=new Array(w.length),w.forEach(function(ie,ae){ie.key=ie.index=null,Z[ae]=d.collection(ie.value)})),Z},"hierarchicalClustering"),u1e={hierarchicalClustering:MM,hca:MM},f1e=Vi({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),h1e=a(function(l){var d=l.damping,m=l.preference;.5<=d&&d<1||Wr("Damping must range on [0.5, 1).  Got: ".concat(d));var v=["median","mean","min","max"];return v.some(function(T){return T===m})||B(m)||Wr("Preference must be one of [".concat(v.map(function(T){return"'".concat(T,"'")}).join(", "),"] or a number.  Got: ").concat(m)),f1e(l)},"setOptions"),d1e=a(function(l,d,m,v){var T=a(function(w,S){return v[S](w)},"attr");return-Xx(l,v.length,function(k){return T(d,k)},function(k){return T(m,k)},d,m)},"getSimilarity"),p1e=a(function(l,d){var m=null;return d==="median"?m=hve(l):d==="mean"?m=fve(l):d==="min"?m=cve(l):d==="max"?m=uve(l):m=d,m},"getPreference"),m1e=a(function(l,d,m){for(var v=[],T=0;T<l;T++)d[T*l+T]+m[T*l+T]>0&&v.push(T);return v},"findExemplars"),FM=a(function(l,d,m){for(var v=[],T=0;T<l;T++){for(var k=-1,w=-1/0,S=0;S<m.length;S++){var C=m[S];d[T*l+C]>w&&(k=C,w=d[T*l+C])}k>0&&v.push(k)}for(var R=0;R<m.length;R++)v[m[R]]=m[R];return v},"assignClusters"),g1e=a(function(l,d,m){for(var v=FM(l,d,m),T=0;T<m.length;T++){for(var k=[],w=0;w<v.length;w++)v[w]===m[T]&&k.push(w);for(var S=-1,C=-1/0,R=0;R<k.length;R++){for(var L=0,z=0;z<k.length;z++)L+=d[k[z]*l+k[R]];L>C&&(S=R,C=L)}m[T]=k[S]}return v=FM(l,d,m),v},"assign"),BM=a(function(l){for(var d=this.cy(),m=this.nodes(),v=h1e(l),T={},k=0;k<m.length;k++)T[m[k].id()]=k;var w,S,C,R,L,z;w=m.length,S=w*w,C=new Array(S);for(var V=0;V<S;V++)C[V]=-1/0;for(var j=0;j<w;j++)for(var Q=0;Q<w;Q++)j!==Q&&(C[j*w+Q]=d1e(v.distance,m[j],m[Q],v.attributes));R=p1e(C,v.preference);for(var ne=0;ne<w;ne++)C[ne*w+ne]=R;L=new Array(S);for(var Z=0;Z<S;Z++)L[Z]=0;z=new Array(S);for(var ie=0;ie<S;ie++)z[ie]=0;for(var ae=new Array(w),me=new Array(w),De=new Array(w),we=0;we<w;we++)ae[we]=0,me[we]=0,De[we]=0;for(var ve=new Array(w*v.minIterations),Ie=0;Ie<ve.length;Ie++)ve[Ie]=0;var be;for(be=0;be<v.maxIterations;be++){for(var Oe=0;Oe<w;Oe++){for(var Be=-1/0,Ne=-1/0,Xe=-1,qe=0,ot=0;ot<w;ot++)ae[ot]=L[Oe*w+ot],qe=z[Oe*w+ot]+C[Oe*w+ot],qe>=Be?(Ne=Be,Be=qe,Xe=ot):qe>Ne&&(Ne=qe);for(var Ke=0;Ke<w;Ke++)L[Oe*w+Ke]=(1-v.damping)*(C[Oe*w+Ke]-Be)+v.damping*ae[Ke];L[Oe*w+Xe]=(1-v.damping)*(C[Oe*w+Xe]-Ne)+v.damping*ae[Xe]}for(var Je=0;Je<w;Je++){for(var lt=0,ht=0;ht<w;ht++)ae[ht]=z[ht*w+Je],me[ht]=Math.max(0,L[ht*w+Je]),lt+=me[ht];lt-=me[Je],me[Je]=L[Je*w+Je],lt+=me[Je];for(var xt=0;xt<w;xt++)z[xt*w+Je]=(1-v.damping)*Math.min(0,lt-me[xt])+v.damping*ae[xt];z[Je*w+Je]=(1-v.damping)*(lt-me[Je])+v.damping*ae[Je]}for(var ut=0,yt=0;yt<w;yt++){var Ct=z[yt*w+yt]+L[yt*w+yt]>0?1:0;ve[be%v.minIterations*w+yt]=Ct,ut+=Ct}if(ut>0&&(be>=v.minIterations-1||be==v.maxIterations-1)){for(var At=0,wt=0;wt<w;wt++){De[wt]=0;for(var Tt=0;Tt<v.minIterations;Tt++)De[wt]+=ve[Tt*w+wt];(De[wt]===0||De[wt]===v.minIterations)&&At++}if(At===w)break}}for(var st=m1e(w,L,z),St=g1e(w,C,st),Rt={},zt=0;zt<st.length;zt++)Rt[st[zt]]=[];for(var Vt=0;Vt<m.length;Vt++){var Dr=T[m[Vt].id()],Mr=St[Dr];Mr!=null&&Rt[Mr].push(m[Vt])}for(var Wt=new Array(st.length),$t=0;$t<st.length;$t++)Wt[$t]=d.collection(Rt[st[$t]]);return Wt},"affinityPropagation"),y1e={affinityPropagation:BM,ap:BM},v1e=Vi({root:void 0,directed:!1}),x1e={hierholzer:a(function(l){if(!q(l)){var d=arguments;l={root:d[0],directed:d[1]}}var m=v1e(l),v=m.root,T=m.directed,k=this,w=!1,S,C,R;v&&(R=I(v)?this.filter(v)[0].id():v[0].id());var L={},z={};T?k.forEach(function(ie){var ae=ie.id();if(ie.isNode()){var me=ie.indegree(!0),De=ie.outdegree(!0),we=me-De,ve=De-me;we==1?S?w=!0:S=ae:ve==1?C?w=!0:C=ae:(ve>1||we>1)&&(w=!0),L[ae]=[],ie.outgoers().forEach(function(Ie){Ie.isEdge()&&L[ae].push(Ie.id())})}else z[ae]=[void 0,ie.target().id()]}):k.forEach(function(ie){var ae=ie.id();if(ie.isNode()){var me=ie.degree(!0);me%2&&(S?C?w=!0:C=ae:S=ae),L[ae]=[],ie.connectedEdges().forEach(function(De){return L[ae].push(De.id())})}else z[ae]=[ie.source().id(),ie.target().id()]});var V={found:!1,trail:void 0};if(w)return V;if(C&&S)if(T){if(R&&C!=R)return V;R=C}else{if(R&&C!=R&&S!=R)return V;R||(R=C)}else R||(R=k[0].id());var j=a(function(ae){for(var me=ae,De=[ae],we,ve,Ie;L[me].length;)we=L[me].shift(),ve=z[we][0],Ie=z[we][1],me!=Ie?(L[Ie]=L[Ie].filter(function(be){return be!=we}),me=Ie):!T&&me!=ve&&(L[ve]=L[ve].filter(function(be){return be!=we}),me=ve),De.unshift(we),De.unshift(me);return De},"walk"),Q=[],ne=[];for(ne=j(R);ne.length!=1;)L[ne[0]].length==0?(Q.unshift(k.getElementById(ne.shift())),Q.unshift(k.getElementById(ne.shift()))):ne=j(ne.shift()).concat(ne);Q.unshift(k.getElementById(ne.shift()));for(var Z in L)if(L[Z].length)return V;return V.found=!0,V.trail=this.spawn(Q,!0),V},"hierholzer")},Zx=a(function(){var l=this,d={},m=0,v=0,T=[],k=[],w={},S=a(function(z,V){for(var j=k.length-1,Q=[],ne=l.spawn();k[j].x!=z||k[j].y!=V;)Q.push(k.pop().edge),j--;Q.push(k.pop().edge),Q.forEach(function(Z){var ie=Z.connectedNodes().intersection(l);ne.merge(Z),ie.forEach(function(ae){var me=ae.id(),De=ae.connectedEdges().intersection(l);ne.merge(ae),d[me].cutVertex?ne.merge(De.filter(function(we){return we.isLoop()})):ne.merge(De)})}),T.push(ne)},"buildComponent"),C=a(function L(z,V,j){z===j&&(v+=1),d[V]={id:m,low:m++,cutVertex:!1};var Q=l.getElementById(V).connectedEdges().intersection(l);if(Q.size()===0)T.push(l.spawn(l.getElementById(V)));else{var ne,Z,ie,ae;Q.forEach(function(me){ne=me.source().id(),Z=me.target().id(),ie=ne===V?Z:ne,ie!==j&&(ae=me.id(),w[ae]||(w[ae]=!0,k.push({x:V,y:ie,edge:me})),ie in d?d[V].low=Math.min(d[V].low,d[ie].id):(L(z,ie,V),d[V].low=Math.min(d[V].low,d[ie].low),d[V].id<=d[ie].low&&(d[V].cutVertex=!0,S(V,ie))))})}},"biconnectedSearch");l.forEach(function(L){if(L.isNode()){var z=L.id();z in d||(v=0,C(z,z),d[z].cutVertex=v>1)}});var R=Object.keys(d).filter(function(L){return d[L].cutVertex}).map(function(L){return l.getElementById(L)});return{cut:l.spawn(R),components:T}},"hopcroftTarjanBiconnected"),b1e={hopcroftTarjanBiconnected:Zx,htbc:Zx,htb:Zx,hopcroftTarjanBiconnectedComponents:Zx},Jx=a(function(){var l=this,d={},m=0,v=[],T=[],k=l.spawn(l),w=a(function S(C){T.push(C),d[C]={index:m,low:m++,explored:!1};var R=l.getElementById(C).connectedEdges().intersection(l);if(R.forEach(function(Q){var ne=Q.target().id();ne!==C&&(ne in d||S(ne),d[ne].explored||(d[C].low=Math.min(d[C].low,d[ne].low)))}),d[C].index===d[C].low){for(var L=l.spawn();;){var z=T.pop();if(L.merge(l.getElementById(z)),d[z].low=d[C].index,d[z].explored=!0,z===C)break}var V=L.edgesWith(L),j=L.merge(V);v.push(j),k=k.difference(j)}},"stronglyConnectedSearch");return l.forEach(function(S){if(S.isNode()){var C=S.id();C in d||w(C)}}),{cut:k,components:v}},"tarjanStronglyConnected"),T1e={tarjanStronglyConnected:Jx,tsc:Jx,tscc:Jx,tarjanStronglyConnectedComponents:Jx},qM={};[nf,Qye,Zye,eve,rve,ive,sve,Ive,Bp,qp,jC,Wve,i1e,u1e,y1e,x1e,b1e,T1e].forEach(function(h){pe(qM,h)});var zM=0,UM=1,$M=2,Jc=a(function h(l){if(!(this instanceof h))return new h(l);this.id="Thenable/1.0.7",this.state=zM,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof l=="function"&&l.call(this,this.fulfill.bind(this),this.reject.bind(this))},"api");Jc.prototype={fulfill:a(function(l){return GM(this,UM,"fulfillValue",l)},"fulfill"),reject:a(function(l){return GM(this,$M,"rejectReason",l)},"reject"),then:a(function(l,d){var m=this,v=new Jc;return m.onFulfilled.push(HM(l,v,"fulfill")),m.onRejected.push(HM(d,v,"reject")),VM(m),v.proxy},"then")};var GM=a(function(l,d,m,v){return l.state===zM&&(l.state=d,l[m]=v,VM(l)),l},"deliver"),VM=a(function(l){l.state===UM?WM(l,"onFulfilled",l.fulfillValue):l.state===$M&&WM(l,"onRejected",l.rejectReason)},"execute"),WM=a(function(l,d,m){if(l[d].length!==0){var v=l[d];l[d]=[];var T=a(function(){for(var w=0;w<v.length;w++)v[w](m)},"func");typeof setImmediate=="function"?setImmediate(T):setTimeout(T,0)}},"execute_handlers"),HM=a(function(l,d,m){return function(v){if(typeof l!="function")d[m].call(d,v);else{var T;try{T=l(v)}catch(k){d.reject(k);return}k1e(d,T)}}},"resolver"),k1e=a(function h(l,d){if(l===d||l.proxy===d){l.reject(new TypeError("cannot resolve promise with itself"));return}var m;if(e(d)==="object"&&d!==null||typeof d=="function")try{m=d.then}catch(T){l.reject(T);return}if(typeof m=="function"){var v=!1;try{m.call(d,function(T){v||(v=!0,T===d?l.reject(new TypeError("circular thenable chain")):h(l,T))},function(T){v||(v=!0,l.reject(T))})}catch(T){v||l.reject(T)}return}l.fulfill(d)},"resolve");Jc.all=function(h){return new Jc(function(l,d){for(var m=new Array(h.length),v=0,T=a(function(S,C){m[S]=C,v++,v===h.length&&l(m)},"fulfill"),k=0;k<h.length;k++)(function(w){var S=h[w],C=S!=null&&S.then!=null;if(C)S.then(function(L){T(w,L)},function(L){d(L)});else{var R=S;T(w,R)}})(k)})},Jc.resolve=function(h){return new Jc(function(l,d){l(h)})},Jc.reject=function(h){return new Jc(function(l,d){d(h)})};var Up=typeof Promise<"u"?Promise:Jc,KC=a(function(l,d,m){var v=P(l),T=!v,k=this._private=pe({duration:1e3},d,m);if(k.target=l,k.style=k.style||k.css,k.started=!1,k.playing=!1,k.hooked=!1,k.applying=!1,k.progress=0,k.completes=[],k.frames=[],k.complete&&$(k.complete)&&k.completes.push(k.complete),T){var w=l.position();k.startPosition=k.startPosition||{x:w.x,y:w.y},k.startStyle=k.startStyle||l.cy().style().getAnimationStartStyle(l,k.style)}if(v){var S=l.pan();k.startPan={x:S.x,y:S.y},k.startZoom=l.zoom()}this.length=1,this[0]=this},"Animation"),Kh=KC.prototype;pe(Kh,{instanceString:a(function(){return"animation"},"instanceString"),hook:a(function(){var l=this._private;if(!l.hooked){var d,m=l.target._private.animation;l.queue?d=m.queue:d=m.current,d.push(this),W(l.target)&&l.target.cy().addToAnimationPool(l.target),l.hooked=!0}return this},"hook"),play:a(function(){var l=this._private;return l.progress===1&&(l.progress=0),l.playing=!0,l.started=!1,l.stopped=!1,this.hook(),this},"play"),playing:a(function(){return this._private.playing},"playing"),apply:a(function(){var l=this._private;return l.applying=!0,l.started=!1,l.stopped=!1,this.hook(),this},"apply"),applying:a(function(){return this._private.applying},"applying"),pause:a(function(){var l=this._private;return l.playing=!1,l.started=!1,this},"pause"),stop:a(function(){var l=this._private;return l.playing=!1,l.started=!1,l.stopped=!0,this},"stop"),rewind:a(function(){return this.progress(0)},"rewind"),fastforward:a(function(){return this.progress(1)},"fastforward"),time:a(function(l){var d=this._private;return l===void 0?d.progress*d.duration:this.progress(l/d.duration)},"time"),progress:a(function(l){var d=this._private,m=d.playing;return l===void 0?d.progress:(m&&this.pause(),d.progress=l,d.started=!1,m&&this.play(),this)},"progress"),completed:a(function(){return this._private.progress===1},"completed"),reverse:a(function(){var l=this._private,d=l.playing;d&&this.pause(),l.progress=1-l.progress,l.started=!1;var m=a(function(C,R){var L=l[C];L!=null&&(l[C]=l[R],l[R]=L)},"swap");if(m("zoom","startZoom"),m("pan","startPan"),m("position","startPosition"),l.style)for(var v=0;v<l.style.length;v++){var T=l.style[v],k=T.name,w=l.startStyle[k];l.startStyle[k]=T,l.style[v]=w}return d&&this.play(),this},"reverse"),promise:a(function(l){var d=this._private,m;switch(l){case"frame":m=d.frames;break;default:case"complete":case"completed":m=d.completes}return new Up(function(v,T){m.push(function(){v()})})},"promise")}),Kh.complete=Kh.completed,Kh.run=Kh.play,Kh.running=Kh.playing;var _1e={animated:a(function(){return a(function(){var d=this,m=d.length!==void 0,v=m?d:[d],T=this._private.cy||this;if(!T.styleEnabled())return!1;var k=v[0];if(k)return k._private.animation.current.length>0},"animatedImpl")},"animated"),clearQueue:a(function(){return a(function(){var d=this,m=d.length!==void 0,v=m?d:[d],T=this._private.cy||this;if(!T.styleEnabled())return this;for(var k=0;k<v.length;k++){var w=v[k];w._private.animation.queue=[]}return this},"clearQueueImpl")},"clearQueue"),delay:a(function(){return a(function(d,m){var v=this._private.cy||this;return v.styleEnabled()?this.animate({delay:d,duration:d,complete:m}):this},"delayImpl")},"delay"),delayAnimation:a(function(){return a(function(d,m){var v=this._private.cy||this;return v.styleEnabled()?this.animation({delay:d,duration:d,complete:m}):this},"delayAnimationImpl")},"delayAnimation"),animation:a(function(){return a(function(d,m){var v=this,T=v.length!==void 0,k=T?v:[v],w=this._private.cy||this,S=!T,C=!S;if(!w.styleEnabled())return this;var R=w.style();d=pe({},d,m);var L=Object.keys(d).length===0;if(L)return new KC(k[0],d);switch(d.duration===void 0&&(d.duration=400),d.duration){case"slow":d.duration=600;break;case"fast":d.duration=200;break}if(C&&(d.style=R.getPropsList(d.style||d.css),d.css=void 0),C&&d.renderedPosition!=null){var z=d.renderedPosition,V=w.pan(),j=w.zoom();d.position=pM(z,j,V)}if(S&&d.panBy!=null){var Q=d.panBy,ne=w.pan();d.pan={x:ne.x+Q.x,y:ne.y+Q.y}}var Z=d.center||d.centre;if(S&&Z!=null){var ie=w.getCenterPan(Z.eles,d.zoom);ie!=null&&(d.pan=ie)}if(S&&d.fit!=null){var ae=d.fit,me=w.getFitViewport(ae.eles||ae.boundingBox,ae.padding);me!=null&&(d.pan=me.pan,d.zoom=me.zoom)}if(S&&q(d.zoom)){var De=w.getZoomedViewport(d.zoom);De!=null?(De.zoomed&&(d.zoom=De.zoom),De.panned&&(d.pan=De.pan)):d.zoom=null}return new KC(k[0],d)},"animationImpl")},"animation"),animate:a(function(){return a(function(d,m){var v=this,T=v.length!==void 0,k=T?v:[v],w=this._private.cy||this;if(!w.styleEnabled())return this;m&&(d=pe({},d,m));for(var S=0;S<k.length;S++){var C=k[S],R=C.animated()&&(d.queue===void 0||d.queue),L=C.animation(d,R?{queue:!0}:void 0);L.play()}return this},"animateImpl")},"animate"),stop:a(function(){return a(function(d,m){var v=this,T=v.length!==void 0,k=T?v:[v],w=this._private.cy||this;if(!w.styleEnabled())return this;for(var S=0;S<k.length;S++){for(var C=k[S],R=C._private,L=R.animation.current,z=0;z<L.length;z++){var V=L[z],j=V._private;m&&(j.duration=0)}d&&(R.animation.queue=[]),m||(R.animation.current=[])}return w.notify("draw"),this},"stopImpl")},"stop")},w1e=Array.isArray,eb=w1e,E1e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,C1e=/^\w*$/;function S1e(h,l){if(eb(h))return!1;var d=typeof h;return d=="number"||d=="symbol"||d=="boolean"||h==null||hr(h)?!0:C1e.test(h)||!E1e.test(h)||l!=null&&h in Object(l)}a(S1e,"isKey");var A1e=S1e,R1e="[object AsyncFunction]",D1e="[object Function]",L1e="[object GeneratorFunction]",I1e="[object Proxy]";function N1e(h){if(!gt(h))return!1;var l=It(h);return l==D1e||l==L1e||l==R1e||l==I1e}a(N1e,"isFunction");var P1e=N1e,O1e=Qt["__core-js_shared__"],QC=O1e,jM=function(){var h=/[^.]+$/.exec(QC&&QC.keys&&QC.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}();function M1e(h){return!!jM&&jM in h}a(M1e,"isMasked");var F1e=M1e,B1e=Function.prototype,q1e=B1e.toString;function z1e(h){if(h!=null){try{return q1e.call(h)}catch{}try{return h+""}catch{}}return""}a(z1e,"toSource");var U1e=z1e,$1e=/[\\^$.*+?()[\]{}|]/g,G1e=/^\[object .+?Constructor\]$/,V1e=Function.prototype,W1e=Object.prototype,H1e=V1e.toString,j1e=W1e.hasOwnProperty,Y1e=RegExp("^"+H1e.call(j1e).replace($1e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function X1e(h){if(!gt(h)||F1e(h))return!1;var l=P1e(h)?Y1e:G1e;return l.test(U1e(h))}a(X1e,"baseIsNative");var K1e=X1e;function Q1e(h,l){return h?.[l]}a(Q1e,"getValue$1");var Z1e=Q1e;function J1e(h,l){var d=Z1e(h,l);return K1e(d)?d:void 0}a(J1e,"getNative");var ZC=J1e,exe=ZC(Object,"create"),D0=exe;function txe(){this.__data__=D0?D0(null):{},this.size=0}a(txe,"hashClear");var rxe=txe;function nxe(h){var l=this.has(h)&&delete this.__data__[h];return this.size-=l?1:0,l}a(nxe,"hashDelete");var ixe=nxe,axe="__lodash_hash_undefined__",oxe=Object.prototype,sxe=oxe.hasOwnProperty;function lxe(h){var l=this.__data__;if(D0){var d=l[h];return d===axe?void 0:d}return sxe.call(l,h)?l[h]:void 0}a(lxe,"hashGet");var cxe=lxe,uxe=Object.prototype,fxe=uxe.hasOwnProperty;function hxe(h){var l=this.__data__;return D0?l[h]!==void 0:fxe.call(l,h)}a(hxe,"hashHas");var dxe=hxe,pxe="__lodash_hash_undefined__";function mxe(h,l){var d=this.__data__;return this.size+=this.has(h)?0:1,d[h]=D0&&l===void 0?pxe:l,this}a(mxe,"hashSet");var gxe=mxe;function $p(h){var l=-1,d=h==null?0:h.length;for(this.clear();++l<d;){var m=h[l];this.set(m[0],m[1])}}a($p,"Hash"),$p.prototype.clear=rxe,$p.prototype.delete=ixe,$p.prototype.get=cxe,$p.prototype.has=dxe,$p.prototype.set=gxe;var YM=$p;function yxe(){this.__data__=[],this.size=0}a(yxe,"listCacheClear");var vxe=yxe;function xxe(h,l){return h===l||h!==h&&l!==l}a(xxe,"eq");var XM=xxe;function bxe(h,l){for(var d=h.length;d--;)if(XM(h[d][0],l))return d;return-1}a(bxe,"assocIndexOf");var tb=bxe,Txe=Array.prototype,kxe=Txe.splice;function _xe(h){var l=this.__data__,d=tb(l,h);if(d<0)return!1;var m=l.length-1;return d==m?l.pop():kxe.call(l,d,1),--this.size,!0}a(_xe,"listCacheDelete");var wxe=_xe;function Exe(h){var l=this.__data__,d=tb(l,h);return d<0?void 0:l[d][1]}a(Exe,"listCacheGet");var Cxe=Exe;function Sxe(h){return tb(this.__data__,h)>-1}a(Sxe,"listCacheHas");var Axe=Sxe;function Rxe(h,l){var d=this.__data__,m=tb(d,h);return m<0?(++this.size,d.push([h,l])):d[m][1]=l,this}a(Rxe,"listCacheSet");var Dxe=Rxe;function Gp(h){var l=-1,d=h==null?0:h.length;for(this.clear();++l<d;){var m=h[l];this.set(m[0],m[1])}}a(Gp,"ListCache"),Gp.prototype.clear=vxe,Gp.prototype.delete=wxe,Gp.prototype.get=Cxe,Gp.prototype.has=Axe,Gp.prototype.set=Dxe;var Lxe=Gp,Ixe=ZC(Qt,"Map"),Nxe=Ixe;function Pxe(){this.size=0,this.__data__={hash:new YM,map:new(Nxe||Lxe),string:new YM}}a(Pxe,"mapCacheClear");var Oxe=Pxe;function Mxe(h){var l=typeof h;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?h!=="__proto__":h===null}a(Mxe,"isKeyable");var Fxe=Mxe;function Bxe(h,l){var d=h.__data__;return Fxe(l)?d[typeof l=="string"?"string":"hash"]:d.map}a(Bxe,"getMapData");var rb=Bxe;function qxe(h){var l=rb(this,h).delete(h);return this.size-=l?1:0,l}a(qxe,"mapCacheDelete");var zxe=qxe;function Uxe(h){return rb(this,h).get(h)}a(Uxe,"mapCacheGet");var $xe=Uxe;function Gxe(h){return rb(this,h).has(h)}a(Gxe,"mapCacheHas");var Vxe=Gxe;function Wxe(h,l){var d=rb(this,h),m=d.size;return d.set(h,l),this.size+=d.size==m?0:1,this}a(Wxe,"mapCacheSet");var Hxe=Wxe;function Vp(h){var l=-1,d=h==null?0:h.length;for(this.clear();++l<d;){var m=h[l];this.set(m[0],m[1])}}a(Vp,"MapCache"),Vp.prototype.clear=Oxe,Vp.prototype.delete=zxe,Vp.prototype.get=$xe,Vp.prototype.has=Vxe,Vp.prototype.set=Hxe;var KM=Vp,jxe="Expected a function";function JC(h,l){if(typeof h!="function"||l!=null&&typeof l!="function")throw new TypeError(jxe);var d=a(function(){var m=arguments,v=l?l.apply(this,m):m[0],T=d.cache;if(T.has(v))return T.get(v);var k=h.apply(this,m);return d.cache=T.set(v,k)||T,k},"memoized");return d.cache=new(JC.Cache||KM),d}a(JC,"memoize"),JC.Cache=KM;var Yxe=JC,Xxe=500;function Kxe(h){var l=Yxe(h,function(m){return d.size===Xxe&&d.clear(),m}),d=l.cache;return l}a(Kxe,"memoizeCapped");var Qxe=Kxe,Zxe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Jxe=/\\(\\)?/g,ebe=Qxe(function(h){var l=[];return h.charCodeAt(0)===46&&l.push(""),h.replace(Zxe,function(d,m,v,T){l.push(v?T.replace(Jxe,"$1"):m||d)}),l}),QM=ebe;function tbe(h,l){for(var d=-1,m=h==null?0:h.length,v=Array(m);++d<m;)v[d]=l(h[d],d,h);return v}a(tbe,"arrayMap");var ZM=tbe,rbe=1/0,JM=pn?pn.prototype:void 0,e8=JM?JM.toString:void 0;function t8(h){if(typeof h=="string")return h;if(eb(h))return ZM(h,t8)+"";if(hr(h))return e8?e8.call(h):"";var l=h+"";return l=="0"&&1/h==-rbe?"-0":l}a(t8,"baseToString");var nbe=t8;function ibe(h){return h==null?"":nbe(h)}a(ibe,"toString$1");var r8=ibe;function abe(h,l){return eb(h)?h:A1e(h,l)?[h]:QM(r8(h))}a(abe,"castPath");var n8=abe,obe=1/0;function sbe(h){if(typeof h=="string"||hr(h))return h;var l=h+"";return l=="0"&&1/h==-obe?"-0":l}a(sbe,"toKey");var eS=sbe;function lbe(h,l){l=n8(l,h);for(var d=0,m=l.length;h!=null&&d<m;)h=h[eS(l[d++])];return d&&d==m?h:void 0}a(lbe,"baseGet");var cbe=lbe;function ube(h,l,d){var m=h==null?void 0:cbe(h,l);return m===void 0?d:m}a(ube,"get");var fbe=ube,hbe=function(){try{var h=ZC(Object,"defineProperty");return h({},"",{}),h}catch{}}(),i8=hbe;function dbe(h,l,d){l=="__proto__"&&i8?i8(h,l,{configurable:!0,enumerable:!0,value:d,writable:!0}):h[l]=d}a(dbe,"baseAssignValue");var pbe=dbe,mbe=Object.prototype,gbe=mbe.hasOwnProperty;function ybe(h,l,d){var m=h[l];(!(gbe.call(h,l)&&XM(m,d))||d===void 0&&!(l in h))&&pbe(h,l,d)}a(ybe,"assignValue");var vbe=ybe,xbe=9007199254740991,bbe=/^(?:0|[1-9]\d*)$/;function Tbe(h,l){var d=typeof h;return l=l??xbe,!!l&&(d=="number"||d!="symbol"&&bbe.test(h))&&h>-1&&h%1==0&&h<l}a(Tbe,"isIndex");var kbe=Tbe;function _be(h,l,d,m){if(!gt(h))return h;l=n8(l,h);for(var v=-1,T=l.length,k=T-1,w=h;w!=null&&++v<T;){var S=eS(l[v]),C=d;if(S==="__proto__"||S==="constructor"||S==="prototype")return h;if(v!=k){var R=w[S];C=m?m(R,S,w):void 0,C===void 0&&(C=gt(R)?R:kbe(l[v+1])?[]:{})}vbe(w,S,C),w=w[S]}return h}a(_be,"baseSet");var wbe=_be;function Ebe(h,l,d){return h==null?h:wbe(h,l,d)}a(Ebe,"set");var Cbe=Ebe;function Sbe(h,l){var d=-1,m=h.length;for(l||(l=Array(m));++d<m;)l[d]=h[d];return l}a(Sbe,"copyArray");var Abe=Sbe;function Rbe(h){return eb(h)?ZM(h,eS):hr(h)?[h]:Abe(QM(r8(h)))}a(Rbe,"toPath");var Dbe=Rbe,Lbe={data:a(function(l){var d={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:a(function(v){},"beforeGet"),beforeSet:a(function(v,T){},"beforeSet"),onSet:a(function(v){},"onSet"),canSet:a(function(v){return!0},"canSet")};return l=pe({},d,l),a(function(v,T){var k=l,w=this,S=w.length!==void 0,C=S?w:[w],R=S?w[0]:w;if(I(v)){var L=v.indexOf(".")!==-1,z=L&&Dbe(v);if(k.allowGetting&&T===void 0){var V;return R&&(k.beforeGet(R),z&&R._private[k.field][v]===void 0?V=fbe(R._private[k.field],z):V=R._private[k.field][v]),V}else if(k.allowSetting&&T!==void 0){var j=!k.immutableKeys[v];if(j){var Q=i({},v,T);k.beforeSet(w,Q);for(var ne=0,Z=C.length;ne<Z;ne++){var ie=C[ne];k.canSet(ie)&&(z&&R._private[k.field][v]===void 0?Cbe(ie._private[k.field],z,T):ie._private[k.field][v]=T)}k.updateStyle&&w.updateStyle(),k.onSet(w),k.settingTriggersEvent&&w[k.triggerFnName](k.settingEvent)}}}else if(k.allowSetting&&q(v)){var ae=v,me,De,we=Object.keys(ae);k.beforeSet(w,ae);for(var ve=0;ve<we.length;ve++){me=we[ve],De=ae[me];var Ie=!k.immutableKeys[me];if(Ie)for(var be=0;be<C.length;be++){var Oe=C[be];k.canSet(Oe)&&(Oe._private[k.field][me]=De)}}k.updateStyle&&w.updateStyle(),k.onSet(w),k.settingTriggersEvent&&w[k.triggerFnName](k.settingEvent)}else if(k.allowBinding&&$(v)){var Be=v;w.on(k.bindingEvent,Be)}else if(k.allowGetting&&v===void 0){var Ne;return R&&(k.beforeGet(R),Ne=R._private[k.field]),Ne}return w},"dataImpl")},"data"),removeData:a(function(l){var d={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return l=pe({},d,l),a(function(v){var T=l,k=this,w=k.length!==void 0,S=w?k:[k];if(I(v)){for(var C=v.split(/\s+/),R=C.length,L=0;L<R;L++){var z=C[L];if(!ee(z)){var V=!T.immutableKeys[z];if(V)for(var j=0,Q=S.length;j<Q;j++)S[j]._private[T.field][z]=void 0}}T.triggerEvent&&k[T.triggerFnName](T.event)}else if(v===void 0){for(var ne=0,Z=S.length;ne<Z;ne++)for(var ie=S[ne]._private[T.field],ae=Object.keys(ie),me=0;me<ae.length;me++){var De=ae[me],we=!T.immutableKeys[De];we&&(ie[De]=void 0)}T.triggerEvent&&k[T.triggerFnName](T.event)}return k},"removeDataImpl")},"removeData")},Ibe={eventAliasesOn:a(function(l){var d=l;d.addListener=d.listen=d.bind=d.on,d.unlisten=d.unbind=d.off=d.removeListener,d.trigger=d.emit,d.pon=d.promiseOn=function(m,v){var T=this,k=Array.prototype.slice.call(arguments,0);return new Up(function(w,S){var C=a(function(V){T.off.apply(T,L),w(V)},"callback"),R=k.concat([C]),L=R.concat([]);T.on.apply(T,R)})}},"eventAliasesOn")},Sn={};[_1e,Lbe,Ibe].forEach(function(h){pe(Sn,h)});var Nbe={animate:Sn.animate(),animation:Sn.animation(),animated:Sn.animated(),clearQueue:Sn.clearQueue(),delay:Sn.delay(),delayAnimation:Sn.delayAnimation(),stop:Sn.stop()},nb={classes:a(function(l){var d=this;if(l===void 0){var m=[];return d[0]._private.classes.forEach(function(j){return m.push(j)}),m}else X(l)||(l=(l||"").match(/\S+/g)||[]);for(var v=[],T=new Cn(l),k=0;k<d.length;k++){for(var w=d[k],S=w._private,C=S.classes,R=!1,L=0;L<l.length;L++){var z=l[L],V=C.has(z);if(!V){R=!0;break}}R||(R=C.size!==l.length),R&&(S.classes=T,v.push(w))}return v.length>0&&this.spawn(v).updateStyle().emit("class"),d},"classes"),addClass:a(function(l){return this.toggleClass(l,!0)},"addClass"),hasClass:a(function(l){var d=this[0];return d!=null&&d._private.classes.has(l)},"hasClass"),toggleClass:a(function(l,d){X(l)||(l=l.match(/\S+/g)||[]);for(var m=this,v=d===void 0,T=[],k=0,w=m.length;k<w;k++)for(var S=m[k],C=S._private.classes,R=!1,L=0;L<l.length;L++){var z=l[L],V=C.has(z),j=!1;d||v&&!V?(C.add(z),j=!0):(!d||v&&V)&&(C.delete(z),j=!0),!R&&j&&(T.push(S),R=!0)}return T.length>0&&this.spawn(T).updateStyle().emit("class"),m},"toggleClass"),removeClass:a(function(l){return this.toggleClass(l,!1)},"removeClass"),flashClass:a(function(l,d){var m=this;if(d==null)d=250;else if(d===0)return m;return m.addClass(l),setTimeout(function(){m.removeClass(l)},d),m},"flashClass")};nb.className=nb.classNames=nb.classes;var mn={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:_e,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};mn.variable="(?:[\\w-.]|(?:\\\\"+mn.metaChar+"))+",mn.className="(?:[\\w-]|(?:\\\\"+mn.metaChar+"))+",mn.value=mn.string+"|"+mn.number,mn.id=mn.variable,function(){var h,l,d;for(h=mn.comparatorOp.split("|"),d=0;d<h.length;d++)l=h[d],mn.comparatorOp+="|@"+l;for(h=mn.comparatorOp.split("|"),d=0;d<h.length;d++)l=h[d],!(l.indexOf("!")>=0)&&l!=="="&&(mn.comparatorOp+="|\\!"+l)}();var qn=a(function(){return{checks:[]}},"newQuery"),er={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},tS=[{selector:":selected",matches:a(function(l){return l.selected()},"matches")},{selector:":unselected",matches:a(function(l){return!l.selected()},"matches")},{selector:":selectable",matches:a(function(l){return l.selectable()},"matches")},{selector:":unselectable",matches:a(function(l){return!l.selectable()},"matches")},{selector:":locked",matches:a(function(l){return l.locked()},"matches")},{selector:":unlocked",matches:a(function(l){return!l.locked()},"matches")},{selector:":visible",matches:a(function(l){return l.visible()},"matches")},{selector:":hidden",matches:a(function(l){return!l.visible()},"matches")},{selector:":transparent",matches:a(function(l){return l.transparent()},"matches")},{selector:":grabbed",matches:a(function(l){return l.grabbed()},"matches")},{selector:":free",matches:a(function(l){return!l.grabbed()},"matches")},{selector:":removed",matches:a(function(l){return l.removed()},"matches")},{selector:":inside",matches:a(function(l){return!l.removed()},"matches")},{selector:":grabbable",matches:a(function(l){return l.grabbable()},"matches")},{selector:":ungrabbable",matches:a(function(l){return!l.grabbable()},"matches")},{selector:":animated",matches:a(function(l){return l.animated()},"matches")},{selector:":unanimated",matches:a(function(l){return!l.animated()},"matches")},{selector:":parent",matches:a(function(l){return l.isParent()},"matches")},{selector:":childless",matches:a(function(l){return l.isChildless()},"matches")},{selector:":child",matches:a(function(l){return l.isChild()},"matches")},{selector:":orphan",matches:a(function(l){return l.isOrphan()},"matches")},{selector:":nonorphan",matches:a(function(l){return l.isChild()},"matches")},{selector:":compound",matches:a(function(l){return l.isNode()?l.isParent():l.source().isParent()||l.target().isParent()},"matches")},{selector:":loop",matches:a(function(l){return l.isLoop()},"matches")},{selector:":simple",matches:a(function(l){return l.isSimple()},"matches")},{selector:":active",matches:a(function(l){return l.active()},"matches")},{selector:":inactive",matches:a(function(l){return!l.active()},"matches")},{selector:":backgrounding",matches:a(function(l){return l.backgrounding()},"matches")},{selector:":nonbackgrounding",matches:a(function(l){return!l.backgrounding()},"matches")}].sort(function(h,l){return ke(h.selector,l.selector)}),Pbe=function(){for(var h={},l,d=0;d<tS.length;d++)l=tS[d],h[l.selector]=l.matches;return h}(),Obe=a(function(l,d){return Pbe[l](d)},"stateSelectorMatches"),Mbe="("+tS.map(function(h){return h.selector}).join("|")+")",Wp=a(function(l){return l.replace(new RegExp("\\\\("+mn.metaChar+")","g"),function(d,m){return m})},"cleanMetaChars"),of=a(function(l,d,m){l[l.length-1]=m},"replaceLastQuery"),rS=[{name:"group",query:!0,regex:"("+mn.group+")",populate:a(function(l,d,m){var v=o(m,1),T=v[0];d.checks.push({type:er.GROUP,value:T==="*"?T:T+"s"})},"populate")},{name:"state",query:!0,regex:Mbe,populate:a(function(l,d,m){var v=o(m,1),T=v[0];d.checks.push({type:er.STATE,value:T})},"populate")},{name:"id",query:!0,regex:"\\#("+mn.id+")",populate:a(function(l,d,m){var v=o(m,1),T=v[0];d.checks.push({type:er.ID,value:Wp(T)})},"populate")},{name:"className",query:!0,regex:"\\.("+mn.className+")",populate:a(function(l,d,m){var v=o(m,1),T=v[0];d.checks.push({type:er.CLASS,value:Wp(T)})},"populate")},{name:"dataExists",query:!0,regex:"\\[\\s*("+mn.variable+")\\s*\\]",populate:a(function(l,d,m){var v=o(m,1),T=v[0];d.checks.push({type:er.DATA_EXIST,field:Wp(T)})},"populate")},{name:"dataCompare",query:!0,regex:"\\[\\s*("+mn.variable+")\\s*("+mn.comparatorOp+")\\s*("+mn.value+")\\s*\\]",populate:a(function(l,d,m){var v=o(m,3),T=v[0],k=v[1],w=v[2],S=new RegExp("^"+mn.string+"$").exec(w)!=null;S?w=w.substring(1,w.length-1):w=parseFloat(w),d.checks.push({type:er.DATA_COMPARE,field:Wp(T),operator:k,value:w})},"populate")},{name:"dataBool",query:!0,regex:"\\[\\s*("+mn.boolOp+")\\s*("+mn.variable+")\\s*\\]",populate:a(function(l,d,m){var v=o(m,2),T=v[0],k=v[1];d.checks.push({type:er.DATA_BOOL,field:Wp(k),operator:T})},"populate")},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+mn.meta+")\\s*("+mn.comparatorOp+")\\s*("+mn.number+")\\s*\\]\\]",populate:a(function(l,d,m){var v=o(m,3),T=v[0],k=v[1],w=v[2];d.checks.push({type:er.META_COMPARE,field:Wp(T),operator:k,value:parseFloat(w)})},"populate")},{name:"nextQuery",separator:!0,regex:mn.separator,populate:a(function(l,d){var m=l.currentSubject,v=l.edgeCount,T=l.compoundCount,k=l[l.length-1];m!=null&&(k.subject=m,l.currentSubject=null),k.edgeCount=v,k.compoundCount=T,l.edgeCount=0,l.compoundCount=0;var w=l[l.length++]=qn();return w},"populate")},{name:"directedEdge",separator:!0,regex:mn.directedEdge,populate:a(function(l,d){if(l.currentSubject==null){var m=qn(),v=d,T=qn();return m.checks.push({type:er.DIRECTED_EDGE,source:v,target:T}),of(l,d,m),l.edgeCount++,T}else{var k=qn(),w=d,S=qn();return k.checks.push({type:er.NODE_SOURCE,source:w,target:S}),of(l,d,k),l.edgeCount++,S}},"populate")},{name:"undirectedEdge",separator:!0,regex:mn.undirectedEdge,populate:a(function(l,d){if(l.currentSubject==null){var m=qn(),v=d,T=qn();return m.checks.push({type:er.UNDIRECTED_EDGE,nodes:[v,T]}),of(l,d,m),l.edgeCount++,T}else{var k=qn(),w=d,S=qn();return k.checks.push({type:er.NODE_NEIGHBOR,node:w,neighbor:S}),of(l,d,k),S}},"populate")},{name:"child",separator:!0,regex:mn.child,populate:a(function(l,d){if(l.currentSubject==null){var m=qn(),v=qn(),T=l[l.length-1];return m.checks.push({type:er.CHILD,parent:T,child:v}),of(l,d,m),l.compoundCount++,v}else if(l.currentSubject===d){var k=qn(),w=l[l.length-1],S=qn(),C=qn(),R=qn(),L=qn();return k.checks.push({type:er.COMPOUND_SPLIT,left:w,right:S,subject:C}),C.checks=d.checks,d.checks=[{type:er.TRUE}],L.checks.push({type:er.TRUE}),S.checks.push({type:er.PARENT,parent:L,child:R}),of(l,w,k),l.currentSubject=C,l.compoundCount++,R}else{var z=qn(),V=qn(),j=[{type:er.PARENT,parent:z,child:V}];return z.checks=d.checks,d.checks=j,l.compoundCount++,V}},"populate")},{name:"descendant",separator:!0,regex:mn.descendant,populate:a(function(l,d){if(l.currentSubject==null){var m=qn(),v=qn(),T=l[l.length-1];return m.checks.push({type:er.DESCENDANT,ancestor:T,descendant:v}),of(l,d,m),l.compoundCount++,v}else if(l.currentSubject===d){var k=qn(),w=l[l.length-1],S=qn(),C=qn(),R=qn(),L=qn();return k.checks.push({type:er.COMPOUND_SPLIT,left:w,right:S,subject:C}),C.checks=d.checks,d.checks=[{type:er.TRUE}],L.checks.push({type:er.TRUE}),S.checks.push({type:er.ANCESTOR,ancestor:L,descendant:R}),of(l,w,k),l.currentSubject=C,l.compoundCount++,R}else{var z=qn(),V=qn(),j=[{type:er.ANCESTOR,ancestor:z,descendant:V}];return z.checks=d.checks,d.checks=j,l.compoundCount++,V}},"populate")},{name:"subject",modifier:!0,regex:mn.subject,populate:a(function(l,d){if(l.currentSubject!=null&&l.currentSubject!==d)return Kr("Redefinition of subject in selector `"+l.toString()+"`"),!1;l.currentSubject=d;var m=l[l.length-1],v=m.checks[0],T=v==null?null:v.type;T===er.DIRECTED_EDGE?v.type=er.NODE_TARGET:T===er.UNDIRECTED_EDGE&&(v.type=er.NODE_NEIGHBOR,v.node=v.nodes[1],v.neighbor=v.nodes[0],v.nodes=null)},"populate")}];rS.forEach(function(h){return h.regexObj=new RegExp("^"+h.regex)});var Fbe=a(function(l){for(var d,m,v,T=0;T<rS.length;T++){var k=rS[T],w=k.name,S=l.match(k.regexObj);if(S!=null){m=S,d=k,v=w;var C=S[0];l=l.substring(C.length);break}}return{expr:d,match:m,name:v,remaining:l}},"consumeExpr"),Bbe=a(function(l){var d=l.match(/^\s+/);if(d){var m=d[0];l=l.substring(m.length)}return l},"consumeWhitespace"),qbe=a(function(l){var d=this,m=d.inputText=l,v=d[0]=qn();for(d.length=1,m=Bbe(m);;){var T=Fbe(m);if(T.expr==null)return Kr("The selector `"+l+"`is invalid"),!1;var k=T.match.slice(1),w=T.expr.populate(d,v,k);if(w===!1)return!1;if(w!=null&&(v=w),m=T.remaining,m.match(/^\s*$/))break}var S=d[d.length-1];d.currentSubject!=null&&(S.subject=d.currentSubject),S.edgeCount=d.edgeCount,S.compoundCount=d.compoundCount;for(var C=0;C<d.length;C++){var R=d[C];if(R.compoundCount>0&&R.edgeCount>0)return Kr("The selector `"+l+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(R.edgeCount>1)return Kr("The selector `"+l+"` is invalid because it uses multiple edge selectors"),!1;R.edgeCount===1&&Kr("The selector `"+l+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},"parse"),zbe=a(function(){if(this.toStringCache!=null)return this.toStringCache;for(var l=a(function(R){return R??""},"clean"),d=a(function(R){return I(R)?'"'+R+'"':l(R)},"cleanVal"),m=a(function(R){return" "+R+" "},"space"),v=a(function(R,L){var z=R.type,V=R.value;switch(z){case er.GROUP:{var j=l(V);return j.substring(0,j.length-1)}case er.DATA_COMPARE:{var Q=R.field,ne=R.operator;return"["+Q+m(l(ne))+d(V)+"]"}case er.DATA_BOOL:{var Z=R.operator,ie=R.field;return"["+l(Z)+ie+"]"}case er.DATA_EXIST:{var ae=R.field;return"["+ae+"]"}case er.META_COMPARE:{var me=R.operator,De=R.field;return"[["+De+m(l(me))+d(V)+"]]"}case er.STATE:return V;case er.ID:return"#"+V;case er.CLASS:return"."+V;case er.PARENT:case er.CHILD:return T(R.parent,L)+m(">")+T(R.child,L);case er.ANCESTOR:case er.DESCENDANT:return T(R.ancestor,L)+" "+T(R.descendant,L);case er.COMPOUND_SPLIT:{var we=T(R.left,L),ve=T(R.subject,L),Ie=T(R.right,L);return we+(we.length>0?" ":"")+ve+Ie}case er.TRUE:return""}},"checkToString"),T=a(function(R,L){return R.checks.reduce(function(z,V,j){return z+(L===R&&j===0?"$":"")+v(V,L)},"")},"queryToString"),k="",w=0;w<this.length;w++){var S=this[w];k+=T(S,S.subject),this.length>1&&w<this.length-1&&(k+=", ")}return this.toStringCache=k,k},"toString"),Ube={parse:qbe,toString:zbe},a8=a(function(l,d,m){var v,T=I(l),k=B(l),w=I(m),S,C,R=!1,L=!1,z=!1;switch(d.indexOf("!")>=0&&(d=d.replace("!",""),L=!0),d.indexOf("@")>=0&&(d=d.replace("@",""),R=!0),(T||w||R)&&(S=!T&&!k?"":""+l,C=""+m),R&&(l=S=S.toLowerCase(),m=C=C.toLowerCase()),d){case"*=":v=S.indexOf(C)>=0;break;case"$=":v=S.indexOf(C,S.length-C.length)>=0;break;case"^=":v=S.indexOf(C)===0;break;case"=":v=l===m;break;case">":z=!0,v=l>m;break;case">=":z=!0,v=l>=m;break;case"<":z=!0,v=l<m;break;case"<=":z=!0,v=l<=m;break;default:v=!1;break}return L&&(l!=null||!z)&&(v=!v),v},"valCmp"),$be=a(function(l,d){switch(d){case"?":return!!l;case"!":return!l;case"^":return l===void 0}},"boolCmp"),Gbe=a(function(l){return l!==void 0},"existCmp"),nS=a(function(l,d){return l.data(d)},"data"),Vbe=a(function(l,d){return l[d]()},"meta"),_i=[],ni=a(function(l,d){return l.checks.every(function(m){return _i[m.type](m,d)})},"matches");_i[er.GROUP]=function(h,l){var d=h.value;return d==="*"||d===l.group()},_i[er.STATE]=function(h,l){var d=h.value;return Obe(d,l)},_i[er.ID]=function(h,l){var d=h.value;return l.id()===d},_i[er.CLASS]=function(h,l){var d=h.value;return l.hasClass(d)},_i[er.META_COMPARE]=function(h,l){var d=h.field,m=h.operator,v=h.value;return a8(Vbe(l,d),m,v)},_i[er.DATA_COMPARE]=function(h,l){var d=h.field,m=h.operator,v=h.value;return a8(nS(l,d),m,v)},_i[er.DATA_BOOL]=function(h,l){var d=h.field,m=h.operator;return $be(nS(l,d),m)},_i[er.DATA_EXIST]=function(h,l){var d=h.field;return h.operator,Gbe(nS(l,d))},_i[er.UNDIRECTED_EDGE]=function(h,l){var d=h.nodes[0],m=h.nodes[1],v=l.source(),T=l.target();return ni(d,v)&&ni(m,T)||ni(m,v)&&ni(d,T)},_i[er.NODE_NEIGHBOR]=function(h,l){return ni(h.node,l)&&l.neighborhood().some(function(d){return d.isNode()&&ni(h.neighbor,d)})},_i[er.DIRECTED_EDGE]=function(h,l){return ni(h.source,l.source())&&ni(h.target,l.target())},_i[er.NODE_SOURCE]=function(h,l){return ni(h.source,l)&&l.outgoers().some(function(d){return d.isNode()&&ni(h.target,d)})},_i[er.NODE_TARGET]=function(h,l){return ni(h.target,l)&&l.incomers().some(function(d){return d.isNode()&&ni(h.source,d)})},_i[er.CHILD]=function(h,l){return ni(h.child,l)&&ni(h.parent,l.parent())},_i[er.PARENT]=function(h,l){return ni(h.parent,l)&&l.children().some(function(d){return ni(h.child,d)})},_i[er.DESCENDANT]=function(h,l){return ni(h.descendant,l)&&l.ancestors().some(function(d){return ni(h.ancestor,d)})},_i[er.ANCESTOR]=function(h,l){return ni(h.ancestor,l)&&l.descendants().some(function(d){return ni(h.descendant,d)})},_i[er.COMPOUND_SPLIT]=function(h,l){return ni(h.subject,l)&&ni(h.left,l)&&ni(h.right,l)},_i[er.TRUE]=function(){return!0},_i[er.COLLECTION]=function(h,l){var d=h.value;return d.has(l)},_i[er.FILTER]=function(h,l){var d=h.value;return d(l)};var Wbe=a(function(l){var d=this;if(d.length===1&&d[0].checks.length===1&&d[0].checks[0].type===er.ID)return l.getElementById(d[0].checks[0].value).collection();var m=a(function(T){for(var k=0;k<d.length;k++){var w=d[k];if(ni(w,T))return!0}return!1},"selectorFunction");return d.text()==null&&(m=a(function(){return!0},"selectorFunction")),l.filter(m)},"filter"),Hbe=a(function(l){for(var d=this,m=0;m<d.length;m++){var v=d[m];if(ni(v,l))return!0}return!1},"matches"),jbe={matches:Hbe,filter:Wbe},sf=a(function(l){this.inputText=l,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,l==null||I(l)&&l.match(/^\s*$/)||(W(l)?this.addQuery({checks:[{type:er.COLLECTION,value:l.collection()}]}):$(l)?this.addQuery({checks:[{type:er.FILTER,value:l}]}):I(l)?this.parse(l)||(this.invalid=!0):Wr("A selector must be created from a string; found "))},"Selector"),lf=sf.prototype;[Ube,jbe].forEach(function(h){return pe(lf,h)}),lf.text=function(){return this.inputText},lf.size=function(){return this.length},lf.eq=function(h){return this[h]},lf.sameText=function(h){return!this.invalid&&!h.invalid&&this.text()===h.text()},lf.addQuery=function(h){this[this.length++]=h},lf.selector=lf.toString;var cf={allAre:a(function(l){var d=new sf(l);return this.every(function(m){return d.matches(m)})},"allAre"),is:a(function(l){var d=new sf(l);return this.some(function(m){return d.matches(m)})},"is"),some:a(function(l,d){for(var m=0;m<this.length;m++){var v=d?l.apply(d,[this[m],m,this]):l(this[m],m,this);if(v)return!0}return!1},"some"),every:a(function(l,d){for(var m=0;m<this.length;m++){var v=d?l.apply(d,[this[m],m,this]):l(this[m],m,this);if(!v)return!1}return!0},"every"),same:a(function(l){if(this===l)return!0;l=this.cy().collection(l);var d=this.length,m=l.length;return d!==m?!1:d===1?this[0]===l[0]:this.every(function(v){return l.hasElementWithId(v.id())})},"same"),anySame:a(function(l){return l=this.cy().collection(l),this.some(function(d){return l.hasElementWithId(d.id())})},"anySame"),allAreNeighbors:a(function(l){l=this.cy().collection(l);var d=this.neighborhood();return l.every(function(m){return d.hasElementWithId(m.id())})},"allAreNeighbors"),contains:a(function(l){l=this.cy().collection(l);var d=this;return l.every(function(m){return d.hasElementWithId(m.id())})},"contains")};cf.allAreNeighbours=cf.allAreNeighbors,cf.has=cf.contains,cf.equal=cf.equals=cf.same;var Is=a(function(l,d){return a(function(v,T,k,w){var S=v,C=this,R;if(S==null?R="":W(S)&&S.length===1&&(R=S.id()),C.length===1&&R){var L=C[0]._private,z=L.traversalCache=L.traversalCache||{},V=z[d]=z[d]||[],j=Bn(R),Q=V[j];return Q||(V[j]=l.call(C,v,T,k,w))}else return l.call(C,v,T,k,w)},"traversalCache")},"cache"),Hp={parent:a(function(l){var d=[];if(this.length===1){var m=this[0]._private.parent;if(m)return m}for(var v=0;v<this.length;v++){var T=this[v],k=T._private.parent;k&&d.push(k)}return this.spawn(d,!0).filter(l)},"parent"),parents:a(function(l){for(var d=[],m=this.parent();m.nonempty();){for(var v=0;v<m.length;v++){var T=m[v];d.push(T)}m=m.parent()}return this.spawn(d,!0).filter(l)},"parents"),commonAncestors:a(function(l){for(var d,m=0;m<this.length;m++){var v=this[m],T=v.parents();d=d||T,d=d.intersect(T)}return d.filter(l)},"commonAncestors"),orphans:a(function(l){return this.stdFilter(function(d){return d.isOrphan()}).filter(l)},"orphans"),nonorphans:a(function(l){return this.stdFilter(function(d){return d.isChild()}).filter(l)},"nonorphans"),children:Is(function(h){for(var l=[],d=0;d<this.length;d++)for(var m=this[d],v=m._private.children,T=0;T<v.length;T++)l.push(v[T]);return this.spawn(l,!0).filter(h)},"children"),siblings:a(function(l){return this.parent().children().not(this).filter(l)},"siblings"),isParent:a(function(){var l=this[0];if(l)return l.isNode()&&l._private.children.length!==0},"isParent"),isChildless:a(function(){var l=this[0];if(l)return l.isNode()&&l._private.children.length===0},"isChildless"),isChild:a(function(){var l=this[0];if(l)return l.isNode()&&l._private.parent!=null},"isChild"),isOrphan:a(function(){var l=this[0];if(l)return l.isNode()&&l._private.parent==null},"isOrphan"),descendants:a(function(l){var d=[];function m(v){for(var T=0;T<v.length;T++){var k=v[T];d.push(k),k.children().nonempty()&&m(k.children())}}return a(m,"add"),m(this.children()),this.spawn(d,!0).filter(l)},"descendants")};function iS(h,l,d,m){for(var v=[],T=new Cn,k=h.cy(),w=k.hasCompoundNodes(),S=0;S<h.length;S++){var C=h[S];d?v.push(C):w&&m(v,T,C)}for(;v.length>0;){var R=v.shift();l(R),T.add(R.id()),w&&m(v,T,R)}return h}a(iS,"forEachCompound");function o8(h,l,d){if(d.isParent())for(var m=d._private.children,v=0;v<m.length;v++){var T=m[v];l.has(T.id())||h.push(T)}}a(o8,"addChildren"),Hp.forEachDown=function(h){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return iS(this,h,l,o8)};function s8(h,l,d){if(d.isChild()){var m=d._private.parent;l.has(m.id())||h.push(m)}}a(s8,"addParent"),Hp.forEachUp=function(h){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return iS(this,h,l,s8)};function Ybe(h,l,d){s8(h,l,d),o8(h,l,d)}a(Ybe,"addParentAndChildren"),Hp.forEachUpAndDown=function(h){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return iS(this,h,l,Ybe)},Hp.ancestors=Hp.parents;var L0,l8;L0=l8={data:Sn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Sn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Sn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Sn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Sn.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Sn.removeData({field:"rscratch",triggerEvent:!1}),id:a(function(){var l=this[0];if(l)return l._private.data.id},"id")},L0.attr=L0.data,L0.removeAttr=L0.removeData;var Xbe=l8,ib={};function aS(h){return function(l){var d=this;if(l===void 0&&(l=!0),d.length!==0)if(d.isNode()&&!d.removed()){for(var m=0,v=d[0],T=v._private.edges,k=0;k<T.length;k++){var w=T[k];!l&&w.isLoop()||(m+=h(v,w))}return m}else return}}a(aS,"defineDegreeFunction"),pe(ib,{degree:aS(function(h,l){return l.source().same(l.target())?2:1}),indegree:aS(function(h,l){return l.target().same(h)?1:0}),outdegree:aS(function(h,l){return l.source().same(h)?1:0})});function jp(h,l){return function(d){for(var m,v=this.nodes(),T=0;T<v.length;T++){var k=v[T],w=k[h](d);w!==void 0&&(m===void 0||l(w,m))&&(m=w)}return m}}a(jp,"defineDegreeBoundsFunction"),pe(ib,{minDegree:jp("degree",function(h,l){return h<l}),maxDegree:jp("degree",function(h,l){return h>l}),minIndegree:jp("indegree",function(h,l){return h<l}),maxIndegree:jp("indegree",function(h,l){return h>l}),minOutdegree:jp("outdegree",function(h,l){return h<l}),maxOutdegree:jp("outdegree",function(h,l){return h>l})}),pe(ib,{totalDegree:a(function(l){for(var d=0,m=this.nodes(),v=0;v<m.length;v++)d+=m[v].degree(l);return d},"totalDegree")});var dl,c8,u8=a(function(l,d,m){for(var v=0;v<l.length;v++){var T=l[v];if(!T.locked()){var k=T._private.position,w={x:d.x!=null?d.x-k.x:0,y:d.y!=null?d.y-k.y:0};T.isParent()&&!(w.x===0&&w.y===0)&&T.children().shift(w,m),T.dirtyBoundingBoxCache()}}},"beforePositionSet"),f8={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:a(function(l){l.updateCompoundBounds()},"beforeGet"),beforeSet:a(function(l,d){u8(l,d,!1)},"beforeSet"),onSet:a(function(l){l.dirtyCompoundBoundsCache()},"onSet"),canSet:a(function(l){return!l.locked()},"canSet")};dl=c8={position:Sn.data(f8),silentPosition:Sn.data(pe({},f8,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:a(function(l,d){u8(l,d,!0)},"beforeSet"),onSet:a(function(l){l.dirtyCompoundBoundsCache()},"onSet")})),positions:a(function(l,d){if(q(l))d?this.silentPosition(l):this.position(l);else if($(l)){var m=l,v=this.cy();v.startBatch();for(var T=0;T<this.length;T++){var k=this[T],w=void 0;(w=m(k,T))&&(d?k.silentPosition(w):k.position(w))}v.endBatch()}return this},"positions"),silentPositions:a(function(l){return this.positions(l,!0)},"silentPositions"),shift:a(function(l,d,m){var v;if(q(l)?(v={x:B(l.x)?l.x:0,y:B(l.y)?l.y:0},m=d):I(l)&&B(d)&&(v={x:0,y:0},v[l]=d),v!=null){var T=this.cy();T.startBatch();for(var k=0;k<this.length;k++){var w=this[k];if(!(T.hasCompoundNodes()&&w.isChild()&&w.ancestors().anySame(this))){var S=w.position(),C={x:S.x+v.x,y:S.y+v.y};m?w.silentPosition(C):w.position(C)}}T.endBatch()}return this},"shift"),silentShift:a(function(l,d){return q(l)?this.shift(l,!0):I(l)&&B(d)&&this.shift(l,d,!0),this},"silentShift"),renderedPosition:a(function(l,d){var m=this[0],v=this.cy(),T=v.zoom(),k=v.pan(),w=q(l)?l:void 0,S=w!==void 0||d!==void 0&&I(l);if(m&&m.isNode())if(S)for(var C=0;C<this.length;C++){var R=this[C];d!==void 0?R.position(l,(d-k[l])/T):w!==void 0&&R.position(pM(w,T,k))}else{var L=m.position();return w=Wx(L,T,k),l===void 0?w:w[l]}else if(!S)return;return this},"renderedPosition"),relativePosition:a(function(l,d){var m=this[0],v=this.cy(),T=q(l)?l:void 0,k=T!==void 0||d!==void 0&&I(l),w=v.hasCompoundNodes();if(m&&m.isNode())if(k)for(var S=0;S<this.length;S++){var C=this[S],R=w?C.parent():null,L=R&&R.length>0,z=L;L&&(R=R[0]);var V=z?R.position():{x:0,y:0};d!==void 0?C.position(l,d+V[l]):T!==void 0&&C.position({x:T.x+V.x,y:T.y+V.y})}else{var j=m.position(),Q=w?m.parent():null,ne=Q&&Q.length>0,Z=ne;ne&&(Q=Q[0]);var ie=Z?Q.position():{x:0,y:0};return T={x:j.x-ie.x,y:j.y-ie.y},l===void 0?T:T[l]}else if(!k)return;return this},"relativePosition")},dl.modelPosition=dl.point=dl.position,dl.modelPositions=dl.points=dl.positions,dl.renderedPoint=dl.renderedPosition,dl.relativePoint=dl.relativePosition;var Kbe=c8,Yp,uf;Yp=uf={},uf.renderedBoundingBox=function(h){var l=this.boundingBox(h),d=this.cy(),m=d.zoom(),v=d.pan(),T=l.x1*m+v.x,k=l.x2*m+v.x,w=l.y1*m+v.y,S=l.y2*m+v.y;return{x1:T,x2:k,y1:w,y2:S,w:k-T,h:S-w}},uf.dirtyCompoundBoundsCache=function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,l=this.cy();return!l.styleEnabled()||!l.hasCompoundNodes()?this:(this.forEachUp(function(d){if(d.isParent()){var m=d._private;m.compoundBoundsClean=!1,m.bbCache=null,h||d.emitAndNotify("bounds")}}),this)},uf.updateCompoundBounds=function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,l=this.cy();if(!l.styleEnabled()||!l.hasCompoundNodes())return this;if(!h&&l.batching())return this;function d(k){if(!k.isParent())return;var w=k._private,S=k.children(),C=k.pstyle("compound-sizing-wrt-labels").value==="include",R={width:{val:k.pstyle("min-width").pfValue,left:k.pstyle("min-width-bias-left"),right:k.pstyle("min-width-bias-right")},height:{val:k.pstyle("min-height").pfValue,top:k.pstyle("min-height-bias-top"),bottom:k.pstyle("min-height-bias-bottom")}},L=S.boundingBox({includeLabels:C,includeOverlays:!1,useCache:!1}),z=w.position;(L.w===0||L.h===0)&&(L={w:k.pstyle("width").pfValue,h:k.pstyle("height").pfValue},L.x1=z.x-L.w/2,L.x2=z.x+L.w/2,L.y1=z.y-L.h/2,L.y2=z.y+L.h/2);function V(be,Oe,Be){var Ne=0,Xe=0,qe=Oe+Be;return be>0&&qe>0&&(Ne=Oe/qe*be,Xe=Be/qe*be),{biasDiff:Ne,biasComplementDiff:Xe}}a(V,"computeBiasValues");function j(be,Oe,Be,Ne){if(Be.units==="%")switch(Ne){case"width":return be>0?Be.pfValue*be:0;case"height":return Oe>0?Be.pfValue*Oe:0;case"average":return be>0&&Oe>0?Be.pfValue*(be+Oe)/2:0;case"min":return be>0&&Oe>0?be>Oe?Be.pfValue*Oe:Be.pfValue*be:0;case"max":return be>0&&Oe>0?be>Oe?Be.pfValue*be:Be.pfValue*Oe:0;default:return 0}else return Be.units==="px"?Be.pfValue:0}a(j,"computePaddingValues");var Q=R.width.left.value;R.width.left.units==="px"&&R.width.val>0&&(Q=Q*100/R.width.val);var ne=R.width.right.value;R.width.right.units==="px"&&R.width.val>0&&(ne=ne*100/R.width.val);var Z=R.height.top.value;R.height.top.units==="px"&&R.height.val>0&&(Z=Z*100/R.height.val);var ie=R.height.bottom.value;R.height.bottom.units==="px"&&R.height.val>0&&(ie=ie*100/R.height.val);var ae=V(R.width.val-L.w,Q,ne),me=ae.biasDiff,De=ae.biasComplementDiff,we=V(R.height.val-L.h,Z,ie),ve=we.biasDiff,Ie=we.biasComplementDiff;w.autoPadding=j(L.w,L.h,k.pstyle("padding"),k.pstyle("padding-relative-to").value),w.autoWidth=Math.max(L.w,R.width.val),z.x=(-me+L.x1+L.x2+De)/2,w.autoHeight=Math.max(L.h,R.height.val),z.y=(-ve+L.y1+L.y2+Ie)/2}a(d,"update");for(var m=0;m<this.length;m++){var v=this[m],T=v._private;(!T.compoundBoundsClean||h)&&(d(v),l.batching()||(T.compoundBoundsClean=!0))}return this};var Ns=a(function(l){return l===1/0||l===-1/0?0:l},"noninf"),pl=a(function(l,d,m,v,T){v-d===0||T-m===0||d==null||m==null||v==null||T==null||(l.x1=d<l.x1?d:l.x1,l.x2=v>l.x2?v:l.x2,l.y1=m<l.y1?m:l.y1,l.y2=T>l.y2?T:l.y2,l.w=l.x2-l.x1,l.h=l.y2-l.y1)},"updateBounds"),Qh=a(function(l,d){return d==null?l:pl(l,d.x1,d.y1,d.x2,d.y2)},"updateBoundsFromBox"),I0=a(function(l,d,m){return tt(l,d,m)},"prefixedProperty"),ab=a(function(l,d,m){if(!d.cy().headless()){var v=d._private,T=v.rstyle,k=T.arrowWidth/2,w=d.pstyle(m+"-arrow-shape").value,S,C;if(w!=="none"){m==="source"?(S=T.srcX,C=T.srcY):m==="target"?(S=T.tgtX,C=T.tgtY):(S=T.midX,C=T.midY);var R=v.arrowBounds=v.arrowBounds||{},L=R[m]=R[m]||{};L.x1=S-k,L.y1=C-k,L.x2=S+k,L.y2=C+k,L.w=L.x2-L.x1,L.h=L.y2-L.y1,jx(L,1),pl(l,L.x1,L.y1,L.x2,L.y2)}}},"updateBoundsFromArrow"),oS=a(function(l,d,m){if(!d.cy().headless()){var v;m?v=m+"-":v="";var T=d._private,k=T.rstyle,w=d.pstyle(v+"label").strValue;if(w){var S=d.pstyle("text-halign"),C=d.pstyle("text-valign"),R=I0(k,"labelWidth",m),L=I0(k,"labelHeight",m),z=I0(k,"labelX",m),V=I0(k,"labelY",m),j=d.pstyle(v+"text-margin-x").pfValue,Q=d.pstyle(v+"text-margin-y").pfValue,ne=d.isEdge(),Z=d.pstyle(v+"text-rotation"),ie=d.pstyle("text-outline-width").pfValue,ae=d.pstyle("text-border-width").pfValue,me=ae/2,De=d.pstyle("text-background-padding").pfValue,we=2,ve=L,Ie=R,be=Ie/2,Oe=ve/2,Be,Ne,Xe,qe;if(ne)Be=z-be,Ne=z+be,Xe=V-Oe,qe=V+Oe;else{switch(S.value){case"left":Be=z-Ie,Ne=z;break;case"center":Be=z-be,Ne=z+be;break;case"right":Be=z,Ne=z+Ie;break}switch(C.value){case"top":Xe=V-ve,qe=V;break;case"center":Xe=V-Oe,qe=V+Oe;break;case"bottom":Xe=V,qe=V+ve;break}}Be+=j-Math.max(ie,me)-De-we,Ne+=j+Math.max(ie,me)+De+we,Xe+=Q-Math.max(ie,me)-De-we,qe+=Q+Math.max(ie,me)+De+we;var ot=m||"main",Ke=T.labelBounds,Je=Ke[ot]=Ke[ot]||{};Je.x1=Be,Je.y1=Xe,Je.x2=Ne,Je.y2=qe,Je.w=Ne-Be,Je.h=qe-Xe;var lt=ne&&Z.strValue==="autorotate",ht=Z.pfValue!=null&&Z.pfValue!==0;if(lt||ht){var xt=lt?I0(T.rstyle,"labelAngle",m):Z.pfValue,ut=Math.cos(xt),yt=Math.sin(xt),Ct=(Be+Ne)/2,At=(Xe+qe)/2;if(!ne){switch(S.value){case"left":Ct=Ne;break;case"right":Ct=Be;break}switch(C.value){case"top":At=qe;break;case"bottom":At=Xe;break}}var wt=a(function(Mr,Wt){return Mr=Mr-Ct,Wt=Wt-At,{x:Mr*ut-Wt*yt+Ct,y:Mr*yt+Wt*ut+At}},"rotate"),Tt=wt(Be,Xe),st=wt(Be,qe),St=wt(Ne,Xe),Rt=wt(Ne,qe);Be=Math.min(Tt.x,st.x,St.x,Rt.x),Ne=Math.max(Tt.x,st.x,St.x,Rt.x),Xe=Math.min(Tt.y,st.y,St.y,Rt.y),qe=Math.max(Tt.y,st.y,St.y,Rt.y)}var zt=ot+"Rot",Vt=Ke[zt]=Ke[zt]||{};Vt.x1=Be,Vt.y1=Xe,Vt.x2=Ne,Vt.y2=qe,Vt.w=Ne-Be,Vt.h=qe-Xe,pl(l,Be,Xe,Ne,qe),pl(T.labelBounds.all,Be,Xe,Ne,qe)}return l}},"updateBoundsFromLabel"),Qbe=a(function(l,d){var m=l._private.cy,v=m.styleEnabled(),T=m.headless(),k=Oo(),w=l._private,S=l.isNode(),C=l.isEdge(),R,L,z,V,j,Q,ne=w.rstyle,Z=S&&v?l.pstyle("bounds-expansion").pfValue:[0],ie=a(function(wr){return wr.pstyle("display").value!=="none"},"isDisplayed"),ae=!v||ie(l)&&(!C||ie(l.source())&&ie(l.target()));if(ae){var me=0,De=0;v&&d.includeOverlays&&(me=l.pstyle("overlay-opacity").value,me!==0&&(De=l.pstyle("overlay-padding").value));var we=0,ve=0;v&&d.includeUnderlays&&(we=l.pstyle("underlay-opacity").value,we!==0&&(ve=l.pstyle("underlay-padding").value));var Ie=Math.max(De,ve),be=0,Oe=0;if(v&&(be=l.pstyle("width").pfValue,Oe=be/2),S&&d.includeNodes){var Be=l.position();j=Be.x,Q=Be.y;var Ne=l.outerWidth(),Xe=Ne/2,qe=l.outerHeight(),ot=qe/2;R=j-Xe,L=j+Xe,z=Q-ot,V=Q+ot,pl(k,R,z,L,V)}else if(C&&d.includeEdges)if(v&&!T){var Ke=l.pstyle("curve-style").strValue;if(R=Math.min(ne.srcX,ne.midX,ne.tgtX),L=Math.max(ne.srcX,ne.midX,ne.tgtX),z=Math.min(ne.srcY,ne.midY,ne.tgtY),V=Math.max(ne.srcY,ne.midY,ne.tgtY),R-=Oe,L+=Oe,z-=Oe,V+=Oe,pl(k,R,z,L,V),Ke==="haystack"){var Je=ne.haystackPts;if(Je&&Je.length===2){if(R=Je[0].x,z=Je[0].y,L=Je[1].x,V=Je[1].y,R>L){var lt=R;R=L,L=lt}if(z>V){var ht=z;z=V,V=ht}pl(k,R-Oe,z-Oe,L+Oe,V+Oe)}}else if(Ke==="bezier"||Ke==="unbundled-bezier"||Ke==="segments"||Ke==="taxi"){var xt;switch(Ke){case"bezier":case"unbundled-bezier":xt=ne.bezierPts;break;case"segments":case"taxi":xt=ne.linePts;break}if(xt!=null)for(var ut=0;ut<xt.length;ut++){var yt=xt[ut];R=yt.x-Oe,L=yt.x+Oe,z=yt.y-Oe,V=yt.y+Oe,pl(k,R,z,L,V)}}}else{var Ct=l.source(),At=Ct.position(),wt=l.target(),Tt=wt.position();if(R=At.x,L=Tt.x,z=At.y,V=Tt.y,R>L){var st=R;R=L,L=st}if(z>V){var St=z;z=V,V=St}R-=Oe,L+=Oe,z-=Oe,V+=Oe,pl(k,R,z,L,V)}if(v&&d.includeEdges&&C&&(ab(k,l,"mid-source"),ab(k,l,"mid-target"),ab(k,l,"source"),ab(k,l,"target")),v){var Rt=l.pstyle("ghost").value==="yes";if(Rt){var zt=l.pstyle("ghost-offset-x").pfValue,Vt=l.pstyle("ghost-offset-y").pfValue;pl(k,k.x1+zt,k.y1+Vt,k.x2+zt,k.y2+Vt)}}var Dr=w.bodyBounds=w.bodyBounds||{};gM(Dr,k),UC(Dr,Z),jx(Dr,1),v&&(R=k.x1,L=k.x2,z=k.y1,V=k.y2,pl(k,R-Ie,z-Ie,L+Ie,V+Ie));var Mr=w.overlayBounds=w.overlayBounds||{};gM(Mr,k),UC(Mr,Z),jx(Mr,1);var Wt=w.labelBounds=w.labelBounds||{};Wt.all!=null?yve(Wt.all):Wt.all=Oo(),v&&d.includeLabels&&(d.includeMainLabels&&oS(k,l,null),C&&(d.includeSourceLabels&&oS(k,l,"source"),d.includeTargetLabels&&oS(k,l,"target")))}return k.x1=Ns(k.x1),k.y1=Ns(k.y1),k.x2=Ns(k.x2),k.y2=Ns(k.y2),k.w=Ns(k.x2-k.x1),k.h=Ns(k.y2-k.y1),k.w>0&&k.h>0&&ae&&(UC(k,Z),jx(k,1)),k},"boundingBoxImpl"),h8=a(function(l){var d=0,m=a(function(k){return(k?1:0)<<d++},"tf"),v=0;return v+=m(l.incudeNodes),v+=m(l.includeEdges),v+=m(l.includeLabels),v+=m(l.includeMainLabels),v+=m(l.includeSourceLabels),v+=m(l.includeTargetLabels),v+=m(l.includeOverlays),v},"getKey"),d8=a(function(l){if(l.isEdge()){var d=l.source().position(),m=l.target().position(),v=a(function(k){return Math.round(k)},"r");return Hh([v(d.x),v(d.y),v(m.x),v(m.y)])}else return 0},"getBoundingBoxPosKey"),p8=a(function(l,d){var m=l._private,v,T=l.isEdge(),k=d==null?m8:h8(d),w=k===m8,S=d8(l),C=m.bbCachePosKey===S,R=d.useCache&&C,L=a(function(Q){return Q._private.bbCache==null||Q._private.styleDirty},"isDirty"),z=!R||L(l)||T&&L(l.source())||L(l.target());if(z?(C||l.recalculateRenderedStyle(R),v=Qbe(l,N0),m.bbCache=v,m.bbCachePosKey=S):v=m.bbCache,!w){var V=l.isNode();v=Oo(),(d.includeNodes&&V||d.includeEdges&&!V)&&(d.includeOverlays?Qh(v,m.overlayBounds):Qh(v,m.bodyBounds)),d.includeLabels&&(d.includeMainLabels&&(!T||d.includeSourceLabels&&d.includeTargetLabels)?Qh(v,m.labelBounds.all):(d.includeMainLabels&&Qh(v,m.labelBounds.mainRot),d.includeSourceLabels&&Qh(v,m.labelBounds.sourceRot),d.includeTargetLabels&&Qh(v,m.labelBounds.targetRot))),v.w=v.x2-v.x1,v.h=v.y2-v.y1}return v},"cachedBoundingBoxImpl"),N0={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,useCache:!0},m8=h8(N0),g8=Vi(N0);uf.boundingBox=function(h){var l;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(h===void 0||h.useCache===void 0||h.useCache===!0))h===void 0?h=N0:h=g8(h),l=p8(this[0],h);else{l=Oo(),h=h||N0;var d=g8(h),m=this,v=m.cy(),T=v.styleEnabled();if(T)for(var k=0;k<m.length;k++){var w=m[k],S=w._private,C=d8(w),R=S.bbCachePosKey===C,L=d.useCache&&R&&!S.styleDirty;w.recalculateRenderedStyle(L)}this.updateCompoundBounds(!h.useCache);for(var z=0;z<m.length;z++){var V=m[z];Qh(l,p8(V,d))}}return l.x1=Ns(l.x1),l.y1=Ns(l.y1),l.x2=Ns(l.x2),l.y2=Ns(l.y2),l.w=Ns(l.x2-l.x1),l.h=Ns(l.y2-l.y1),l},uf.dirtyBoundingBoxCache=function(){for(var h=0;h<this.length;h++){var l=this[h]._private;l.bbCache=null,l.bbCachePosKey=null,l.bodyBounds=null,l.overlayBounds=null,l.labelBounds.all=null,l.labelBounds.source=null,l.labelBounds.target=null,l.labelBounds.main=null,l.labelBounds.sourceRot=null,l.labelBounds.targetRot=null,l.labelBounds.mainRot=null,l.arrowBounds.source=null,l.arrowBounds.target=null,l.arrowBounds["mid-source"]=null,l.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},uf.boundingBoxAt=function(h){var l=this.nodes(),d=this.cy(),m=d.hasCompoundNodes(),v=d.collection();if(m&&(v=l.filter(function(C){return C.isParent()}),l=l.not(v)),q(h)){var T=h;h=a(function(){return T},"fn")}var k=a(function(R,L){return R._private.bbAtOldPos=h(R,L)},"storeOldPos"),w=a(function(R){return R._private.bbAtOldPos},"getOldPos");d.startBatch(),l.forEach(k).silentPositions(h),m&&(v.dirtyCompoundBoundsCache(),v.dirtyBoundingBoxCache(),v.updateCompoundBounds(!0));var S=gve(this.boundingBox({useCache:!1}));return l.silentPositions(w),m&&(v.dirtyCompoundBoundsCache(),v.dirtyBoundingBoxCache(),v.updateCompoundBounds(!0)),d.endBatch(),S},Yp.boundingbox=Yp.bb=Yp.boundingBox,Yp.renderedBoundingbox=Yp.renderedBoundingBox;var Zbe=uf,P0,O0;P0=O0={};var y8=a(function(l){l.uppercaseName=We(l.name),l.autoName="auto"+l.uppercaseName,l.labelName="label"+l.uppercaseName,l.outerName="outer"+l.uppercaseName,l.uppercaseOuterName=We(l.outerName),P0[l.name]=a(function(){var m=this[0],v=m._private,T=v.cy,k=T._private.styleEnabled;if(m)if(k){if(m.isParent())return m.updateCompoundBounds(),v[l.autoName]||0;var w=m.pstyle(l.name);switch(w.strValue){case"label":return m.recalculateRenderedStyle(),v.rstyle[l.labelName]||0;default:return w.pfValue}}else return 1},"dimImpl"),P0["outer"+l.uppercaseName]=a(function(){var m=this[0],v=m._private,T=v.cy,k=T._private.styleEnabled;if(m)if(k){var w=m[l.name](),S=m.pstyle("border-width").pfValue,C=2*m.padding();return w+S+C}else return 1},"outerDimImpl"),P0["rendered"+l.uppercaseName]=a(function(){var m=this[0];if(m){var v=m[l.name]();return v*this.cy().zoom()}},"renderedDimImpl"),P0["rendered"+l.uppercaseOuterName]=a(function(){var m=this[0];if(m){var v=m[l.outerName]();return v*this.cy().zoom()}},"renderedOuterDimImpl")},"defineDimFns");y8({name:"width"}),y8({name:"height"}),O0.padding=function(){var h=this[0],l=h._private;return h.isParent()?(h.updateCompoundBounds(),l.autoPadding!==void 0?l.autoPadding:h.pstyle("padding").pfValue):h.pstyle("padding").pfValue},O0.paddedHeight=function(){var h=this[0];return h.height()+2*h.padding()},O0.paddedWidth=function(){var h=this[0];return h.width()+2*h.padding()};var Jbe=O0,e2e=a(function(l,d){if(l.isEdge())return d(l)},"ifEdge"),t2e=a(function(l,d){if(l.isEdge()){var m=l.cy();return Wx(d(l),m.zoom(),m.pan())}},"ifEdgeRenderedPosition"),r2e=a(function(l,d){if(l.isEdge()){var m=l.cy(),v=m.pan(),T=m.zoom();return d(l).map(function(k){return Wx(k,T,v)})}},"ifEdgeRenderedPositions"),n2e=a(function(l){return l.renderer().getControlPoints(l)},"controlPoints"),i2e=a(function(l){return l.renderer().getSegmentPoints(l)},"segmentPoints"),a2e=a(function(l){return l.renderer().getSourceEndpoint(l)},"sourceEndpoint"),o2e=a(function(l){return l.renderer().getTargetEndpoint(l)},"targetEndpoint"),s2e=a(function(l){return l.renderer().getEdgeMidpoint(l)},"midpoint"),v8={controlPoints:{get:n2e,mult:!0},segmentPoints:{get:i2e,mult:!0},sourceEndpoint:{get:a2e},targetEndpoint:{get:o2e},midpoint:{get:s2e}},l2e=a(function(l){return"rendered"+l[0].toUpperCase()+l.substr(1)},"renderedName"),c2e=Object.keys(v8).reduce(function(h,l){var d=v8[l],m=l2e(l);return h[l]=function(){return e2e(this,d.get)},d.mult?h[m]=function(){return r2e(this,d.get)}:h[m]=function(){return t2e(this,d.get)},h},{}),u2e=pe({},Kbe,Zbe,Jbe,c2e);var x8=a(function(l,d){this.recycle(l,d)},"Event");function M0(){return!1}a(M0,"returnFalse");function ob(){return!0}a(ob,"returnTrue"),x8.prototype={instanceString:a(function(){return"event"},"instanceString"),recycle:a(function(l,d){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=M0,l!=null&&l.preventDefault?(this.type=l.type,this.isDefaultPrevented=l.defaultPrevented?ob:M0):l!=null&&l.type?d=l:this.type=l,d!=null&&(this.originalEvent=d.originalEvent,this.type=d.type!=null?d.type:this.type,this.cy=d.cy,this.target=d.target,this.position=d.position,this.renderedPosition=d.renderedPosition,this.namespace=d.namespace,this.layout=d.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var m=this.position,v=this.cy.zoom(),T=this.cy.pan();this.renderedPosition={x:m.x*v+T.x,y:m.y*v+T.y}}this.timeStamp=l&&l.timeStamp||Date.now()},"recycle"),preventDefault:a(function(){this.isDefaultPrevented=ob;var l=this.originalEvent;l&&l.preventDefault&&l.preventDefault()},"preventDefault"),stopPropagation:a(function(){this.isPropagationStopped=ob;var l=this.originalEvent;l&&l.stopPropagation&&l.stopPropagation()},"stopPropagation"),stopImmediatePropagation:a(function(){this.isImmediatePropagationStopped=ob,this.stopPropagation()},"stopImmediatePropagation"),isDefaultPrevented:M0,isPropagationStopped:M0,isImmediatePropagationStopped:M0};var b8=/^([^.]+)(\.(?:[^.]+))?$/,f2e=".*",T8={qualifierCompare:a(function(l,d){return l===d},"qualifierCompare"),eventMatches:a(function(){return!0},"eventMatches"),addEventFields:a(function(){},"addEventFields"),callbackContext:a(function(l){return l},"callbackContext"),beforeEmit:a(function(){},"beforeEmit"),afterEmit:a(function(){},"afterEmit"),bubble:a(function(){return!1},"bubble"),parent:a(function(){return null},"parent"),context:null},k8=Object.keys(T8),h2e={};function sb(){for(var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h2e,l=arguments.length>1?arguments[1]:void 0,d=0;d<k8.length;d++){var m=k8[d];this[m]=h[m]||T8[m]}this.context=l||this.context,this.listeners=[],this.emitting=0}a(sb,"Emitter");var ff=sb.prototype,_8=a(function(l,d,m,v,T,k,w){$(v)&&(T=v,v=null),w&&(k==null?k=w:k=pe({},k,w));for(var S=X(m)?m:m.split(/\s+/),C=0;C<S.length;C++){var R=S[C];if(!ee(R)){var L=R.match(b8);if(L){var z=L[1],V=L[2]?L[2]:null,j=d(l,R,z,V,v,T,k);if(j===!1)break}}}},"forEachEvent"),w8=a(function(l,d){return l.addEventFields(l.context,d),new x8(d.type,d)},"makeEventObj"),d2e=a(function(l,d,m){if(ce(m)){d(l,m);return}else if(q(m)){d(l,w8(l,m));return}for(var v=X(m)?m:m.split(/\s+/),T=0;T<v.length;T++){var k=v[T];if(!ee(k)){var w=k.match(b8);if(w){var S=w[1],C=w[2]?w[2]:null,R=w8(l,{type:S,namespace:C,target:l.context});d(l,R)}}}},"forEachEventObj");ff.on=ff.addListener=function(h,l,d,m,v){return _8(this,function(T,k,w,S,C,R,L){$(R)&&T.listeners.push({event:k,callback:R,type:w,namespace:S,qualifier:C,conf:L})},h,l,d,m,v),this},ff.one=function(h,l,d,m){return this.on(h,l,d,m,{one:!0})},ff.removeListener=ff.off=function(h,l,d,m){var v=this;this.emitting!==0&&(this.listeners=Np(this.listeners));for(var T=this.listeners,k=a(function(C){var R=T[C];_8(v,function(L,z,V,j,Q,ne){if((R.type===V||h==="*")&&(!j&&R.namespace!==".*"||R.namespace===j)&&(!Q||L.qualifierCompare(R.qualifier,Q))&&(!ne||R.callback===ne))return T.splice(C,1),!1},h,l,d,m)},"_loop"),w=T.length-1;w>=0;w--)k(w);return this},ff.removeAllListeners=function(){return this.removeListener("*")},ff.emit=ff.trigger=function(h,l,d){var m=this.listeners,v=m.length;return this.emitting++,X(l)||(l=[l]),d2e(this,function(T,k){d!=null&&(m=[{event:k.event,type:k.type,namespace:k.namespace,callback:d}],v=m.length);for(var w=a(function(R){var L=m[R];if(L.type===k.type&&(!L.namespace||L.namespace===k.namespace||L.namespace===f2e)&&T.eventMatches(T.context,L,k)){var z=[k];l!=null&&gr(z,l),T.beforeEmit(T.context,L,k),L.conf&&L.conf.one&&(T.listeners=T.listeners.filter(function(Q){return Q!==L}));var V=T.callbackContext(T.context,L,k),j=L.callback.apply(V,z);T.afterEmit(T.context,L,k),j===!1&&(k.stopPropagation(),k.preventDefault())}},"_loop2"),S=0;S<v;S++)w(S);T.bubble(T.context)&&!k.isPropagationStopped()&&T.parent(T.context).emit(k,l)},h),this.emitting--,this};var p2e={qualifierCompare:a(function(l,d){return l==null||d==null?l==null&&d==null:l.sameText(d)},"qualifierCompare"),eventMatches:a(function(l,d,m){var v=d.qualifier;return v!=null?l!==m.target&&D(m.target)&&v.matches(m.target):!0},"eventMatches"),addEventFields:a(function(l,d){d.cy=l.cy(),d.target=l},"addEventFields"),callbackContext:a(function(l,d,m){return d.qualifier!=null?m.target:l},"callbackContext"),beforeEmit:a(function(l,d){d.conf&&d.conf.once&&d.conf.onceCollection.removeListener(d.event,d.qualifier,d.callback)},"beforeEmit"),bubble:a(function(){return!0},"bubble"),parent:a(function(l){return l.isChild()?l.parent():l.cy()},"parent")},lb=a(function(l){return I(l)?new sf(l):l},"argSelector"),E8={createEmitter:a(function(){for(var l=0;l<this.length;l++){var d=this[l],m=d._private;m.emitter||(m.emitter=new sb(p2e,d))}return this},"createEmitter"),emitter:a(function(){return this._private.emitter},"emitter"),on:a(function(l,d,m){for(var v=lb(d),T=0;T<this.length;T++){var k=this[T];k.emitter().on(l,v,m)}return this},"on"),removeListener:a(function(l,d,m){for(var v=lb(d),T=0;T<this.length;T++){var k=this[T];k.emitter().removeListener(l,v,m)}return this},"removeListener"),removeAllListeners:a(function(){for(var l=0;l<this.length;l++){var d=this[l];d.emitter().removeAllListeners()}return this},"removeAllListeners"),one:a(function(l,d,m){for(var v=lb(d),T=0;T<this.length;T++){var k=this[T];k.emitter().one(l,v,m)}return this},"one"),once:a(function(l,d,m){for(var v=lb(d),T=0;T<this.length;T++){var k=this[T];k.emitter().on(l,v,m,{once:!0,onceCollection:this})}},"once"),emit:a(function(l,d){for(var m=0;m<this.length;m++){var v=this[m];v.emitter().emit(l,d)}return this},"emit"),emitAndNotify:a(function(l,d){if(this.length!==0)return this.cy().notify(l,this),this.emit(l,d),this},"emitAndNotify")};Sn.eventAliasesOn(E8);var C8={nodes:a(function(l){return this.filter(function(d){return d.isNode()}).filter(l)},"nodes"),edges:a(function(l){return this.filter(function(d){return d.isEdge()}).filter(l)},"edges"),byGroup:a(function(){for(var l=this.spawn(),d=this.spawn(),m=0;m<this.length;m++){var v=this[m];v.isNode()?l.push(v):d.push(v)}return{nodes:l,edges:d}},"byGroup"),filter:a(function(l,d){if(l===void 0)return this;if(I(l)||W(l))return new sf(l).filter(this);if($(l)){for(var m=this.spawn(),v=this,T=0;T<v.length;T++){var k=v[T],w=d?l.apply(d,[k,T,v]):l(k,T,v);w&&m.push(k)}return m}return this.spawn()},"filter"),not:a(function(l){if(l){I(l)&&(l=this.filter(l));for(var d=this.spawn(),m=0;m<this.length;m++){var v=this[m],T=l.has(v);T||d.push(v)}return d}else return this},"not"),absoluteComplement:a(function(){var l=this.cy();return l.mutableElements().not(this)},"absoluteComplement"),intersect:a(function(l){if(I(l)){var d=l;return this.filter(d)}for(var m=this.spawn(),v=this,T=l,k=this.length<l.length,w=k?v:T,S=k?T:v,C=0;C<w.length;C++){var R=w[C];S.has(R)&&m.push(R)}return m},"intersect"),xor:a(function(l){var d=this._private.cy;I(l)&&(l=d.$(l));var m=this.spawn(),v=this,T=l,k=a(function(S,C){for(var R=0;R<S.length;R++){var L=S[R],z=L._private.data.id,V=C.hasElementWithId(z);V||m.push(L)}},"add");return k(v,T),k(T,v),m},"xor"),diff:a(function(l){var d=this._private.cy;I(l)&&(l=d.$(l));var m=this.spawn(),v=this.spawn(),T=this.spawn(),k=this,w=l,S=a(function(R,L,z){for(var V=0;V<R.length;V++){var j=R[V],Q=j._private.data.id,ne=L.hasElementWithId(Q);ne?T.merge(j):z.push(j)}},"add");return S(k,w,m),S(w,k,v),{left:m,right:v,both:T}},"diff"),add:a(function(l){var d=this._private.cy;if(!l)return this;if(I(l)){var m=l;l=d.mutableElements().filter(m)}for(var v=this.spawnSelf(),T=0;T<l.length;T++){var k=l[T],w=!this.has(k);w&&v.push(k)}return v},"add"),merge:a(function(l){var d=this._private,m=d.cy;if(!l)return this;if(l&&I(l)){var v=l;l=m.mutableElements().filter(v)}for(var T=d.map,k=0;k<l.length;k++){var w=l[k],S=w._private.data.id,C=!T.has(S);if(C){var R=this.length++;this[R]=w,T.set(S,{ele:w,index:R})}}return this},"merge"),unmergeAt:a(function(l){var d=this[l],m=d.id(),v=this._private,T=v.map;this[l]=void 0,T.delete(m);var k=l===this.length-1;if(this.length>1&&!k){var w=this.length-1,S=this[w],C=S._private.data.id;this[w]=void 0,this[l]=S,T.set(C,{ele:S,index:l})}return this.length--,this},"unmergeAt"),unmergeOne:a(function(l){l=l[0];var d=this._private,m=l._private.data.id,v=d.map,T=v.get(m);if(!T)return this;var k=T.index;return this.unmergeAt(k),this},"unmergeOne"),unmerge:a(function(l){var d=this._private.cy;if(!l)return this;if(l&&I(l)){var m=l;l=d.mutableElements().filter(m)}for(var v=0;v<l.length;v++)this.unmergeOne(l[v]);return this},"unmerge"),unmergeBy:a(function(l){for(var d=this.length-1;d>=0;d--){var m=this[d];l(m)&&this.unmergeAt(d)}return this},"unmergeBy"),map:a(function(l,d){for(var m=[],v=this,T=0;T<v.length;T++){var k=v[T],w=d?l.apply(d,[k,T,v]):l(k,T,v);m.push(w)}return m},"map"),reduce:a(function(l,d){for(var m=d,v=this,T=0;T<v.length;T++)m=l(m,v[T],T,v);return m},"reduce"),max:a(function(l,d){for(var m=-1/0,v,T=this,k=0;k<T.length;k++){var w=T[k],S=d?l.apply(d,[w,k,T]):l(w,k,T);S>m&&(m=S,v=w)}return{value:m,ele:v}},"max"),min:a(function(l,d){for(var m=1/0,v,T=this,k=0;k<T.length;k++){var w=T[k],S=d?l.apply(d,[w,k,T]):l(w,k,T);S<m&&(m=S,v=w)}return{value:m,ele:v}},"min")},xn=C8;xn.u=xn["|"]=xn["+"]=xn.union=xn.or=xn.add,xn["\\"]=xn["!"]=xn["-"]=xn.difference=xn.relativeComplement=xn.subtract=xn.not,xn.n=xn["&"]=xn["."]=xn.and=xn.intersection=xn.intersect,xn["^"]=xn["(+)"]=xn["(-)"]=xn.symmetricDifference=xn.symdiff=xn.xor,xn.fnFilter=xn.filterFn=xn.stdFilter=xn.filter,xn.complement=xn.abscomp=xn.absoluteComplement;var m2e={isNode:a(function(){return this.group()==="nodes"},"isNode"),isEdge:a(function(){return this.group()==="edges"},"isEdge"),isLoop:a(function(){return this.isEdge()&&this.source()[0]===this.target()[0]},"isLoop"),isSimple:a(function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},"isSimple"),group:a(function(){var l=this[0];if(l)return l._private.group},"group")},S8=a(function(l,d){var m=l.cy(),v=m.hasCompoundNodes();function T(R){var L=R.pstyle("z-compound-depth");return L.value==="auto"?v?R.zDepth():0:L.value==="bottom"?-1:L.value==="top"?Ji:0}a(T,"getDepth");var k=T(l)-T(d);if(k!==0)return k;function w(R){var L=R.pstyle("z-index-compare");return L.value==="auto"&&R.isNode()?1:0}a(w,"getEleDepth");var S=w(l)-w(d);if(S!==0)return S;var C=l.pstyle("z-index").value-d.pstyle("z-index").value;return C!==0?C:l.poolIndex()-d.poolIndex()},"zIndexSort"),cb={forEach:a(function(l,d){if($(l))for(var m=this.length,v=0;v<m;v++){var T=this[v],k=d?l.apply(d,[T,v,this]):l(T,v,this);if(k===!1)break}return this},"forEach"),toArray:a(function(){for(var l=[],d=0;d<this.length;d++)l.push(this[d]);return l},"toArray"),slice:a(function(l,d){var m=[],v=this.length;d==null&&(d=v),l==null&&(l=0),l<0&&(l=v+l),d<0&&(d=v+d);for(var T=l;T>=0&&T<d&&T<v;T++)m.push(this[T]);return this.spawn(m)},"slice"),size:a(function(){return this.length},"size"),eq:a(function(l){return this[l]||this.spawn()},"eq"),first:a(function(){return this[0]||this.spawn()},"first"),last:a(function(){return this[this.length-1]||this.spawn()},"last"),empty:a(function(){return this.length===0},"empty"),nonempty:a(function(){return!this.empty()},"nonempty"),sort:a(function(l){if(!$(l))return this;var d=this.toArray().sort(l);return this.spawn(d)},"sort"),sortByZIndex:a(function(){return this.sort(S8)},"sortByZIndex"),zDepth:a(function(){var l=this[0];if(l){var d=l._private,m=d.group;if(m==="nodes"){var v=d.data.parent?l.parents().size():0;return l.isParent()?v:Ji-1}else{var T=d.source,k=d.target,w=T.zDepth(),S=k.zDepth();return Math.max(w,S,0)}}},"zDepth")};cb.each=cb.forEach;var g2e=a(function(){var l="undefined",d=(typeof Symbol>"u"?"undefined":e(Symbol))!=l&&e(Symbol.iterator)!=l;d&&(cb[Symbol.iterator]=function(){var m=this,v={value:void 0,done:!1},T=0,k=this.length;return i({next:a(function(){return T<k?v.value=m[T++]:(v.value=void 0,v.done=!0),v},"next")},Symbol.iterator,function(){return this})})},"defineSymbolIterator");g2e();var y2e=Vi({nodeDimensionsIncludeLabels:!1}),ub={layoutDimensions:a(function(l){l=y2e(l);var d;if(!this.takesUpSpace())d={w:0,h:0};else if(l.nodeDimensionsIncludeLabels){var m=this.boundingBox();d={w:m.w,h:m.h}}else d={w:this.outerWidth(),h:this.outerHeight()};return(d.w===0||d.h===0)&&(d.w=d.h=1),d},"layoutDimensions"),layoutPositions:a(function(l,d,m){var v=this.nodes().filter(function(De){return!De.isParent()}),T=this.cy(),k=d.eles,w=a(function(we){return we.id()},"getMemoizeKey"),S=de(m,w);l.emit({type:"layoutstart",layout:l}),l.animations=[];var C=a(function(we,ve,Ie){var be={x:ve.x1+ve.w/2,y:ve.y1+ve.h/2},Oe={x:(Ie.x-be.x)*we,y:(Ie.y-be.y)*we};return{x:be.x+Oe.x,y:be.y+Oe.y}},"calculateSpacing"),R=d.spacingFactor&&d.spacingFactor!==1,L=a(function(){if(!R)return null;for(var we=Oo(),ve=0;ve<v.length;ve++){var Ie=v[ve],be=S(Ie,ve);xve(we,be.x,be.y)}return we},"spacingBb"),z=L(),V=de(function(De,we){var ve=S(De,we);if(R){var Ie=Math.abs(d.spacingFactor);ve=C(Ie,z,ve)}return d.transform!=null&&(ve=d.transform(De,ve)),ve},w);if(d.animate){for(var j=0;j<v.length;j++){var Q=v[j],ne=V(Q,j),Z=d.animateFilter==null||d.animateFilter(Q,j);if(Z){var ie=Q.animation({position:ne,duration:d.animationDuration,easing:d.animationEasing});l.animations.push(ie)}else Q.position(ne)}if(d.fit){var ae=T.animation({fit:{boundingBox:k.boundingBoxAt(V),padding:d.padding},duration:d.animationDuration,easing:d.animationEasing});l.animations.push(ae)}else if(d.zoom!==void 0&&d.pan!==void 0){var me=T.animation({zoom:d.zoom,pan:d.pan,duration:d.animationDuration,easing:d.animationEasing});l.animations.push(me)}l.animations.forEach(function(De){return De.play()}),l.one("layoutready",d.ready),l.emit({type:"layoutready",layout:l}),Up.all(l.animations.map(function(De){return De.promise()})).then(function(){l.one("layoutstop",d.stop),l.emit({type:"layoutstop",layout:l})})}else v.positions(V),d.fit&&T.fit(d.eles,d.padding),d.zoom!=null&&T.zoom(d.zoom),d.pan&&T.pan(d.pan),l.one("layoutready",d.ready),l.emit({type:"layoutready",layout:l}),l.one("layoutstop",d.stop),l.emit({type:"layoutstop",layout:l});return this},"layoutPositions"),layout:a(function(l){var d=this.cy();return d.makeLayout(pe({},l,{eles:this}))},"layout")};ub.createLayout=ub.makeLayout=ub.layout;function A8(h,l,d){var m=d._private,v=m.styleCache=m.styleCache||[],T;return(T=v[h])!=null||(T=v[h]=l(d)),T}a(A8,"styleCache");function fb(h,l){return h=Bn(h),a(function(m){return A8(h,l,m)},"cachedStyleFunction")}a(fb,"cacheStyleFunction");function hb(h,l){h=Bn(h);var d=a(function(v){return l.call(v)},"selfFn");return a(function(){var v=this[0];if(v)return A8(h,d,v)},"cachedPrototypeStyleFunction")}a(hb,"cachePrototypeStyleFunction");var La={recalculateRenderedStyle:a(function(l){var d=this.cy(),m=d.renderer(),v=d.styleEnabled();return m&&v&&m.recalculateRenderedStyle(this,l),this},"recalculateRenderedStyle"),dirtyStyleCache:a(function(){var l=this.cy(),d=a(function(T){return T._private.styleCache=null},"dirty");if(l.hasCompoundNodes()){var m;m=this.spawnSelf().merge(this.descendants()).merge(this.parents()),m.merge(m.connectedEdges()),m.forEach(d)}else this.forEach(function(v){d(v),v.connectedEdges().forEach(d)});return this},"dirtyStyleCache"),updateStyle:a(function(l){var d=this._private.cy;if(!d.styleEnabled())return this;if(d.batching()){var m=d._private.batchStyleEles;return m.merge(this),this}var v=d.hasCompoundNodes(),T=this;l=!!(l||l===void 0),v&&(T=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var k=T;return l?k.emitAndNotify("style"):k.emit("style"),T.forEach(function(w){return w._private.styleDirty=!0}),this},"updateStyle"),cleanStyle:a(function(){var l=this.cy();if(l.styleEnabled())for(var d=0;d<this.length;d++){var m=this[d];m._private.styleDirty&&(m._private.styleDirty=!1,l.style().apply(m))}},"cleanStyle"),parsedStyle:a(function(l){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,m=this[0],v=m.cy();if(v.styleEnabled()&&m){this.cleanStyle();var T=m._private.style[l];return T??(d?v.style().getDefaultProperty(l):null)}},"parsedStyle"),numericStyle:a(function(l){var d=this[0];if(d.cy().styleEnabled()&&d){var m=d.pstyle(l);return m.pfValue!==void 0?m.pfValue:m.value}},"numericStyle"),numericStyleUnits:a(function(l){var d=this[0];if(d.cy().styleEnabled()&&d)return d.pstyle(l).units},"numericStyleUnits"),renderedStyle:a(function(l){var d=this.cy();if(!d.styleEnabled())return this;var m=this[0];if(m)return d.style().getRenderedStyle(m,l)},"renderedStyle"),style:a(function(l,d){var m=this.cy();if(!m.styleEnabled())return this;var v=!1,T=m.style();if(q(l)){var k=l;T.applyBypass(this,k,v),this.emitAndNotify("style")}else if(I(l))if(d===void 0){var w=this[0];return w?T.getStylePropertyValue(w,l):void 0}else T.applyBypass(this,l,d,v),this.emitAndNotify("style");else if(l===void 0){var S=this[0];return S?T.getRawStyle(S):void 0}return this},"style"),removeStyle:a(function(l){var d=this.cy();if(!d.styleEnabled())return this;var m=!1,v=d.style(),T=this;if(l===void 0)for(var k=0;k<T.length;k++){var w=T[k];v.removeAllBypasses(w,m)}else{l=l.split(/\s+/);for(var S=0;S<T.length;S++){var C=T[S];v.removeBypasses(C,l,m)}}return this.emitAndNotify("style"),this},"removeStyle"),show:a(function(){return this.css("display","element"),this},"show"),hide:a(function(){return this.css("display","none"),this},"hide"),effectiveOpacity:a(function(){var l=this.cy();if(!l.styleEnabled())return 1;var d=l.hasCompoundNodes(),m=this[0];if(m){var v=m._private,T=m.pstyle("opacity").value;if(!d)return T;var k=v.data.parent?m.parents():null;if(k)for(var w=0;w<k.length;w++){var S=k[w],C=S.pstyle("opacity").value;T=C*T}return T}},"effectiveOpacity"),transparent:a(function(){var l=this.cy();if(!l.styleEnabled())return!1;var d=this[0],m=d.cy().hasCompoundNodes();if(d)return m?d.effectiveOpacity()===0:d.pstyle("opacity").value===0},"transparent"),backgrounding:a(function(){var l=this.cy();if(!l.styleEnabled())return!1;var d=this[0];return!!d._private.backgrounding},"backgrounding")};function sS(h,l){var d=h._private,m=d.data.parent?h.parents():null;if(m)for(var v=0;v<m.length;v++){var T=m[v];if(!l(T))return!1}return!0}a(sS,"checkCompound");function lS(h){var l=h.ok,d=h.edgeOkViaNode||h.ok,m=h.parentOk||h.ok;return function(){var v=this.cy();if(!v.styleEnabled())return!0;var T=this[0],k=v.hasCompoundNodes();if(T){var w=T._private;if(!l(T))return!1;if(T.isNode())return!k||sS(T,m);var S=w.source,C=w.target;return d(S)&&(!k||sS(S,d))&&(S===C||d(C)&&(!k||sS(C,d)))}}}a(lS,"defineDerivedStateFunction");var Xp=fb("eleTakesUpSpace",function(h){return h.pstyle("display").value==="element"&&h.width()!==0&&(h.isNode()?h.height()!==0:!0)});La.takesUpSpace=hb("takesUpSpace",lS({ok:Xp}));var v2e=fb("eleInteractive",function(h){return h.pstyle("events").value==="yes"&&h.pstyle("visibility").value==="visible"&&Xp(h)}),x2e=fb("parentInteractive",function(h){return h.pstyle("visibility").value==="visible"&&Xp(h)});La.interactive=hb("interactive",lS({ok:v2e,parentOk:x2e,edgeOkViaNode:Xp})),La.noninteractive=function(){var h=this[0];if(h)return!h.interactive()};var b2e=fb("eleVisible",function(h){return h.pstyle("visibility").value==="visible"&&h.pstyle("opacity").pfValue!==0&&Xp(h)}),T2e=Xp;La.visible=hb("visible",lS({ok:b2e,edgeOkViaNode:T2e})),La.hidden=function(){var h=this[0];if(h)return!h.visible()},La.isBundledBezier=hb("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1}),La.bypass=La.css=La.style,La.renderedCss=La.renderedStyle,La.removeBypass=La.removeCss=La.removeStyle,La.pstyle=La.parsedStyle;var hf={};function R8(h){return function(){var l=arguments,d=[];if(l.length===2){var m=l[0],v=l[1];this.on(h.event,m,v)}else if(l.length===1&&$(l[0])){var T=l[0];this.on(h.event,T)}else if(l.length===0||l.length===1&&X(l[0])){for(var k=l.length===1?l[0]:null,w=0;w<this.length;w++){var S=this[w],C=!h.ableField||S._private[h.ableField],R=S._private[h.field]!=h.value;if(h.overrideAble){var L=h.overrideAble(S);if(L!==void 0&&(C=L,!L))return this}C&&(S._private[h.field]=h.value,R&&d.push(S))}var z=this.spawn(d);z.updateStyle(),z.emit(h.event),k&&z.emit(k)}return this}}a(R8,"defineSwitchFunction");function Kp(h){hf[h.field]=function(){var l=this[0];if(l){if(h.overrideField){var d=h.overrideField(l);if(d!==void 0)return d}return l._private[h.field]}},hf[h.on]=R8({event:h.on,field:h.field,ableField:h.ableField,overrideAble:h.overrideAble,value:!0}),hf[h.off]=R8({event:h.off,field:h.field,ableField:h.ableField,overrideAble:h.overrideAble,value:!1})}a(Kp,"defineSwitchSet"),Kp({field:"locked",overrideField:a(function(l){return l.cy().autolock()?!0:void 0},"overrideField"),on:"lock",off:"unlock"}),Kp({field:"grabbable",overrideField:a(function(l){return l.cy().autoungrabify()||l.pannable()?!1:void 0},"overrideField"),on:"grabify",off:"ungrabify"}),Kp({field:"selected",ableField:"selectable",overrideAble:a(function(l){return l.cy().autounselectify()?!1:void 0},"overrideAble"),on:"select",off:"unselect"}),Kp({field:"selectable",overrideField:a(function(l){return l.cy().autounselectify()?!1:void 0},"overrideField"),on:"selectify",off:"unselectify"}),hf.deselect=hf.unselect,hf.grabbed=function(){var h=this[0];if(h)return h._private.grabbed},Kp({field:"active",on:"activate",off:"unactivate"}),Kp({field:"pannable",on:"panify",off:"unpanify"}),hf.inactive=function(){var h=this[0];if(h)return!h._private.active};var Ka={},D8=a(function(l){return a(function(m){for(var v=this,T=[],k=0;k<v.length;k++){var w=v[k];if(w.isNode()){for(var S=!1,C=w.connectedEdges(),R=0;R<C.length;R++){var L=C[R],z=L.source(),V=L.target();if(l.noIncomingEdges&&V===w&&z!==w||l.noOutgoingEdges&&z===w&&V!==w){S=!0;break}}S||T.push(w)}}return this.spawn(T,!0).filter(m)},"dagExtremityImpl")},"defineDagExtremity"),L8=a(function(l){return function(d){for(var m=this,v=[],T=0;T<m.length;T++){var k=m[T];if(k.isNode())for(var w=k.connectedEdges(),S=0;S<w.length;S++){var C=w[S],R=C.source(),L=C.target();l.outgoing&&R===k?(v.push(C),v.push(L)):l.incoming&&L===k&&(v.push(C),v.push(R))}}return this.spawn(v,!0).filter(d)}},"defineDagOneHop"),I8=a(function(l){return function(d){for(var m=this,v=[],T={};;){var k=l.outgoing?m.outgoers():m.incomers();if(k.length===0)break;for(var w=!1,S=0;S<k.length;S++){var C=k[S],R=C.id();T[R]||(T[R]=!0,v.push(C),w=!0)}if(!w)break;m=k}return this.spawn(v,!0).filter(d)}},"defineDagAllHops");Ka.clearTraversalCache=function(){for(var h=0;h<this.length;h++)this[h]._private.traversalCache=null},pe(Ka,{roots:D8({noIncomingEdges:!0}),leaves:D8({noOutgoingEdges:!0}),outgoers:Is(L8({outgoing:!0}),"outgoers"),successors:I8({outgoing:!0}),incomers:Is(L8({incoming:!0}),"incomers"),predecessors:I8({incoming:!0})}),pe(Ka,{neighborhood:Is(function(h){for(var l=[],d=this.nodes(),m=0;m<d.length;m++)for(var v=d[m],T=v.connectedEdges(),k=0;k<T.length;k++){var w=T[k],S=w.source(),C=w.target(),R=v===S?C:S;R.length>0&&l.push(R[0]),l.push(w[0])}return this.spawn(l,!0).filter(h)},"neighborhood"),closedNeighborhood:a(function(l){return this.neighborhood().add(this).filter(l)},"closedNeighborhood"),openNeighborhood:a(function(l){return this.neighborhood(l)},"openNeighborhood")}),Ka.neighbourhood=Ka.neighborhood,Ka.closedNeighbourhood=Ka.closedNeighborhood,Ka.openNeighbourhood=Ka.openNeighborhood,pe(Ka,{source:Is(a(function(l){var d=this[0],m;return d&&(m=d._private.source||d.cy().collection()),m&&l?m.filter(l):m},"sourceImpl"),"source"),target:Is(a(function(l){var d=this[0],m;return d&&(m=d._private.target||d.cy().collection()),m&&l?m.filter(l):m},"targetImpl"),"target"),sources:N8({attr:"source"}),targets:N8({attr:"target"})});function N8(h){return a(function(d){for(var m=[],v=0;v<this.length;v++){var T=this[v],k=T._private[h.attr];k&&m.push(k)}return this.spawn(m,!0).filter(d)},"sourceImpl")}a(N8,"defineSourceFunction"),pe(Ka,{edgesWith:Is(P8(),"edgesWith"),edgesTo:Is(P8({thisIsSrc:!0}),"edgesTo")});function P8(h){return a(function(d){var m=[],v=this._private.cy,T=h||{};I(d)&&(d=v.$(d));for(var k=0;k<d.length;k++)for(var w=d[k]._private.edges,S=0;S<w.length;S++){var C=w[S],R=C._private.data,L=this.hasElementWithId(R.source)&&d.hasElementWithId(R.target),z=d.hasElementWithId(R.source)&&this.hasElementWithId(R.target),V=L||z;V&&((T.thisIsSrc||T.thisIsTgt)&&(T.thisIsSrc&&!L||T.thisIsTgt&&!z)||m.push(C))}return this.spawn(m,!0)},"edgesWithImpl")}a(P8,"defineEdgesWithFunction"),pe(Ka,{connectedEdges:Is(function(h){for(var l=[],d=this,m=0;m<d.length;m++){var v=d[m];if(v.isNode())for(var T=v._private.edges,k=0;k<T.length;k++){var w=T[k];l.push(w)}}return this.spawn(l,!0).filter(h)},"connectedEdges"),connectedNodes:Is(function(h){for(var l=[],d=this,m=0;m<d.length;m++){var v=d[m];v.isEdge()&&(l.push(v.source()[0]),l.push(v.target()[0]))}return this.spawn(l,!0).filter(h)},"connectedNodes"),parallelEdges:Is(O8(),"parallelEdges"),codirectedEdges:Is(O8({codirected:!0}),"codirectedEdges")});function O8(h){var l={codirected:!1};return h=pe({},l,h),a(function(m){for(var v=[],T=this.edges(),k=h,w=0;w<T.length;w++)for(var S=T[w],C=S._private,R=C.source,L=R._private.data.id,z=C.data.target,V=R._private.edges,j=0;j<V.length;j++){var Q=V[j],ne=Q._private.data,Z=ne.target,ie=ne.source,ae=Z===z&&ie===L,me=L===Z&&z===ie;(k.codirected&&ae||!k.codirected&&(ae||me))&&v.push(Q)}return this.spawn(v,!0).filter(m)},"parallelEdgesImpl")}a(O8,"defineParallelEdgesFunction"),pe(Ka,{components:a(function(l){var d=this,m=d.cy(),v=m.collection(),T=l==null?d.nodes():l.nodes(),k=[];l!=null&&T.empty()&&(T=l.sources());var w=a(function(R,L){v.merge(R),T.unmerge(R),L.merge(R)},"visitInComponent");if(T.empty())return d.spawn();var S=a(function(){var R=m.collection();k.push(R);var L=T[0];w(L,R),d.bfs({directed:!1,roots:L,visit:a(function(V){return w(V,R)},"visit")}),R.forEach(function(z){z.connectedEdges().forEach(function(V){d.has(V)&&R.has(V.source())&&R.has(V.target())&&R.merge(V)})})},"_loop");do S();while(T.length>0);return k},"components"),component:a(function(){var l=this[0];return l.cy().mutableElements().components(l)[0]},"component")}),Ka.componentsOf=Ka.components;var Ia=a(function(l,d){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(l===void 0){Wr("A collection must have a reference to the core");return}var T=new Xr,k=!1;if(!d)d=[];else if(d.length>0&&q(d[0])&&!D(d[0])){k=!0;for(var w=[],S=new Cn,C=0,R=d.length;C<R;C++){var L=d[C];L.data==null&&(L.data={});var z=L.data;if(z.id==null)z.id=Ls();else if(l.hasElementWithId(z.id)||S.has(z.id))continue;var V=new fo(l,L,!1);w.push(V),S.add(z.id)}d=w}this.length=0;for(var j=0,Q=d.length;j<Q;j++){var ne=d[j][0];if(ne!=null){var Z=ne._private.data.id;(!m||!T.has(Z))&&(m&&T.set(Z,{index:this.length,ele:ne}),this[this.length]=ne,this.length++)}}this._private={eles:this,cy:l,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(ie){this.lazyMap=ie},rebuildMap:a(function(){for(var ae=this.lazyMap=new Xr,me=this.eles,De=0;De<me.length;De++){var we=me[De];ae.set(we.id(),{index:De,ele:we})}},"rebuildMap")},m&&(this._private.map=T),k&&!v&&this.restore()},"Collection"),Zn=fo.prototype=Ia.prototype=Object.create(Array.prototype);Zn.instanceString=function(){return"collection"},Zn.spawn=function(h,l){return new Ia(this.cy(),h,l)},Zn.spawnSelf=function(){return this.spawn(this)},Zn.cy=function(){return this._private.cy},Zn.renderer=function(){return this._private.cy.renderer()},Zn.element=function(){return this[0]},Zn.collection=function(){return K(this)?this:new Ia(this._private.cy,[this])},Zn.unique=function(){return new Ia(this._private.cy,this,!0)},Zn.hasElementWithId=function(h){return h=""+h,this._private.map.has(h)},Zn.getElementById=function(h){h=""+h;var l=this._private.cy,d=this._private.map.get(h);return d?d.ele:new Ia(l)},Zn.$id=Zn.getElementById,Zn.poolIndex=function(){var h=this._private.cy,l=h._private.elements,d=this[0]._private.data.id;return l._private.map.get(d).index},Zn.indexOf=function(h){var l=h[0]._private.data.id;return this._private.map.get(l).index},Zn.indexOfId=function(h){return h=""+h,this._private.map.get(h).index},Zn.json=function(h){var l=this.element(),d=this.cy();if(l==null&&h)return this;if(l!=null){var m=l._private;if(q(h)){if(d.startBatch(),h.data){l.data(h.data);var v=m.data;if(l.isEdge()){var T=!1,k={},w=h.data.source,S=h.data.target;w!=null&&w!=v.source&&(k.source=""+w,T=!0),S!=null&&S!=v.target&&(k.target=""+S,T=!0),T&&(l=l.move(k))}else{var C="parent"in h.data,R=h.data.parent;C&&(R!=null||v.parent!=null)&&R!=v.parent&&(R===void 0&&(R=null),R!=null&&(R=""+R),l=l.move({parent:R}))}}h.position&&l.position(h.position);var L=a(function(Q,ne,Z){var ie=h[Q];ie!=null&&ie!==m[Q]&&(ie?l[ne]():l[Z]())},"checkSwitch");return L("removed","remove","restore"),L("selected","select","unselect"),L("selectable","selectify","unselectify"),L("locked","lock","unlock"),L("grabbable","grabify","ungrabify"),L("pannable","panify","unpanify"),h.classes!=null&&l.classes(h.classes),d.endBatch(),this}else if(h===void 0){var z={data:Qn(m.data),position:Qn(m.position),group:m.group,removed:m.removed,selected:m.selected,selectable:m.selectable,locked:m.locked,grabbable:m.grabbable,pannable:m.pannable,classes:null};z.classes="";var V=0;return m.classes.forEach(function(j){return z.classes+=V++===0?j:" "+j}),z}}},Zn.jsons=function(){for(var h=[],l=0;l<this.length;l++){var d=this[l],m=d.json();h.push(m)}return h},Zn.clone=function(){for(var h=this.cy(),l=[],d=0;d<this.length;d++){var m=this[d],v=m.json(),T=new fo(h,v,!1);l.push(T)}return new Ia(h,l)},Zn.copy=Zn.clone,Zn.restore=function(){for(var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,d=this,m=d.cy(),v=m._private,T=[],k=[],w,S=0,C=d.length;S<C;S++){var R=d[S];l&&!R.removed()||(R.isNode()?T.push(R):k.push(R))}w=T.concat(k);var L,z=a(function(){w.splice(L,1),L--},"removeFromElements");for(L=0;L<w.length;L++){var V=w[L],j=V._private,Q=j.data;if(V.clearTraversalCache(),!(!l&&!j.removed)){if(Q.id===void 0)Q.id=Ls();else if(B(Q.id))Q.id=""+Q.id;else if(ee(Q.id)||!I(Q.id)){Wr("Can not create element with invalid string ID `"+Q.id+"`"),z();continue}else if(m.hasElementWithId(Q.id)){Wr("Can not create second element with ID `"+Q.id+"`"),z();continue}}var ne=Q.id;if(V.isNode()){var Z=j.position;Z.x==null&&(Z.x=0),Z.y==null&&(Z.y=0)}if(V.isEdge()){for(var ie=V,ae=["source","target"],me=ae.length,De=!1,we=0;we<me;we++){var ve=ae[we],Ie=Q[ve];B(Ie)&&(Ie=Q[ve]=""+Q[ve]),Ie==null||Ie===""?(Wr("Can not create edge `"+ne+"` with unspecified "+ve),De=!0):m.hasElementWithId(Ie)||(Wr("Can not create edge `"+ne+"` with nonexistant "+ve+" `"+Ie+"`"),De=!0)}if(De){z();continue}var be=m.getElementById(Q.source),Oe=m.getElementById(Q.target);be.same(Oe)?be._private.edges.push(ie):(be._private.edges.push(ie),Oe._private.edges.push(ie)),ie._private.source=be,ie._private.target=Oe}j.map=new Xr,j.map.set(ne,{ele:V,index:0}),j.removed=!1,l&&m.addToPool(V)}for(var Be=0;Be<T.length;Be++){var Ne=T[Be],Xe=Ne._private.data;B(Xe.parent)&&(Xe.parent=""+Xe.parent);var qe=Xe.parent,ot=qe!=null;if(ot||Ne._private.parent){var Ke=Ne._private.parent?m.collection().merge(Ne._private.parent):m.getElementById(qe);if(Ke.empty())Xe.parent=void 0;else if(Ke[0].removed())Kr("Node added with missing parent, reference to parent removed"),Xe.parent=void 0,Ne._private.parent=null;else{for(var Je=!1,lt=Ke;!lt.empty();){if(Ne.same(lt)){Je=!0,Xe.parent=void 0;break}lt=lt.parent()}Je||(Ke[0]._private.children.push(Ne),Ne._private.parent=Ke[0],v.hasCompoundNodes=!0)}}}if(w.length>0){for(var ht=w.length===d.length?d:new Ia(m,w),xt=0;xt<ht.length;xt++){var ut=ht[xt];ut.isNode()||(ut.parallelEdges().clearTraversalCache(),ut.source().clearTraversalCache(),ut.target().clearTraversalCache())}var yt;v.hasCompoundNodes?yt=m.collection().merge(ht).merge(ht.connectedNodes()).merge(ht.parent()):yt=ht,yt.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(h),h?ht.emitAndNotify("add"):l&&ht.emit("add")}return d},Zn.removed=function(){var h=this[0];return h&&h._private.removed},Zn.inside=function(){var h=this[0];return h&&!h._private.removed},Zn.remove=function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,d=this,m=[],v={},T=d._private.cy;function k(qe){for(var ot=qe._private.edges,Ke=0;Ke<ot.length;Ke++)S(ot[Ke])}a(k,"addConnectedEdges");function w(qe){for(var ot=qe._private.children,Ke=0;Ke<ot.length;Ke++)S(ot[Ke])}a(w,"addChildren");function S(qe){var ot=v[qe.id()];l&&qe.removed()||ot||(v[qe.id()]=!0,qe.isNode()?(m.push(qe),k(qe),w(qe)):m.unshift(qe))}a(S,"add");for(var C=0,R=d.length;C<R;C++){var L=d[C];S(L)}function z(qe,ot){var Ke=qe._private.edges;hl(Ke,ot),qe.clearTraversalCache()}a(z,"removeEdgeRef");function V(qe){qe.clearTraversalCache()}a(V,"removeParallelRef");var j=[];j.ids={};function Q(qe,ot){ot=ot[0],qe=qe[0];var Ke=qe._private.children,Je=qe.id();hl(Ke,ot),ot._private.parent=null,j.ids[Je]||(j.ids[Je]=!0,j.push(qe))}a(Q,"removeChildRef"),d.dirtyCompoundBoundsCache(),l&&T.removeFromPool(m);for(var ne=0;ne<m.length;ne++){var Z=m[ne];if(Z.isEdge()){var ie=Z.source()[0],ae=Z.target()[0];z(ie,Z),z(ae,Z);for(var me=Z.parallelEdges(),De=0;De<me.length;De++){var we=me[De];V(we),we.isBundledBezier()&&we.dirtyBoundingBoxCache()}}else{var ve=Z.parent();ve.length!==0&&Q(ve,Z)}l&&(Z._private.removed=!0)}var Ie=T._private.elements;T._private.hasCompoundNodes=!1;for(var be=0;be<Ie.length;be++){var Oe=Ie[be];if(Oe.isParent()){T._private.hasCompoundNodes=!0;break}}var Be=new Ia(this.cy(),m);Be.size()>0&&(h?Be.emitAndNotify("remove"):l&&Be.emit("remove"));for(var Ne=0;Ne<j.length;Ne++){var Xe=j[Ne];(!l||!Xe.removed())&&Xe.updateStyle()}return Be},Zn.move=function(h){var l=this._private.cy,d=this,m=!1,v=!1,T=a(function(j){return j==null?j:""+j},"toString");if(h.source!==void 0||h.target!==void 0){var k=T(h.source),w=T(h.target),S=k!=null&&l.hasElementWithId(k),C=w!=null&&l.hasElementWithId(w);(S||C)&&(l.batch(function(){d.remove(m,v),d.emitAndNotify("moveout");for(var V=0;V<d.length;V++){var j=d[V],Q=j._private.data;j.isEdge()&&(S&&(Q.source=k),C&&(Q.target=w))}d.restore(m,v)}),d.emitAndNotify("move"))}else if(h.parent!==void 0){var R=T(h.parent),L=R===null||l.hasElementWithId(R);if(L){var z=R===null?void 0:R;l.batch(function(){var V=d.remove(m,v);V.emitAndNotify("moveout");for(var j=0;j<d.length;j++){var Q=d[j],ne=Q._private.data;Q.isNode()&&(ne.parent=z)}V.restore(m,v)}),d.emitAndNotify("move")}}return this},[qM,Nbe,nb,cf,Hp,Xbe,ib,u2e,E8,C8,m2e,cb,ub,La,hf,Ka].forEach(function(h){pe(Zn,h)});var k2e={add:a(function(l){var d,m=this;if(W(l)){var v=l;if(v._private.cy===m)d=v.restore();else{for(var T=[],k=0;k<v.length;k++){var w=v[k];T.push(w.json())}d=new Ia(m,T)}}else if(X(l)){var S=l;d=new Ia(m,S)}else if(q(l)&&(X(l.nodes)||X(l.edges))){for(var C=l,R=[],L=["nodes","edges"],z=0,V=L.length;z<V;z++){var j=L[z],Q=C[j];if(X(Q))for(var ne=0,Z=Q.length;ne<Z;ne++){var ie=pe({group:j},Q[ne]);R.push(ie)}}d=new Ia(m,R)}else{var ae=l;d=new fo(m,ae).collection()}return d},"add"),remove:a(function(l){if(!W(l)){if(I(l)){var d=l;l=this.$(d)}}return l.remove()},"remove")};function _2e(h,l,d,m){var v=4,T=.001,k=1e-7,w=10,S=11,C=1/(S-1),R=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var L=0;L<4;++L)if(typeof arguments[L]!="number"||isNaN(arguments[L])||!isFinite(arguments[L]))return!1;h=Math.min(h,1),d=Math.min(d,1),h=Math.max(h,0),d=Math.max(d,0);var z=R?new Float32Array(S):new Array(S);function V(Oe,Be){return 1-3*Be+3*Oe}a(V,"A");function j(Oe,Be){return 3*Be-6*Oe}a(j,"B");function Q(Oe){return 3*Oe}a(Q,"C");function ne(Oe,Be,Ne){return((V(Be,Ne)*Oe+j(Be,Ne))*Oe+Q(Be))*Oe}a(ne,"calcBezier");function Z(Oe,Be,Ne){return 3*V(Be,Ne)*Oe*Oe+2*j(Be,Ne)*Oe+Q(Be)}a(Z,"getSlope");function ie(Oe,Be){for(var Ne=0;Ne<v;++Ne){var Xe=Z(Be,h,d);if(Xe===0)return Be;var qe=ne(Be,h,d)-Oe;Be-=qe/Xe}return Be}a(ie,"newtonRaphsonIterate");function ae(){for(var Oe=0;Oe<S;++Oe)z[Oe]=ne(Oe*C,h,d)}a(ae,"calcSampleValues");function me(Oe,Be,Ne){var Xe,qe,ot=0;do qe=Be+(Ne-Be)/2,Xe=ne(qe,h,d)-Oe,Xe>0?Ne=qe:Be=qe;while(Math.abs(Xe)>k&&++ot<w);return qe}a(me,"binarySubdivide");function De(Oe){for(var Be=0,Ne=1,Xe=S-1;Ne!==Xe&&z[Ne]<=Oe;++Ne)Be+=C;--Ne;var qe=(Oe-z[Ne])/(z[Ne+1]-z[Ne]),ot=Be+qe*C,Ke=Z(ot,h,d);return Ke>=T?ie(Oe,ot):Ke===0?ot:me(Oe,Be,Be+C)}a(De,"getTForX");var we=!1;function ve(){we=!0,(h!==l||d!==m)&&ae()}a(ve,"precompute");var Ie=a(function(Be){return we||ve(),h===l&&d===m?Be:Be===0?0:Be===1?1:ne(De(Be),l,m)},"f");Ie.getControlPoints=function(){return[{x:h,y:l},{x:d,y:m}]};var be="generateBezier("+[h,l,d,m]+")";return Ie.toString=function(){return be},Ie}a(_2e,"generateCubicBezier");var w2e=function(){function h(m){return-m.tension*m.x-m.friction*m.v}a(h,"springAccelerationForState");function l(m,v,T){var k={x:m.x+T.dx*v,v:m.v+T.dv*v,tension:m.tension,friction:m.friction};return{dx:k.v,dv:h(k)}}a(l,"springEvaluateStateWithDerivative");function d(m,v){var T={dx:m.v,dv:h(m)},k=l(m,v*.5,T),w=l(m,v*.5,k),S=l(m,v,w),C=1/6*(T.dx+2*(k.dx+w.dx)+S.dx),R=1/6*(T.dv+2*(k.dv+w.dv)+S.dv);return m.x=m.x+C*v,m.v=m.v+R*v,m}return a(d,"springIntegrateState"),a(function m(v,T,k){var w={x:-1,v:0,tension:null,friction:null},S=[0],C=0,R=1/1e4,L=16/1e3,z,V,j;for(v=parseFloat(v)||500,T=parseFloat(T)||20,k=k||null,w.tension=v,w.friction=T,z=k!==null,z?(C=m(v,T),V=C/k*L):V=L;j=d(j||w,V),S.push(1+j.x),C+=16,Math.abs(j.x)>R&&Math.abs(j.v)>R;);return z?function(Q){return S[Q*(S.length-1)|0]}:C},"springRK4Factory")}(),Jn=a(function(l,d,m,v){var T=_2e(l,d,m,v);return function(k,w,S){return k+(w-k)*T(S)}},"cubicBezier"),db={linear:a(function(l,d,m){return l+(d-l)*m},"linear"),ease:Jn(.25,.1,.25,1),"ease-in":Jn(.42,0,1,1),"ease-out":Jn(0,0,.58,1),"ease-in-out":Jn(.42,0,.58,1),"ease-in-sine":Jn(.47,0,.745,.715),"ease-out-sine":Jn(.39,.575,.565,1),"ease-in-out-sine":Jn(.445,.05,.55,.95),"ease-in-quad":Jn(.55,.085,.68,.53),"ease-out-quad":Jn(.25,.46,.45,.94),"ease-in-out-quad":Jn(.455,.03,.515,.955),"ease-in-cubic":Jn(.55,.055,.675,.19),"ease-out-cubic":Jn(.215,.61,.355,1),"ease-in-out-cubic":Jn(.645,.045,.355,1),"ease-in-quart":Jn(.895,.03,.685,.22),"ease-out-quart":Jn(.165,.84,.44,1),"ease-in-out-quart":Jn(.77,0,.175,1),"ease-in-quint":Jn(.755,.05,.855,.06),"ease-out-quint":Jn(.23,1,.32,1),"ease-in-out-quint":Jn(.86,0,.07,1),"ease-in-expo":Jn(.95,.05,.795,.035),"ease-out-expo":Jn(.19,1,.22,1),"ease-in-out-expo":Jn(1,0,0,1),"ease-in-circ":Jn(.6,.04,.98,.335),"ease-out-circ":Jn(.075,.82,.165,1),"ease-in-out-circ":Jn(.785,.135,.15,.86),spring:a(function(l,d,m){if(m===0)return db.linear;var v=w2e(l,d,m);return function(T,k,w){return T+(k-T)*v(w)}},"spring"),"cubic-bezier":Jn};function M8(h,l,d,m,v){if(m===1||l===d)return d;var T=v(l,d,m);return h==null||((h.roundValue||h.color)&&(T=Math.round(T)),h.min!==void 0&&(T=Math.max(T,h.min)),h.max!==void 0&&(T=Math.min(T,h.max))),T}a(M8,"getEasedValue");function F8(h,l){return h.pfValue!=null||h.value!=null?h.pfValue!=null&&(l==null||l.type.units!=="%")?h.pfValue:h.value:h}a(F8,"getValue");function Qp(h,l,d,m,v){var T=v!=null?v.type:null;d<0?d=0:d>1&&(d=1);var k=F8(h,v),w=F8(l,v);if(B(k)&&B(w))return M8(T,k,w,d,m);if(X(k)&&X(w)){for(var S=[],C=0;C<w.length;C++){var R=k[C],L=w[C];if(R!=null&&L!=null){var z=M8(T,R,L,d,m);S.push(z)}else S.push(L)}return S}}a(Qp,"ease");function E2e(h,l,d,m){var v=!m,T=h._private,k=l._private,w=k.easing,S=k.startTime,C=m?h:h.cy(),R=C.style();if(!k.easingImpl)if(w==null)k.easingImpl=db.linear;else{var L;if(I(w)){var z=R.parse("transition-timing-function",w);L=z.value}else L=w;var V,j;I(L)?(V=L,j=[]):(V=L[1],j=L.slice(2).map(function(ht){return+ht})),j.length>0?(V==="spring"&&j.push(k.duration),k.easingImpl=db[V].apply(null,j)):k.easingImpl=db[V]}var Q=k.easingImpl,ne;if(k.duration===0?ne=1:ne=(d-S)/k.duration,k.applying&&(ne=k.progress),ne<0?ne=0:ne>1&&(ne=1),k.delay==null){var Z=k.startPosition,ie=k.position;if(ie&&v&&!h.locked()){var ae={};F0(Z.x,ie.x)&&(ae.x=Qp(Z.x,ie.x,ne,Q)),F0(Z.y,ie.y)&&(ae.y=Qp(Z.y,ie.y,ne,Q)),h.position(ae)}var me=k.startPan,De=k.pan,we=T.pan,ve=De!=null&&m;ve&&(F0(me.x,De.x)&&(we.x=Qp(me.x,De.x,ne,Q)),F0(me.y,De.y)&&(we.y=Qp(me.y,De.y,ne,Q)),h.emit("pan"));var Ie=k.startZoom,be=k.zoom,Oe=be!=null&&m;Oe&&(F0(Ie,be)&&(T.zoom=E0(T.minZoom,Qp(Ie,be,ne,Q),T.maxZoom)),h.emit("zoom")),(ve||Oe)&&h.emit("viewport");var Be=k.style;if(Be&&Be.length>0&&v){for(var Ne=0;Ne<Be.length;Ne++){var Xe=Be[Ne],qe=Xe.name,ot=Xe,Ke=k.startStyle[qe],Je=R.properties[Ke.name],lt=Qp(Ke,ot,ne,Q,Je);R.overrideBypass(h,qe,lt)}h.emit("style")}}return k.progress=ne,ne}a(E2e,"step$1");function F0(h,l){return h==null||l==null?!1:B(h)&&B(l)?!0:!!(h&&l)}a(F0,"valid");function C2e(h,l,d,m){var v=l._private;v.started=!0,v.startTime=d-v.progress*v.duration}a(C2e,"startAnimation");function B8(h,l){var d=l._private.aniEles,m=[];function v(R,L){var z=R._private,V=z.animation.current,j=z.animation.queue,Q=!1;if(V.length===0){var ne=j.shift();ne&&V.push(ne)}for(var Z=a(function(we){for(var ve=we.length-1;ve>=0;ve--){var Ie=we[ve];Ie()}we.splice(0,we.length)},"callbacks"),ie=V.length-1;ie>=0;ie--){var ae=V[ie],me=ae._private;if(me.stopped){V.splice(ie,1),me.hooked=!1,me.playing=!1,me.started=!1,Z(me.frames);continue}!me.playing&&!me.applying||(me.playing&&me.applying&&(me.applying=!1),me.started||C2e(R,ae,h),E2e(R,ae,h,L),me.applying&&(me.applying=!1),Z(me.frames),me.step!=null&&me.step(h),ae.completed()&&(V.splice(ie,1),me.hooked=!1,me.playing=!1,me.started=!1,Z(me.completes)),Q=!0)}return!L&&V.length===0&&j.length===0&&m.push(R),Q}a(v,"stepOne");for(var T=!1,k=0;k<d.length;k++){var w=d[k],S=v(w);T=T||S}var C=v(l,!0);(T||C)&&(d.length>0?l.notify("draw",d):l.notify("draw")),d.unmerge(m),l.emit("step")}a(B8,"stepAll");var S2e={animate:Sn.animate(),animation:Sn.animation(),animated:Sn.animated(),clearQueue:Sn.clearQueue(),delay:Sn.delay(),delayAnimation:Sn.delayAnimation(),stop:Sn.stop(),addToAnimationPool:a(function(l){var d=this;d.styleEnabled()&&d._private.aniEles.merge(l)},"addToAnimationPool"),stopAnimationLoop:a(function(){this._private.animationsRunning=!1},"stopAnimationLoop"),startAnimationLoop:a(function(){var l=this;if(l._private.animationsRunning=!0,!l.styleEnabled())return;function d(){l._private.animationsRunning&&No(a(function(T){B8(T,l),d()},"animationStep"))}a(d,"headlessStep");var m=l.renderer();m&&m.beforeRender?m.beforeRender(a(function(T,k){B8(k,l)},"rendererAnimationStep"),m.beforeRenderPriorities.animations):d()},"startAnimationLoop")},A2e={qualifierCompare:a(function(l,d){return l==null||d==null?l==null&&d==null:l.sameText(d)},"qualifierCompare"),eventMatches:a(function(l,d,m){var v=d.qualifier;return v!=null?l!==m.target&&D(m.target)&&v.matches(m.target):!0},"eventMatches"),addEventFields:a(function(l,d){d.cy=l,d.target=l},"addEventFields"),callbackContext:a(function(l,d,m){return d.qualifier!=null?m.target:l},"callbackContext")},pb=a(function(l){return I(l)?new sf(l):l},"argSelector"),q8={createEmitter:a(function(){var l=this._private;return l.emitter||(l.emitter=new sb(A2e,this)),this},"createEmitter"),emitter:a(function(){return this._private.emitter},"emitter"),on:a(function(l,d,m){return this.emitter().on(l,pb(d),m),this},"on"),removeListener:a(function(l,d,m){return this.emitter().removeListener(l,pb(d),m),this},"removeListener"),removeAllListeners:a(function(){return this.emitter().removeAllListeners(),this},"removeAllListeners"),one:a(function(l,d,m){return this.emitter().one(l,pb(d),m),this},"one"),once:a(function(l,d,m){return this.emitter().one(l,pb(d),m),this},"once"),emit:a(function(l,d){return this.emitter().emit(l,d),this},"emit"),emitAndNotify:a(function(l,d){return this.emit(l),this.notify(l,d),this},"emitAndNotify")};Sn.eventAliasesOn(q8);var cS={png:a(function(l){var d=this._private.renderer;return l=l||{},d.png(l)},"png"),jpg:a(function(l){var d=this._private.renderer;return l=l||{},l.bg=l.bg||"#fff",d.jpg(l)},"jpg")};cS.jpeg=cS.jpg;var mb={layout:a(function(l){var d=this;if(l==null){Wr("Layout options must be specified to make a layout");return}if(l.name==null){Wr("A `name` must be specified to make a layout");return}var m=l.name,v=d.extension("layout",m);if(v==null){Wr("No such layout `"+m+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var T;I(l.eles)?T=d.$(l.eles):T=l.eles!=null?l.eles:d.$();var k=new v(pe({},l,{cy:d,eles:T}));return k},"layout")};mb.createLayout=mb.makeLayout=mb.layout;var R2e={notify:a(function(l,d){var m=this._private;if(this.batching()){m.batchNotifications=m.batchNotifications||{};var v=m.batchNotifications[l]=m.batchNotifications[l]||this.collection();d!=null&&v.merge(d);return}if(m.notificationsEnabled){var T=this.renderer();this.destroyed()||!T||T.notify(l,d)}},"notify"),notifications:a(function(l){var d=this._private;return l===void 0?d.notificationsEnabled:(d.notificationsEnabled=!!l,this)},"notifications"),noNotifications:a(function(l){this.notifications(!1),l(),this.notifications(!0)},"noNotifications"),batching:a(function(){return this._private.batchCount>0},"batching"),startBatch:a(function(){var l=this._private;return l.batchCount==null&&(l.batchCount=0),l.batchCount===0&&(l.batchStyleEles=this.collection(),l.batchNotifications={}),l.batchCount++,this},"startBatch"),endBatch:a(function(){var l=this._private;if(l.batchCount===0)return this;if(l.batchCount--,l.batchCount===0){l.batchStyleEles.updateStyle();var d=this.renderer();Object.keys(l.batchNotifications).forEach(function(m){var v=l.batchNotifications[m];v.empty()?d.notify(m):d.notify(m,v)})}return this},"endBatch"),batch:a(function(l){return this.startBatch(),l(),this.endBatch(),this},"batch"),batchData:a(function(l){var d=this;return this.batch(function(){for(var m=Object.keys(l),v=0;v<m.length;v++){var T=m[v],k=l[T],w=d.getElementById(T);w.data(k)}})},"batchData")},D2e=Vi({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),uS={renderTo:a(function(l,d,m,v){var T=this._private.renderer;return T.renderTo(l,d,m,v),this},"renderTo"),renderer:a(function(){return this._private.renderer},"renderer"),forceRender:a(function(){return this.notify("draw"),this},"forceRender"),resize:a(function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},"resize"),initRenderer:a(function(l){var d=this,m=d.extension("renderer",l.name);if(m==null){Wr("Can not initialise: No such renderer `".concat(l.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}l.wheelSensitivity!==void 0&&Kr("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var v=D2e(l);v.cy=d,d._private.renderer=new m(v),this.notify("init")},"initRenderer"),destroyRenderer:a(function(){var l=this;l.notify("destroy");var d=l.container();if(d)for(d._cyreg=null;d.childNodes.length>0;)d.removeChild(d.childNodes[0]);l._private.renderer=null,l.mutableElements().forEach(function(m){var v=m._private;v.rscratch={},v.rstyle={},v.animation.current=[],v.animation.queue=[]})},"destroyRenderer"),onRender:a(function(l){return this.on("render",l)},"onRender"),offRender:a(function(l){return this.off("render",l)},"offRender")};uS.invalidateDimensions=uS.resize;var gb={collection:a(function(l,d){return I(l)?this.$(l):W(l)?l.collection():X(l)?(d||(d={}),new Ia(this,l,d.unique,d.removed)):new Ia(this)},"collection"),nodes:a(function(l){var d=this.$(function(m){return m.isNode()});return l?d.filter(l):d},"nodes"),edges:a(function(l){var d=this.$(function(m){return m.isEdge()});return l?d.filter(l):d},"edges"),$:a(function(l){var d=this._private.elements;return l?d.filter(l):d.spawnSelf()},"$"),mutableElements:a(function(){return this._private.elements},"mutableElements")};gb.elements=gb.filter=gb.$;var Qa={},B0="t",L2e="f";Qa.apply=function(h){for(var l=this,d=l._private,m=d.cy,v=m.collection(),T=0;T<h.length;T++){var k=h[T],w=l.getContextMeta(k);if(!w.empty){var S=l.getContextStyle(w),C=l.applyContextStyle(w,S,k);k._private.appliedInitStyle?l.updateTransitions(k,C.diffProps):k._private.appliedInitStyle=!0;var R=l.updateStyleHints(k);R&&v.push(k)}}return v},Qa.getPropertiesDiff=function(h,l){var d=this,m=d._private.propDiffs=d._private.propDiffs||{},v=h+"-"+l,T=m[v];if(T)return T;for(var k=[],w={},S=0;S<d.length;S++){var C=d[S],R=h[S]===B0,L=l[S]===B0,z=R!==L,V=C.mappedProperties.length>0;if(z||L&&V){var j=void 0;z&&V||z?j=C.properties:V&&(j=C.mappedProperties);for(var Q=0;Q<j.length;Q++){for(var ne=j[Q],Z=ne.name,ie=!1,ae=S+1;ae<d.length;ae++){var me=d[ae],De=l[ae]===B0;if(De&&(ie=me.properties[ne.name]!=null,ie))break}!w[Z]&&!ie&&(w[Z]=!0,k.push(Z))}}}return m[v]=k,k},Qa.getContextMeta=function(h){for(var l=this,d="",m,v=h._private.styleCxtKey||"",T=0;T<l.length;T++){var k=l[T],w=k.selector&&k.selector.matches(h);w?d+=B0:d+=L2e}return m=l.getPropertiesDiff(v,d),h._private.styleCxtKey=d,{key:d,diffPropNames:m,empty:m.length===0}},Qa.getContextStyle=function(h){var l=h.key,d=this,m=this._private.contextStyles=this._private.contextStyles||{};if(m[l])return m[l];for(var v={_private:{key:l}},T=0;T<d.length;T++){var k=d[T],w=l[T]===B0;if(w)for(var S=0;S<k.properties.length;S++){var C=k.properties[S];v[C.name]=C}}return m[l]=v,v},Qa.applyContextStyle=function(h,l,d){for(var m=this,v=h.diffPropNames,T={},k=m.types,w=0;w<v.length;w++){var S=v[w],C=l[S],R=d.pstyle(S);if(!C)if(R)R.bypass?C={name:S,deleteBypassed:!0}:C={name:S,delete:!0};else continue;if(R!==C){if(C.mapped===k.fn&&R!=null&&R.mapping!=null&&R.mapping.value===C.value){var L=R.mapping,z=L.fnValue=C.value(d);if(z===L.prevFnValue)continue}var V=T[S]={prev:R};m.applyParsedProperty(d,C),V.next=d.pstyle(S),V.next&&V.next.bypass&&(V.next=V.next.bypassed)}}return{diffProps:T}},Qa.updateStyleHints=function(h){var l=h._private,d=this,m=d.propertyGroupNames,v=d.propertyGroupKeys,T=a(function(zt,Vt,Dr){return d.getPropertiesHash(zt,Vt,Dr)},"propHash"),k=l.styleKey;if(h.removed())return!1;var w=l.group==="nodes",S=h._private.style;m=Object.keys(S);for(var C=0;C<v.length;C++){var R=v[C];l.styleKeys[R]=[pi,ma]}for(var L=a(function(zt,Vt){return l.styleKeys[Vt][0]=Rs(zt,l.styleKeys[Vt][0])},"updateGrKey1"),z=a(function(zt,Vt){return l.styleKeys[Vt][1]=fl(zt,l.styleKeys[Vt][1])},"updateGrKey2"),V=a(function(zt,Vt){L(zt,Vt),z(zt,Vt)},"updateGrKey"),j=a(function(zt,Vt){for(var Dr=0;Dr<zt.length;Dr++){var Mr=zt.charCodeAt(Dr);L(Mr,Vt),z(Mr,Vt)}},"updateGrKeyWStr"),Q=2e9,ne=a(function(zt){return-128<zt&&zt<128&&Math.floor(zt)!==zt?Q-(zt*1024|0):zt},"cleanNum"),Z=0;Z<m.length;Z++){var ie=m[Z],ae=S[ie];if(ae!=null){var me=this.properties[ie],De=me.type,we=me.groupKey,ve=void 0;me.hashOverride!=null?ve=me.hashOverride(h,ae):ae.pfValue!=null&&(ve=ae.pfValue);var Ie=me.enums==null?ae.value:null,be=ve!=null,Oe=Ie!=null,Be=be||Oe,Ne=ae.units;if(De.number&&Be&&!De.multiple){var Xe=be?ve:Ie;V(ne(Xe),we),!be&&Ne!=null&&j(Ne,we)}else j(ae.strValue,we)}}for(var qe=[pi,ma],ot=0;ot<v.length;ot++){var Ke=v[ot],Je=l.styleKeys[Ke];qe[0]=Rs(Je[0],qe[0]),qe[1]=fl(Je[1],qe[1])}l.styleKey=ki(qe[0],qe[1]);var lt=l.styleKeys;l.labelDimsKey=mi(lt.labelDimensions);var ht=T(h,["label"],lt.labelDimensions);if(l.labelKey=mi(ht),l.labelStyleKey=mi(ic(lt.commonLabel,ht)),!w){var xt=T(h,["source-label"],lt.labelDimensions);l.sourceLabelKey=mi(xt),l.sourceLabelStyleKey=mi(ic(lt.commonLabel,xt));var ut=T(h,["target-label"],lt.labelDimensions);l.targetLabelKey=mi(ut),l.targetLabelStyleKey=mi(ic(lt.commonLabel,ut))}if(w){var yt=l.styleKeys,Ct=yt.nodeBody,At=yt.nodeBorder,wt=yt.backgroundImage,Tt=yt.compound,st=yt.pie,St=[Ct,At,wt,Tt,st].filter(function(Rt){return Rt!=null}).reduce(ic,[pi,ma]);l.nodeKey=mi(St),l.hasPie=st!=null&&st[0]!==pi&&st[1]!==ma}return k!==l.styleKey},Qa.clearStyleHints=function(h){var l=h._private;l.styleCxtKey="",l.styleKeys={},l.styleKey=null,l.labelKey=null,l.labelStyleKey=null,l.sourceLabelKey=null,l.sourceLabelStyleKey=null,l.targetLabelKey=null,l.targetLabelStyleKey=null,l.nodeKey=null,l.hasPie=null},Qa.applyParsedProperty=function(h,l){var d=this,m=l,v=h._private.style,T,k=d.types,w=d.properties[m.name].type,S=m.bypass,C=v[m.name],R=C&&C.bypass,L=h._private,z="mapping",V=a(function(Ct){return Ct==null?null:Ct.pfValue!=null?Ct.pfValue:Ct.value},"getVal"),j=a(function(){var Ct=V(C),At=V(m);d.checkTriggers(h,m.name,Ct,At)},"checkTriggers");if(m&&m.name.substr(0,3)==="pie"&&Kr("The pie style properties are deprecated.  Create charts using background images instead."),l.name==="curve-style"&&h.isEdge()&&(l.value!=="bezier"&&h.isLoop()||l.value==="haystack"&&(h.source().isParent()||h.target().isParent()))&&(m=l=this.parse(l.name,"bezier",S)),m.delete)return v[m.name]=void 0,j(),!0;if(m.deleteBypassed)return C?C.bypass?(C.bypassed=void 0,j(),!0):!1:(j(),!0);if(m.deleteBypass)return C?C.bypass?(v[m.name]=C.bypassed,j(),!0):!1:(j(),!0);var Q=a(function(){Kr("Do not assign mappings to elements without corresponding data (i.e. ele `"+h.id()+"` has no mapping for property `"+m.name+"` with data field `"+m.field+"`); try a `["+m.field+"]` selector to limit scope to elements with `"+m.field+"` defined")},"printMappingErr");switch(m.mapped){case k.mapData:{for(var ne=m.field.split("."),Z=L.data,ie=0;ie<ne.length&&Z;ie++){var ae=ne[ie];Z=Z[ae]}if(Z==null)return Q(),!1;var me;if(B(Z)){var De=m.fieldMax-m.fieldMin;De===0?me=0:me=(Z-m.fieldMin)/De}else return Kr("Do not use continuous mappers without specifying numeric data (i.e. `"+m.field+": "+Z+"` for `"+h.id()+"` is non-numeric)"),!1;if(me<0?me=0:me>1&&(me=1),w.color){var we=m.valueMin[0],ve=m.valueMax[0],Ie=m.valueMin[1],be=m.valueMax[1],Oe=m.valueMin[2],Be=m.valueMax[2],Ne=m.valueMin[3]==null?1:m.valueMin[3],Xe=m.valueMax[3]==null?1:m.valueMax[3],qe=[Math.round(we+(ve-we)*me),Math.round(Ie+(be-Ie)*me),Math.round(Oe+(Be-Oe)*me),Math.round(Ne+(Xe-Ne)*me)];T={bypass:m.bypass,name:m.name,value:qe,strValue:"rgb("+qe[0]+", "+qe[1]+", "+qe[2]+")"}}else if(w.number){var ot=m.valueMin+(m.valueMax-m.valueMin)*me;T=this.parse(m.name,ot,m.bypass,z)}else return!1;if(!T)return Q(),!1;T.mapping=m,m=T;break}case k.data:{for(var Ke=m.field.split("."),Je=L.data,lt=0;lt<Ke.length&&Je;lt++){var ht=Ke[lt];Je=Je[ht]}if(Je!=null&&(T=this.parse(m.name,Je,m.bypass,z)),!T)return Q(),!1;T.mapping=m,m=T;break}case k.fn:{var xt=m.value,ut=m.fnValue!=null?m.fnValue:xt(h);if(m.prevFnValue=ut,ut==null)return Kr("Custom function mappers may not return null (i.e. `"+m.name+"` for ele `"+h.id()+"` is null)"),!1;if(T=this.parse(m.name,ut,m.bypass,z),!T)return Kr("Custom function mappers may not return invalid values for the property type (i.e. `"+m.name+"` for ele `"+h.id()+"` is invalid)"),!1;T.mapping=Qn(m),m=T;break}case void 0:break;default:return!1}return S?(R?m.bypassed=C.bypassed:m.bypassed=C,v[m.name]=m):R?C.bypassed=m:v[m.name]=m,j(),!0},Qa.cleanElements=function(h,l){for(var d=0;d<h.length;d++){var m=h[d];if(this.clearStyleHints(m),m.dirtyCompoundBoundsCache(),m.dirtyBoundingBoxCache(),!l)m._private.style={};else for(var v=m._private.style,T=Object.keys(v),k=0;k<T.length;k++){var w=T[k],S=v[w];S!=null&&(S.bypass?S.bypassed=null:v[w]=null)}}},Qa.update=function(){var h=this._private.cy,l=h.mutableElements();l.updateStyle()},Qa.updateTransitions=function(h,l){var d=this,m=h._private,v=h.pstyle("transition-property").value,T=h.pstyle("transition-duration").pfValue,k=h.pstyle("transition-delay").pfValue;if(v.length>0&&T>0){for(var w={},S=!1,C=0;C<v.length;C++){var R=v[C],L=h.pstyle(R),z=l[R];if(z){var V=z.prev,j=V,Q=z.next!=null?z.next:L,ne=!1,Z=void 0,ie=1e-6;j&&(B(j.pfValue)&&B(Q.pfValue)?(ne=Q.pfValue-j.pfValue,Z=j.pfValue+ie*ne):B(j.value)&&B(Q.value)?(ne=Q.value-j.value,Z=j.value+ie*ne):X(j.value)&&X(Q.value)&&(ne=j.value[0]!==Q.value[0]||j.value[1]!==Q.value[1]||j.value[2]!==Q.value[2],Z=j.strValue),ne&&(w[R]=Q.strValue,this.applyBypass(h,R,Z),S=!0))}}if(!S)return;m.transitioning=!0,new Up(function(ae){k>0?h.delayAnimation(k).play().promise().then(ae):ae()}).then(function(){return h.animation({style:w,duration:T,easing:h.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){d.removeBypasses(h,v),h.emitAndNotify("style"),m.transitioning=!1})}else m.transitioning&&(this.removeBypasses(h,v),h.emitAndNotify("style"),m.transitioning=!1)},Qa.checkTrigger=function(h,l,d,m,v,T){var k=this.properties[l],w=v(k);w!=null&&w(d,m)&&T(k)},Qa.checkZOrderTrigger=function(h,l,d,m){var v=this;this.checkTrigger(h,l,d,m,function(T){return T.triggersZOrder},function(){v._private.cy.notify("zorder",h)})},Qa.checkBoundsTrigger=function(h,l,d,m){this.checkTrigger(h,l,d,m,function(v){return v.triggersBounds},function(v){h.dirtyCompoundBoundsCache(),h.dirtyBoundingBoxCache(),v.triggersBoundsOfParallelBeziers&&(l==="curve-style"&&(d==="bezier"||m==="bezier")||l==="display"&&(d==="none"||m==="none"))&&h.parallelEdges().forEach(function(T){T.isBundledBezier()&&T.dirtyBoundingBoxCache()})})},Qa.checkTriggers=function(h,l,d,m){h.dirtyStyleCache(),this.checkZOrderTrigger(h,l,d,m),this.checkBoundsTrigger(h,l,d,m)};var q0={};q0.applyBypass=function(h,l,d,m){var v=this,T=[],k=!0;if(l==="*"||l==="**"){if(d!==void 0)for(var w=0;w<v.properties.length;w++){var S=v.properties[w],C=S.name,R=this.parse(C,d,!0);R&&T.push(R)}}else if(I(l)){var L=this.parse(l,d,!0);L&&T.push(L)}else if(q(l)){var z=l;m=d;for(var V=Object.keys(z),j=0;j<V.length;j++){var Q=V[j],ne=z[Q];if(ne===void 0&&(ne=z[oe(Q)]),ne!==void 0){var Z=this.parse(Q,ne,!0);Z&&T.push(Z)}}}else return!1;if(T.length===0)return!1;for(var ie=!1,ae=0;ae<h.length;ae++){for(var me=h[ae],De={},we=void 0,ve=0;ve<T.length;ve++){var Ie=T[ve];if(m){var be=me.pstyle(Ie.name);we=De[Ie.name]={prev:be}}ie=this.applyParsedProperty(me,Qn(Ie))||ie,m&&(we.next=me.pstyle(Ie.name))}ie&&this.updateStyleHints(me),m&&this.updateTransitions(me,De,k)}return ie},q0.overrideBypass=function(h,l,d){l=Fe(l);for(var m=0;m<h.length;m++){var v=h[m],T=v._private.style[l],k=this.properties[l].type,w=k.color,S=k.mutiple,C=T?T.pfValue!=null?T.pfValue:T.value:null;!T||!T.bypass?this.applyBypass(v,l,d):(T.value=d,T.pfValue!=null&&(T.pfValue=d),w?T.strValue="rgb("+d.join(",")+")":S?T.strValue=d.join(" "):T.strValue=""+d,this.updateStyleHints(v)),this.checkTriggers(v,l,C,d)}},q0.removeAllBypasses=function(h,l){return this.removeBypasses(h,this.propertyNames,l)},q0.removeBypasses=function(h,l,d){for(var m=!0,v=0;v<h.length;v++){for(var T=h[v],k={},w=0;w<l.length;w++){var S=l[w],C=this.properties[S],R=T.pstyle(C.name);if(!(!R||!R.bypass)){var L="",z=this.parse(S,L,!0),V=k[C.name]={prev:R};this.applyParsedProperty(T,z),V.next=T.pstyle(C.name)}}this.updateStyleHints(T),d&&this.updateTransitions(T,k,m)}};var fS={};fS.getEmSizeInPixels=function(){var h=this.containerCss("font-size");return h!=null?parseFloat(h):1},fS.containerCss=function(h){var l=this._private.cy,d=l.container();if(y&&d&&y.getComputedStyle)return y.getComputedStyle(d).getPropertyValue(h)};var sc={};sc.getRenderedStyle=function(h,l){return l?this.getStylePropertyValue(h,l,!0):this.getRawStyle(h,!0)},sc.getRawStyle=function(h,l){var d=this;if(h=h[0],h){for(var m={},v=0;v<d.properties.length;v++){var T=d.properties[v],k=d.getStylePropertyValue(h,T.name,l);k!=null&&(m[T.name]=k,m[oe(T.name)]=k)}return m}},sc.getIndexedStyle=function(h,l,d,m){var v=h.pstyle(l)[d][m];return v??h.cy().style().getDefaultProperty(l)[d][0]},sc.getStylePropertyValue=function(h,l,d){var m=this;if(h=h[0],h){var v=m.properties[l];v.alias&&(v=v.pointsTo);var T=v.type,k=h.pstyle(v.name);if(k){var w=k.value,S=k.units,C=k.strValue;if(d&&T.number&&w!=null&&B(w)){var R=h.cy().zoom(),L=a(function(ne){return ne*R},"getRenderedValue"),z=a(function(ne,Z){return L(ne)+Z},"getValueStringWithUnits"),V=X(w),j=V?S.every(function(Q){return Q!=null}):S!=null;return j?V?w.map(function(Q,ne){return z(Q,S[ne])}).join(" "):z(w,S):V?w.map(function(Q){return I(Q)?Q:""+L(Q)}).join(" "):""+L(w)}else if(C!=null)return C}return null}},sc.getAnimationStartStyle=function(h,l){for(var d={},m=0;m<l.length;m++){var v=l[m],T=v.name,k=h.pstyle(T);k!==void 0&&(q(k)?k=this.parse(T,k.strValue):k=this.parse(T,k)),k&&(d[T]=k)}return d},sc.getPropsList=function(h){var l=this,d=[],m=h,v=l.properties;if(m)for(var T=Object.keys(m),k=0;k<T.length;k++){var w=T[k],S=m[w],C=v[w]||v[Fe(w)],R=this.parse(C.name,S);R&&d.push(R)}return d},sc.getNonDefaultPropertiesHash=function(h,l,d){var m=d.slice(),v,T,k,w,S,C;for(S=0;S<l.length;S++)if(v=l[S],T=h.pstyle(v,!1),T!=null)if(T.pfValue!=null)m[0]=Rs(w,m[0]),m[1]=fl(w,m[1]);else for(k=T.strValue,C=0;C<k.length;C++)w=k.charCodeAt(C),m[0]=Rs(w,m[0]),m[1]=fl(w,m[1]);return m},sc.getPropertiesHash=sc.getNonDefaultPropertiesHash;var yb={};yb.appendFromJson=function(h){for(var l=this,d=0;d<h.length;d++){var m=h[d],v=m.selector,T=m.style||m.css,k=Object.keys(T);l.selector(v);for(var w=0;w<k.length;w++){var S=k[w],C=T[S];l.css(S,C)}}return l},yb.fromJson=function(h){var l=this;return l.resetToDefault(),l.appendFromJson(h),l},yb.json=function(){for(var h=[],l=this.defaultLength;l<this.length;l++){for(var d=this[l],m=d.selector,v=d.properties,T={},k=0;k<v.length;k++){var w=v[k];T[w.name]=w.strValue}h.push({selector:m?m.toString():"core",style:T})}return h};var hS={};hS.appendFromString=function(h){var l=this,d=this,m=""+h,v,T,k;m=m.replace(/[/][*](\s|.)+?[*][/]/g,"");function w(){m.length>v.length?m=m.substr(v.length):m=""}a(w,"removeSelAndBlockFromRemaining");function S(){T.length>k.length?T=T.substr(k.length):T=""}for(a(S,"removePropAndValFromRem");;){var C=m.match(/^\s*$/);if(C)break;var R=m.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!R){Kr("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+m);break}v=R[0];var L=R[1];if(L!=="core"){var z=new sf(L);if(z.invalid){Kr("Skipping parsing of block: Invalid selector found in string stylesheet: "+L),w();continue}}var V=R[2],j=!1;T=V;for(var Q=[];;){var ne=T.match(/^\s*$/);if(ne)break;var Z=T.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!Z){Kr("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+V),j=!0;break}k=Z[0];var ie=Z[1],ae=Z[2],me=l.properties[ie];if(!me){Kr("Skipping property: Invalid property name in: "+k),S();continue}var De=d.parse(ie,ae);if(!De){Kr("Skipping property: Invalid property definition in: "+k),S();continue}Q.push({name:ie,val:ae}),S()}if(j){w();break}d.selector(L);for(var we=0;we<Q.length;we++){var ve=Q[we];d.css(ve.name,ve.val)}w()}return d},hS.fromString=function(h){var l=this;return l.resetToDefault(),l.appendFromString(h),l};var Na={};(function(){var h=_e,l=Ye,d=fe,m=le,v=he,T=a(function(St){return"^"+St+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},"data"),k=a(function(St){var Rt=h+"|\\w+|"+l+"|"+d+"|"+m+"|"+v;return"^"+St+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+h+")\\s*\\,\\s*("+h+")\\s*,\\s*("+Rt+")\\s*\\,\\s*("+Rt+")\\)$"},"mapData"),w=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Na.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:T("data")},layoutData:{mapping:!0,regex:T("layoutData")},scratch:{mapping:!0,regex:T("scratch")},mapData:{mapping:!0,regex:k("mapData")},mapLayoutData:{mapping:!0,regex:k("mapLayoutData")},mapScratch:{mapping:!0,regex:k("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:w,singleRegexMatchValue:!0},urls:{regexes:w,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:a(function(St,Rt){switch(St.length){case 2:return Rt[0]!=="deg"&&Rt[0]!=="rad"&&Rt[1]!=="deg"&&Rt[1]!=="rad";case 1:return I(St[0])||Rt[0]==="deg"||Rt[0]==="rad";default:return!1}},"validate")},easing:{regexes:["^(spring)\\s*\\(\\s*("+h+")\\s*,\\s*("+h+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+h+")\\s*,\\s*("+h+")\\s*,\\s*("+h+")\\s*,\\s*("+h+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:a(function(St){var Rt=St.length;return Rt===1||Rt===2||Rt===4},"validate")}};var S={zeroNonZero:a(function(St,Rt){return(St==null||Rt==null)&&St!==Rt||St==0&&Rt!=0?!0:St!=0&&Rt==0},"zeroNonZero"),any:a(function(St,Rt){return St!=Rt},"any"),emptyNonEmpty:a(function(St,Rt){var zt=ee(St),Vt=ee(Rt);return zt&&!Vt||!zt&&Vt},"emptyNonEmpty")},C=Na.types,R=[{name:"label",type:C.text,triggersBounds:S.any,triggersZOrder:S.emptyNonEmpty},{name:"text-rotation",type:C.textRotation,triggersBounds:S.any},{name:"text-margin-x",type:C.bidirectionalSize,triggersBounds:S.any},{name:"text-margin-y",type:C.bidirectionalSize,triggersBounds:S.any}],L=[{name:"source-label",type:C.text,triggersBounds:S.any},{name:"source-text-rotation",type:C.textRotation,triggersBounds:S.any},{name:"source-text-margin-x",type:C.bidirectionalSize,triggersBounds:S.any},{name:"source-text-margin-y",type:C.bidirectionalSize,triggersBounds:S.any},{name:"source-text-offset",type:C.size,triggersBounds:S.any}],z=[{name:"target-label",type:C.text,triggersBounds:S.any},{name:"target-text-rotation",type:C.textRotation,triggersBounds:S.any},{name:"target-text-margin-x",type:C.bidirectionalSize,triggersBounds:S.any},{name:"target-text-margin-y",type:C.bidirectionalSize,triggersBounds:S.any},{name:"target-text-offset",type:C.size,triggersBounds:S.any}],V=[{name:"font-family",type:C.fontFamily,triggersBounds:S.any},{name:"font-style",type:C.fontStyle,triggersBounds:S.any},{name:"font-weight",type:C.fontWeight,triggersBounds:S.any},{name:"font-size",type:C.size,triggersBounds:S.any},{name:"text-transform",type:C.textTransform,triggersBounds:S.any},{name:"text-wrap",type:C.textWrap,triggersBounds:S.any},{name:"text-overflow-wrap",type:C.textOverflowWrap,triggersBounds:S.any},{name:"text-max-width",type:C.size,triggersBounds:S.any},{name:"text-outline-width",type:C.size,triggersBounds:S.any},{name:"line-height",type:C.positiveNumber,triggersBounds:S.any}],j=[{name:"text-valign",type:C.valign,triggersBounds:S.any},{name:"text-halign",type:C.halign,triggersBounds:S.any},{name:"color",type:C.color},{name:"text-outline-color",type:C.color},{name:"text-outline-opacity",type:C.zeroOneNumber},{name:"text-background-color",type:C.color},{name:"text-background-opacity",type:C.zeroOneNumber},{name:"text-background-padding",type:C.size,triggersBounds:S.any},{name:"text-border-opacity",type:C.zeroOneNumber},{name:"text-border-color",type:C.color},{name:"text-border-width",type:C.size,triggersBounds:S.any},{name:"text-border-style",type:C.borderStyle,triggersBounds:S.any},{name:"text-background-shape",type:C.textBackgroundShape,triggersBounds:S.any},{name:"text-justification",type:C.justification}],Q=[{name:"events",type:C.bool},{name:"text-events",type:C.bool}],ne=[{name:"display",type:C.display,triggersZOrder:S.any,triggersBounds:S.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:C.visibility,triggersZOrder:S.any},{name:"opacity",type:C.zeroOneNumber,triggersZOrder:S.zeroNonZero},{name:"text-opacity",type:C.zeroOneNumber},{name:"min-zoomed-font-size",type:C.size},{name:"z-compound-depth",type:C.zCompoundDepth,triggersZOrder:S.any},{name:"z-index-compare",type:C.zIndexCompare,triggersZOrder:S.any},{name:"z-index",type:C.nonNegativeInt,triggersZOrder:S.any}],Z=[{name:"overlay-padding",type:C.size,triggersBounds:S.any},{name:"overlay-color",type:C.color},{name:"overlay-opacity",type:C.zeroOneNumber,triggersBounds:S.zeroNonZero},{name:"overlay-shape",type:C.overlayShape,triggersBounds:S.any}],ie=[{name:"underlay-padding",type:C.size,triggersBounds:S.any},{name:"underlay-color",type:C.color},{name:"underlay-opacity",type:C.zeroOneNumber,triggersBounds:S.zeroNonZero},{name:"underlay-shape",type:C.overlayShape,triggersBounds:S.any}],ae=[{name:"transition-property",type:C.propList},{name:"transition-duration",type:C.time},{name:"transition-delay",type:C.time},{name:"transition-timing-function",type:C.easing}],me=a(function(St,Rt){return Rt.value==="label"?-St.poolIndex():Rt.pfValue},"nodeSizeHashOverride"),De=[{name:"height",type:C.nodeSize,triggersBounds:S.any,hashOverride:me},{name:"width",type:C.nodeSize,triggersBounds:S.any,hashOverride:me},{name:"shape",type:C.nodeShape,triggersBounds:S.any},{name:"shape-polygon-points",type:C.polygonPointList,triggersBounds:S.any},{name:"background-color",type:C.color},{name:"background-fill",type:C.fill},{name:"background-opacity",type:C.zeroOneNumber},{name:"background-blacken",type:C.nOneOneNumber},{name:"background-gradient-stop-colors",type:C.colors},{name:"background-gradient-stop-positions",type:C.percentages},{name:"background-gradient-direction",type:C.gradientDirection},{name:"padding",type:C.sizeMaybePercent,triggersBounds:S.any},{name:"padding-relative-to",type:C.paddingRelativeTo,triggersBounds:S.any},{name:"bounds-expansion",type:C.boundsExpansion,triggersBounds:S.any}],we=[{name:"border-color",type:C.color},{name:"border-opacity",type:C.zeroOneNumber},{name:"border-width",type:C.size,triggersBounds:S.any},{name:"border-style",type:C.borderStyle}],ve=[{name:"background-image",type:C.urls},{name:"background-image-crossorigin",type:C.bgCrossOrigin},{name:"background-image-opacity",type:C.zeroOneNumbers},{name:"background-image-containment",type:C.bgContainment},{name:"background-image-smoothing",type:C.bools},{name:"background-position-x",type:C.bgPos},{name:"background-position-y",type:C.bgPos},{name:"background-width-relative-to",type:C.bgRelativeTo},{name:"background-height-relative-to",type:C.bgRelativeTo},{name:"background-repeat",type:C.bgRepeat},{name:"background-fit",type:C.bgFit},{name:"background-clip",type:C.bgClip},{name:"background-width",type:C.bgWH},{name:"background-height",type:C.bgWH},{name:"background-offset-x",type:C.bgPos},{name:"background-offset-y",type:C.bgPos}],Ie=[{name:"position",type:C.position,triggersBounds:S.any},{name:"compound-sizing-wrt-labels",type:C.compoundIncludeLabels,triggersBounds:S.any},{name:"min-width",type:C.size,triggersBounds:S.any},{name:"min-width-bias-left",type:C.sizeMaybePercent,triggersBounds:S.any},{name:"min-width-bias-right",type:C.sizeMaybePercent,triggersBounds:S.any},{name:"min-height",type:C.size,triggersBounds:S.any},{name:"min-height-bias-top",type:C.sizeMaybePercent,triggersBounds:S.any},{name:"min-height-bias-bottom",type:C.sizeMaybePercent,triggersBounds:S.any}],be=[{name:"line-style",type:C.lineStyle},{name:"line-color",type:C.color},{name:"line-fill",type:C.fill},{name:"line-cap",type:C.lineCap},{name:"line-opacity",type:C.zeroOneNumber},{name:"line-dash-pattern",type:C.numbers},{name:"line-dash-offset",type:C.number},{name:"line-gradient-stop-colors",type:C.colors},{name:"line-gradient-stop-positions",type:C.percentages},{name:"curve-style",type:C.curveStyle,triggersBounds:S.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:C.zeroOneNumber,triggersBounds:S.any},{name:"source-endpoint",type:C.edgeEndpoint,triggersBounds:S.any},{name:"target-endpoint",type:C.edgeEndpoint,triggersBounds:S.any},{name:"control-point-step-size",type:C.size,triggersBounds:S.any},{name:"control-point-distances",type:C.bidirectionalSizes,triggersBounds:S.any},{name:"control-point-weights",type:C.numbers,triggersBounds:S.any},{name:"segment-distances",type:C.bidirectionalSizes,triggersBounds:S.any},{name:"segment-weights",type:C.numbers,triggersBounds:S.any},{name:"taxi-turn",type:C.bidirectionalSizeMaybePercent,triggersBounds:S.any},{name:"taxi-turn-min-distance",type:C.size,triggersBounds:S.any},{name:"taxi-direction",type:C.axisDirection,triggersBounds:S.any},{name:"edge-distances",type:C.edgeDistances,triggersBounds:S.any},{name:"arrow-scale",type:C.positiveNumber,triggersBounds:S.any},{name:"loop-direction",type:C.angle,triggersBounds:S.any},{name:"loop-sweep",type:C.angle,triggersBounds:S.any},{name:"source-distance-from-node",type:C.size,triggersBounds:S.any},{name:"target-distance-from-node",type:C.size,triggersBounds:S.any}],Oe=[{name:"ghost",type:C.bool,triggersBounds:S.any},{name:"ghost-offset-x",type:C.bidirectionalSize,triggersBounds:S.any},{name:"ghost-offset-y",type:C.bidirectionalSize,triggersBounds:S.any},{name:"ghost-opacity",type:C.zeroOneNumber}],Be=[{name:"selection-box-color",type:C.color},{name:"selection-box-opacity",type:C.zeroOneNumber},{name:"selection-box-border-color",type:C.color},{name:"selection-box-border-width",type:C.size},{name:"active-bg-color",type:C.color},{name:"active-bg-opacity",type:C.zeroOneNumber},{name:"active-bg-size",type:C.size},{name:"outside-texture-bg-color",type:C.color},{name:"outside-texture-bg-opacity",type:C.zeroOneNumber}],Ne=[];Na.pieBackgroundN=16,Ne.push({name:"pie-size",type:C.sizeMaybePercent});for(var Xe=1;Xe<=Na.pieBackgroundN;Xe++)Ne.push({name:"pie-"+Xe+"-background-color",type:C.color}),Ne.push({name:"pie-"+Xe+"-background-size",type:C.percent}),Ne.push({name:"pie-"+Xe+"-background-opacity",type:C.zeroOneNumber});var qe=[],ot=Na.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:C.arrowShape,triggersBounds:S.any},{name:"arrow-color",type:C.color},{name:"arrow-fill",type:C.arrowFill}].forEach(function(st){ot.forEach(function(St){var Rt=St+"-"+st.name,zt=st.type,Vt=st.triggersBounds;qe.push({name:Rt,type:zt,triggersBounds:Vt})})},{});var Ke=Na.properties=[].concat(Q,ae,ne,Z,ie,Oe,j,V,R,L,z,De,we,ve,Ne,Ie,be,qe,Be),Je=Na.propertyGroups={behavior:Q,transition:ae,visibility:ne,overlay:Z,underlay:ie,ghost:Oe,commonLabel:j,labelDimensions:V,mainLabel:R,sourceLabel:L,targetLabel:z,nodeBody:De,nodeBorder:we,backgroundImage:ve,pie:Ne,compound:Ie,edgeLine:be,edgeArrow:qe,core:Be},lt=Na.propertyGroupNames={},ht=Na.propertyGroupKeys=Object.keys(Je);ht.forEach(function(st){lt[st]=Je[st].map(function(St){return St.name}),Je[st].forEach(function(St){return St.groupKey=st})});var xt=Na.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Na.propertyNames=Ke.map(function(st){return st.name});for(var ut=0;ut<Ke.length;ut++){var yt=Ke[ut];Ke[yt.name]=yt}for(var Ct=0;Ct<xt.length;Ct++){var At=xt[Ct],wt=Ke[At.pointsTo],Tt={name:At.name,alias:!0,pointsTo:wt};Ke.push(Tt),Ke[At.name]=Tt}})(),Na.getDefaultProperty=function(h){return this.getDefaultProperties()[h]},Na.getDefaultProperties=function(){var h=this._private;if(h.defaultProperties!=null)return h.defaultProperties;for(var l=pe({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(S,C){for(var R=1;R<=Na.pieBackgroundN;R++){var L=C.name.replace("{{i}}",R),z=C.value;S[L]=z}return S},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(S,C){return Na.arrowPrefixes.forEach(function(R){var L=R+"-"+C.name,z=C.value;S[L]=z}),S},{})),d={},m=0;m<this.properties.length;m++){var v=this.properties[m];if(!v.pointsTo){var T=v.name,k=l[T],w=this.parse(T,k);d[T]=w}}return h.defaultProperties=d,h.defaultProperties},Na.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var vb={};vb.parse=function(h,l,d,m){var v=this;if($(l))return v.parseImplWarn(h,l,d,m);var T=m==="mapping"||m===!0||m===!1||m==null?"dontcare":m,k=d?"t":"f",w=""+l,S=ac(h,w,k,T),C=v.propCache=v.propCache||[],R;return(R=C[S])||(R=C[S]=v.parseImplWarn(h,l,d,m)),(d||m==="mapping")&&(R=Qn(R),R&&(R.value=Qn(R.value))),R},vb.parseImplWarn=function(h,l,d,m){var v=this.parseImpl(h,l,d,m);return!v&&l!=null&&Kr("The style property `".concat(h,": ").concat(l,"` is invalid")),v&&(v.name==="width"||v.name==="height")&&l==="label"&&Kr("The style value of `label` is deprecated for `"+v.name+"`"),v},vb.parseImpl=function(h,l,d,m){var v=this;h=Fe(h);var T=v.properties[h],k=l,w=v.types;if(!T||l===void 0)return null;T.alias&&(T=T.pointsTo,h=T.name);var S=I(l);S&&(l=l.trim());var C=T.type;if(!C)return null;if(d&&(l===""||l===null))return{name:h,value:l,bypass:!0,deleteBypass:!0};if($(l))return{name:h,value:l,strValue:"fn",mapped:w.fn,bypass:d};var R,L;if(!(!S||m||l.length<7||l[1]!=="a")){if(l.length>=7&&l[0]==="d"&&(R=new RegExp(w.data.regex).exec(l))){if(d)return!1;var z=w.data;return{name:h,value:R,strValue:""+l,mapped:z,field:R[1],bypass:d}}else if(l.length>=10&&l[0]==="m"&&(L=new RegExp(w.mapData.regex).exec(l))){if(d||C.multiple)return!1;var V=w.mapData;if(!(C.color||C.number))return!1;var j=this.parse(h,L[4]);if(!j||j.mapped)return!1;var Q=this.parse(h,L[5]);if(!Q||Q.mapped)return!1;if(j.pfValue===Q.pfValue||j.strValue===Q.strValue)return Kr("`"+h+": "+l+"` is not a valid mapper because the output range is zero; converting to `"+h+": "+j.strValue+"`"),this.parse(h,j.strValue);if(C.color){var ne=j.value,Z=Q.value,ie=ne[0]===Z[0]&&ne[1]===Z[1]&&ne[2]===Z[2]&&(ne[3]===Z[3]||(ne[3]==null||ne[3]===1)&&(Z[3]==null||Z[3]===1));if(ie)return!1}return{name:h,value:L,strValue:""+l,mapped:V,field:L[1],fieldMin:parseFloat(L[2]),fieldMax:parseFloat(L[3]),valueMin:j.value,valueMax:Q.value,bypass:d}}}if(C.multiple&&m!=="multiple"){var ae;if(S?ae=l.split(/\s+/):X(l)?ae=l:ae=[l],C.evenMultiple&&ae.length%2!==0)return null;for(var me=[],De=[],we=[],ve="",Ie=!1,be=0;be<ae.length;be++){var Oe=v.parse(h,ae[be],d,"multiple");Ie=Ie||I(Oe.value),me.push(Oe.value),we.push(Oe.pfValue!=null?Oe.pfValue:Oe.value),De.push(Oe.units),ve+=(be>0?" ":"")+Oe.strValue}return C.validate&&!C.validate(me,De)?null:C.singleEnum&&Ie?me.length===1&&I(me[0])?{name:h,value:me[0],strValue:me[0],bypass:d}:null:{name:h,value:me,pfValue:we,strValue:ve,bypass:d,units:De}}var Be=a(function(){for(var Rt=0;Rt<C.enums.length;Rt++){var zt=C.enums[Rt];if(zt===l)return{name:h,value:l,strValue:""+l,bypass:d}}return null},"checkEnums");if(C.number){var Ne,Xe="px";if(C.units&&(Ne=C.units),C.implicitUnits&&(Xe=C.implicitUnits),!C.unitless)if(S){var qe="px|em"+(C.allowPercent?"|\\%":"");Ne&&(qe=Ne);var ot=l.match("^("+_e+")("+qe+")?$");ot&&(l=ot[1],Ne=ot[2]||Xe)}else(!Ne||C.implicitUnits)&&(Ne=Xe);if(l=parseFloat(l),isNaN(l)&&C.enums===void 0)return null;if(isNaN(l)&&C.enums!==void 0)return l=k,Be();if(C.integer&&!G(l)||C.min!==void 0&&(l<C.min||C.strictMin&&l===C.min)||C.max!==void 0&&(l>C.max||C.strictMax&&l===C.max))return null;var Ke={name:h,value:l,strValue:""+l+(Ne||""),units:Ne,bypass:d};return C.unitless||Ne!=="px"&&Ne!=="em"?Ke.pfValue=l:Ke.pfValue=Ne==="px"||!Ne?l:this.getEmSizeInPixels()*l,(Ne==="ms"||Ne==="s")&&(Ke.pfValue=Ne==="ms"?l:1e3*l),(Ne==="deg"||Ne==="rad")&&(Ke.pfValue=Ne==="rad"?l:dve(l)),Ne==="%"&&(Ke.pfValue=l/100),Ke}else if(C.propList){var Je=[],lt=""+l;if(lt!=="none"){for(var ht=lt.split(/\s*,\s*|\s+/),xt=0;xt<ht.length;xt++){var ut=ht[xt].trim();v.properties[ut]?Je.push(ut):Kr("`"+ut+"` is not a valid property name")}if(Je.length===0)return null}return{name:h,value:Je,strValue:Je.length===0?"none":Je.join(" "),bypass:d}}else if(C.color){var yt=Lt(l);return yt?{name:h,value:yt,pfValue:yt,strValue:"rgb("+yt[0]+","+yt[1]+","+yt[2]+")",bypass:d}:null}else if(C.regex||C.regexes){if(C.enums){var Ct=Be();if(Ct)return Ct}for(var At=C.regexes?C.regexes:[C.regex],wt=0;wt<At.length;wt++){var Tt=new RegExp(At[wt]),st=Tt.exec(l);if(st)return{name:h,value:C.singleRegexMatchValue?st[1]:st,strValue:""+l,bypass:d}}return null}else return C.string?{name:h,value:""+l,strValue:""+l,bypass:d}:C.enums?Be():null};var Za=a(function h(l){if(!(this instanceof h))return new h(l);if(!P(l)){Wr("A style must have a core reference");return}this._private={cy:l,coreStyle:{}},this.length=0,this.resetToDefault()},"Style"),Ja=Za.prototype;Ja.instanceString=function(){return"style"},Ja.clear=function(){for(var h=this._private,l=h.cy,d=l.elements(),m=0;m<this.length;m++)this[m]=void 0;return this.length=0,h.contextStyles={},h.propDiffs={},this.cleanElements(d,!0),d.forEach(function(v){var T=v[0]._private;T.styleDirty=!0,T.appliedInitStyle=!1}),this},Ja.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},Ja.core=function(h){return this._private.coreStyle[h]||this.getDefaultProperty(h)},Ja.selector=function(h){var l=h==="core"?null:new sf(h),d=this.length++;return this[d]={selector:l,properties:[],mappedProperties:[],index:d},this},Ja.css=function(){var h=this,l=arguments;if(l.length===1)for(var d=l[0],m=0;m<h.properties.length;m++){var v=h.properties[m],T=d[v.name];T===void 0&&(T=d[oe(v.name)]),T!==void 0&&this.cssRule(v.name,T)}else l.length===2&&this.cssRule(l[0],l[1]);return this},Ja.style=Ja.css,Ja.cssRule=function(h,l){var d=this.parse(h,l);if(d){var m=this.length-1;this[m].properties.push(d),this[m].properties[d.name]=d,d.name.match(/pie-(\d+)-background-size/)&&d.value&&(this._private.hasPie=!0),d.mapped&&this[m].mappedProperties.push(d);var v=!this[m].selector;v&&(this._private.coreStyle[d.name]=d)}return this},Ja.append=function(h){return re(h)?h.appendToStyle(this):X(h)?this.appendFromJson(h):I(h)&&this.appendFromString(h),this},Za.fromJson=function(h,l){var d=new Za(h);return d.fromJson(l),d},Za.fromString=function(h,l){return new Za(h).fromString(l)},[Qa,q0,fS,sc,yb,hS,Na,vb].forEach(function(h){pe(Ja,h)}),Za.types=Ja.types,Za.properties=Ja.properties,Za.propertyGroups=Ja.propertyGroups,Za.propertyGroupNames=Ja.propertyGroupNames,Za.propertyGroupKeys=Ja.propertyGroupKeys;var I2e={style:a(function(l){if(l){var d=this.setStyle(l);d.update()}return this._private.style},"style"),setStyle:a(function(l){var d=this._private;return re(l)?d.style=l.generateStyle(this):X(l)?d.style=Za.fromJson(this,l):I(l)?d.style=Za.fromString(this,l):d.style=Za(this),d.style},"setStyle"),updateStyle:a(function(){this.mutableElements().updateStyle()},"updateStyle")},N2e="single",Zh={autolock:a(function(l){if(l!==void 0)this._private.autolock=!!l;else return this._private.autolock;return this},"autolock"),autoungrabify:a(function(l){if(l!==void 0)this._private.autoungrabify=!!l;else return this._private.autoungrabify;return this},"autoungrabify"),autounselectify:a(function(l){if(l!==void 0)this._private.autounselectify=!!l;else return this._private.autounselectify;return this},"autounselectify"),selectionType:a(function(l){var d=this._private;if(d.selectionType==null&&(d.selectionType=N2e),l!==void 0)(l==="additive"||l==="single")&&(d.selectionType=l);else return d.selectionType;return this},"selectionType"),panningEnabled:a(function(l){if(l!==void 0)this._private.panningEnabled=!!l;else return this._private.panningEnabled;return this},"panningEnabled"),userPanningEnabled:a(function(l){if(l!==void 0)this._private.userPanningEnabled=!!l;else return this._private.userPanningEnabled;return this},"userPanningEnabled"),zoomingEnabled:a(function(l){if(l!==void 0)this._private.zoomingEnabled=!!l;else return this._private.zoomingEnabled;return this},"zoomingEnabled"),userZoomingEnabled:a(function(l){if(l!==void 0)this._private.userZoomingEnabled=!!l;else return this._private.userZoomingEnabled;return this},"userZoomingEnabled"),boxSelectionEnabled:a(function(l){if(l!==void 0)this._private.boxSelectionEnabled=!!l;else return this._private.boxSelectionEnabled;return this},"boxSelectionEnabled"),pan:a(function(){var l=arguments,d=this._private.pan,m,v,T,k,w;switch(l.length){case 0:return d;case 1:if(I(l[0]))return m=l[0],d[m];if(q(l[0])){if(!this._private.panningEnabled)return this;T=l[0],k=T.x,w=T.y,B(k)&&(d.x=k),B(w)&&(d.y=w),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;m=l[0],v=l[1],(m==="x"||m==="y")&&B(v)&&(d[m]=v),this.emit("pan viewport");break}return this.notify("viewport"),this},"pan"),panBy:a(function(l,d){var m=arguments,v=this._private.pan,T,k,w,S,C;if(!this._private.panningEnabled)return this;switch(m.length){case 1:q(l)&&(w=m[0],S=w.x,C=w.y,B(S)&&(v.x+=S),B(C)&&(v.y+=C),this.emit("pan viewport"));break;case 2:T=l,k=d,(T==="x"||T==="y")&&B(k)&&(v[T]+=k),this.emit("pan viewport");break}return this.notify("viewport"),this},"panBy"),fit:a(function(l,d){var m=this.getFitViewport(l,d);if(m){var v=this._private;v.zoom=m.zoom,v.pan=m.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},"fit"),getFitViewport:a(function(l,d){if(B(l)&&d===void 0&&(d=l,l=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var m;if(I(l)){var v=l;l=this.$(v)}else if(te(l)){var T=l;m={x1:T.x1,y1:T.y1,x2:T.x2,y2:T.y2},m.w=m.x2-m.x1,m.h=m.y2-m.y1}else W(l)||(l=this.mutableElements());if(!(W(l)&&l.empty())){m=m||l.boundingBox();var k=this.width(),w=this.height(),S;if(d=B(d)?d:0,!isNaN(k)&&!isNaN(w)&&k>0&&w>0&&!isNaN(m.w)&&!isNaN(m.h)&&m.w>0&&m.h>0){S=Math.min((k-2*d)/m.w,(w-2*d)/m.h),S=S>this._private.maxZoom?this._private.maxZoom:S,S=S<this._private.minZoom?this._private.minZoom:S;var C={x:(k-S*(m.x1+m.x2))/2,y:(w-S*(m.y1+m.y2))/2};return{zoom:S,pan:C}}}}},"getFitViewport"),zoomRange:a(function(l,d){var m=this._private;if(d==null){var v=l;l=v.min,d=v.max}return B(l)&&B(d)&&l<=d?(m.minZoom=l,m.maxZoom=d):B(l)&&d===void 0&&l<=m.maxZoom?m.minZoom=l:B(d)&&l===void 0&&d>=m.minZoom&&(m.maxZoom=d),this},"zoomRange"),minZoom:a(function(l){return l===void 0?this._private.minZoom:this.zoomRange({min:l})},"minZoom"),maxZoom:a(function(l){return l===void 0?this._private.maxZoom:this.zoomRange({max:l})},"maxZoom"),getZoomedViewport:a(function(l){var d=this._private,m=d.pan,v=d.zoom,T,k,w=!1;if(d.zoomingEnabled||(w=!0),B(l)?k=l:q(l)&&(k=l.level,l.position!=null?T=Wx(l.position,v,m):l.renderedPosition!=null&&(T=l.renderedPosition),T!=null&&!d.panningEnabled&&(w=!0)),k=k>d.maxZoom?d.maxZoom:k,k=k<d.minZoom?d.minZoom:k,w||!B(k)||k===v||T!=null&&(!B(T.x)||!B(T.y)))return null;if(T!=null){var S=m,C=v,R=k,L={x:-R/C*(T.x-S.x)+T.x,y:-R/C*(T.y-S.y)+T.y};return{zoomed:!0,panned:!0,zoom:R,pan:L}}else return{zoomed:!0,panned:!1,zoom:k,pan:m}},"getZoomedViewport"),zoom:a(function(l){if(l===void 0)return this._private.zoom;var d=this.getZoomedViewport(l),m=this._private;return d==null||!d.zoomed?this:(m.zoom=d.zoom,d.panned&&(m.pan.x=d.pan.x,m.pan.y=d.pan.y),this.emit("zoom"+(d.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},"zoom"),viewport:a(function(l){var d=this._private,m=!0,v=!0,T=[],k=!1,w=!1;if(!l)return this;if(B(l.zoom)||(m=!1),q(l.pan)||(v=!1),!m&&!v)return this;if(m){var S=l.zoom;S<d.minZoom||S>d.maxZoom||!d.zoomingEnabled?k=!0:(d.zoom=S,T.push("zoom"))}if(v&&(!k||!l.cancelOnFailedZoom)&&d.panningEnabled){var C=l.pan;B(C.x)&&(d.pan.x=C.x,w=!1),B(C.y)&&(d.pan.y=C.y,w=!1),w||T.push("pan")}return T.length>0&&(T.push("viewport"),this.emit(T.join(" ")),this.notify("viewport")),this},"viewport"),center:a(function(l){var d=this.getCenterPan(l);return d&&(this._private.pan=d,this.emit("pan viewport"),this.notify("viewport")),this},"center"),getCenterPan:a(function(l,d){if(this._private.panningEnabled){if(I(l)){var m=l;l=this.mutableElements().filter(m)}else W(l)||(l=this.mutableElements());if(l.length!==0){var v=l.boundingBox(),T=this.width(),k=this.height();d=d===void 0?this._private.zoom:d;var w={x:(T-d*(v.x1+v.x2))/2,y:(k-d*(v.y1+v.y2))/2};return w}}},"getCenterPan"),reset:a(function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},"reset"),invalidateSize:a(function(){this._private.sizeCache=null},"invalidateSize"),size:a(function(){var l=this._private,d=l.container;return l.sizeCache=l.sizeCache||(d?function(){var m=y.getComputedStyle(d),v=a(function(k){return parseFloat(m.getPropertyValue(k))},"val");return{width:d.clientWidth-v("padding-left")-v("padding-right"),height:d.clientHeight-v("padding-top")-v("padding-bottom")}}():{width:1,height:1})},"size"),width:a(function(){return this.size().width},"width"),height:a(function(){return this.size().height},"height"),extent:a(function(){var l=this._private.pan,d=this._private.zoom,m=this.renderedExtent(),v={x1:(m.x1-l.x)/d,x2:(m.x2-l.x)/d,y1:(m.y1-l.y)/d,y2:(m.y2-l.y)/d};return v.w=v.x2-v.x1,v.h=v.y2-v.y1,v},"extent"),renderedExtent:a(function(){var l=this.width(),d=this.height();return{x1:0,y1:0,x2:l,y2:d,w:l,h:d}},"renderedExtent"),multiClickDebounceTime:a(function(l){if(l)this._private.multiClickDebounceTime=l;else return this._private.multiClickDebounceTime;return this},"multiClickDebounceTime")};Zh.centre=Zh.center,Zh.autolockNodes=Zh.autolock,Zh.autoungrabifyNodes=Zh.autoungrabify;var z0={data:Sn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Sn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Sn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Sn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};z0.attr=z0.data,z0.removeAttr=z0.removeData;var U0=a(function(l){var d=this;l=pe({},l);var m=l.container;m&&!U(m)&&U(m[0])&&(m=m[0]);var v=m?m._cyreg:null;v=v||{},v&&v.cy&&(v.cy.destroy(),v={});var T=v.readies=v.readies||[];m&&(m._cyreg=v),v.cy=d;var k=y!==void 0&&m!==void 0&&!l.headless,w=l;w.layout=pe({name:k?"grid":"null"},w.layout),w.renderer=pe({name:k?"canvas":"null"},w.renderer);var S=a(function(j,Q,ne){return Q!==void 0?Q:ne!==void 0?ne:j},"defVal"),C=this._private={container:m,ready:!1,options:w,elements:new Ia(this),listeners:[],aniEles:new Ia(this),data:w.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:S(!0,w.zoomingEnabled),userZoomingEnabled:S(!0,w.userZoomingEnabled),panningEnabled:S(!0,w.panningEnabled),userPanningEnabled:S(!0,w.userPanningEnabled),boxSelectionEnabled:S(!0,w.boxSelectionEnabled),autolock:S(!1,w.autolock,w.autolockNodes),autoungrabify:S(!1,w.autoungrabify,w.autoungrabifyNodes),autounselectify:S(!1,w.autounselectify),styleEnabled:w.styleEnabled===void 0?k:w.styleEnabled,zoom:B(w.zoom)?w.zoom:1,pan:{x:q(w.pan)&&B(w.pan.x)?w.pan.x:0,y:q(w.pan)&&B(w.pan.y)?w.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:S(250,w.multiClickDebounceTime)};this.createEmitter(),this.selectionType(w.selectionType),this.zoomRange({min:w.minZoom,max:w.maxZoom});var R=a(function(j,Q){var ne=j.some(J);if(ne)return Up.all(j).then(Q);Q(j)},"loadExtData");C.styleEnabled&&d.setStyle([]);var L=pe({},w,w.renderer);d.initRenderer(L);var z=a(function(j,Q,ne){d.notifications(!1);var Z=d.mutableElements();Z.length>0&&Z.remove(),j!=null&&(q(j)||X(j))&&d.add(j),d.one("layoutready",function(ae){d.notifications(!0),d.emit(ae),d.one("load",Q),d.emitAndNotify("load")}).one("layoutstop",function(){d.one("done",ne),d.emit("done")});var ie=pe({},d._private.options.layout);ie.eles=d.elements(),d.layout(ie).run()},"setElesAndLayout");R([w.style,w.elements],function(V){var j=V[0],Q=V[1];C.styleEnabled&&d.style().append(j),z(Q,function(){d.startAnimationLoop(),C.ready=!0,$(w.ready)&&d.on("ready",w.ready);for(var ne=0;ne<T.length;ne++){var Z=T[ne];d.on("ready",Z)}v&&(v.readies=[]),d.emit("ready")},w.done)})},"Core"),xb=U0.prototype;pe(xb,{instanceString:a(function(){return"core"},"instanceString"),isReady:a(function(){return this._private.ready},"isReady"),destroyed:a(function(){return this._private.destroyed},"destroyed"),ready:a(function(l){return this.isReady()?this.emitter().emit("ready",[],l):this.on("ready",l),this},"ready"),destroy:a(function(){var l=this;if(!l.destroyed())return l.stopAnimationLoop(),l.destroyRenderer(),this.emit("destroy"),l._private.destroyed=!0,l},"destroy"),hasElementWithId:a(function(l){return this._private.elements.hasElementWithId(l)},"hasElementWithId"),getElementById:a(function(l){return this._private.elements.getElementById(l)},"getElementById"),hasCompoundNodes:a(function(){return this._private.hasCompoundNodes},"hasCompoundNodes"),headless:a(function(){return this._private.renderer.isHeadless()},"headless"),styleEnabled:a(function(){return this._private.styleEnabled},"styleEnabled"),addToPool:a(function(l){return this._private.elements.merge(l),this},"addToPool"),removeFromPool:a(function(l){return this._private.elements.unmerge(l),this},"removeFromPool"),container:a(function(){return this._private.container||null},"container"),mount:a(function(l){if(l!=null){var d=this,m=d._private,v=m.options;return!U(l)&&U(l[0])&&(l=l[0]),d.stopAnimationLoop(),d.destroyRenderer(),m.container=l,m.styleEnabled=!0,d.invalidateSize(),d.initRenderer(pe({},v,v.renderer,{name:v.renderer.name==="null"?"canvas":v.renderer.name})),d.startAnimationLoop(),d.style(v.style),d.emit("mount"),d}},"mount"),unmount:a(function(){var l=this;return l.stopAnimationLoop(),l.destroyRenderer(),l.initRenderer({name:"null"}),l.emit("unmount"),l},"unmount"),options:a(function(){return Qn(this._private.options)},"options"),json:a(function(l){var d=this,m=d._private,v=d.mutableElements(),T=a(function(me){return d.getElementById(me.id())},"getFreshRef");if(q(l)){if(d.startBatch(),l.elements){var k={},w=a(function(me,De){for(var we=[],ve=[],Ie=0;Ie<me.length;Ie++){var be=me[Ie];if(!be.data.id){Kr("cy.json() cannot handle elements without an ID attribute");continue}var Oe=""+be.data.id,Be=d.getElementById(Oe);k[Oe]=!0,Be.length!==0?ve.push({ele:Be,json:be}):(De&&(be.group=De),we.push(be))}d.add(we);for(var Ne=0;Ne<ve.length;Ne++){var Xe=ve[Ne],qe=Xe.ele,ot=Xe.json;qe.json(ot)}},"updateEles");if(X(l.elements))w(l.elements);else for(var S=["nodes","edges"],C=0;C<S.length;C++){var R=S[C],L=l.elements[R];X(L)&&w(L,R)}var z=d.collection();v.filter(function(ae){return!k[ae.id()]}).forEach(function(ae){ae.isParent()?z.merge(ae):ae.remove()}),z.forEach(function(ae){return ae.children().move({parent:null})}),z.forEach(function(ae){return T(ae).remove()})}l.style&&d.style(l.style),l.zoom!=null&&l.zoom!==m.zoom&&d.zoom(l.zoom),l.pan&&(l.pan.x!==m.pan.x||l.pan.y!==m.pan.y)&&d.pan(l.pan),l.data&&d.data(l.data);for(var V=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],j=0;j<V.length;j++){var Q=V[j];l[Q]!=null&&d[Q](l[Q])}return d.endBatch(),this}else{var ne=!!l,Z={};ne?Z.elements=this.elements().map(function(ae){return ae.json()}):(Z.elements={},v.forEach(function(ae){var me=ae.group();Z.elements[me]||(Z.elements[me]=[]),Z.elements[me].push(ae.json())})),this._private.styleEnabled&&(Z.style=d.style().json()),Z.data=Qn(d.data());var ie=m.options;return Z.zoomingEnabled=m.zoomingEnabled,Z.userZoomingEnabled=m.userZoomingEnabled,Z.zoom=m.zoom,Z.minZoom=m.minZoom,Z.maxZoom=m.maxZoom,Z.panningEnabled=m.panningEnabled,Z.userPanningEnabled=m.userPanningEnabled,Z.pan=Qn(m.pan),Z.boxSelectionEnabled=m.boxSelectionEnabled,Z.renderer=Qn(ie.renderer),Z.hideEdgesOnViewport=ie.hideEdgesOnViewport,Z.textureOnViewport=ie.textureOnViewport,Z.wheelSensitivity=ie.wheelSensitivity,Z.motionBlur=ie.motionBlur,Z.multiClickDebounceTime=ie.multiClickDebounceTime,Z}},"json")}),xb.$id=xb.getElementById,[k2e,S2e,q8,cS,mb,R2e,uS,gb,I2e,Zh,z0].forEach(function(h){pe(xb,h)});var P2e={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximal:!1,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:a(function(l,d){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:a(function(l,d){return d},"transform")},Zp=a(function(l){return l.scratch("breadthfirst")},"getInfo"),z8=a(function(l,d){return l.scratch("breadthfirst",d)},"setInfo");function U8(h){this.options=pe({},P2e,h)}a(U8,"BreadthFirstLayout"),U8.prototype.run=function(){var h=this.options,l=h,d=h.cy,m=l.eles,v=m.nodes().filter(function(Wt){return!Wt.isParent()}),T=m,k=l.directed,w=l.maximal||l.maximalAdjustments>0,S=Oo(l.boundingBox?l.boundingBox:{x1:0,y1:0,w:d.width(),h:d.height()}),C;if(W(l.roots))C=l.roots;else if(X(l.roots)){for(var R=[],L=0;L<l.roots.length;L++){var z=l.roots[L],V=d.getElementById(z);R.push(V)}C=d.collection(R)}else if(I(l.roots))C=d.$(l.roots);else if(k)C=v.roots();else{var j=m.components();C=d.collection();for(var Q=a(function($t){var wr=j[$t],or=wr.maxDegree(!1),Ht=wr.filter(function(fr){return fr.degree(!1)===or});C=C.add(Ht)},"_loop"),ne=0;ne<j.length;ne++)Q(ne)}var Z=[],ie={},ae=a(function($t,wr){Z[wr]==null&&(Z[wr]=[]);var or=Z[wr].length;Z[wr].push($t),z8($t,{index:or,depth:wr})},"addToDepth"),me=a(function($t,wr){var or=Zp($t),Ht=or.depth,fr=or.index;Z[Ht][fr]=null,ae($t,wr)},"changeDepth");T.bfs({roots:C,directed:l.directed,visit:a(function($t,wr,or,Ht,fr){var Qr=$t[0],Br=Qr.id();ae(Qr,fr),ie[Br]=!0},"visit")});for(var De=[],we=0;we<v.length;we++){var ve=v[we];ie[ve.id()]||De.push(ve)}var Ie=a(function($t){for(var wr=Z[$t],or=0;or<wr.length;or++){var Ht=wr[or];if(Ht==null){wr.splice(or,1),or--;continue}z8(Ht,{depth:$t,index:or})}},"assignDepthsAt"),be=a(function(){for(var $t=0;$t<Z.length;$t++)Ie($t)},"assignDepths"),Oe=a(function($t,wr){for(var or=Zp($t),Ht=$t.incomers().filter(function(Se){return Se.isNode()&&m.has(Se)}),fr=-1,Qr=$t.id(),Br=0;Br<Ht.length;Br++){var Ar=Ht[Br],Ft=Zp(Ar);fr=Math.max(fr,Ft.depth)}return or.depth<=fr?wr[Qr]?null:(me($t,fr+1),wr[Qr]=!0,!0):!1},"adjustMaximally");if(k&&w){var Be=[],Ne={},Xe=a(function($t){return Be.push($t)},"enqueue"),qe=a(function(){return Be.shift()},"dequeue");for(v.forEach(function(Wt){return Be.push(Wt)});Be.length>0;){var ot=qe(),Ke=Oe(ot,Ne);if(Ke)ot.outgoers().filter(function(Wt){return Wt.isNode()&&m.has(Wt)}).forEach(Xe);else if(Ke===null){Kr("Detected double maximal shift for node `"+ot.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}be();var Je=0;if(l.avoidOverlap)for(var lt=0;lt<v.length;lt++){var ht=v[lt],xt=ht.layoutDimensions(l),ut=xt.w,yt=xt.h;Je=Math.max(Je,ut,yt)}var Ct={},At=a(function($t){if(Ct[$t.id()])return Ct[$t.id()];for(var wr=Zp($t).depth,or=$t.neighborhood(),Ht=0,fr=0,Qr=0;Qr<or.length;Qr++){var Br=or[Qr];if(!(Br.isEdge()||Br.isParent()||!v.has(Br))){var Ar=Zp(Br);if(Ar!=null){var Ft=Ar.index,Se=Ar.depth;if(!(Ft==null||Se==null)){var mt=Z[Se].length;Se<wr&&(Ht+=Ft/mt,fr++)}}}}return fr=Math.max(1,fr),Ht=Ht/fr,fr===0&&(Ht=0),Ct[$t.id()]=Ht,Ht},"getWeightedPercent"),wt=a(function($t,wr){var or=At($t),Ht=At(wr),fr=or-Ht;return fr===0?xe($t.id(),wr.id()):fr},"sortFn");l.depthSort!==void 0&&(wt=l.depthSort);for(var Tt=0;Tt<Z.length;Tt++)Z[Tt].sort(wt),Ie(Tt);for(var st=[],St=0;St<De.length;St++)st.push(De[St]);Z.unshift(st),be();for(var Rt=0,zt=0;zt<Z.length;zt++)Rt=Math.max(Z[zt].length,Rt);var Vt={x:S.x1+S.w/2,y:S.x1+S.h/2},Dr=Z.reduce(function(Wt,$t){return Math.max(Wt,$t.length)},0),Mr=a(function($t){var wr=Zp($t),or=wr.depth,Ht=wr.index,fr=Z[or].length,Qr=Math.max(S.w/((l.grid?Dr:fr)+1),Je),Br=Math.max(S.h/(Z.length+1),Je),Ar=Math.min(S.w/2/Z.length,S.h/2/Z.length);if(Ar=Math.max(Ar,Je),l.circle){var Se=Ar*or+Ar-(Z.length>0&&Z[0].length<=3?Ar/2:0),mt=2*Math.PI/Z[or].length*Ht;return or===0&&Z[0].length===1&&(Se=1),{x:Vt.x+Se*Math.cos(mt),y:Vt.y+Se*Math.sin(mt)}}else{var Ft={x:Vt.x+(Ht+1-(fr+1)/2)*Qr,y:(or+1)*Br};return Ft}},"getPosition");return m.nodes().layoutPositions(this,l,Mr),this};var O2e={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:a(function(l,d){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:a(function(l,d){return d},"transform")};function $8(h){this.options=pe({},O2e,h)}a($8,"CircleLayout"),$8.prototype.run=function(){var h=this.options,l=h,d=h.cy,m=l.eles,v=l.counterclockwise!==void 0?!l.counterclockwise:l.clockwise,T=m.nodes().not(":parent");l.sort&&(T=T.sort(l.sort));for(var k=Oo(l.boundingBox?l.boundingBox:{x1:0,y1:0,w:d.width(),h:d.height()}),w={x:k.x1+k.w/2,y:k.y1+k.h/2},S=l.sweep===void 0?2*Math.PI-2*Math.PI/T.length:l.sweep,C=S/Math.max(1,T.length-1),R,L=0,z=0;z<T.length;z++){var V=T[z],j=V.layoutDimensions(l),Q=j.w,ne=j.h;L=Math.max(L,Q,ne)}if(B(l.radius)?R=l.radius:T.length<=1?R=0:R=Math.min(k.h,k.w)/2-L,T.length>1&&l.avoidOverlap){L*=1.75;var Z=Math.cos(C)-Math.cos(0),ie=Math.sin(C)-Math.sin(0),ae=Math.sqrt(L*L/(Z*Z+ie*ie));R=Math.max(ae,R)}var me=a(function(we,ve){var Ie=l.startAngle+ve*C*(v?1:-1),be=R*Math.cos(Ie),Oe=R*Math.sin(Ie),Be={x:w.x+be,y:w.y+Oe};return Be},"getPos");return m.nodes().layoutPositions(this,l,me),this};var M2e={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:a(function(l){return l.degree()},"concentric"),levelWidth:a(function(l){return l.maxDegree()/4},"levelWidth"),animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:a(function(l,d){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:a(function(l,d){return d},"transform")};function G8(h){this.options=pe({},M2e,h)}a(G8,"ConcentricLayout"),G8.prototype.run=function(){for(var h=this.options,l=h,d=l.counterclockwise!==void 0?!l.counterclockwise:l.clockwise,m=h.cy,v=l.eles,T=v.nodes().not(":parent"),k=Oo(l.boundingBox?l.boundingBox:{x1:0,y1:0,w:m.width(),h:m.height()}),w={x:k.x1+k.w/2,y:k.y1+k.h/2},S=[],C=0,R=0;R<T.length;R++){var L=T[R],z=void 0;z=l.concentric(L),S.push({value:z,node:L}),L._private.scratch.concentric=z}T.updateStyle();for(var V=0;V<T.length;V++){var j=T[V],Q=j.layoutDimensions(l);C=Math.max(C,Q.w,Q.h)}S.sort(function(Wt,$t){return $t.value-Wt.value});for(var ne=l.levelWidth(T),Z=[[]],ie=Z[0],ae=0;ae<S.length;ae++){var me=S[ae];if(ie.length>0){var De=Math.abs(ie[0].value-me.value);De>=ne&&(ie=[],Z.push(ie))}ie.push(me)}var we=C+l.minNodeSpacing;if(!l.avoidOverlap){var ve=Z.length>0&&Z[0].length>1,Ie=Math.min(k.w,k.h)/2-we,be=Ie/(Z.length+ve?1:0);we=Math.min(we,be)}for(var Oe=0,Be=0;Be<Z.length;Be++){var Ne=Z[Be],Xe=l.sweep===void 0?2*Math.PI-2*Math.PI/Ne.length:l.sweep,qe=Ne.dTheta=Xe/Math.max(1,Ne.length-1);if(Ne.length>1&&l.avoidOverlap){var ot=Math.cos(qe)-Math.cos(0),Ke=Math.sin(qe)-Math.sin(0),Je=Math.sqrt(we*we/(ot*ot+Ke*Ke));Oe=Math.max(Je,Oe)}Ne.r=Oe,Oe+=we}if(l.equidistant){for(var lt=0,ht=0,xt=0;xt<Z.length;xt++){var ut=Z[xt],yt=ut.r-ht;lt=Math.max(lt,yt)}ht=0;for(var Ct=0;Ct<Z.length;Ct++){var At=Z[Ct];Ct===0&&(ht=At.r),At.r=ht,ht+=lt}}for(var wt={},Tt=0;Tt<Z.length;Tt++)for(var st=Z[Tt],St=st.dTheta,Rt=st.r,zt=0;zt<st.length;zt++){var Vt=st[zt],Dr=l.startAngle+(d?1:-1)*St*zt,Mr={x:w.x+Rt*Math.cos(Dr),y:w.y+Rt*Math.sin(Dr)};wt[Vt.node.id()]=Mr}return v.nodes().layoutPositions(this,l,function(Wt){var $t=Wt.id();return wt[$t]}),this};var dS,F2e={ready:a(function(){},"ready"),stop:a(function(){},"stop"),animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:a(function(l,d){return!0},"animateFilter"),animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:a(function(l){return 2048},"nodeRepulsion"),nodeOverlap:4,idealEdgeLength:a(function(l){return 32},"idealEdgeLength"),edgeElasticity:a(function(l){return 32},"edgeElasticity"),nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function bb(h){this.options=pe({},F2e,h),this.options.layout=this}a(bb,"CoseLayout"),bb.prototype.run=function(){var h=this.options,l=h.cy,d=this;d.stopped=!1,(h.animate===!0||h.animate===!1)&&d.emit({type:"layoutstart",layout:d}),h.debug===!0?dS=!0:dS=!1;var m=B2e(l,d,h);dS&&U2e(m),h.randomize&&$2e(m);var v=je(),T=a(function(){G2e(m,l,h),h.fit===!0&&l.fit(h.padding)},"refresh"),k=a(function(z){return!(d.stopped||z>=h.numIter||(V2e(m,h),m.temperature=m.temperature*h.coolingFactor,m.temperature<h.minTemp))},"mainLoop"),w=a(function(){if(h.animate===!0||h.animate===!1)T(),d.one("layoutstop",h.stop),d.emit({type:"layoutstop",layout:d});else{var z=h.eles.nodes(),V=V8(m,h,z);z.layoutPositions(d,h,V)}},"done"),S=0,C=!0;if(h.animate===!0){var R=a(function L(){for(var z=0;C&&z<h.refresh;)C=k(S),S++,z++;if(!C)H8(m,h),w();else{var V=je();V-v>=h.animationThreshold&&T(),No(L)}},"frame");R()}else{for(;C;)C=k(S),S++;H8(m,h),w()}return this},bb.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},bb.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var B2e=a(function(l,d,m){for(var v=m.eles.edges(),T=m.eles.nodes(),k={isCompound:l.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:T.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:v.size(),temperature:m.initialTemp,clientWidth:l.width(),clientHeight:l.width(),boundingBox:Oo(m.boundingBox?m.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()})},w=m.eles.components(),S={},C=0;C<w.length;C++)for(var R=w[C],L=0;L<R.length;L++){var z=R[L];S[z.id()]=C}for(var C=0;C<k.nodeSize;C++){var V=T[C],j=V.layoutDimensions(m),Q={};Q.isLocked=V.locked(),Q.id=V.data("id"),Q.parentId=V.data("parent"),Q.cmptId=S[V.id()],Q.children=[],Q.positionX=V.position("x"),Q.positionY=V.position("y"),Q.offsetX=0,Q.offsetY=0,Q.height=j.w,Q.width=j.h,Q.maxX=Q.positionX+Q.width/2,Q.minX=Q.positionX-Q.width/2,Q.maxY=Q.positionY+Q.height/2,Q.minY=Q.positionY-Q.height/2,Q.padLeft=parseFloat(V.style("padding")),Q.padRight=parseFloat(V.style("padding")),Q.padTop=parseFloat(V.style("padding")),Q.padBottom=parseFloat(V.style("padding")),Q.nodeRepulsion=$(m.nodeRepulsion)?m.nodeRepulsion(V):m.nodeRepulsion,k.layoutNodes.push(Q),k.idToIndex[Q.id]=C}for(var ne=[],Z=0,ie=-1,ae=[],C=0;C<k.nodeSize;C++){var V=k.layoutNodes[C],me=V.parentId;me!=null?k.layoutNodes[k.idToIndex[me]].children.push(V.id):(ne[++ie]=V.id,ae.push(V.id))}for(k.graphSet.push(ae);Z<=ie;){var De=ne[Z++],we=k.idToIndex[De],z=k.layoutNodes[we],ve=z.children;if(ve.length>0){k.graphSet.push(ve);for(var C=0;C<ve.length;C++)ne[++ie]=ve[C]}}for(var C=0;C<k.graphSet.length;C++)for(var Ie=k.graphSet[C],L=0;L<Ie.length;L++){var be=k.idToIndex[Ie[L]];k.indexToGraph[be]=C}for(var C=0;C<k.edgeSize;C++){var Oe=v[C],Be={};Be.id=Oe.data("id"),Be.sourceId=Oe.data("source"),Be.targetId=Oe.data("target");var Ne=$(m.idealEdgeLength)?m.idealEdgeLength(Oe):m.idealEdgeLength,Xe=$(m.edgeElasticity)?m.edgeElasticity(Oe):m.edgeElasticity,qe=k.idToIndex[Be.sourceId],ot=k.idToIndex[Be.targetId],Ke=k.indexToGraph[qe],Je=k.indexToGraph[ot];if(Ke!=Je){for(var lt=q2e(Be.sourceId,Be.targetId,k),ht=k.graphSet[lt],xt=0,Q=k.layoutNodes[qe];ht.indexOf(Q.id)===-1;)Q=k.layoutNodes[k.idToIndex[Q.parentId]],xt++;for(Q=k.layoutNodes[ot];ht.indexOf(Q.id)===-1;)Q=k.layoutNodes[k.idToIndex[Q.parentId]],xt++;Ne*=xt*m.nestingFactor}Be.idealLength=Ne,Be.elasticity=Xe,k.layoutEdges.push(Be)}return k},"createLayoutInfo"),q2e=a(function(l,d,m){var v=z2e(l,d,0,m);return 2>v.count?0:v.graph},"findLCA"),z2e=a(function h(l,d,m,v){var T=v.graphSet[m];if(-1<T.indexOf(l)&&-1<T.indexOf(d))return{count:2,graph:m};for(var k=0,w=0;w<T.length;w++){var S=T[w],C=v.idToIndex[S],R=v.layoutNodes[C].children;if(R.length!==0){var L=v.indexToGraph[v.idToIndex[R[0]]],z=h(l,d,L,v);if(z.count!==0)if(z.count===1){if(k++,k===2)break}else return z}}return{count:k,graph:m}},"findLCA_aux"),U2e,$2e=a(function(l,d){for(var m=l.clientWidth,v=l.clientHeight,T=0;T<l.nodeSize;T++){var k=l.layoutNodes[T];k.children.length===0&&!k.isLocked&&(k.positionX=Math.random()*m,k.positionY=Math.random()*v)}},"randomizePositions"),V8=a(function(l,d,m){var v=l.boundingBox,T={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return d.boundingBox&&(m.forEach(function(k){var w=l.layoutNodes[l.idToIndex[k.data("id")]];T.x1=Math.min(T.x1,w.positionX),T.x2=Math.max(T.x2,w.positionX),T.y1=Math.min(T.y1,w.positionY),T.y2=Math.max(T.y2,w.positionY)}),T.w=T.x2-T.x1,T.h=T.y2-T.y1),function(k,w){var S=l.layoutNodes[l.idToIndex[k.data("id")]];if(d.boundingBox){var C=(S.positionX-T.x1)/T.w,R=(S.positionY-T.y1)/T.h;return{x:v.x1+C*v.w,y:v.y1+R*v.h}}else return{x:S.positionX,y:S.positionY}}},"getScaleInBoundsFn"),G2e=a(function(l,d,m){var v=m.layout,T=m.eles.nodes(),k=V8(l,m,T);T.positions(k),l.ready!==!0&&(l.ready=!0,v.one("layoutready",m.ready),v.emit({type:"layoutready",layout:this}))},"refreshPositions"),V2e=a(function(l,d,m){W2e(l,d),Y2e(l),X2e(l,d),K2e(l),Q2e(l)},"step"),W2e=a(function(l,d){for(var m=0;m<l.graphSet.length;m++)for(var v=l.graphSet[m],T=v.length,k=0;k<T;k++)for(var w=l.layoutNodes[l.idToIndex[v[k]]],S=k+1;S<T;S++){var C=l.layoutNodes[l.idToIndex[v[S]]];H2e(w,C,l,d)}},"calculateNodeForces"),W8=a(function(l){return-l+2*l*Math.random()},"randomDistance"),H2e=a(function(l,d,m,v){var T=l.cmptId,k=d.cmptId;if(!(T!==k&&!m.isCompound)){var w=d.positionX-l.positionX,S=d.positionY-l.positionY,C=1;w===0&&S===0&&(w=W8(C),S=W8(C));var R=j2e(l,d,w,S);if(R>0)var L=v.nodeOverlap*R,z=Math.sqrt(w*w+S*S),V=L*w/z,j=L*S/z;else var Q=Tb(l,w,S),ne=Tb(d,-1*w,-1*S),Z=ne.x-Q.x,ie=ne.y-Q.y,ae=Z*Z+ie*ie,z=Math.sqrt(ae),L=(l.nodeRepulsion+d.nodeRepulsion)/ae,V=L*Z/z,j=L*ie/z;l.isLocked||(l.offsetX-=V,l.offsetY-=j),d.isLocked||(d.offsetX+=V,d.offsetY+=j)}},"nodeRepulsion"),j2e=a(function(l,d,m,v){if(m>0)var T=l.maxX-d.minX;else var T=d.maxX-l.minX;if(v>0)var k=l.maxY-d.minY;else var k=d.maxY-l.minY;return T>=0&&k>=0?Math.sqrt(T*T+k*k):0},"nodesOverlap"),Tb=a(function(l,d,m){var v=l.positionX,T=l.positionY,k=l.height||1,w=l.width||1,S=m/d,C=k/w,R={};return d===0&&0<m||d===0&&0>m?(R.x=v,R.y=T+k/2,R):0<d&&-1*C<=S&&S<=C?(R.x=v+w/2,R.y=T+w*m/2/d,R):0>d&&-1*C<=S&&S<=C?(R.x=v-w/2,R.y=T-w*m/2/d,R):0<m&&(S<=-1*C||S>=C)?(R.x=v+k*d/2/m,R.y=T+k/2,R):(0>m&&(S<=-1*C||S>=C)&&(R.x=v-k*d/2/m,R.y=T-k/2),R)},"findClippingPoint"),Y2e=a(function(l,d){for(var m=0;m<l.edgeSize;m++){var v=l.layoutEdges[m],T=l.idToIndex[v.sourceId],k=l.layoutNodes[T],w=l.idToIndex[v.targetId],S=l.layoutNodes[w],C=S.positionX-k.positionX,R=S.positionY-k.positionY;if(!(C===0&&R===0)){var L=Tb(k,C,R),z=Tb(S,-1*C,-1*R),V=z.x-L.x,j=z.y-L.y,Q=Math.sqrt(V*V+j*j),ne=Math.pow(v.idealLength-Q,2)/v.elasticity;if(Q!==0)var Z=ne*V/Q,ie=ne*j/Q;else var Z=0,ie=0;k.isLocked||(k.offsetX+=Z,k.offsetY+=ie),S.isLocked||(S.offsetX-=Z,S.offsetY-=ie)}}},"calculateEdgeForces"),X2e=a(function(l,d){if(d.gravity!==0)for(var m=1,v=0;v<l.graphSet.length;v++){var T=l.graphSet[v],k=T.length;if(v===0)var w=l.clientHeight/2,S=l.clientWidth/2;else var C=l.layoutNodes[l.idToIndex[T[0]]],R=l.layoutNodes[l.idToIndex[C.parentId]],w=R.positionX,S=R.positionY;for(var L=0;L<k;L++){var z=l.layoutNodes[l.idToIndex[T[L]]];if(!z.isLocked){var V=w-z.positionX,j=S-z.positionY,Q=Math.sqrt(V*V+j*j);if(Q>m){var ne=d.gravity*V/Q,Z=d.gravity*j/Q;z.offsetX+=ne,z.offsetY+=Z}}}}},"calculateGravityForces"),K2e=a(function(l,d){var m=[],v=0,T=-1;for(m.push.apply(m,l.graphSet[0]),T+=l.graphSet[0].length;v<=T;){var k=m[v++],w=l.idToIndex[k],S=l.layoutNodes[w],C=S.children;if(0<C.length&&!S.isLocked){for(var R=S.offsetX,L=S.offsetY,z=0;z<C.length;z++){var V=l.layoutNodes[l.idToIndex[C[z]]];V.offsetX+=R,V.offsetY+=L,m[++T]=C[z]}S.offsetX=0,S.offsetY=0}}},"propagateForces"),Q2e=a(function(l,d){for(var m=0;m<l.nodeSize;m++){var v=l.layoutNodes[m];0<v.children.length&&(v.maxX=void 0,v.minX=void 0,v.maxY=void 0,v.minY=void 0)}for(var m=0;m<l.nodeSize;m++){var v=l.layoutNodes[m];if(!(0<v.children.length||v.isLocked)){var T=Z2e(v.offsetX,v.offsetY,l.temperature);v.positionX+=T.x,v.positionY+=T.y,v.offsetX=0,v.offsetY=0,v.minX=v.positionX-v.width,v.maxX=v.positionX+v.width,v.minY=v.positionY-v.height,v.maxY=v.positionY+v.height,J2e(v,l)}}for(var m=0;m<l.nodeSize;m++){var v=l.layoutNodes[m];0<v.children.length&&!v.isLocked&&(v.positionX=(v.maxX+v.minX)/2,v.positionY=(v.maxY+v.minY)/2,v.width=v.maxX-v.minX,v.height=v.maxY-v.minY)}},"updatePositions"),Z2e=a(function(l,d,m){var v=Math.sqrt(l*l+d*d);if(v>m)var T={x:m*l/v,y:m*d/v};else var T={x:l,y:d};return T},"limitForce"),J2e=a(function h(l,d){var m=l.parentId;if(m!=null){var v=d.layoutNodes[d.idToIndex[m]],T=!1;if((v.maxX==null||l.maxX+v.padRight>v.maxX)&&(v.maxX=l.maxX+v.padRight,T=!0),(v.minX==null||l.minX-v.padLeft<v.minX)&&(v.minX=l.minX-v.padLeft,T=!0),(v.maxY==null||l.maxY+v.padBottom>v.maxY)&&(v.maxY=l.maxY+v.padBottom,T=!0),(v.minY==null||l.minY-v.padTop<v.minY)&&(v.minY=l.minY-v.padTop,T=!0),T)return h(v,d)}},"updateAncestryBoundaries"),H8=a(function(l,d){for(var m=l.layoutNodes,v=[],T=0;T<m.length;T++){var k=m[T],w=k.cmptId,S=v[w]=v[w]||[];S.push(k)}for(var C=0,T=0;T<v.length;T++){var R=v[T];if(R){R.x1=1/0,R.x2=-1/0,R.y1=1/0,R.y2=-1/0;for(var L=0;L<R.length;L++){var z=R[L];R.x1=Math.min(R.x1,z.positionX-z.width/2),R.x2=Math.max(R.x2,z.positionX+z.width/2),R.y1=Math.min(R.y1,z.positionY-z.height/2),R.y2=Math.max(R.y2,z.positionY+z.height/2)}R.w=R.x2-R.x1,R.h=R.y2-R.y1,C+=R.w*R.h}}v.sort(function(ie,ae){return ae.w*ae.h-ie.w*ie.h});for(var V=0,j=0,Q=0,ne=0,Z=Math.sqrt(C)*l.clientWidth/l.clientHeight,T=0;T<v.length;T++){var R=v[T];if(R){for(var L=0;L<R.length;L++){var z=R[L];z.isLocked||(z.positionX+=V-R.x1,z.positionY+=j-R.y1)}V+=R.w+d.componentSpacing,Q+=R.w+d.componentSpacing,ne=Math.max(ne,R.h),Q>Z&&(j+=ne+d.componentSpacing,V=0,Q=0,ne=0)}}},"separateComponents"),eTe={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:a(function(l){},"position"),sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:a(function(l,d){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:a(function(l,d){return d},"transform")};function j8(h){this.options=pe({},eTe,h)}a(j8,"GridLayout"),j8.prototype.run=function(){var h=this.options,l=h,d=h.cy,m=l.eles,v=m.nodes().not(":parent");l.sort&&(v=v.sort(l.sort));var T=Oo(l.boundingBox?l.boundingBox:{x1:0,y1:0,w:d.width(),h:d.height()});if(T.h===0||T.w===0)m.nodes().layoutPositions(this,l,function(Ct){return{x:T.x1,y:T.y1}});else{var k=v.size(),w=Math.sqrt(k*T.h/T.w),S=Math.round(w),C=Math.round(T.w/T.h*w),R=a(function(At){if(At==null)return Math.min(S,C);var wt=Math.min(S,C);wt==S?S=At:C=At},"small"),L=a(function(At){if(At==null)return Math.max(S,C);var wt=Math.max(S,C);wt==S?S=At:C=At},"large"),z=l.rows,V=l.cols!=null?l.cols:l.columns;if(z!=null&&V!=null)S=z,C=V;else if(z!=null&&V==null)S=z,C=Math.ceil(k/S);else if(z==null&&V!=null)C=V,S=Math.ceil(k/C);else if(C*S>k){var j=R(),Q=L();(j-1)*Q>=k?R(j-1):(Q-1)*j>=k&&L(Q-1)}else for(;C*S<k;){var ne=R(),Z=L();(Z+1)*ne>=k?L(Z+1):R(ne+1)}var ie=T.w/C,ae=T.h/S;if(l.condense&&(ie=0,ae=0),l.avoidOverlap)for(var me=0;me<v.length;me++){var De=v[me],we=De._private.position;(we.x==null||we.y==null)&&(we.x=0,we.y=0);var ve=De.layoutDimensions(l),Ie=l.avoidOverlapPadding,be=ve.w+Ie,Oe=ve.h+Ie;ie=Math.max(ie,be),ae=Math.max(ae,Oe)}for(var Be={},Ne=a(function(At,wt){return!!Be["c-"+At+"-"+wt]},"used"),Xe=a(function(At,wt){Be["c-"+At+"-"+wt]=!0},"use"),qe=0,ot=0,Ke=a(function(){ot++,ot>=C&&(ot=0,qe++)},"moveToNextCell"),Je={},lt=0;lt<v.length;lt++){var ht=v[lt],xt=l.position(ht);if(xt&&(xt.row!==void 0||xt.col!==void 0)){var ut={row:xt.row,col:xt.col};if(ut.col===void 0)for(ut.col=0;Ne(ut.row,ut.col);)ut.col++;else if(ut.row===void 0)for(ut.row=0;Ne(ut.row,ut.col);)ut.row++;Je[ht.id()]=ut,Xe(ut.row,ut.col)}}var yt=a(function(At,wt){var Tt,st;if(At.locked()||At.isParent())return!1;var St=Je[At.id()];if(St)Tt=St.col*ie+ie/2+T.x1,st=St.row*ae+ae/2+T.y1;else{for(;Ne(qe,ot);)Ke();Tt=ot*ie+ie/2+T.x1,st=qe*ae+ae/2+T.y1,Xe(qe,ot),Ke()}return{x:Tt,y:st}},"getPos");v.layoutPositions(this,l,yt)}return this};var tTe={ready:a(function(){},"ready"),stop:a(function(){},"stop")};function pS(h){this.options=pe({},tTe,h)}a(pS,"NullLayout"),pS.prototype.run=function(){var h=this.options,l=h.eles,d=this;return h.cy,d.emit("layoutstart"),l.nodes().positions(function(){return{x:0,y:0}}),d.one("layoutready",h.ready),d.emit("layoutready"),d.one("layoutstop",h.stop),d.emit("layoutstop"),this},pS.prototype.stop=function(){return this};var rTe={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:a(function(l,d){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:a(function(l,d){return d},"transform")};function Y8(h){this.options=pe({},rTe,h)}a(Y8,"PresetLayout"),Y8.prototype.run=function(){var h=this.options,l=h.eles,d=l.nodes(),m=$(h.positions);function v(T){if(h.positions==null)return lve(T.position());if(m)return h.positions(T);var k=h.positions[T._private.data.id];return k??null}return a(v,"getPosition"),d.layoutPositions(this,h,function(T,k){var w=v(T);return T.locked()||w==null?!1:w}),this};var nTe={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:a(function(l,d){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:a(function(l,d){return d},"transform")};function X8(h){this.options=pe({},nTe,h)}a(X8,"RandomLayout"),X8.prototype.run=function(){var h=this.options,l=h.cy,d=h.eles,m=Oo(h.boundingBox?h.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()}),v=a(function(k,w){return{x:m.x1+Math.round(Math.random()*m.w),y:m.y1+Math.round(Math.random()*m.h)}},"getPos");return d.nodes().layoutPositions(this,h,v),this};var iTe=[{name:"breadthfirst",impl:U8},{name:"circle",impl:$8},{name:"concentric",impl:G8},{name:"cose",impl:bb},{name:"grid",impl:j8},{name:"null",impl:pS},{name:"preset",impl:Y8},{name:"random",impl:X8}];function K8(h){this.options=h,this.notifications=0}a(K8,"NullRenderer");var Q8=a(function(){},"noop"),Z8=a(function(){throw new Error("A headless instance can not render images")},"throwImgErr");K8.prototype={recalculateRenderedStyle:Q8,notify:a(function(){this.notifications++},"notify"),init:Q8,isHeadless:a(function(){return!0},"isHeadless"),png:Z8,jpg:Z8};var mS={};mS.arrowShapeWidth=.3,mS.registerArrowShapes=function(){var h=this.arrowShapes={},l=this,d=a(function(C,R,L,z,V,j,Q){var ne=V.x-L/2-Q,Z=V.x+L/2+Q,ie=V.y-L/2-Q,ae=V.y+L/2+Q,me=ne<=C&&C<=Z&&ie<=R&&R<=ae;return me},"bbCollide"),m=a(function(C,R,L,z,V){var j=C*Math.cos(z)-R*Math.sin(z),Q=C*Math.sin(z)+R*Math.cos(z),ne=j*L,Z=Q*L,ie=ne+V.x,ae=Z+V.y;return{x:ie,y:ae}},"transform"),v=a(function(C,R,L,z){for(var V=[],j=0;j<C.length;j+=2){var Q=C[j],ne=C[j+1];V.push(m(Q,ne,R,L,z))}return V},"transformPoints"),T=a(function(C){for(var R=[],L=0;L<C.length;L++){var z=C[L];R.push(z.x,z.y)}return R},"pointsToArr"),k=a(function(C){return C.pstyle("width").pfValue*C.pstyle("arrow-scale").pfValue*2},"standardGap"),w=a(function(C,R){I(R)&&(R=h[R]),h[C]=pe({name:C,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:a(function(z,V,j,Q,ne,Z){var ie=T(v(this.points,j+2*Z,Q,ne)),ae=Mo(z,V,ie);return ae},"collide"),roughCollide:d,draw:a(function(z,V,j,Q){var ne=v(this.points,V,j,Q);l.arrowShapeImpl("polygon")(z,ne)},"draw"),spacing:a(function(z){return 0},"spacing"),gap:k},R)},"defineArrowShape");w("none",{collide:is,roughCollide:is,draw:oc,spacing:as,gap:as}),w("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),w("arrow","triangle"),w("triangle-backcurve",{points:h.triangle.points,controlPoint:[0,-.15],roughCollide:d,draw:a(function(C,R,L,z,V){var j=v(this.points,R,L,z),Q=this.controlPoint,ne=m(Q[0],Q[1],R,L,z);l.arrowShapeImpl(this.name)(C,j,ne)},"draw"),gap:a(function(C){return k(C)*.8},"gap")}),w("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:a(function(C,R,L,z,V,j,Q){var ne=T(v(this.points,L+2*Q,z,V)),Z=T(v(this.pointsTee,L+2*Q,z,V)),ie=Mo(C,R,ne)||Mo(C,R,Z);return ie},"collide"),draw:a(function(C,R,L,z,V){var j=v(this.points,R,L,z),Q=v(this.pointsTee,R,L,z);l.arrowShapeImpl(this.name)(C,j,Q)},"draw")}),w("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:a(function(C,R,L,z,V,j,Q){var ne=V,Z=Math.pow(ne.x-C,2)+Math.pow(ne.y-R,2)<=Math.pow((L+2*Q)*this.radius,2),ie=T(v(this.points,L+2*Q,z,V));return Mo(C,R,ie)||Z},"collide"),draw:a(function(C,R,L,z,V){var j=v(this.pointsTr,R,L,z);l.arrowShapeImpl(this.name)(C,j,z.x,z.y,this.radius*R)},"draw"),spacing:a(function(C){return l.getArrowWidth(C.pstyle("width").pfValue,C.pstyle("arrow-scale").value)*this.radius},"spacing")}),w("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:a(function(C,R){var L=this.baseCrossLinePts.slice(),z=R/C,V=3,j=5;return L[V]=L[V]-z,L[j]=L[j]-z,L},"crossLinePts"),collide:a(function(C,R,L,z,V,j,Q){var ne=T(v(this.points,L+2*Q,z,V)),Z=T(v(this.crossLinePts(L,j),L+2*Q,z,V)),ie=Mo(C,R,ne)||Mo(C,R,Z);return ie},"collide"),draw:a(function(C,R,L,z,V){var j=v(this.points,R,L,z),Q=v(this.crossLinePts(R,V),R,L,z);l.arrowShapeImpl(this.name)(C,j,Q)},"draw")}),w("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:a(function(C){return k(C)*.525},"gap")}),w("circle",{radius:.15,collide:a(function(C,R,L,z,V,j,Q){var ne=V,Z=Math.pow(ne.x-C,2)+Math.pow(ne.y-R,2)<=Math.pow((L+2*Q)*this.radius,2);return Z},"collide"),draw:a(function(C,R,L,z,V){l.arrowShapeImpl(this.name)(C,z.x,z.y,this.radius*R)},"draw"),spacing:a(function(C){return l.getArrowWidth(C.pstyle("width").pfValue,C.pstyle("arrow-scale").value)*this.radius},"spacing")}),w("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:a(function(C){return 1},"spacing"),gap:a(function(C){return 1},"gap")}),w("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),w("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:a(function(C){return C.pstyle("width").pfValue*C.pstyle("arrow-scale").value},"gap")}),w("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:a(function(C){return .95*C.pstyle("width").pfValue*C.pstyle("arrow-scale").value},"gap")})};var Jh={};Jh.projectIntoViewport=function(h,l){var d=this.cy,m=this.findContainerClientCoords(),v=m[0],T=m[1],k=m[4],w=d.pan(),S=d.zoom(),C=((h-v)/k-w.x)/S,R=((l-T)/k-w.y)/S;return[C,R]},Jh.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var h=this.container,l=h.getBoundingClientRect(),d=y.getComputedStyle(h),m=a(function(Z){return parseFloat(d.getPropertyValue(Z))},"styleValue"),v={left:m("padding-left"),right:m("padding-right"),top:m("padding-top"),bottom:m("padding-bottom")},T={left:m("border-left-width"),right:m("border-right-width"),top:m("border-top-width"),bottom:m("border-bottom-width")},k=h.clientWidth,w=h.clientHeight,S=v.left+v.right,C=v.top+v.bottom,R=T.left+T.right,L=l.width/(k+R),z=k-S,V=w-C,j=l.left+v.left+T.left,Q=l.top+v.top+T.top;return this.containerBB=[j,Q,z,V,L]},Jh.invalidateContainerClientCoordsCache=function(){this.containerBB=null},Jh.findNearestElement=function(h,l,d,m){return this.findNearestElements(h,l,d,m)[0]},Jh.findNearestElements=function(h,l,d,m){var v=this,T=this,k=T.getCachedZSortedEles(),w=[],S=T.cy.zoom(),C=T.cy.hasCompoundNodes(),R=(m?24:8)/S,L=(m?8:2)/S,z=(m?8:2)/S,V=1/0,j,Q;d&&(k=k.interactive);function ne(ve,Ie){if(ve.isNode()){if(Q)return;Q=ve,w.push(ve)}if(ve.isEdge()&&(Ie==null||Ie<V))if(j){if(j.pstyle("z-compound-depth").value===ve.pstyle("z-compound-depth").value&&j.pstyle("z-compound-depth").value===ve.pstyle("z-compound-depth").value){for(var be=0;be<w.length;be++)if(w[be].isEdge()){w[be]=ve,j=ve,V=Ie??V;break}}}else w.push(ve),j=ve,V=Ie??V}a(ne,"addEle");function Z(ve){var Ie=ve.outerWidth()+2*L,be=ve.outerHeight()+2*L,Oe=Ie/2,Be=be/2,Ne=ve.position();if(Ne.x-Oe<=h&&h<=Ne.x+Oe&&Ne.y-Be<=l&&l<=Ne.y+Be){var Xe=T.nodeShapes[v.getNodeShape(ve)];if(Xe.checkPoint(h,l,0,Ie,be,Ne.x,Ne.y))return ne(ve,0),!0}}a(Z,"checkNode");function ie(ve){var Ie=ve._private,be=Ie.rscratch,Oe=ve.pstyle("width").pfValue,Be=ve.pstyle("arrow-scale").value,Ne=Oe/2+R,Xe=Ne*Ne,qe=Ne*2,lt=Ie.source,ht=Ie.target,ot;if(be.edgeType==="segments"||be.edgeType==="straight"||be.edgeType==="haystack"){for(var Ke=be.allpts,Je=0;Je+3<Ke.length;Je+=2)if(Tve(h,l,Ke[Je],Ke[Je+1],Ke[Je+2],Ke[Je+3],qe)&&Xe>(ot=Cve(h,l,Ke[Je],Ke[Je+1],Ke[Je+2],Ke[Je+3])))return ne(ve,ot),!0}else if(be.edgeType==="bezier"||be.edgeType==="multibezier"||be.edgeType==="self"||be.edgeType==="compound"){for(var Ke=be.allpts,Je=0;Je+5<be.allpts.length;Je+=4)if(kve(h,l,Ke[Je],Ke[Je+1],Ke[Je+2],Ke[Je+3],Ke[Je+4],Ke[Je+5],qe)&&Xe>(ot=Eve(h,l,Ke[Je],Ke[Je+1],Ke[Je+2],Ke[Je+3],Ke[Je+4],Ke[Je+5])))return ne(ve,ot),!0}for(var lt=lt||Ie.source,ht=ht||Ie.target,xt=v.getArrowWidth(Oe,Be),ut=[{name:"source",x:be.arrowStartX,y:be.arrowStartY,angle:be.srcArrowAngle},{name:"target",x:be.arrowEndX,y:be.arrowEndY,angle:be.tgtArrowAngle},{name:"mid-source",x:be.midX,y:be.midY,angle:be.midsrcArrowAngle},{name:"mid-target",x:be.midX,y:be.midY,angle:be.midtgtArrowAngle}],Je=0;Je<ut.length;Je++){var yt=ut[Je],Ct=T.arrowShapes[ve.pstyle(yt.name+"-arrow-shape").value],At=ve.pstyle("width").pfValue;if(Ct.roughCollide(h,l,xt,yt.angle,{x:yt.x,y:yt.y},At,R)&&Ct.collide(h,l,xt,yt.angle,{x:yt.x,y:yt.y},At,R))return ne(ve),!0}C&&w.length>0&&(Z(lt),Z(ht))}a(ie,"checkEdge");function ae(ve,Ie,be){return tt(ve,Ie,be)}a(ae,"preprop");function me(ve,Ie){var be=ve._private,Oe=z,Be;Ie?Be=Ie+"-":Be="",ve.boundingBox();var Ne=be.labelBounds[Ie||"main"],Xe=ve.pstyle(Be+"label").value,qe=ve.pstyle("text-events").strValue==="yes";if(!(!qe||!Xe)){var ot=ae(be.rscratch,"labelX",Ie),Ke=ae(be.rscratch,"labelY",Ie),Je=ae(be.rscratch,"labelAngle",Ie),lt=ve.pstyle(Be+"text-margin-x").pfValue,ht=ve.pstyle(Be+"text-margin-y").pfValue,xt=Ne.x1-Oe-lt,ut=Ne.x2+Oe-lt,yt=Ne.y1-Oe-ht,Ct=Ne.y2+Oe-ht;if(Je){var At=Math.cos(Je),wt=Math.sin(Je),Tt=a(function(Mr,Wt){return Mr=Mr-ot,Wt=Wt-Ke,{x:Mr*At-Wt*wt+ot,y:Mr*wt+Wt*At+Ke}},"rotate"),st=Tt(xt,yt),St=Tt(xt,Ct),Rt=Tt(ut,yt),zt=Tt(ut,Ct),Vt=[st.x+lt,st.y+ht,Rt.x+lt,Rt.y+ht,zt.x+lt,zt.y+ht,St.x+lt,St.y+ht];if(Mo(h,l,Vt))return ne(ve),!0}else if(Fp(Ne,h,l))return ne(ve),!0}}a(me,"checkLabel");for(var De=k.length-1;De>=0;De--){var we=k[De];we.isNode()?Z(we)||me(we):ie(we)||me(we)||me(we,"source")||me(we,"target")}return w},Jh.getAllInBox=function(h,l,d,m){var v=this.getCachedZSortedEles().interactive,T=[],k=Math.min(h,d),w=Math.max(h,d),S=Math.min(l,m),C=Math.max(l,m);h=k,d=w,l=S,m=C;for(var R=Oo({x1:h,y1:l,x2:d,y2:m}),L=0;L<v.length;L++){var z=v[L];if(z.isNode()){var V=z,j=V.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});$C(R,j)&&!yM(j,R)&&T.push(V)}else{var Q=z,ne=Q._private,Z=ne.rscratch;if(Z.startX!=null&&Z.startY!=null&&!Fp(R,Z.startX,Z.startY)||Z.endX!=null&&Z.endY!=null&&!Fp(R,Z.endX,Z.endY))continue;if(Z.edgeType==="bezier"||Z.edgeType==="multibezier"||Z.edgeType==="self"||Z.edgeType==="compound"||Z.edgeType==="segments"||Z.edgeType==="haystack"){for(var ie=ne.rstyle.bezierPts||ne.rstyle.linePts||ne.rstyle.haystackPts,ae=!0,me=0;me<ie.length;me++)if(!bve(R,ie[me])){ae=!1;break}ae&&T.push(Q)}else(Z.edgeType==="haystack"||Z.edgeType==="straight")&&T.push(Q)}}return T};var kb={};kb.calculateArrowAngles=function(h){var l=h._private.rscratch,d=l.edgeType==="haystack",m=l.edgeType==="bezier",v=l.edgeType==="multibezier",T=l.edgeType==="segments",k=l.edgeType==="compound",w=l.edgeType==="self",S,C,R,L,z,V,Z,ie;if(d?(R=l.haystackPts[0],L=l.haystackPts[1],z=l.haystackPts[2],V=l.haystackPts[3]):(R=l.arrowStartX,L=l.arrowStartY,z=l.arrowEndX,V=l.arrowEndY),Z=l.midX,ie=l.midY,T)S=R-l.segpts[0],C=L-l.segpts[1];else if(v||k||w||m){var j=l.allpts,Q=ga(j[0],j[2],j[4],.1),ne=ga(j[1],j[3],j[5],.1);S=R-Q,C=L-ne}else S=R-Z,C=L-ie;l.srcArrowAngle=Hx(S,C);var Z=l.midX,ie=l.midY;if(d&&(Z=(R+z)/2,ie=(L+V)/2),S=z-R,C=V-L,T){var j=l.allpts;if(j.length/2%2===0){var ae=j.length/2,me=ae-2;S=j[ae]-j[me],C=j[ae+1]-j[me+1]}else{var ae=j.length/2-1,me=ae-2,De=ae+2;S=j[ae]-j[me],C=j[ae+1]-j[me+1]}}else if(v||k||w){var j=l.allpts,we=l.ctrlpts,ve,Ie,be,Oe;if(we.length/2%2===0){var Be=j.length/2-1,Ne=Be+2,Xe=Ne+2;ve=ga(j[Be],j[Ne],j[Xe],0),Ie=ga(j[Be+1],j[Ne+1],j[Xe+1],0),be=ga(j[Be],j[Ne],j[Xe],1e-4),Oe=ga(j[Be+1],j[Ne+1],j[Xe+1],1e-4)}else{var Ne=j.length/2-1,Be=Ne-2,Xe=Ne+2;ve=ga(j[Be],j[Ne],j[Xe],.4999),Ie=ga(j[Be+1],j[Ne+1],j[Xe+1],.4999),be=ga(j[Be],j[Ne],j[Xe],.5),Oe=ga(j[Be+1],j[Ne+1],j[Xe+1],.5)}S=be-ve,C=Oe-Ie}if(l.midtgtArrowAngle=Hx(S,C),l.midDispX=S,l.midDispY=C,S*=-1,C*=-1,T){var j=l.allpts;if(j.length/2%2!==0){var ae=j.length/2-1,De=ae+2;S=-(j[De]-j[ae]),C=-(j[De+1]-j[ae+1])}}if(l.midsrcArrowAngle=Hx(S,C),T)S=z-l.segpts[l.segpts.length-2],C=V-l.segpts[l.segpts.length-1];else if(v||k||w||m){var j=l.allpts,qe=j.length,Q=ga(j[qe-6],j[qe-4],j[qe-2],.9),ne=ga(j[qe-5],j[qe-3],j[qe-1],.9);S=z-Q,C=V-ne}else S=z-Z,C=V-ie;l.tgtArrowAngle=Hx(S,C)},kb.getArrowWidth=kb.getArrowHeight=function(h,l){var d=this.arrowWidthCache=this.arrowWidthCache||{},m=d[h+", "+l];return m||(m=Math.max(Math.pow(h*13.37,.9),29)*l,d[h+", "+l]=m,m)};var po={};po.findHaystackPoints=function(h){for(var l=0;l<h.length;l++){var d=h[l],m=d._private,v=m.rscratch;if(!v.haystack){var T=Math.random()*2*Math.PI;v.source={x:Math.cos(T),y:Math.sin(T)},T=Math.random()*2*Math.PI,v.target={x:Math.cos(T),y:Math.sin(T)}}var k=m.source,w=m.target,S=k.position(),C=w.position(),R=k.width(),L=w.width(),z=k.height(),V=w.height(),j=d.pstyle("haystack-radius").value,Q=j/2;v.haystackPts=v.allpts=[v.source.x*R*Q+S.x,v.source.y*z*Q+S.y,v.target.x*L*Q+C.x,v.target.y*V*Q+C.y],v.midX=(v.allpts[0]+v.allpts[2])/2,v.midY=(v.allpts[1]+v.allpts[3])/2,v.edgeType="haystack",v.haystack=!0,this.storeEdgeProjections(d),this.calculateArrowAngles(d),this.recalculateEdgeLabelProjections(d),this.calculateLabelAngles(d)}},po.findSegmentsPoints=function(h,l){var d=h._private.rscratch,m=l.posPts,v=l.intersectionPts,T=l.vectorNormInverse,k=h.pstyle("edge-distances").value,w=h.pstyle("segment-weights"),S=h.pstyle("segment-distances"),C=Math.min(w.pfValue.length,S.pfValue.length);d.edgeType="segments",d.segpts=[];for(var R=0;R<C;R++){var L=w.pfValue[R],z=S.pfValue[R],V=1-L,j=L,Q=k==="node-position"?m:v,ne={x:Q.x1*V+Q.x2*j,y:Q.y1*V+Q.y2*j};d.segpts.push(ne.x+T.x*z,ne.y+T.y*z)}},po.findLoopPoints=function(h,l,d,m){var v=h._private.rscratch,T=l.dirCounts,k=l.srcPos,w=h.pstyle("control-point-distances"),S=w?w.pfValue[0]:void 0,C=h.pstyle("loop-direction").pfValue,R=h.pstyle("loop-sweep").pfValue,L=h.pstyle("control-point-step-size").pfValue;v.edgeType="self";var z=d,V=L;m&&(z=0,V=S);var j=C-Math.PI/2,Q=j-R/2,ne=j+R/2,Z=C+"_"+R;z=T[Z]===void 0?T[Z]=0:++T[Z],v.ctrlpts=[k.x+Math.cos(Q)*1.4*V*(z/3+1),k.y+Math.sin(Q)*1.4*V*(z/3+1),k.x+Math.cos(ne)*1.4*V*(z/3+1),k.y+Math.sin(ne)*1.4*V*(z/3+1)]},po.findCompoundLoopPoints=function(h,l,d,m){var v=h._private.rscratch;v.edgeType="compound";var T=l.srcPos,k=l.tgtPos,w=l.srcW,S=l.srcH,C=l.tgtW,R=l.tgtH,L=h.pstyle("control-point-step-size").pfValue,z=h.pstyle("control-point-distances"),V=z?z.pfValue[0]:void 0,j=d,Q=L;m&&(j=0,Q=V);var ne=50,Z={x:T.x-w/2,y:T.y-S/2},ie={x:k.x-C/2,y:k.y-R/2},ae={x:Math.min(Z.x,ie.x),y:Math.min(Z.y,ie.y)},me=.5,De=Math.max(me,Math.log(w*.01)),we=Math.max(me,Math.log(C*.01));v.ctrlpts=[ae.x,ae.y-(1+Math.pow(ne,1.12)/100)*Q*(j/3+1)*De,ae.x-(1+Math.pow(ne,1.12)/100)*Q*(j/3+1)*we,ae.y]},po.findStraightEdgePoints=function(h){h._private.rscratch.edgeType="straight"},po.findBezierPoints=function(h,l,d,m,v){var T=h._private.rscratch,k=l.vectorNormInverse,w=l.posPts,S=l.intersectionPts,C=h.pstyle("edge-distances").value,R=h.pstyle("control-point-step-size").pfValue,L=h.pstyle("control-point-distances"),z=h.pstyle("control-point-weights"),V=L&&z?Math.min(L.value.length,z.value.length):1,j=L?L.pfValue[0]:void 0,Q=z.value[0],ne=m;T.edgeType=ne?"multibezier":"bezier",T.ctrlpts=[];for(var Z=0;Z<V;Z++){var ie=(.5-l.eles.length/2+d)*R*(v?-1:1),ae=void 0,me=mM(ie);ne&&(j=L?L.pfValue[Z]:R,Q=z.value[Z]),m?ae=j:ae=j!==void 0?me*j:void 0;var De=ae!==void 0?ae:ie,we=1-Q,ve=Q,Ie=C==="node-position"?w:S,be={x:Ie.x1*we+Ie.x2*ve,y:Ie.y1*we+Ie.y2*ve};T.ctrlpts.push(be.x+k.x*De,be.y+k.y*De)}},po.findTaxiPoints=function(h,l){var d=h._private.rscratch;d.edgeType="segments";var m="vertical",v="horizontal",T="leftward",k="rightward",w="downward",S="upward",C="auto",R=l.posPts,L=l.srcW,z=l.srcH,V=l.tgtW,j=l.tgtH,Q=h.pstyle("edge-distances").value,ne=Q!=="node-position",Z=h.pstyle("taxi-direction").value,ie=Z,ae=h.pstyle("taxi-turn"),me=ae.units==="%",De=ae.pfValue,we=De<0,ve=h.pstyle("taxi-turn-min-distance").pfValue,Ie=ne?(L+V)/2:0,be=ne?(z+j)/2:0,Oe=R.x2-R.x1,Be=R.y2-R.y1,Ne=a(function(cr,cn){return cr>0?Math.max(cr-cn,0):Math.min(cr+cn,0)},"subDWH"),Xe=Ne(Oe,Ie),qe=Ne(Be,be),ot=!1;ie===C?Z=Math.abs(Xe)>Math.abs(qe)?v:m:ie===S||ie===w?(Z=m,ot=!0):(ie===T||ie===k)&&(Z=v,ot=!0);var Ke=Z===m,Je=Ke?qe:Xe,lt=Ke?Be:Oe,ht=mM(lt),xt=!1;!(ot&&(me||we))&&(ie===w&&lt<0||ie===S&&lt>0||ie===T&&lt>0||ie===k&&lt<0)&&(ht*=-1,Je=ht*Math.abs(Je),xt=!0);var ut;if(me){var yt=De<0?1+De:De;ut=yt*Je}else{var Ct=De<0?Je:0;ut=Ct+De*ht}var At=a(function(cr){return Math.abs(cr)<ve||Math.abs(cr)>=Math.abs(Je)},"getIsTooClose"),wt=At(ut),Tt=At(Math.abs(Je)-Math.abs(ut)),st=wt||Tt;if(st&&!xt)if(Ke){var St=Math.abs(lt)<=z/2,Rt=Math.abs(Oe)<=V/2;if(St){var zt=(R.x1+R.x2)/2,Vt=R.y1,Dr=R.y2;d.segpts=[zt,Vt,zt,Dr]}else if(Rt){var Mr=(R.y1+R.y2)/2,Wt=R.x1,$t=R.x2;d.segpts=[Wt,Mr,$t,Mr]}else d.segpts=[R.x1,R.y2]}else{var wr=Math.abs(lt)<=L/2,or=Math.abs(Be)<=j/2;if(wr){var Ht=(R.y1+R.y2)/2,fr=R.x1,Qr=R.x2;d.segpts=[fr,Ht,Qr,Ht]}else if(or){var Br=(R.x1+R.x2)/2,Ar=R.y1,Ft=R.y2;d.segpts=[Br,Ar,Br,Ft]}else d.segpts=[R.x2,R.y1]}else if(Ke){var Se=R.y1+ut+(ne?z/2*ht:0),mt=R.x1,Dt=R.x2;d.segpts=[mt,Se,Dt,Se]}else{var kt=R.x1+ut+(ne?L/2*ht:0),_t=R.y1,qr=R.y2;d.segpts=[kt,_t,kt,qr]}},po.tryToCorrectInvalidPoints=function(h,l){var d=h._private.rscratch;if(d.edgeType==="bezier"){var m=l.srcPos,v=l.tgtPos,T=l.srcW,k=l.srcH,w=l.tgtW,S=l.tgtH,C=l.srcShape,R=l.tgtShape,L=!B(d.startX)||!B(d.startY),z=!B(d.arrowStartX)||!B(d.arrowStartY),V=!B(d.endX)||!B(d.endY),j=!B(d.arrowEndX)||!B(d.arrowEndY),Q=3,ne=this.getArrowWidth(h.pstyle("width").pfValue,h.pstyle("arrow-scale").value)*this.arrowShapeWidth,Z=Q*ne,ie=jh({x:d.ctrlpts[0],y:d.ctrlpts[1]},{x:d.startX,y:d.startY}),ae=ie<Z,me=jh({x:d.ctrlpts[0],y:d.ctrlpts[1]},{x:d.endX,y:d.endY}),De=me<Z,we=!1;if(L||z||ae){we=!0;var ve={x:d.ctrlpts[0]-m.x,y:d.ctrlpts[1]-m.y},Ie=Math.sqrt(ve.x*ve.x+ve.y*ve.y),be={x:ve.x/Ie,y:ve.y/Ie},Oe=Math.max(T,k),Be={x:d.ctrlpts[0]+be.x*2*Oe,y:d.ctrlpts[1]+be.y*2*Oe},Ne=C.intersectLine(m.x,m.y,T,k,Be.x,Be.y,0);ae?(d.ctrlpts[0]=d.ctrlpts[0]+be.x*(Z-ie),d.ctrlpts[1]=d.ctrlpts[1]+be.y*(Z-ie)):(d.ctrlpts[0]=Ne[0]+be.x*Z,d.ctrlpts[1]=Ne[1]+be.y*Z)}if(V||j||De){we=!0;var Xe={x:d.ctrlpts[0]-v.x,y:d.ctrlpts[1]-v.y},qe=Math.sqrt(Xe.x*Xe.x+Xe.y*Xe.y),ot={x:Xe.x/qe,y:Xe.y/qe},Ke=Math.max(T,k),Je={x:d.ctrlpts[0]+ot.x*2*Ke,y:d.ctrlpts[1]+ot.y*2*Ke},lt=R.intersectLine(v.x,v.y,w,S,Je.x,Je.y,0);De?(d.ctrlpts[0]=d.ctrlpts[0]+ot.x*(Z-me),d.ctrlpts[1]=d.ctrlpts[1]+ot.y*(Z-me)):(d.ctrlpts[0]=lt[0]+ot.x*Z,d.ctrlpts[1]=lt[1]+ot.y*Z)}we&&this.findEndpoints(h)}},po.storeAllpts=function(h){var l=h._private.rscratch;if(l.edgeType==="multibezier"||l.edgeType==="bezier"||l.edgeType==="self"||l.edgeType==="compound"){l.allpts=[],l.allpts.push(l.startX,l.startY);for(var d=0;d+1<l.ctrlpts.length;d+=2)l.allpts.push(l.ctrlpts[d],l.ctrlpts[d+1]),d+3<l.ctrlpts.length&&l.allpts.push((l.ctrlpts[d]+l.ctrlpts[d+2])/2,(l.ctrlpts[d+1]+l.ctrlpts[d+3])/2);l.allpts.push(l.endX,l.endY);var m,v;l.ctrlpts.length/2%2===0?(m=l.allpts.length/2-1,l.midX=l.allpts[m],l.midY=l.allpts[m+1]):(m=l.allpts.length/2-3,v=.5,l.midX=ga(l.allpts[m],l.allpts[m+2],l.allpts[m+4],v),l.midY=ga(l.allpts[m+1],l.allpts[m+3],l.allpts[m+5],v))}else if(l.edgeType==="straight")l.allpts=[l.startX,l.startY,l.endX,l.endY],l.midX=(l.startX+l.endX+l.arrowStartX+l.arrowEndX)/4,l.midY=(l.startY+l.endY+l.arrowStartY+l.arrowEndY)/4;else if(l.edgeType==="segments")if(l.allpts=[],l.allpts.push(l.startX,l.startY),l.allpts.push.apply(l.allpts,l.segpts),l.allpts.push(l.endX,l.endY),l.segpts.length%4===0){var T=l.segpts.length/2,k=T-2;l.midX=(l.segpts[k]+l.segpts[T])/2,l.midY=(l.segpts[k+1]+l.segpts[T+1])/2}else{var w=l.segpts.length/2-1;l.midX=l.segpts[w],l.midY=l.segpts[w+1]}},po.checkForInvalidEdgeWarning=function(h){var l=h[0]._private.rscratch;l.nodesOverlap||B(l.startX)&&B(l.startY)&&B(l.endX)&&B(l.endY)?l.loggedErr=!1:l.loggedErr||(l.loggedErr=!0,Kr("Edge `"+h.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},po.findEdgeControlPoints=function(h){var l=this;if(!(!h||h.length===0)){for(var d=this,m=d.cy,v=m.hasCompoundNodes(),T={map:new Xr,get:a(function(ve){var Ie=this.map.get(ve[0]);return Ie!=null?Ie.get(ve[1]):null},"get"),set:a(function(ve,Ie){var be=this.map.get(ve[0]);be==null&&(be=new Xr,this.map.set(ve[0],be)),be.set(ve[1],Ie)},"set")},k=[],w=[],S=0;S<h.length;S++){var C=h[S],R=C._private,L=C.pstyle("curve-style").value;if(!(C.removed()||!C.takesUpSpace())){if(L==="haystack"){w.push(C);continue}var z=L==="unbundled-bezier"||L==="segments"||L==="straight"||L==="straight-triangle"||L==="taxi",V=L==="unbundled-bezier"||L==="bezier",j=R.source,Q=R.target,ne=j.poolIndex(),Z=Q.poolIndex(),ie=[ne,Z].sort(),ae=T.get(ie);ae==null&&(ae={eles:[]},T.set(ie,ae),k.push(ie)),ae.eles.push(C),z&&(ae.hasUnbundled=!0),V&&(ae.hasBezier=!0)}}for(var me=a(function(ve){var Ie=k[ve],be=T.get(Ie),Oe=void 0;if(!be.hasUnbundled){var Be=be.eles[0].parallelEdges().filter(function(Ft){return Ft.isBundledBezier()});_0(be.eles),Be.forEach(function(Ft){return be.eles.push(Ft)}),be.eles.sort(function(Ft,Se){return Ft.poolIndex()-Se.poolIndex()})}var Ne=be.eles[0],Xe=Ne.source(),qe=Ne.target();if(Xe.poolIndex()>qe.poolIndex()){var ot=Xe;Xe=qe,qe=ot}var Ke=be.srcPos=Xe.position(),Je=be.tgtPos=qe.position(),lt=be.srcW=Xe.outerWidth(),ht=be.srcH=Xe.outerHeight(),xt=be.tgtW=qe.outerWidth(),ut=be.tgtH=qe.outerHeight(),yt=be.srcShape=d.nodeShapes[l.getNodeShape(Xe)],Ct=be.tgtShape=d.nodeShapes[l.getNodeShape(qe)];be.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var At=0;At<be.eles.length;At++){var wt=be.eles[At],Tt=wt[0]._private.rscratch,st=wt.pstyle("curve-style").value,St=st==="unbundled-bezier"||st==="segments"||st==="taxi",Rt=!Xe.same(wt.source());if(!be.calculatedIntersection&&Xe!==qe&&(be.hasBezier||be.hasUnbundled)){be.calculatedIntersection=!0;var zt=yt.intersectLine(Ke.x,Ke.y,lt,ht,Je.x,Je.y,0),Vt=be.srcIntn=zt,Dr=Ct.intersectLine(Je.x,Je.y,xt,ut,Ke.x,Ke.y,0),Mr=be.tgtIntn=Dr,Wt=be.intersectionPts={x1:zt[0],x2:Dr[0],y1:zt[1],y2:Dr[1]},$t=be.posPts={x1:Ke.x,x2:Je.x,y1:Ke.y,y2:Je.y},wr=Dr[1]-zt[1],or=Dr[0]-zt[0],Ht=Math.sqrt(or*or+wr*wr),fr=be.vector={x:or,y:wr},Qr=be.vectorNorm={x:fr.x/Ht,y:fr.y/Ht},Br={x:-Qr.y,y:Qr.x};be.nodesOverlap=!B(Ht)||Ct.checkPoint(zt[0],zt[1],0,xt,ut,Je.x,Je.y)||yt.checkPoint(Dr[0],Dr[1],0,lt,ht,Ke.x,Ke.y),be.vectorNormInverse=Br,Oe={nodesOverlap:be.nodesOverlap,dirCounts:be.dirCounts,calculatedIntersection:!0,hasBezier:be.hasBezier,hasUnbundled:be.hasUnbundled,eles:be.eles,srcPos:Je,tgtPos:Ke,srcW:xt,srcH:ut,tgtW:lt,tgtH:ht,srcIntn:Mr,tgtIntn:Vt,srcShape:Ct,tgtShape:yt,posPts:{x1:$t.x2,y1:$t.y2,x2:$t.x1,y2:$t.y1},intersectionPts:{x1:Wt.x2,y1:Wt.y2,x2:Wt.x1,y2:Wt.y1},vector:{x:-fr.x,y:-fr.y},vectorNorm:{x:-Qr.x,y:-Qr.y},vectorNormInverse:{x:-Br.x,y:-Br.y}}}var Ar=Rt?Oe:be;Tt.nodesOverlap=Ar.nodesOverlap,Tt.srcIntn=Ar.srcIntn,Tt.tgtIntn=Ar.tgtIntn,v&&(Xe.isParent()||Xe.isChild()||qe.isParent()||qe.isChild())&&(Xe.parents().anySame(qe)||qe.parents().anySame(Xe)||Xe.same(qe)&&Xe.isParent())?l.findCompoundLoopPoints(wt,Ar,At,St):Xe===qe?l.findLoopPoints(wt,Ar,At,St):st==="segments"?l.findSegmentsPoints(wt,Ar):st==="taxi"?l.findTaxiPoints(wt,Ar):st==="straight"||!St&&be.eles.length%2===1&&At===Math.floor(be.eles.length/2)?l.findStraightEdgePoints(wt):l.findBezierPoints(wt,Ar,At,St,Rt),l.findEndpoints(wt),l.tryToCorrectInvalidPoints(wt,Ar),l.checkForInvalidEdgeWarning(wt),l.storeAllpts(wt),l.storeEdgeProjections(wt),l.calculateArrowAngles(wt),l.recalculateEdgeLabelProjections(wt),l.calculateLabelAngles(wt)}},"_loop"),De=0;De<k.length;De++)me(De);this.findHaystackPoints(w)}};function J8(h){var l=[];if(h!=null){for(var d=0;d<h.length;d+=2){var m=h[d],v=h[d+1];l.push({x:m,y:v})}return l}}a(J8,"getPts"),po.getSegmentPoints=function(h){var l=h[0]._private.rscratch,d=l.edgeType;if(d==="segments")return this.recalculateRenderedStyle(h),J8(l.segpts)},po.getControlPoints=function(h){var l=h[0]._private.rscratch,d=l.edgeType;if(d==="bezier"||d==="multibezier"||d==="self"||d==="compound")return this.recalculateRenderedStyle(h),J8(l.ctrlpts)},po.getEdgeMidpoint=function(h){var l=h[0]._private.rscratch;return this.recalculateRenderedStyle(h),{x:l.midX,y:l.midY}};var $0={};$0.manualEndptToPx=function(h,l){var d=this,m=h.position(),v=h.outerWidth(),T=h.outerHeight();if(l.value.length===2){var k=[l.pfValue[0],l.pfValue[1]];return l.units[0]==="%"&&(k[0]=k[0]*v),l.units[1]==="%"&&(k[1]=k[1]*T),k[0]+=m.x,k[1]+=m.y,k}else{var w=l.pfValue[0];w=-Math.PI/2+w;var S=2*Math.max(v,T),C=[m.x+Math.cos(w)*S,m.y+Math.sin(w)*S];return d.nodeShapes[this.getNodeShape(h)].intersectLine(m.x,m.y,v,T,C[0],C[1],0)}},$0.findEndpoints=function(h){var l=this,d,m=h.source()[0],v=h.target()[0],T=m.position(),k=v.position(),w=h.pstyle("target-arrow-shape").value,S=h.pstyle("source-arrow-shape").value,C=h.pstyle("target-distance-from-node").pfValue,R=h.pstyle("source-distance-from-node").pfValue,L=h.pstyle("curve-style").value,z=h._private.rscratch,V=z.edgeType,j=L==="taxi",Q=V==="self"||V==="compound",ne=V==="bezier"||V==="multibezier"||Q,Z=V!=="bezier",ie=V==="straight"||V==="segments",ae=V==="segments",me=ne||Z||ie,De=Q||j,we=h.pstyle("source-endpoint"),ve=De?"outside-to-node":we.value,Ie=h.pstyle("target-endpoint"),be=De?"outside-to-node":Ie.value;z.srcManEndpt=we,z.tgtManEndpt=Ie;var Oe,Be,Ne,Xe;if(ne){var qe=[z.ctrlpts[0],z.ctrlpts[1]],ot=Z?[z.ctrlpts[z.ctrlpts.length-2],z.ctrlpts[z.ctrlpts.length-1]]:qe;Oe=ot,Be=qe}else if(ie){var Ke=ae?z.segpts.slice(0,2):[k.x,k.y],Je=ae?z.segpts.slice(z.segpts.length-2):[T.x,T.y];Oe=Je,Be=Ke}if(be==="inside-to-node")d=[k.x,k.y];else if(Ie.units)d=this.manualEndptToPx(v,Ie);else if(be==="outside-to-line")d=z.tgtIntn;else if(be==="outside-to-node"||be==="outside-to-node-or-label"?Ne=Oe:(be==="outside-to-line"||be==="outside-to-line-or-label")&&(Ne=[T.x,T.y]),d=l.nodeShapes[this.getNodeShape(v)].intersectLine(k.x,k.y,v.outerWidth(),v.outerHeight(),Ne[0],Ne[1],0),be==="outside-to-node-or-label"||be==="outside-to-line-or-label"){var lt=v._private.rscratch,ht=lt.labelWidth,xt=lt.labelHeight,ut=lt.labelX,yt=lt.labelY,Ct=ht/2,At=xt/2,wt=v.pstyle("text-valign").value;wt==="top"?yt-=At:wt==="bottom"&&(yt+=At);var Tt=v.pstyle("text-halign").value;Tt==="left"?ut-=Ct:Tt==="right"&&(ut+=Ct);var st=S0(Ne[0],Ne[1],[ut-Ct,yt-At,ut+Ct,yt-At,ut+Ct,yt+At,ut-Ct,yt+At],k.x,k.y);if(st.length>0){var St=T,Rt=Yh(St,Op(d)),zt=Yh(St,Op(st)),Vt=Rt;if(zt<Rt&&(d=st,Vt=zt),st.length>2){var Dr=Yh(St,{x:st[2],y:st[3]});Dr<Vt&&(d=[st[2],st[3]])}}}var Mr=Yx(d,Oe,l.arrowShapes[w].spacing(h)+C),Wt=Yx(d,Oe,l.arrowShapes[w].gap(h)+C);if(z.endX=Wt[0],z.endY=Wt[1],z.arrowEndX=Mr[0],z.arrowEndY=Mr[1],ve==="inside-to-node")d=[T.x,T.y];else if(we.units)d=this.manualEndptToPx(m,we);else if(ve==="outside-to-line")d=z.srcIntn;else if(ve==="outside-to-node"||ve==="outside-to-node-or-label"?Xe=Be:(ve==="outside-to-line"||ve==="outside-to-line-or-label")&&(Xe=[k.x,k.y]),d=l.nodeShapes[this.getNodeShape(m)].intersectLine(T.x,T.y,m.outerWidth(),m.outerHeight(),Xe[0],Xe[1],0),ve==="outside-to-node-or-label"||ve==="outside-to-line-or-label"){var $t=m._private.rscratch,wr=$t.labelWidth,or=$t.labelHeight,Ht=$t.labelX,fr=$t.labelY,Qr=wr/2,Br=or/2,Ar=m.pstyle("text-valign").value;Ar==="top"?fr-=Br:Ar==="bottom"&&(fr+=Br);var Ft=m.pstyle("text-halign").value;Ft==="left"?Ht-=Qr:Ft==="right"&&(Ht+=Qr);var Se=S0(Xe[0],Xe[1],[Ht-Qr,fr-Br,Ht+Qr,fr-Br,Ht+Qr,fr+Br,Ht-Qr,fr+Br],T.x,T.y);if(Se.length>0){var mt=k,Dt=Yh(mt,Op(d)),kt=Yh(mt,Op(Se)),_t=Dt;if(kt<Dt&&(d=[Se[0],Se[1]],_t=kt),Se.length>2){var qr=Yh(mt,{x:Se[2],y:Se[3]});qr<_t&&(d=[Se[2],Se[3]])}}}var Bt=Yx(d,Be,l.arrowShapes[S].spacing(h)+R),cr=Yx(d,Be,l.arrowShapes[S].gap(h)+R);z.startX=cr[0],z.startY=cr[1],z.arrowStartX=Bt[0],z.arrowStartY=Bt[1],me&&(!B(z.startX)||!B(z.startY)||!B(z.endX)||!B(z.endY)?z.badLine=!0:z.badLine=!1)},$0.getSourceEndpoint=function(h){var l=h[0]._private.rscratch;switch(this.recalculateRenderedStyle(h),l.edgeType){case"haystack":return{x:l.haystackPts[0],y:l.haystackPts[1]};default:return{x:l.arrowStartX,y:l.arrowStartY}}},$0.getTargetEndpoint=function(h){var l=h[0]._private.rscratch;switch(this.recalculateRenderedStyle(h),l.edgeType){case"haystack":return{x:l.haystackPts[2],y:l.haystackPts[3]};default:return{x:l.arrowEndX,y:l.arrowEndY}}};var gS={};function aTe(h,l,d){for(var m=a(function(C,R,L,z){return ga(C,R,L,z)},"qbezierAt$1"),v=l._private,T=v.rstyle.bezierPts,k=0;k<h.bezierProjPcts.length;k++){var w=h.bezierProjPcts[k];T.push({x:m(d[0],d[2],d[4],w),y:m(d[1],d[3],d[5],w)})}}a(aTe,"pushBezierPts"),gS.storeEdgeProjections=function(h){var l=h._private,d=l.rscratch,m=d.edgeType;if(l.rstyle.bezierPts=null,l.rstyle.linePts=null,l.rstyle.haystackPts=null,m==="multibezier"||m==="bezier"||m==="self"||m==="compound"){l.rstyle.bezierPts=[];for(var v=0;v+5<d.allpts.length;v+=4)aTe(this,h,d.allpts.slice(v,v+6))}else if(m==="segments")for(var T=l.rstyle.linePts=[],v=0;v+1<d.allpts.length;v+=2)T.push({x:d.allpts[v],y:d.allpts[v+1]});else if(m==="haystack"){var k=d.haystackPts;l.rstyle.haystackPts=[{x:k[0],y:k[1]},{x:k[2],y:k[3]}]}l.rstyle.arrowWidth=this.getArrowWidth(h.pstyle("width").pfValue,h.pstyle("arrow-scale").value)*this.arrowShapeWidth},gS.recalculateEdgeProjections=function(h){this.findEdgeControlPoints(h)};var lc={};lc.recalculateNodeLabelProjection=function(h){var l=h.pstyle("label").strValue;if(!ee(l)){var d,m,v=h._private,T=h.width(),k=h.height(),w=h.padding(),S=h.position(),C=h.pstyle("text-halign").strValue,R=h.pstyle("text-valign").strValue,L=v.rscratch,z=v.rstyle;switch(C){case"left":d=S.x-T/2-w;break;case"right":d=S.x+T/2+w;break;default:d=S.x}switch(R){case"top":m=S.y-k/2-w;break;case"bottom":m=S.y+k/2+w;break;default:m=S.y}L.labelX=d,L.labelY=m,z.labelX=d,z.labelY=m,this.calculateLabelAngles(h),this.applyLabelDimensions(h)}};var e7=a(function(l,d){var m=Math.atan(d/l);return l===0&&m<0&&(m=m*-1),m},"lineAngleFromDelta"),t7=a(function(l,d){var m=d.x-l.x,v=d.y-l.y;return e7(m,v)},"lineAngle"),oTe=a(function(l,d,m,v){var T=E0(0,v-.001,1),k=E0(0,v+.001,1),w=Mp(l,d,m,T),S=Mp(l,d,m,k);return t7(w,S)},"bezierAngle");lc.recalculateEdgeLabelProjections=function(h){var l,d=h._private,m=d.rscratch,v=this,T={mid:h.pstyle("label").strValue,source:h.pstyle("source-label").strValue,target:h.pstyle("target-label").strValue};if(T.mid||T.source||T.target){l={x:m.midX,y:m.midY};var k=a(function(L,z,V){Mt(d.rscratch,L,z,V),Mt(d.rstyle,L,z,V)},"setRs");k("labelX",null,l.x),k("labelY",null,l.y);var w=e7(m.midDispX,m.midDispY);k("labelAutoAngle",null,w);var S=a(function R(){if(R.cache)return R.cache;for(var L=[],z=0;z+5<m.allpts.length;z+=4){var V={x:m.allpts[z],y:m.allpts[z+1]},j={x:m.allpts[z+2],y:m.allpts[z+3]},Q={x:m.allpts[z+4],y:m.allpts[z+5]};L.push({p0:V,p1:j,p2:Q,startDist:0,length:0,segments:[]})}var ne=d.rstyle.bezierPts,Z=v.bezierProjPcts.length;function ie(ve,Ie,be,Oe,Be){var Ne=jh(Ie,be),Xe=ve.segments[ve.segments.length-1],qe={p0:Ie,p1:be,t0:Oe,t1:Be,startDist:Xe?Xe.startDist+Xe.length:0,length:Ne};ve.segments.push(qe),ve.length+=Ne}a(ie,"addSegment");for(var ae=0;ae<L.length;ae++){var me=L[ae],De=L[ae-1];De&&(me.startDist=De.startDist+De.length),ie(me,me.p0,ne[ae*Z],0,v.bezierProjPcts[0]);for(var we=0;we<Z-1;we++)ie(me,ne[ae*Z+we],ne[ae*Z+we+1],v.bezierProjPcts[we],v.bezierProjPcts[we+1]);ie(me,ne[ae*Z+Z-1],me.p2,v.bezierProjPcts[Z-1],1)}return R.cache=L},"createControlPointInfo"),C=a(function(L){var z,V=L==="source";if(T[L]){var j=h.pstyle(L+"-text-offset").pfValue;switch(m.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var Q=S(),ne,Z=0,ie=0,ae=0;ae<Q.length;ae++){for(var me=Q[V?ae:Q.length-1-ae],De=0;De<me.segments.length;De++){var we=me.segments[V?De:me.segments.length-1-De],ve=ae===Q.length-1&&De===me.segments.length-1;if(Z=ie,ie+=we.length,ie>=j||ve){ne={cp:me,segment:we};break}}if(ne)break}var Ie=ne.cp,be=ne.segment,Oe=(j-Z)/be.length,Be=be.t1-be.t0,Ne=V?be.t0+Be*Oe:be.t1-Be*Oe;Ne=E0(0,Ne,1),l=Mp(Ie.p0,Ie.p1,Ie.p2,Ne),z=oTe(Ie.p0,Ie.p1,Ie.p2,Ne);break}case"straight":case"segments":case"haystack":{for(var Xe=0,qe,ot,Ke,Je,lt=m.allpts.length,ht=0;ht+3<lt&&(V?(Ke={x:m.allpts[ht],y:m.allpts[ht+1]},Je={x:m.allpts[ht+2],y:m.allpts[ht+3]}):(Ke={x:m.allpts[lt-2-ht],y:m.allpts[lt-1-ht]},Je={x:m.allpts[lt-4-ht],y:m.allpts[lt-3-ht]}),qe=jh(Ke,Je),ot=Xe,Xe+=qe,!(Xe>=j));ht+=2);var xt=j-ot,ut=xt/qe;ut=E0(0,ut,1),l=mve(Ke,Je,ut),z=t7(Ke,Je);break}}k("labelX",L,l.x),k("labelY",L,l.y),k("labelAutoAngle",L,z)}},"calculateEndProjection");C("source"),C("target"),this.applyLabelDimensions(h)}},lc.applyLabelDimensions=function(h){this.applyPrefixedLabelDimensions(h),h.isEdge()&&(this.applyPrefixedLabelDimensions(h,"source"),this.applyPrefixedLabelDimensions(h,"target"))},lc.applyPrefixedLabelDimensions=function(h,l){var d=h._private,m=this.getLabelText(h,l),v=this.calculateLabelDimensions(h,m),T=h.pstyle("line-height").pfValue,k=h.pstyle("text-wrap").strValue,w=tt(d.rscratch,"labelWrapCachedLines",l)||[],S=k!=="wrap"?1:Math.max(w.length,1),C=v.height/S,R=C*T,L=v.width,z=v.height+(S-1)*(T-1)*C;Mt(d.rstyle,"labelWidth",l,L),Mt(d.rscratch,"labelWidth",l,L),Mt(d.rstyle,"labelHeight",l,z),Mt(d.rscratch,"labelHeight",l,z),Mt(d.rscratch,"labelLineHeight",l,R)},lc.getLabelText=function(h,l){var d=h._private,m=l?l+"-":"",v=h.pstyle(m+"label").strValue,T=h.pstyle("text-transform").value,k=a(function(xt,ut){return ut?(Mt(d.rscratch,xt,l,ut),ut):tt(d.rscratch,xt,l)},"rscratch");if(!v)return"";T=="none"||(T=="uppercase"?v=v.toUpperCase():T=="lowercase"&&(v=v.toLowerCase()));var w=h.pstyle("text-wrap").value;if(w==="wrap"){var S=k("labelKey");if(S!=null&&k("labelWrapKey")===S)return k("labelWrapCachedText");for(var C="\u200B",R=v.split(`
`),L=h.pstyle("text-max-width").pfValue,z=h.pstyle("text-overflow-wrap").value,V=z==="anywhere",j=[],Q=/[\s\u200b]+/,ne=V?"":" ",Z=0;Z<R.length;Z++){var ie=R[Z],ae=this.calculateLabelDimensions(h,ie),me=ae.width;if(V){var De=ie.split("").join(C);ie=De}if(me>L){for(var we=ie.split(Q),ve="",Ie=0;Ie<we.length;Ie++){var be=we[Ie],Oe=ve.length===0?be:ve+ne+be,Be=this.calculateLabelDimensions(h,Oe),Ne=Be.width;Ne<=L?ve+=be+ne:(ve&&j.push(ve),ve=be+ne)}ve.match(/^[\s\u200b]+$/)||j.push(ve)}else j.push(ie)}k("labelWrapCachedLines",j),v=k("labelWrapCachedText",j.join(`
`)),k("labelWrapKey",S)}else if(w==="ellipsis"){var Xe=h.pstyle("text-max-width").pfValue,qe="",ot="\u2026",Ke=!1;if(this.calculateLabelDimensions(h,v).width<Xe)return v;for(var Je=0;Je<v.length;Je++){var lt=this.calculateLabelDimensions(h,qe+v[Je]+ot).width;if(lt>Xe)break;qe+=v[Je],Je===v.length-1&&(Ke=!0)}return Ke||(qe+=ot),qe}return v},lc.getLabelJustification=function(h){var l=h.pstyle("text-justification").strValue,d=h.pstyle("text-halign").strValue;if(l==="auto")if(h.isNode())switch(d){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return l},lc.calculateLabelDimensions=function(h,l){var d=this,m=Bn(l,h._private.labelDimsKey),v=d.labelDimCache||(d.labelDimCache=[]),T=v[m];if(T!=null)return T;var k=0,w=h.pstyle("font-style").strValue,S=h.pstyle("font-size").pfValue,C=h.pstyle("font-family").strValue,R=h.pstyle("font-weight").strValue,L=this.labelCalcCanvas,z=this.labelCalcCanvasContext;if(!L){L=this.labelCalcCanvas=document.createElement("canvas"),z=this.labelCalcCanvasContext=L.getContext("2d");var V=L.style;V.position="absolute",V.left="-9999px",V.top="-9999px",V.zIndex="-1",V.visibility="hidden",V.pointerEvents="none"}z.font="".concat(w," ").concat(R," ").concat(S,"px ").concat(C);for(var j=0,Q=0,ne=l.split(`
`),Z=0;Z<ne.length;Z++){var ie=ne[Z],ae=z.measureText(ie),me=Math.ceil(ae.width),De=S;j=Math.max(me,j),Q+=De}return j+=k,Q+=k,v[m]={width:j,height:Q}},lc.calculateLabelAngle=function(h,l){var d=h._private,m=d.rscratch,v=h.isEdge(),T=l?l+"-":"",k=h.pstyle(T+"text-rotation"),w=k.strValue;return w==="none"?0:v&&w==="autorotate"?m.labelAutoAngle:w==="autorotate"?0:k.pfValue},lc.calculateLabelAngles=function(h){var l=this,d=h.isEdge(),m=h._private,v=m.rscratch;v.labelAngle=l.calculateLabelAngle(h),d&&(v.sourceLabelAngle=l.calculateLabelAngle(h,"source"),v.targetLabelAngle=l.calculateLabelAngle(h,"target"))};var r7={},n7=28,i7=!1;r7.getNodeShape=function(h){var l=this,d=h.pstyle("shape").value;if(d==="cutrectangle"&&(h.width()<n7||h.height()<n7))return i7||(Kr("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),i7=!0),"rectangle";if(h.isParent())return d==="rectangle"||d==="roundrectangle"||d==="round-rectangle"||d==="cutrectangle"||d==="cut-rectangle"||d==="barrel"?d:"rectangle";if(d==="polygon"){var m=h.pstyle("shape-polygon-points").value;return l.nodeShapes.makePolygon(m).name}return d};var _b={};_b.registerCalculationListeners=function(){var h=this.cy,l=h.collection(),d=this,m=a(function(k){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(l.merge(k),w)for(var S=0;S<k.length;S++){var C=k[S],R=C._private,L=R.rstyle;L.clean=!1,L.cleanConnected=!1}},"enqueue");d.binder(h).on("bounds.* dirty.*",a(function(k){var w=k.target;m(w)},"onDirtyBounds")).on("style.* background.*",a(function(k){var w=k.target;m(w,!1)},"onDirtyStyle"));var v=a(function(k){if(k){var w=d.onUpdateEleCalcsFns;l.cleanStyle();for(var S=0;S<l.length;S++){var C=l[S],R=C._private.rstyle;C.isNode()&&!R.cleanConnected&&(m(C.connectedEdges()),R.cleanConnected=!0)}if(w)for(var L=0;L<w.length;L++){var z=w[L];z(k,l)}d.recalculateRenderedStyle(l),l=h.collection()}},"updateEleCalcs");d.flushRenderedStyleQueue=function(){v(!0)},d.beforeRender(v,d.beforeRenderPriorities.eleCalcs)},_b.onUpdateEleCalcs=function(h){var l=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];l.push(h)},_b.recalculateRenderedStyle=function(h,l){var d=a(function(me){return me._private.rstyle.cleanConnected},"isCleanConnected"),m=[],v=[];if(!this.destroyed){l===void 0&&(l=!0);for(var T=0;T<h.length;T++){var k=h[T],w=k._private,S=w.rstyle;k.isEdge()&&(!d(k.source())||!d(k.target()))&&(S.clean=!1),!(l&&S.clean||k.removed())&&k.pstyle("display").value!=="none"&&(w.group==="nodes"?v.push(k):m.push(k),S.clean=!0)}for(var C=0;C<v.length;C++){var R=v[C],L=R._private,z=L.rstyle,V=R.position();this.recalculateNodeLabelProjection(R),z.nodeX=V.x,z.nodeY=V.y,z.nodeW=R.pstyle("width").pfValue,z.nodeH=R.pstyle("height").pfValue}this.recalculateEdgeProjections(m);for(var j=0;j<m.length;j++){var Q=m[j],ne=Q._private,Z=ne.rstyle,ie=ne.rscratch;Z.srcX=ie.arrowStartX,Z.srcY=ie.arrowStartY,Z.tgtX=ie.arrowEndX,Z.tgtY=ie.arrowEndY,Z.midX=ie.midX,Z.midY=ie.midY,Z.labelAngle=ie.labelAngle,Z.sourceLabelAngle=ie.sourceLabelAngle,Z.targetLabelAngle=ie.targetLabelAngle}}};var wb={};wb.updateCachedGrabbedEles=function(){var h=this.cachedZSortedEles;if(h){h.drag=[],h.nondrag=[];for(var l=[],d=0;d<h.length;d++){var m=h[d],v=m._private.rscratch;m.grabbed()&&!m.isParent()?l.push(m):v.inDragLayer?h.drag.push(m):h.nondrag.push(m)}for(var d=0;d<l.length;d++){var m=l[d];h.drag.push(m)}}},wb.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null},wb.getCachedZSortedEles=function(h){if(h||!this.cachedZSortedEles){var l=this.cy.mutableElements().toArray();l.sort(S8),l.interactive=l.filter(function(d){return d.interactive()}),this.cachedZSortedEles=l,this.updateCachedGrabbedEles()}else l=this.cachedZSortedEles;return l};var a7={};[Jh,kb,po,$0,gS,lc,r7,_b,wb].forEach(function(h){pe(a7,h)});var o7={};o7.getCachedImage=function(h,l,d){var m=this,v=m.imageCache=m.imageCache||{},T=v[h];if(T)return T.image.complete||T.image.addEventListener("load",d),T.image;T=v[h]=v[h]||{};var k=T.image=new Image;k.addEventListener("load",d),k.addEventListener("error",function(){k.error=!0});var w="data:",S=h.substring(0,w.length).toLowerCase()===w;return S||(k.crossOrigin=l),k.src=h,k};var Jp={};Jp.registerBinding=function(h,l,d,m){var v=Array.prototype.slice.apply(arguments,[1]),T=this.binder(h);return T.on.apply(T,v)},Jp.binder=function(h){var l=this,d=h===window||h===document||h===document.body||H(h);if(l.supportsPassiveEvents==null){var m=!1;try{var v=Object.defineProperty({},"passive",{get:a(function(){return m=!0,!0},"get")});window.addEventListener("test",null,v)}catch{}l.supportsPassiveEvents=m}var T=a(function(w,S,C){var R=Array.prototype.slice.call(arguments);return d&&l.supportsPassiveEvents&&(R[2]={capture:C??!1,passive:!1,once:!1}),l.bindings.push({target:h,args:R}),(h.addEventListener||h.on).apply(h,R),this},"on");return{on:T,addEventListener:T,addListener:T,bind:T}},Jp.nodeIsDraggable=function(h){return h&&h.isNode()&&!h.locked()&&h.grabbable()},Jp.nodeIsGrabbable=function(h){return this.nodeIsDraggable(h)&&h.interactive()},Jp.load=function(){var h=this,l=a(function(Se){return Se.selected()},"isSelected"),d=a(function(Se,mt,Dt,kt){Se==null&&(Se=h.cy);for(var _t=0;_t<mt.length;_t++){var qr=mt[_t];Se.emit({originalEvent:Dt,type:qr,position:kt})}},"triggerEvents"),m=a(function(Se){return Se.shiftKey||Se.metaKey||Se.ctrlKey},"isMultSelKeyDown"),v=a(function(Se,mt){var Dt=!0;if(h.cy.hasCompoundNodes()&&Se&&Se.pannable())for(var kt=0;mt&&kt<mt.length;kt++){var Se=mt[kt];if(Se.isNode()&&Se.isParent()&&!Se.pannable()){Dt=!1;break}}else Dt=!0;return Dt},"allowPanningPassthrough"),T=a(function(Se){Se[0]._private.grabbed=!0},"setGrabbed"),k=a(function(Se){Se[0]._private.grabbed=!1},"setFreed"),w=a(function(Se){Se[0]._private.rscratch.inDragLayer=!0},"setInDragLayer"),S=a(function(Se){Se[0]._private.rscratch.inDragLayer=!1},"setOutDragLayer"),C=a(function(Se){Se[0]._private.rscratch.isGrabTarget=!0},"setGrabTarget"),R=a(function(Se){Se[0]._private.rscratch.isGrabTarget=!1},"removeGrabTarget"),L=a(function(Se,mt){var Dt=mt.addToList,kt=Dt.has(Se);!kt&&Se.grabbable()&&!Se.locked()&&(Dt.merge(Se),T(Se))},"addToDragList"),z=a(function(Se,mt){if(Se.cy().hasCompoundNodes()&&!(mt.inDragLayer==null&&mt.addToList==null)){var Dt=Se.descendants();mt.inDragLayer&&(Dt.forEach(w),Dt.connectedEdges().forEach(w)),mt.addToList&&L(Dt,mt)}},"addDescendantsToDrag"),V=a(function(Se,mt){mt=mt||{};var Dt=Se.cy().hasCompoundNodes();mt.inDragLayer&&(Se.forEach(w),Se.neighborhood().stdFilter(function(kt){return!Dt||kt.isEdge()}).forEach(w)),mt.addToList&&Se.forEach(function(kt){L(kt,mt)}),z(Se,mt),ne(Se,{inDragLayer:mt.inDragLayer}),h.updateCachedGrabbedEles()},"addNodesToDrag"),j=V,Q=a(function(Se){Se&&(h.getCachedZSortedEles().forEach(function(mt){k(mt),S(mt),R(mt)}),h.updateCachedGrabbedEles())},"freeDraggedElements"),ne=a(function(Se,mt){if(!(mt.inDragLayer==null&&mt.addToList==null)&&Se.cy().hasCompoundNodes()){var Dt=Se.ancestors().orphans();if(!Dt.same(Se)){var kt=Dt.descendants().spawnSelf().merge(Dt).unmerge(Se).unmerge(Se.descendants()),_t=kt.connectedEdges();mt.inDragLayer&&(_t.forEach(w),kt.forEach(w)),mt.addToList&&kt.forEach(function(qr){L(qr,mt)})}}},"updateAncestorsInDragLayer"),Z=a(function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},"blurActiveDomElement"),ie=typeof MutationObserver<"u",ae=typeof ResizeObserver<"u";ie?(h.removeObserver=new MutationObserver(function(Ft){for(var Se=0;Se<Ft.length;Se++){var mt=Ft[Se],Dt=mt.removedNodes;if(Dt)for(var kt=0;kt<Dt.length;kt++){var _t=Dt[kt];if(_t===h.container){h.destroy();break}}}}),h.container.parentNode&&h.removeObserver.observe(h.container.parentNode,{childList:!0})):h.registerBinding(h.container,"DOMNodeRemoved",function(Ft){h.destroy()});var me=Er(function(){h.cy.resize()},100);ie&&(h.styleObserver=new MutationObserver(me),h.styleObserver.observe(h.container,{attributes:!0})),h.registerBinding(window,"resize",me),ae&&(h.resizeObserver=new ResizeObserver(me),h.resizeObserver.observe(h.container));var De=a(function(Se,mt){for(;Se!=null;)mt(Se),Se=Se.parentNode},"forEachUp"),we=a(function(){h.invalidateContainerClientCoordsCache()},"invalidateCoords");De(h.container,function(Ft){h.registerBinding(Ft,"transitionend",we),h.registerBinding(Ft,"animationend",we),h.registerBinding(Ft,"scroll",we)}),h.registerBinding(h.container,"contextmenu",function(Ft){Ft.preventDefault()});var ve=a(function(){return h.selection[4]!==0},"inBoxSelection"),Ie=a(function(Se){for(var mt=h.findContainerClientCoords(),Dt=mt[0],kt=mt[1],_t=mt[2],qr=mt[3],Bt=Se.touches?Se.touches:[Se],cr=!1,cn=0;cn<Bt.length;cn++){var Ln=Bt[cn];if(Dt<=Ln.clientX&&Ln.clientX<=Dt+_t&&kt<=Ln.clientY&&Ln.clientY<=kt+qr){cr=!0;break}}if(!cr)return!1;for(var Hr=h.container,_n=Se.target,zr=_n.parentNode,jr=!1;zr;){if(zr===Hr){jr=!0;break}zr=zr.parentNode}return!!jr},"eventInContainer");h.registerBinding(h.container,"mousedown",a(function(Se){if(Ie(Se)){Se.preventDefault(),Z(),h.hoverData.capture=!0,h.hoverData.which=Se.which;var mt=h.cy,Dt=[Se.clientX,Se.clientY],kt=h.projectIntoViewport(Dt[0],Dt[1]),_t=h.selection,qr=h.findNearestElements(kt[0],kt[1],!0,!1),Bt=qr[0],cr=h.dragData.possibleDragElements;h.hoverData.mdownPos=kt,h.hoverData.mdownGPos=Dt;var cn=a(function(){h.hoverData.tapholdCancelled=!1,clearTimeout(h.hoverData.tapholdTimeout),h.hoverData.tapholdTimeout=setTimeout(function(){if(!h.hoverData.tapholdCancelled){var wi=h.hoverData.down;wi?wi.emit({originalEvent:Se,type:"taphold",position:{x:kt[0],y:kt[1]}}):mt.emit({originalEvent:Se,type:"taphold",position:{x:kt[0],y:kt[1]}})}},h.tapholdDuration)},"checkForTaphold");if(Se.which==3){h.hoverData.cxtStarted=!0;var Ln={originalEvent:Se,type:"cxttapstart",position:{x:kt[0],y:kt[1]}};Bt?(Bt.activate(),Bt.emit(Ln),h.hoverData.down=Bt):mt.emit(Ln),h.hoverData.downTime=new Date().getTime(),h.hoverData.cxtDragged=!1}else if(Se.which==1){Bt&&Bt.activate();{if(Bt!=null&&h.nodeIsGrabbable(Bt)){var Hr=a(function(wi){return{originalEvent:Se,type:wi,position:{x:kt[0],y:kt[1]}}},"makeEvent"),_n=a(function(wi){wi.emit(Hr("grab"))},"triggerGrab");if(C(Bt),!Bt.selected())cr=h.dragData.possibleDragElements=mt.collection(),j(Bt,{addToList:cr}),Bt.emit(Hr("grabon")).emit(Hr("grab"));else{cr=h.dragData.possibleDragElements=mt.collection();var zr=mt.$(function(jr){return jr.isNode()&&jr.selected()&&h.nodeIsGrabbable(jr)});V(zr,{addToList:cr}),Bt.emit(Hr("grabon")),zr.forEach(_n)}h.redrawHint("eles",!0),h.redrawHint("drag",!0)}h.hoverData.down=Bt,h.hoverData.downs=qr,h.hoverData.downTime=new Date().getTime()}d(Bt,["mousedown","tapstart","vmousedown"],Se,{x:kt[0],y:kt[1]}),Bt==null?(_t[4]=1,h.data.bgActivePosistion={x:kt[0],y:kt[1]},h.redrawHint("select",!0),h.redraw()):Bt.pannable()&&(_t[4]=1),cn()}_t[0]=_t[2]=kt[0],_t[1]=_t[3]=kt[1]}},"mousedownHandler"),!1),h.registerBinding(window,"mousemove",a(function(Se){var mt=h.hoverData.capture;if(!(!mt&&!Ie(Se))){var Dt=!1,kt=h.cy,_t=kt.zoom(),qr=[Se.clientX,Se.clientY],Bt=h.projectIntoViewport(qr[0],qr[1]),cr=h.hoverData.mdownPos,cn=h.hoverData.mdownGPos,Ln=h.selection,Hr=null;!h.hoverData.draggingEles&&!h.hoverData.dragging&&!h.hoverData.selecting&&(Hr=h.findNearestElement(Bt[0],Bt[1],!0,!1));var _n=h.hoverData.last,zr=h.hoverData.down,jr=[Bt[0]-Ln[2],Bt[1]-Ln[3]],wi=h.dragData.possibleDragElements,Oa;if(cn){var ml=qr[0]-cn[0],gl=ml*ml,Ma=qr[1]-cn[1],Ps=Ma*Ma,mo=gl+Ps;h.hoverData.isOverThresholdDrag=Oa=mo>=h.desktopTapThreshold2}var ru=m(Se);Oa&&(h.hoverData.tapholdCancelled=!0);var pf=a(function(){var uc=h.hoverData.dragDelta=h.hoverData.dragDelta||[];uc.length===0?(uc.push(jr[0]),uc.push(jr[1])):(uc[0]+=jr[0],uc[1]+=jr[1])},"updateDragDelta");Dt=!0,d(Hr,["mousemove","vmousemove","tapdrag"],Se,{x:Bt[0],y:Bt[1]});var im=a(function(){h.data.bgActivePosistion=void 0,h.hoverData.selecting||kt.emit({originalEvent:Se,type:"boxstart",position:{x:Bt[0],y:Bt[1]}}),Ln[4]=1,h.hoverData.selecting=!0,h.redrawHint("select",!0),h.redraw()},"goIntoBoxMode");if(h.hoverData.which===3){if(Oa){var nd={originalEvent:Se,type:"cxtdrag",position:{x:Bt[0],y:Bt[1]}};zr?zr.emit(nd):kt.emit(nd),h.hoverData.cxtDragged=!0,(!h.hoverData.cxtOver||Hr!==h.hoverData.cxtOver)&&(h.hoverData.cxtOver&&h.hoverData.cxtOver.emit({originalEvent:Se,type:"cxtdragout",position:{x:Bt[0],y:Bt[1]}}),h.hoverData.cxtOver=Hr,Hr&&Hr.emit({originalEvent:Se,type:"cxtdragover",position:{x:Bt[0],y:Bt[1]}}))}}else if(h.hoverData.dragging){if(Dt=!0,kt.panningEnabled()&&kt.userPanningEnabled()){var am;if(h.hoverData.justStartedPan){var Ab=h.hoverData.mdownPos;am={x:(Bt[0]-Ab[0])*_t,y:(Bt[1]-Ab[1])*_t},h.hoverData.justStartedPan=!1}else am={x:jr[0]*_t,y:jr[1]*_t};kt.panBy(am),kt.emit("dragpan"),h.hoverData.dragged=!0}Bt=h.projectIntoViewport(Se.clientX,Se.clientY)}else if(Ln[4]==1&&(zr==null||zr.pannable())){if(Oa){if(!h.hoverData.dragging&&kt.boxSelectionEnabled()&&(ru||!kt.panningEnabled()||!kt.userPanningEnabled()))im();else if(!h.hoverData.selecting&&kt.panningEnabled()&&kt.userPanningEnabled()){var id=v(zr,h.hoverData.downs);id&&(h.hoverData.dragging=!0,h.hoverData.justStartedPan=!0,Ln[4]=0,h.data.bgActivePosistion=Op(cr),h.redrawHint("select",!0),h.redraw())}zr&&zr.pannable()&&zr.active()&&zr.unactivate()}}else{if(zr&&zr.pannable()&&zr.active()&&zr.unactivate(),(!zr||!zr.grabbed())&&Hr!=_n&&(_n&&d(_n,["mouseout","tapdragout"],Se,{x:Bt[0],y:Bt[1]}),Hr&&d(Hr,["mouseover","tapdragover"],Se,{x:Bt[0],y:Bt[1]}),h.hoverData.last=Hr),zr)if(Oa){if(kt.boxSelectionEnabled()&&ru)zr&&zr.grabbed()&&(Q(wi),zr.emit("freeon"),wi.emit("free"),h.dragData.didDrag&&(zr.emit("dragfreeon"),wi.emit("dragfree"))),im();else if(zr&&zr.grabbed()&&h.nodeIsDraggable(zr)){var Fo=!h.dragData.didDrag;Fo&&h.redrawHint("eles",!0),h.dragData.didDrag=!0,h.hoverData.draggingEles||V(wi,{inDragLayer:!0});var eo={x:0,y:0};if(B(jr[0])&&B(jr[1])&&(eo.x+=jr[0],eo.y+=jr[1],Fo)){var Bo=h.hoverData.dragDelta;Bo&&B(Bo[0])&&B(Bo[1])&&(eo.x+=Bo[0],eo.y+=Bo[1])}h.hoverData.draggingEles=!0,wi.silentShift(eo).emit("position drag"),h.redrawHint("drag",!0),h.redraw()}}else pf();Dt=!0}if(Ln[2]=Bt[0],Ln[3]=Bt[1],Dt)return Se.stopPropagation&&Se.stopPropagation(),Se.preventDefault&&Se.preventDefault(),!1}},"mousemoveHandler"),!1);var be,Oe,Be;h.registerBinding(window,"mouseup",a(function(Se){var mt=h.hoverData.capture;if(mt){h.hoverData.capture=!1;var Dt=h.cy,kt=h.projectIntoViewport(Se.clientX,Se.clientY),_t=h.selection,qr=h.findNearestElement(kt[0],kt[1],!0,!1),Bt=h.dragData.possibleDragElements,cr=h.hoverData.down,cn=m(Se);if(h.data.bgActivePosistion&&(h.redrawHint("select",!0),h.redraw()),h.hoverData.tapholdCancelled=!0,h.data.bgActivePosistion=void 0,cr&&cr.unactivate(),h.hoverData.which===3){var Ln={originalEvent:Se,type:"cxttapend",position:{x:kt[0],y:kt[1]}};if(cr?cr.emit(Ln):Dt.emit(Ln),!h.hoverData.cxtDragged){var Hr={originalEvent:Se,type:"cxttap",position:{x:kt[0],y:kt[1]}};cr?cr.emit(Hr):Dt.emit(Hr)}h.hoverData.cxtDragged=!1,h.hoverData.which=null}else if(h.hoverData.which===1){if(d(qr,["mouseup","tapend","vmouseup"],Se,{x:kt[0],y:kt[1]}),!h.dragData.didDrag&&!h.hoverData.dragged&&!h.hoverData.selecting&&!h.hoverData.isOverThresholdDrag&&(d(cr,["click","tap","vclick"],Se,{x:kt[0],y:kt[1]}),Oe=!1,Se.timeStamp-Be<=Dt.multiClickDebounceTime()?(be&&clearTimeout(be),Oe=!0,Be=null,d(cr,["dblclick","dbltap","vdblclick"],Se,{x:kt[0],y:kt[1]})):(be=setTimeout(function(){Oe||d(cr,["oneclick","onetap","voneclick"],Se,{x:kt[0],y:kt[1]})},Dt.multiClickDebounceTime()),Be=Se.timeStamp)),cr==null&&!h.dragData.didDrag&&!h.hoverData.selecting&&!h.hoverData.dragged&&!m(Se)&&(Dt.$(l).unselect(["tapunselect"]),Bt.length>0&&h.redrawHint("eles",!0),h.dragData.possibleDragElements=Bt=Dt.collection()),qr==cr&&!h.dragData.didDrag&&!h.hoverData.selecting&&qr!=null&&qr._private.selectable&&(h.hoverData.dragging||(Dt.selectionType()==="additive"||cn?qr.selected()?qr.unselect(["tapunselect"]):qr.select(["tapselect"]):cn||(Dt.$(l).unmerge(qr).unselect(["tapunselect"]),qr.select(["tapselect"]))),h.redrawHint("eles",!0)),h.hoverData.selecting){var _n=Dt.collection(h.getAllInBox(_t[0],_t[1],_t[2],_t[3]));h.redrawHint("select",!0),_n.length>0&&h.redrawHint("eles",!0),Dt.emit({type:"boxend",originalEvent:Se,position:{x:kt[0],y:kt[1]}});var zr=a(function(Oa){return Oa.selectable()&&!Oa.selected()},"eleWouldBeSelected");Dt.selectionType()==="additive"||cn||Dt.$(l).unmerge(_n).unselect(),_n.emit("box").stdFilter(zr).select().emit("boxselect"),h.redraw()}if(h.hoverData.dragging&&(h.hoverData.dragging=!1,h.redrawHint("select",!0),h.redrawHint("eles",!0),h.redraw()),!_t[4]){h.redrawHint("drag",!0),h.redrawHint("eles",!0);var jr=cr&&cr.grabbed();Q(Bt),jr&&(cr.emit("freeon"),Bt.emit("free"),h.dragData.didDrag&&(cr.emit("dragfreeon"),Bt.emit("dragfree")))}}_t[4]=0,h.hoverData.down=null,h.hoverData.cxtStarted=!1,h.hoverData.draggingEles=!1,h.hoverData.selecting=!1,h.hoverData.isOverThresholdDrag=!1,h.dragData.didDrag=!1,h.hoverData.dragged=!1,h.hoverData.dragDelta=[],h.hoverData.mdownPos=null,h.hoverData.mdownGPos=null}},"mouseupHandler"),!1);var Ne=a(function(Se){if(!h.scrollingPage){var mt=h.cy,Dt=mt.zoom(),kt=mt.pan(),_t=h.projectIntoViewport(Se.clientX,Se.clientY),qr=[_t[0]*Dt+kt.x,_t[1]*Dt+kt.y];if(h.hoverData.draggingEles||h.hoverData.dragging||h.hoverData.cxtStarted||ve()){Se.preventDefault();return}if(mt.panningEnabled()&&mt.userPanningEnabled()&&mt.zoomingEnabled()&&mt.userZoomingEnabled()){Se.preventDefault(),h.data.wheelZooming=!0,clearTimeout(h.data.wheelTimeout),h.data.wheelTimeout=setTimeout(function(){h.data.wheelZooming=!1,h.redrawHint("eles",!0),h.redraw()},150);var Bt;Se.deltaY!=null?Bt=Se.deltaY/-250:Se.wheelDeltaY!=null?Bt=Se.wheelDeltaY/1e3:Bt=Se.wheelDelta/1e3,Bt=Bt*h.wheelSensitivity;var cr=Se.deltaMode===1;cr&&(Bt*=33);var cn=mt.zoom()*Math.pow(10,Bt);Se.type==="gesturechange"&&(cn=h.gestureStartZoom*Se.scale),mt.zoom({level:cn,renderedPosition:{x:qr[0],y:qr[1]}}),mt.emit(Se.type==="gesturechange"?"pinchzoom":"scrollzoom")}}},"wheelHandler");h.registerBinding(h.container,"wheel",Ne,!0),h.registerBinding(window,"scroll",a(function(Se){h.scrollingPage=!0,clearTimeout(h.scrollingPageTimeout),h.scrollingPageTimeout=setTimeout(function(){h.scrollingPage=!1},250)},"scrollHandler"),!0),h.registerBinding(h.container,"gesturestart",a(function(Se){h.gestureStartZoom=h.cy.zoom(),h.hasTouchStarted||Se.preventDefault()},"gestureStartHandler"),!0),h.registerBinding(h.container,"gesturechange",function(Ft){h.hasTouchStarted||Ne(Ft)},!0),h.registerBinding(h.container,"mouseout",a(function(Se){var mt=h.projectIntoViewport(Se.clientX,Se.clientY);h.cy.emit({originalEvent:Se,type:"mouseout",position:{x:mt[0],y:mt[1]}})},"mouseOutHandler"),!1),h.registerBinding(h.container,"mouseover",a(function(Se){var mt=h.projectIntoViewport(Se.clientX,Se.clientY);h.cy.emit({originalEvent:Se,type:"mouseover",position:{x:mt[0],y:mt[1]}})},"mouseOverHandler"),!1);var Xe,qe,ot,Ke,Je,lt,ht,xt,ut,yt,Ct,At,wt,Tt=a(function(Se,mt,Dt,kt){return Math.sqrt((Dt-Se)*(Dt-Se)+(kt-mt)*(kt-mt))},"distance"),st=a(function(Se,mt,Dt,kt){return(Dt-Se)*(Dt-Se)+(kt-mt)*(kt-mt)},"distanceSq"),St;h.registerBinding(h.container,"touchstart",St=a(function(Se){if(h.hasTouchStarted=!0,!!Ie(Se)){Z(),h.touchData.capture=!0,h.data.bgActivePosistion=void 0;var mt=h.cy,Dt=h.touchData.now,kt=h.touchData.earlier;if(Se.touches[0]){var _t=h.projectIntoViewport(Se.touches[0].clientX,Se.touches[0].clientY);Dt[0]=_t[0],Dt[1]=_t[1]}if(Se.touches[1]){var _t=h.projectIntoViewport(Se.touches[1].clientX,Se.touches[1].clientY);Dt[2]=_t[0],Dt[3]=_t[1]}if(Se.touches[2]){var _t=h.projectIntoViewport(Se.touches[2].clientX,Se.touches[2].clientY);Dt[4]=_t[0],Dt[5]=_t[1]}if(Se.touches[1]){h.touchData.singleTouchMoved=!0,Q(h.dragData.touchDragEles);var qr=h.findContainerClientCoords();ut=qr[0],yt=qr[1],Ct=qr[2],At=qr[3],Xe=Se.touches[0].clientX-ut,qe=Se.touches[0].clientY-yt,ot=Se.touches[1].clientX-ut,Ke=Se.touches[1].clientY-yt,wt=0<=Xe&&Xe<=Ct&&0<=ot&&ot<=Ct&&0<=qe&&qe<=At&&0<=Ke&&Ke<=At;var Bt=mt.pan(),cr=mt.zoom();Je=Tt(Xe,qe,ot,Ke),lt=st(Xe,qe,ot,Ke),ht=[(Xe+ot)/2,(qe+Ke)/2],xt=[(ht[0]-Bt.x)/cr,(ht[1]-Bt.y)/cr];var cn=200,Ln=cn*cn;if(lt<Ln&&!Se.touches[2]){var Hr=h.findNearestElement(Dt[0],Dt[1],!0,!0),_n=h.findNearestElement(Dt[2],Dt[3],!0,!0);Hr&&Hr.isNode()?(Hr.activate().emit({originalEvent:Se,type:"cxttapstart",position:{x:Dt[0],y:Dt[1]}}),h.touchData.start=Hr):_n&&_n.isNode()?(_n.activate().emit({originalEvent:Se,type:"cxttapstart",position:{x:Dt[0],y:Dt[1]}}),h.touchData.start=_n):mt.emit({originalEvent:Se,type:"cxttapstart",position:{x:Dt[0],y:Dt[1]}}),h.touchData.start&&(h.touchData.start._private.grabbed=!1),h.touchData.cxt=!0,h.touchData.cxtDragged=!1,h.data.bgActivePosistion=void 0,h.redraw();return}}if(Se.touches[2])mt.boxSelectionEnabled()&&Se.preventDefault();else if(!Se.touches[1]){if(Se.touches[0]){var zr=h.findNearestElements(Dt[0],Dt[1],!0,!0),jr=zr[0];if(jr!=null&&(jr.activate(),h.touchData.start=jr,h.touchData.starts=zr,h.nodeIsGrabbable(jr))){var wi=h.dragData.touchDragEles=mt.collection(),Oa=null;h.redrawHint("eles",!0),h.redrawHint("drag",!0),jr.selected()?(Oa=mt.$(function(mo){return mo.selected()&&h.nodeIsGrabbable(mo)}),V(Oa,{addToList:wi})):j(jr,{addToList:wi}),C(jr);var ml=a(function(ru){return{originalEvent:Se,type:ru,position:{x:Dt[0],y:Dt[1]}}},"makeEvent");jr.emit(ml("grabon")),Oa?Oa.forEach(function(mo){mo.emit(ml("grab"))}):jr.emit(ml("grab"))}d(jr,["touchstart","tapstart","vmousedown"],Se,{x:Dt[0],y:Dt[1]}),jr==null&&(h.data.bgActivePosistion={x:_t[0],y:_t[1]},h.redrawHint("select",!0),h.redraw()),h.touchData.singleTouchMoved=!1,h.touchData.singleTouchStartTime=+new Date,clearTimeout(h.touchData.tapholdTimeout),h.touchData.tapholdTimeout=setTimeout(function(){h.touchData.singleTouchMoved===!1&&!h.pinching&&!h.touchData.selecting&&d(h.touchData.start,["taphold"],Se,{x:Dt[0],y:Dt[1]})},h.tapholdDuration)}}if(Se.touches.length>=1){for(var gl=h.touchData.startPosition=[],Ma=0;Ma<Dt.length;Ma++)gl[Ma]=kt[Ma]=Dt[Ma];var Ps=Se.touches[0];h.touchData.startGPosition=[Ps.clientX,Ps.clientY]}}},"touchstartHandler"),!1);var Rt;h.registerBinding(window,"touchmove",Rt=a(function(Se){var mt=h.touchData.capture;if(!(!mt&&!Ie(Se))){var Dt=h.selection,kt=h.cy,_t=h.touchData.now,qr=h.touchData.earlier,Bt=kt.zoom();if(Se.touches[0]){var cr=h.projectIntoViewport(Se.touches[0].clientX,Se.touches[0].clientY);_t[0]=cr[0],_t[1]=cr[1]}if(Se.touches[1]){var cr=h.projectIntoViewport(Se.touches[1].clientX,Se.touches[1].clientY);_t[2]=cr[0],_t[3]=cr[1]}if(Se.touches[2]){var cr=h.projectIntoViewport(Se.touches[2].clientX,Se.touches[2].clientY);_t[4]=cr[0],_t[5]=cr[1]}var cn=h.touchData.startGPosition,Ln;if(mt&&Se.touches[0]&&cn){for(var Hr=[],_n=0;_n<_t.length;_n++)Hr[_n]=_t[_n]-qr[_n];var zr=Se.touches[0].clientX-cn[0],jr=zr*zr,wi=Se.touches[0].clientY-cn[1],Oa=wi*wi,ml=jr+Oa;Ln=ml>=h.touchTapThreshold2}if(mt&&h.touchData.cxt){Se.preventDefault();var gl=Se.touches[0].clientX-ut,Ma=Se.touches[0].clientY-yt,Ps=Se.touches[1].clientX-ut,mo=Se.touches[1].clientY-yt,ru=st(gl,Ma,Ps,mo),pf=ru/lt,im=150,nd=im*im,am=1.5,Ab=am*am;if(pf>=Ab||ru>=nd){h.touchData.cxt=!1,h.data.bgActivePosistion=void 0,h.redrawHint("select",!0);var id={originalEvent:Se,type:"cxttapend",position:{x:_t[0],y:_t[1]}};h.touchData.start?(h.touchData.start.unactivate().emit(id),h.touchData.start=null):kt.emit(id)}}if(mt&&h.touchData.cxt){var id={originalEvent:Se,type:"cxtdrag",position:{x:_t[0],y:_t[1]}};h.data.bgActivePosistion=void 0,h.redrawHint("select",!0),h.touchData.start?h.touchData.start.emit(id):kt.emit(id),h.touchData.start&&(h.touchData.start._private.grabbed=!1),h.touchData.cxtDragged=!0;var Fo=h.findNearestElement(_t[0],_t[1],!0,!0);(!h.touchData.cxtOver||Fo!==h.touchData.cxtOver)&&(h.touchData.cxtOver&&h.touchData.cxtOver.emit({originalEvent:Se,type:"cxtdragout",position:{x:_t[0],y:_t[1]}}),h.touchData.cxtOver=Fo,Fo&&Fo.emit({originalEvent:Se,type:"cxtdragover",position:{x:_t[0],y:_t[1]}}))}else if(mt&&Se.touches[2]&&kt.boxSelectionEnabled())Se.preventDefault(),h.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,h.touchData.selecting||kt.emit({originalEvent:Se,type:"boxstart",position:{x:_t[0],y:_t[1]}}),h.touchData.selecting=!0,h.touchData.didSelect=!0,Dt[4]=1,!Dt||Dt.length===0||Dt[0]===void 0?(Dt[0]=(_t[0]+_t[2]+_t[4])/3,Dt[1]=(_t[1]+_t[3]+_t[5])/3,Dt[2]=(_t[0]+_t[2]+_t[4])/3+1,Dt[3]=(_t[1]+_t[3]+_t[5])/3+1):(Dt[2]=(_t[0]+_t[2]+_t[4])/3,Dt[3]=(_t[1]+_t[3]+_t[5])/3),h.redrawHint("select",!0),h.redraw();else if(mt&&Se.touches[1]&&!h.touchData.didSelect&&kt.zoomingEnabled()&&kt.panningEnabled()&&kt.userZoomingEnabled()&&kt.userPanningEnabled()){Se.preventDefault(),h.data.bgActivePosistion=void 0,h.redrawHint("select",!0);var eo=h.dragData.touchDragEles;if(eo){h.redrawHint("drag",!0);for(var Bo=0;Bo<eo.length;Bo++){var Rb=eo[Bo]._private;Rb.grabbed=!1,Rb.rscratch.inDragLayer=!1}}var uc=h.touchData.start,gl=Se.touches[0].clientX-ut,Ma=Se.touches[0].clientY-yt,Ps=Se.touches[1].clientX-ut,mo=Se.touches[1].clientY-yt,L7=Tt(gl,Ma,Ps,mo),tke=L7/Je;if(wt){var rke=gl-Xe,nke=Ma-qe,ike=Ps-ot,ake=mo-Ke,oke=(rke+ike)/2,ske=(nke+ake)/2,j0=kt.zoom(),wS=j0*tke,Db=kt.pan(),I7=xt[0]*j0+Db.x,N7=xt[1]*j0+Db.y,lke={x:-wS/j0*(I7-Db.x-oke)+I7,y:-wS/j0*(N7-Db.y-ske)+N7};if(uc&&uc.active()){var eo=h.dragData.touchDragEles;Q(eo),h.redrawHint("drag",!0),h.redrawHint("eles",!0),uc.unactivate().emit("freeon"),eo.emit("free"),h.dragData.didDrag&&(uc.emit("dragfreeon"),eo.emit("dragfree"))}kt.viewport({zoom:wS,pan:lke,cancelOnFailedZoom:!0}),kt.emit("pinchzoom"),Je=L7,Xe=gl,qe=Ma,ot=Ps,Ke=mo,h.pinching=!0}if(Se.touches[0]){var cr=h.projectIntoViewport(Se.touches[0].clientX,Se.touches[0].clientY);_t[0]=cr[0],_t[1]=cr[1]}if(Se.touches[1]){var cr=h.projectIntoViewport(Se.touches[1].clientX,Se.touches[1].clientY);_t[2]=cr[0],_t[3]=cr[1]}if(Se.touches[2]){var cr=h.projectIntoViewport(Se.touches[2].clientX,Se.touches[2].clientY);_t[4]=cr[0],_t[5]=cr[1]}}else if(Se.touches[0]&&!h.touchData.didSelect){var yl=h.touchData.start,ES=h.touchData.last,Fo;if(!h.hoverData.draggingEles&&!h.swipePanning&&(Fo=h.findNearestElement(_t[0],_t[1],!0,!0)),mt&&yl!=null&&Se.preventDefault(),mt&&yl!=null&&h.nodeIsDraggable(yl))if(Ln){var eo=h.dragData.touchDragEles,P7=!h.dragData.didDrag;P7&&V(eo,{inDragLayer:!0}),h.dragData.didDrag=!0;var Y0={x:0,y:0};if(B(Hr[0])&&B(Hr[1])&&(Y0.x+=Hr[0],Y0.y+=Hr[1],P7)){h.redrawHint("eles",!0);var vl=h.touchData.dragDelta;vl&&B(vl[0])&&B(vl[1])&&(Y0.x+=vl[0],Y0.y+=vl[1])}h.hoverData.draggingEles=!0,eo.silentShift(Y0).emit("position drag"),h.redrawHint("drag",!0),h.touchData.startPosition[0]==qr[0]&&h.touchData.startPosition[1]==qr[1]&&h.redrawHint("eles",!0),h.redraw()}else{var vl=h.touchData.dragDelta=h.touchData.dragDelta||[];vl.length===0?(vl.push(Hr[0]),vl.push(Hr[1])):(vl[0]+=Hr[0],vl[1]+=Hr[1])}if(d(yl||Fo,["touchmove","tapdrag","vmousemove"],Se,{x:_t[0],y:_t[1]}),(!yl||!yl.grabbed())&&Fo!=ES&&(ES&&ES.emit({originalEvent:Se,type:"tapdragout",position:{x:_t[0],y:_t[1]}}),Fo&&Fo.emit({originalEvent:Se,type:"tapdragover",position:{x:_t[0],y:_t[1]}})),h.touchData.last=Fo,mt)for(var Bo=0;Bo<_t.length;Bo++)_t[Bo]&&h.touchData.startPosition[Bo]&&Ln&&(h.touchData.singleTouchMoved=!0);if(mt&&(yl==null||yl.pannable())&&kt.panningEnabled()&&kt.userPanningEnabled()){var cke=v(yl,h.touchData.starts);cke&&(Se.preventDefault(),h.data.bgActivePosistion||(h.data.bgActivePosistion=Op(h.touchData.startPosition)),h.swipePanning?(kt.panBy({x:Hr[0]*Bt,y:Hr[1]*Bt}),kt.emit("dragpan")):Ln&&(h.swipePanning=!0,kt.panBy({x:zr*Bt,y:wi*Bt}),kt.emit("dragpan"),yl&&(yl.unactivate(),h.redrawHint("select",!0),h.touchData.start=null)));var cr=h.projectIntoViewport(Se.touches[0].clientX,Se.touches[0].clientY);_t[0]=cr[0],_t[1]=cr[1]}}for(var _n=0;_n<_t.length;_n++)qr[_n]=_t[_n];mt&&Se.touches.length>0&&!h.hoverData.draggingEles&&!h.swipePanning&&h.data.bgActivePosistion!=null&&(h.data.bgActivePosistion=void 0,h.redrawHint("select",!0),h.redraw())}},"touchmoveHandler"),!1);var zt;h.registerBinding(window,"touchcancel",zt=a(function(Se){var mt=h.touchData.start;h.touchData.capture=!1,mt&&mt.unactivate()},"touchcancelHandler"));var Vt,Dr,Mr,Wt;if(h.registerBinding(window,"touchend",Vt=a(function(Se){var mt=h.touchData.start,Dt=h.touchData.capture;if(Dt)Se.touches.length===0&&(h.touchData.capture=!1),Se.preventDefault();else return;var kt=h.selection;h.swipePanning=!1,h.hoverData.draggingEles=!1;var _t=h.cy,qr=_t.zoom(),Bt=h.touchData.now,cr=h.touchData.earlier;if(Se.touches[0]){var cn=h.projectIntoViewport(Se.touches[0].clientX,Se.touches[0].clientY);Bt[0]=cn[0],Bt[1]=cn[1]}if(Se.touches[1]){var cn=h.projectIntoViewport(Se.touches[1].clientX,Se.touches[1].clientY);Bt[2]=cn[0],Bt[3]=cn[1]}if(Se.touches[2]){var cn=h.projectIntoViewport(Se.touches[2].clientX,Se.touches[2].clientY);Bt[4]=cn[0],Bt[5]=cn[1]}mt&&mt.unactivate();var Ln;if(h.touchData.cxt){if(Ln={originalEvent:Se,type:"cxttapend",position:{x:Bt[0],y:Bt[1]}},mt?mt.emit(Ln):_t.emit(Ln),!h.touchData.cxtDragged){var Hr={originalEvent:Se,type:"cxttap",position:{x:Bt[0],y:Bt[1]}};mt?mt.emit(Hr):_t.emit(Hr)}h.touchData.start&&(h.touchData.start._private.grabbed=!1),h.touchData.cxt=!1,h.touchData.start=null,h.redraw();return}if(!Se.touches[2]&&_t.boxSelectionEnabled()&&h.touchData.selecting){h.touchData.selecting=!1;var _n=_t.collection(h.getAllInBox(kt[0],kt[1],kt[2],kt[3]));kt[0]=void 0,kt[1]=void 0,kt[2]=void 0,kt[3]=void 0,kt[4]=0,h.redrawHint("select",!0),_t.emit({type:"boxend",originalEvent:Se,position:{x:Bt[0],y:Bt[1]}});var zr=a(function(nd){return nd.selectable()&&!nd.selected()},"eleWouldBeSelected");_n.emit("box").stdFilter(zr).select().emit("boxselect"),_n.nonempty()&&h.redrawHint("eles",!0),h.redraw()}if(mt?.unactivate(),Se.touches[2])h.data.bgActivePosistion=void 0,h.redrawHint("select",!0);else if(!Se.touches[1]){if(!Se.touches[0]){if(!Se.touches[0]){h.data.bgActivePosistion=void 0,h.redrawHint("select",!0);var jr=h.dragData.touchDragEles;if(mt!=null){var wi=mt._private.grabbed;Q(jr),h.redrawHint("drag",!0),h.redrawHint("eles",!0),wi&&(mt.emit("freeon"),jr.emit("free"),h.dragData.didDrag&&(mt.emit("dragfreeon"),jr.emit("dragfree"))),d(mt,["touchend","tapend","vmouseup","tapdragout"],Se,{x:Bt[0],y:Bt[1]}),mt.unactivate(),h.touchData.start=null}else{var Oa=h.findNearestElement(Bt[0],Bt[1],!0,!0);d(Oa,["touchend","tapend","vmouseup","tapdragout"],Se,{x:Bt[0],y:Bt[1]})}var ml=h.touchData.startPosition[0]-Bt[0],gl=ml*ml,Ma=h.touchData.startPosition[1]-Bt[1],Ps=Ma*Ma,mo=gl+Ps,ru=mo*qr*qr;h.touchData.singleTouchMoved||(mt||_t.$(":selected").unselect(["tapunselect"]),d(mt,["tap","vclick"],Se,{x:Bt[0],y:Bt[1]}),Dr=!1,Se.timeStamp-Wt<=_t.multiClickDebounceTime()?(Mr&&clearTimeout(Mr),Dr=!0,Wt=null,d(mt,["dbltap","vdblclick"],Se,{x:Bt[0],y:Bt[1]})):(Mr=setTimeout(function(){Dr||d(mt,["onetap","voneclick"],Se,{x:Bt[0],y:Bt[1]})},_t.multiClickDebounceTime()),Wt=Se.timeStamp)),mt!=null&&!h.dragData.didDrag&&mt._private.selectable&&ru<h.touchTapThreshold2&&!h.pinching&&(_t.selectionType()==="single"?(_t.$(l).unmerge(mt).unselect(["tapunselect"]),mt.select(["tapselect"])):mt.selected()?mt.unselect(["tapunselect"]):mt.select(["tapselect"]),h.redrawHint("eles",!0)),h.touchData.singleTouchMoved=!0}}}for(var pf=0;pf<Bt.length;pf++)cr[pf]=Bt[pf];h.dragData.didDrag=!1,Se.touches.length===0&&(h.touchData.dragDelta=[],h.touchData.startPosition=null,h.touchData.startGPosition=null,h.touchData.didSelect=!1),Se.touches.length<2&&(Se.touches.length===1&&(h.touchData.startGPosition=[Se.touches[0].clientX,Se.touches[0].clientY]),h.pinching=!1,h.redrawHint("eles",!0),h.redraw())},"touchendHandler"),!1),typeof TouchEvent>"u"){var $t=[],wr=a(function(Se){return{clientX:Se.clientX,clientY:Se.clientY,force:1,identifier:Se.pointerId,pageX:Se.pageX,pageY:Se.pageY,radiusX:Se.width/2,radiusY:Se.height/2,screenX:Se.screenX,screenY:Se.screenY,target:Se.target}},"makeTouch"),or=a(function(Se){return{event:Se,touch:wr(Se)}},"makePointer"),Ht=a(function(Se){$t.push(or(Se))},"addPointer"),fr=a(function(Se){for(var mt=0;mt<$t.length;mt++){var Dt=$t[mt];if(Dt.event.pointerId===Se.pointerId){$t.splice(mt,1);return}}},"removePointer"),Qr=a(function(Se){var mt=$t.filter(function(Dt){return Dt.event.pointerId===Se.pointerId})[0];mt.event=Se,mt.touch=wr(Se)},"updatePointer"),Br=a(function(Se){Se.touches=$t.map(function(mt){return mt.touch})},"addTouchesToEvent"),Ar=a(function(Se){return Se.pointerType==="mouse"||Se.pointerType===4},"pointerIsMouse");h.registerBinding(h.container,"pointerdown",function(Ft){Ar(Ft)||(Ft.preventDefault(),Ht(Ft),Br(Ft),St(Ft))}),h.registerBinding(h.container,"pointerup",function(Ft){Ar(Ft)||(fr(Ft),Br(Ft),Vt(Ft))}),h.registerBinding(h.container,"pointercancel",function(Ft){Ar(Ft)||(fr(Ft),Br(Ft),zt(Ft))}),h.registerBinding(h.container,"pointermove",function(Ft){Ar(Ft)||(Ft.preventDefault(),Qr(Ft),Br(Ft),Rt(Ft))})}};var eu={};eu.generatePolygon=function(h,l){return this.nodeShapes[h]={renderer:this,name:h,points:l,draw:a(function(m,v,T,k,w){this.renderer.nodeShapeImpl("polygon",m,v,T,k,w,this.points)},"draw"),intersectLine:a(function(m,v,T,k,w,S,C){return S0(w,S,this.points,m,v,T/2,k/2,C)},"intersectLine"),checkPoint:a(function(m,v,T,k,w,S,C){return Zc(m,v,this.points,S,C,k,w,[0,-1],T)},"checkPoint")}},eu.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:a(function(l,d,m,v,T){this.renderer.nodeShapeImpl(this.name,l,d,m,v,T)},"draw"),intersectLine:a(function(l,d,m,v,T,k,w){return Ave(T,k,l,d,m/2+w,v/2+w)},"intersectLine"),checkPoint:a(function(l,d,m,v,T,k,w){return Xh(l,d,v,T,k,w,m)},"checkPoint")}},eu.generateRoundPolygon=function(h,l){for(var d=new Array(l.length*2),m=0;m<l.length/2;m++){var v=m*2,T=void 0;m<l.length/2-1?T=(m+1)*2:T=0,d[m*4]=l[v],d[m*4+1]=l[v+1];var k=l[T]-l[v],w=l[T+1]-l[v+1],S=Math.sqrt(k*k+w*w);d[m*4+2]=k/S,d[m*4+3]=w/S}return this.nodeShapes[h]={renderer:this,name:h,points:d,draw:a(function(R,L,z,V,j){this.renderer.nodeShapeImpl("round-polygon",R,L,z,V,j,this.points)},"draw"),intersectLine:a(function(R,L,z,V,j,Q,ne){return Rve(j,Q,this.points,R,L,z,V)},"intersectLine"),checkPoint:a(function(R,L,z,V,j,Q,ne){return Sve(R,L,this.points,Q,ne,V,j)},"checkPoint")}},eu.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:ho(4,0),draw:a(function(l,d,m,v,T){this.renderer.nodeShapeImpl(this.name,l,d,m,v,T)},"draw"),intersectLine:a(function(l,d,m,v,T,k,w){return vM(T,k,l,d,m,v,w)},"intersectLine"),checkPoint:a(function(l,d,m,v,T,k,w){var S=A0(v,T),C=S*2;return!!(Zc(l,d,this.points,k,w,v,T-C,[0,-1],m)||Zc(l,d,this.points,k,w,v-C,T,[0,-1],m)||Xh(l,d,C,C,k-v/2+S,w-T/2+S,m)||Xh(l,d,C,C,k+v/2-S,w-T/2+S,m)||Xh(l,d,C,C,k+v/2-S,w+T/2-S,m)||Xh(l,d,C,C,k-v/2+S,w+T/2-S,m))},"checkPoint")}},eu.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:kM(),points:ho(4,0),draw:a(function(l,d,m,v,T){this.renderer.nodeShapeImpl(this.name,l,d,m,v,T)},"draw"),generateCutTrianglePts:a(function(l,d,m,v){var T=this.cornerLength,k=d/2,w=l/2,S=m-w,C=m+w,R=v-k,L=v+k;return{topLeft:[S,R+T,S+T,R,S+T,R+T],topRight:[C-T,R,C,R+T,C-T,R+T],bottomRight:[C,L-T,C-T,L,C-T,L-T],bottomLeft:[S+T,L,S,L-T,S+T,L-T]}},"generateCutTrianglePts"),intersectLine:a(function(l,d,m,v,T,k,w){var S=this.generateCutTrianglePts(m+2*w,v+2*w,l,d),C=[].concat.apply([],[S.topLeft.splice(0,4),S.topRight.splice(0,4),S.bottomRight.splice(0,4),S.bottomLeft.splice(0,4)]);return S0(T,k,C,l,d)},"intersectLine"),checkPoint:a(function(l,d,m,v,T,k,w){if(Zc(l,d,this.points,k,w,v,T-2*this.cornerLength,[0,-1],m)||Zc(l,d,this.points,k,w,v-2*this.cornerLength,T,[0,-1],m))return!0;var S=this.generateCutTrianglePts(v,T,k,w);return Mo(l,d,S.topLeft)||Mo(l,d,S.topRight)||Mo(l,d,S.bottomRight)||Mo(l,d,S.bottomLeft)},"checkPoint")}},eu.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:ho(4,0),draw:a(function(l,d,m,v,T){this.renderer.nodeShapeImpl(this.name,l,d,m,v,T)},"draw"),intersectLine:a(function(l,d,m,v,T,k,w){var S=.15,C=.5,R=.85,L=this.generateBarrelBezierPts(m+2*w,v+2*w,l,d),z=a(function(Q){var ne=Mp({x:Q[0],y:Q[1]},{x:Q[2],y:Q[3]},{x:Q[4],y:Q[5]},S),Z=Mp({x:Q[0],y:Q[1]},{x:Q[2],y:Q[3]},{x:Q[4],y:Q[5]},C),ie=Mp({x:Q[0],y:Q[1]},{x:Q[2],y:Q[3]},{x:Q[4],y:Q[5]},R);return[Q[0],Q[1],ne.x,ne.y,Z.x,Z.y,ie.x,ie.y,Q[4],Q[5]]},"approximateBarrelCurvePts"),V=[].concat(z(L.topLeft),z(L.topRight),z(L.bottomRight),z(L.bottomLeft));return S0(T,k,V,l,d)},"intersectLine"),generateBarrelBezierPts:a(function(l,d,m,v){var T=d/2,k=l/2,w=m-k,S=m+k,C=v-T,R=v+T,L=HC(l,d),z=L.heightOffset,V=L.widthOffset,j=L.ctrlPtOffsetPct*l,Q={topLeft:[w,C+z,w+j,C,w+V,C],topRight:[S-V,C,S-j,C,S,C+z],bottomRight:[S,R-z,S-j,R,S-V,R],bottomLeft:[w+V,R,w+j,R,w,R-z]};return Q.topLeft.isTop=!0,Q.topRight.isTop=!0,Q.bottomLeft.isBottom=!0,Q.bottomRight.isBottom=!0,Q},"generateBarrelBezierPts"),checkPoint:a(function(l,d,m,v,T,k,w){var S=HC(v,T),C=S.heightOffset,R=S.widthOffset;if(Zc(l,d,this.points,k,w,v,T-2*C,[0,-1],m)||Zc(l,d,this.points,k,w,v-2*R,T,[0,-1],m))return!0;for(var L=this.generateBarrelBezierPts(v,T,k,w),z=a(function(ve,Ie,be){var Oe=be[4],Be=be[2],Ne=be[0],Xe=be[5],qe=be[1],ot=Math.min(Oe,Ne),Ke=Math.max(Oe,Ne),Je=Math.min(Xe,qe),lt=Math.max(Xe,qe);if(ot<=ve&&ve<=Ke&&Je<=Ie&&Ie<=lt){var ht=Dve(Oe,Be,Ne),xt=_ve(ht[0],ht[1],ht[2],ve),ut=xt.filter(function(yt){return 0<=yt&&yt<=1});if(ut.length>0)return ut[0]}return null},"getCurveT"),V=Object.keys(L),j=0;j<V.length;j++){var Q=V[j],ne=L[Q],Z=z(l,d,ne);if(Z!=null){var ie=ne[5],ae=ne[3],me=ne[1],De=ga(ie,ae,me,Z);if(ne.isTop&&De<=d||ne.isBottom&&d<=De)return!0}}return!1},"checkPoint")}},eu.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:ho(4,0),draw:a(function(l,d,m,v,T){this.renderer.nodeShapeImpl(this.name,l,d,m,v,T)},"draw"),intersectLine:a(function(l,d,m,v,T,k,w){var S=l-(m/2+w),C=d-(v/2+w),R=C,L=l+(m/2+w),z=af(T,k,l,d,S,C,L,R,!1);return z.length>0?z:vM(T,k,l,d,m,v,w)},"intersectLine"),checkPoint:a(function(l,d,m,v,T,k,w){var S=A0(v,T),C=2*S;if(Zc(l,d,this.points,k,w,v,T-C,[0,-1],m)||Zc(l,d,this.points,k,w,v-C,T,[0,-1],m))return!0;var R=v/2+2*m,L=T/2+2*m,z=[k-R,w-L,k-R,w,k+R,w,k+R,w-L];return!!(Mo(l,d,z)||Xh(l,d,C,C,k+v/2-S,w+T/2-S,m)||Xh(l,d,C,C,k-v/2+S,w+T/2-S,m))},"checkPoint")}},eu.registerNodeShapes=function(){var h=this.nodeShapes={},l=this;this.generateEllipse(),this.generatePolygon("triangle",ho(3,0)),this.generateRoundPolygon("round-triangle",ho(3,0)),this.generatePolygon("rectangle",ho(4,0)),h.square=h.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var d=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",d),this.generateRoundPolygon("round-diamond",d)}this.generatePolygon("pentagon",ho(5,0)),this.generateRoundPolygon("round-pentagon",ho(5,0)),this.generatePolygon("hexagon",ho(6,0)),this.generateRoundPolygon("round-hexagon",ho(6,0)),this.generatePolygon("heptagon",ho(7,0)),this.generateRoundPolygon("round-heptagon",ho(7,0)),this.generatePolygon("octagon",ho(8,0)),this.generateRoundPolygon("round-octagon",ho(8,0));var m=new Array(20);{var v=VC(5,0),T=VC(5,Math.PI/5),k=.5*(3-Math.sqrt(5));k*=1.57;for(var w=0;w<T.length/2;w++)T[w*2]*=k,T[w*2+1]*=k;for(var w=0;w<20/4;w++)m[w*4]=v[w*2],m[w*4+1]=v[w*2+1],m[w*4+2]=T[w*2],m[w*4+3]=T[w*2+1]}m=TM(m),this.generatePolygon("star",m),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var S=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",S),this.generateRoundPolygon("round-tag",S)}h.makePolygon=function(C){var R=C.join("$"),L="polygon-"+R,z;return(z=this[L])?z:l.generatePolygon(L,C)}};var G0={};G0.timeToRender=function(){return this.redrawTotalTime/this.redrawCount},G0.redraw=function(h){h=h||k0();var l=this;l.averageRedrawTime===void 0&&(l.averageRedrawTime=0),l.lastRedrawTime===void 0&&(l.lastRedrawTime=0),l.lastDrawTime===void 0&&(l.lastDrawTime=0),l.requestedFrame=!0,l.renderOptions=h},G0.beforeRender=function(h,l){if(!this.destroyed){l==null&&Wr("Priority is not optional for beforeRender");var d=this.beforeRenderCallbacks;d.push({fn:h,priority:l}),d.sort(function(m,v){return v.priority-m.priority})}};var s7=a(function(l,d,m){for(var v=l.beforeRenderCallbacks,T=0;T<v.length;T++)v[T].fn(d,m)},"beforeRenderCallbacks");G0.startRenderLoop=function(){var h=this,l=h.cy;if(!h.renderLoopStarted){h.renderLoopStarted=!0;var d=a(function m(v){if(!h.destroyed){if(!l.batching())if(h.requestedFrame&&!h.skipFrame){s7(h,!0,v);var T=je();h.render(h.renderOptions);var k=h.lastDrawTime=je();h.averageRedrawTime===void 0&&(h.averageRedrawTime=k-T),h.redrawCount===void 0&&(h.redrawCount=0),h.redrawCount++,h.redrawTotalTime===void 0&&(h.redrawTotalTime=0);var w=k-T;h.redrawTotalTime+=w,h.lastRedrawTime=w,h.averageRedrawTime=h.averageRedrawTime/2+w/2,h.requestedFrame=!1}else s7(h,!1,v);h.skipFrame=!1,No(m)}},"renderFn");No(d)}};var sTe=a(function(l){this.init(l)},"BaseRenderer"),l7=sTe,em=l7.prototype;em.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],em.init=function(h){var l=this;l.options=h,l.cy=h.cy;var d=l.container=h.cy.container();if(y){var m=y.document,v=m.head,T="__________cytoscape_stylesheet",k="__________cytoscape_container",w=m.getElementById(T)!=null;if(d.className.indexOf(k)<0&&(d.className=(d.className||"")+" "+k),!w){var S=m.createElement("style");S.id=T,S.innerHTML="."+k+" { position: relative; }",v.insertBefore(S,v.children[0])}var C=y.getComputedStyle(d),R=C.getPropertyValue("position");R==="static"&&Kr("A Cytoscape container has style position:static and so can not use UI extensions properly")}l.selection=[void 0,void 0,void 0,void 0,0],l.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],l.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},l.dragData={possibleDragElements:[]},l.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},l.redraws=0,l.showFps=h.showFps,l.debug=h.debug,l.hideEdgesOnViewport=h.hideEdgesOnViewport,l.textureOnViewport=h.textureOnViewport,l.wheelSensitivity=h.wheelSensitivity,l.motionBlurEnabled=h.motionBlur,l.forcedPixelRatio=B(h.pixelRatio)?h.pixelRatio:null,l.motionBlur=h.motionBlur,l.motionBlurOpacity=h.motionBlurOpacity,l.motionBlurTransparency=1-l.motionBlurOpacity,l.motionBlurPxRatio=1,l.mbPxRBlurry=1,l.minMbLowQualFrames=4,l.fullQualityMb=!1,l.clearedForMotionBlur=[],l.desktopTapThreshold=h.desktopTapThreshold,l.desktopTapThreshold2=h.desktopTapThreshold*h.desktopTapThreshold,l.touchTapThreshold=h.touchTapThreshold,l.touchTapThreshold2=h.touchTapThreshold*h.touchTapThreshold,l.tapholdDuration=500,l.bindings=[],l.beforeRenderCallbacks=[],l.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},l.registerNodeShapes(),l.registerArrowShapes(),l.registerCalculationListeners()},em.notify=function(h,l){var d=this,m=d.cy;if(!this.destroyed){if(h==="init"){d.load();return}if(h==="destroy"){d.destroy();return}(h==="add"||h==="remove"||h==="move"&&m.hasCompoundNodes()||h==="load"||h==="zorder"||h==="mount")&&d.invalidateCachedZSortedEles(),h==="viewport"&&d.redrawHint("select",!0),(h==="load"||h==="resize"||h==="mount")&&(d.invalidateContainerClientCoordsCache(),d.matchCanvasSize(d.container)),d.redrawHint("eles",!0),d.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},em.destroy=function(){var h=this;h.destroyed=!0,h.cy.stopAnimationLoop();for(var l=0;l<h.bindings.length;l++){var d=h.bindings[l],m=d,v=m.target;(v.off||v.removeEventListener).apply(v,m.args)}if(h.bindings=[],h.beforeRenderCallbacks=[],h.onUpdateEleCalcsFns=[],h.removeObserver&&h.removeObserver.disconnect(),h.styleObserver&&h.styleObserver.disconnect(),h.resizeObserver&&h.resizeObserver.disconnect(),h.labelCalcDiv)try{document.body.removeChild(h.labelCalcDiv)}catch{}},em.isHeadless=function(){return!1},[mS,a7,o7,Jp,eu,G0].forEach(function(h){pe(em,h)});var yS=1e3/60,c7={setupDequeueing:a(function(l){return a(function(){var m=this,v=this.renderer;if(!m.dequeueingSetup){m.dequeueingSetup=!0;var T=Er(function(){v.redrawHint("eles",!0),v.redrawHint("drag",!0),v.redraw()},l.deqRedrawThreshold),k=a(function(C,R){var L=je(),z=v.averageRedrawTime,V=v.lastRedrawTime,j=[],Q=v.cy.extent(),ne=v.getPixelRatio();for(C||v.flushRenderedStyleQueue();;){var Z=je(),ie=Z-L,ae=Z-R;if(V<yS){var me=yS-(C?z:0);if(ae>=l.deqFastCost*me)break}else if(C){if(ie>=l.deqCost*V||ie>=l.deqAvgCost*z)break}else if(ae>=l.deqNoDrawCost*yS)break;var De=l.deq(m,ne,Q);if(De.length>0)for(var we=0;we<De.length;we++)j.push(De[we]);else break}j.length>0&&(l.onDeqd(m,j),!C&&l.shouldRedraw(m,j,ne,Q)&&T())},"dequeue"),w=l.priority||oc;v.beforeRender(k,w(m))}},"setupDequeueingImpl")},"setupDequeueing")},lTe=function(){function h(l){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:is;t(this,h),this.idsByKey=new Xr,this.keyForId=new Xr,this.cachesByLvl=new Xr,this.lvls=[],this.getKey=l,this.doesEleInvalidateKey=d}return a(h,"ElementTextureCacheLookup"),n(h,[{key:"getIdsFor",value:a(function(d){d==null&&Wr("Can not get id list for null key");var m=this.idsByKey,v=this.idsByKey.get(d);return v||(v=new Cn,m.set(d,v)),v},"getIdsFor")},{key:"addIdForKey",value:a(function(d,m){d!=null&&this.getIdsFor(d).add(m)},"addIdForKey")},{key:"deleteIdForKey",value:a(function(d,m){d!=null&&this.getIdsFor(d).delete(m)},"deleteIdForKey")},{key:"getNumberOfIdsForKey",value:a(function(d){return d==null?0:this.getIdsFor(d).size},"getNumberOfIdsForKey")},{key:"updateKeyMappingFor",value:a(function(d){var m=d.id(),v=this.keyForId.get(m),T=this.getKey(d);this.deleteIdForKey(v,m),this.addIdForKey(T,m),this.keyForId.set(m,T)},"updateKeyMappingFor")},{key:"deleteKeyMappingFor",value:a(function(d){var m=d.id(),v=this.keyForId.get(m);this.deleteIdForKey(v,m),this.keyForId.delete(m)},"deleteKeyMappingFor")},{key:"keyHasChangedFor",value:a(function(d){var m=d.id(),v=this.keyForId.get(m),T=this.getKey(d);return v!==T},"keyHasChangedFor")},{key:"isInvalid",value:a(function(d){return this.keyHasChangedFor(d)||this.doesEleInvalidateKey(d)},"isInvalid")},{key:"getCachesAt",value:a(function(d){var m=this.cachesByLvl,v=this.lvls,T=m.get(d);return T||(T=new Xr,m.set(d,T),v.push(d)),T},"getCachesAt")},{key:"getCache",value:a(function(d,m){return this.getCachesAt(m).get(d)},"getCache")},{key:"get",value:a(function(d,m){var v=this.getKey(d),T=this.getCache(v,m);return T!=null&&this.updateKeyMappingFor(d),T},"get")},{key:"getForCachedKey",value:a(function(d,m){var v=this.keyForId.get(d.id()),T=this.getCache(v,m);return T},"getForCachedKey")},{key:"hasCache",value:a(function(d,m){return this.getCachesAt(m).has(d)},"hasCache")},{key:"has",value:a(function(d,m){var v=this.getKey(d);return this.hasCache(v,m)},"has")},{key:"setCache",value:a(function(d,m,v){v.key=d,this.getCachesAt(m).set(d,v)},"setCache")},{key:"set",value:a(function(d,m,v){var T=this.getKey(d);this.setCache(T,m,v),this.updateKeyMappingFor(d)},"set")},{key:"deleteCache",value:a(function(d,m){this.getCachesAt(m).delete(d)},"deleteCache")},{key:"delete",value:a(function(d,m){var v=this.getKey(d);this.deleteCache(v,m)},"_delete")},{key:"invalidateKey",value:a(function(d){var m=this;this.lvls.forEach(function(v){return m.deleteCache(d,v)})},"invalidateKey")},{key:"invalidate",value:a(function(d){var m=d.id(),v=this.keyForId.get(m);this.deleteKeyMappingFor(d);var T=this.doesEleInvalidateKey(d);return T&&this.invalidateKey(v),T||this.getNumberOfIdsForKey(v)===0},"invalidate")}]),h}(),u7=25,Eb=50,Cb=-4,vS=3,cTe=7.99,uTe=8,fTe=1024,hTe=1024,dTe=1024,pTe=.2,mTe=.8,gTe=10,yTe=.15,vTe=.1,xTe=.9,bTe=.9,TTe=100,kTe=1,tm={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},_Te=Vi({getKey:null,doesEleInvalidateKey:is,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:T0,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),V0=a(function(l,d){var m=this;m.renderer=l,m.onDequeues=[];var v=_Te(d);pe(m,v),m.lookup=new lTe(v.getKey,v.doesEleInvalidateKey),m.setupDequeueing()},"ElementTextureCache"),ea=V0.prototype;ea.reasons=tm,ea.getTextureQueue=function(h){var l=this;return l.eleImgCaches=l.eleImgCaches||{},l.eleImgCaches[h]=l.eleImgCaches[h]||[]},ea.getRetiredTextureQueue=function(h){var l=this,d=l.eleImgCaches.retired=l.eleImgCaches.retired||{},m=d[h]=d[h]||[];return m},ea.getElementQueue=function(){var h=this,l=h.eleCacheQueue=h.eleCacheQueue||new w0(function(d,m){return m.reqs-d.reqs});return l},ea.getElementKeyToQueue=function(){var h=this,l=h.eleKeyToCacheQueue=h.eleKeyToCacheQueue||{};return l},ea.getElement=function(h,l,d,m,v){var T=this,k=this.renderer,w=k.cy.zoom(),S=this.lookup;if(!l||l.w===0||l.h===0||isNaN(l.w)||isNaN(l.h)||!h.visible()||h.removed()||!T.allowEdgeTxrCaching&&h.isEdge()||!T.allowParentTxrCaching&&h.isParent())return null;if(m==null&&(m=Math.ceil(zC(w*d))),m<Cb)m=Cb;else if(w>=cTe||m>vS)return null;var C=Math.pow(2,m),R=l.h*C,L=l.w*C,z=k.eleTextBiggerThanMin(h,C);if(!this.isVisible(h,z))return null;var V=S.get(h,m);if(V&&V.invalidated&&(V.invalidated=!1,V.texture.invalidatedWidth-=V.width),V)return V;var j;if(R<=u7?j=u7:R<=Eb?j=Eb:j=Math.ceil(R/Eb)*Eb,R>dTe||L>hTe)return null;var Q=T.getTextureQueue(j),ne=Q[Q.length-2],Z=a(function(){return T.recycleTexture(j,L)||T.addTexture(j,L)},"addNewTxr");ne||(ne=Q[Q.length-1]),ne||(ne=Z()),ne.width-ne.usedWidth<L&&(ne=Z());for(var ie=a(function(Ke){return Ke&&Ke.scaledLabelShown===z},"scalableFrom"),ae=v&&v===tm.dequeue,me=v&&v===tm.highQuality,De=v&&v===tm.downscale,we,ve=m+1;ve<=vS;ve++){var Ie=S.get(h,ve);if(Ie){we=Ie;break}}var be=we&&we.level===m+1?we:null,Oe=a(function(){ne.context.drawImage(be.texture.canvas,be.x,0,be.width,be.height,ne.usedWidth,0,L,R)},"downscale");if(ne.context.setTransform(1,0,0,1,0,0),ne.context.clearRect(ne.usedWidth,0,L,j),ie(be))Oe();else if(ie(we))if(me){for(var Be=we.level;Be>m;Be--)be=T.getElement(h,l,d,Be,tm.downscale);Oe()}else return T.queueElement(h,we.level-1),we;else{var Ne;if(!ae&&!me&&!De)for(var Xe=m-1;Xe>=Cb;Xe--){var qe=S.get(h,Xe);if(qe){Ne=qe;break}}if(ie(Ne))return T.queueElement(h,m),Ne;ne.context.translate(ne.usedWidth,0),ne.context.scale(C,C),this.drawElement(ne.context,h,l,z,!1),ne.context.scale(1/C,1/C),ne.context.translate(-ne.usedWidth,0)}return V={x:ne.usedWidth,texture:ne,level:m,scale:C,width:L,height:R,scaledLabelShown:z},ne.usedWidth+=Math.ceil(L+uTe),ne.eleCaches.push(V),S.set(h,m,V),T.checkTextureFullness(ne),V},ea.invalidateElements=function(h){for(var l=0;l<h.length;l++)this.invalidateElement(h[l])},ea.invalidateElement=function(h){var l=this,d=l.lookup,m=[],v=d.isInvalid(h);if(v){for(var T=Cb;T<=vS;T++){var k=d.getForCachedKey(h,T);k&&m.push(k)}var w=d.invalidate(h);if(w)for(var S=0;S<m.length;S++){var C=m[S],R=C.texture;R.invalidatedWidth+=C.width,C.invalidated=!0,l.checkTextureUtility(R)}l.removeFromQueue(h)}},ea.checkTextureUtility=function(h){h.invalidatedWidth>=pTe*h.width&&this.retireTexture(h)},ea.checkTextureFullness=function(h){var l=this,d=l.getTextureQueue(h.height);h.usedWidth/h.width>mTe&&h.fullnessChecks>=gTe?hl(d,h):h.fullnessChecks++},ea.retireTexture=function(h){var l=this,d=h.height,m=l.getTextureQueue(d),v=this.lookup;hl(m,h),h.retired=!0;for(var T=h.eleCaches,k=0;k<T.length;k++){var w=T[k];v.deleteCache(w.key,w.level)}_0(T);var S=l.getRetiredTextureQueue(d);S.push(h)},ea.addTexture=function(h,l){var d=this,m=d.getTextureQueue(h),v={};return m.push(v),v.eleCaches=[],v.height=h,v.width=Math.max(fTe,l),v.usedWidth=0,v.invalidatedWidth=0,v.fullnessChecks=0,v.canvas=d.renderer.makeOffscreenCanvas(v.width,v.height),v.context=v.canvas.getContext("2d"),v},ea.recycleTexture=function(h,l){for(var d=this,m=d.getTextureQueue(h),v=d.getRetiredTextureQueue(h),T=0;T<v.length;T++){var k=v[T];if(k.width>=l)return k.retired=!1,k.usedWidth=0,k.invalidatedWidth=0,k.fullnessChecks=0,_0(k.eleCaches),k.context.setTransform(1,0,0,1,0,0),k.context.clearRect(0,0,k.width,k.height),hl(v,k),m.push(k),k}},ea.queueElement=function(h,l){var d=this,m=d.getElementQueue(),v=d.getElementKeyToQueue(),T=this.getKey(h),k=v[T];if(k)k.level=Math.max(k.level,l),k.eles.merge(h),k.reqs++,m.updateItem(k);else{var w={eles:h.spawn().merge(h),level:l,reqs:1,key:T};m.push(w),v[T]=w}},ea.dequeue=function(h){for(var l=this,d=l.getElementQueue(),m=l.getElementKeyToQueue(),v=[],T=l.lookup,k=0;k<kTe&&d.size()>0;k++){var w=d.pop(),S=w.key,C=w.eles[0],R=T.hasCache(C,w.level);if(m[S]=null,R)continue;v.push(w);var L=l.getBoundingBox(C);l.getElement(C,L,h,w.level,tm.dequeue)}return v},ea.removeFromQueue=function(h){var l=this,d=l.getElementQueue(),m=l.getElementKeyToQueue(),v=this.getKey(h),T=m[v];T!=null&&(T.eles.length===1?(T.reqs=Ji,d.updateItem(T),d.pop(),m[v]=null):T.eles.unmerge(h))},ea.onDequeue=function(h){this.onDequeues.push(h)},ea.offDequeue=function(h){hl(this.onDequeues,h)},ea.setupDequeueing=c7.setupDequeueing({deqRedrawThreshold:TTe,deqCost:yTe,deqAvgCost:vTe,deqNoDrawCost:xTe,deqFastCost:bTe,deq:a(function(l,d,m){return l.dequeue(d,m)},"deq"),onDeqd:a(function(l,d){for(var m=0;m<l.onDequeues.length;m++){var v=l.onDequeues[m];v(d)}},"onDeqd"),shouldRedraw:a(function(l,d,m,v){for(var T=0;T<d.length;T++)for(var k=d[T].eles,w=0;w<k.length;w++){var S=k[w].boundingBox();if($C(S,v))return!0}return!1},"shouldRedraw"),priority:a(function(l){return l.renderer.beforeRenderPriorities.eleTxrDeq},"priority")});var wTe=1,W0=-4,Sb=2,ETe=3.99,CTe=50,STe=50,ATe=.15,RTe=.1,DTe=.9,LTe=.9,ITe=1,f7=250,NTe=4e3*4e3,PTe=!0,h7=a(function(l){var d=this,m=d.renderer=l,v=m.cy;d.layersByLevel={},d.firstGet=!0,d.lastInvalidationTime=je()-2*f7,d.skipping=!1,d.eleTxrDeqs=v.collection(),d.scheduleElementRefinement=Er(function(){d.refineElementTextures(d.eleTxrDeqs),d.eleTxrDeqs.unmerge(d.eleTxrDeqs)},STe),m.beforeRender(function(k,w){w-d.lastInvalidationTime<=f7?d.skipping=!0:d.skipping=!1},m.beforeRenderPriorities.lyrTxrSkip);var T=a(function(w,S){return S.reqs-w.reqs},"qSort");d.layersQueue=new w0(T),d.setupDequeueing()},"LayeredTextureCache"),Pa=h7.prototype,d7=0,OTe=Math.pow(2,53)-1;Pa.makeLayer=function(h,l){var d=Math.pow(2,l),m=Math.ceil(h.w*d),v=Math.ceil(h.h*d),T=this.renderer.makeOffscreenCanvas(m,v),k={id:d7=++d7%OTe,bb:h,level:l,width:m,height:v,canvas:T,context:T.getContext("2d"),eles:[],elesQueue:[],reqs:0},w=k.context,S=-k.bb.x1,C=-k.bb.y1;return w.scale(d,d),w.translate(S,C),k},Pa.getLayers=function(h,l,d){var m=this,v=m.renderer,T=v.cy,k=T.zoom(),w=m.firstGet;if(m.firstGet=!1,d==null){if(d=Math.ceil(zC(k*l)),d<W0)d=W0;else if(k>=ETe||d>Sb)return null}m.validateLayersElesOrdering(d,h);var S=m.layersByLevel,C=Math.pow(2,d),R=S[d]=S[d]||[],L,z=m.levelIsComplete(d,h),V,j=a(function(){var Oe=a(function(ot){if(m.validateLayersElesOrdering(ot,h),m.levelIsComplete(ot,h))return V=S[ot],!0},"canUseAsTmpLvl"),Be=a(function(ot){if(!V)for(var Ke=d+ot;W0<=Ke&&Ke<=Sb&&!Oe(Ke);Ke+=ot);},"checkLvls");Be(1),Be(-1);for(var Ne=R.length-1;Ne>=0;Ne--){var Xe=R[Ne];Xe.invalid&&hl(R,Xe)}},"checkTempLevels");if(!z)j();else return R;var Q=a(function(){if(!L){L=Oo();for(var Oe=0;Oe<h.length;Oe++)vve(L,h[Oe].boundingBox())}return L},"getBb"),ne=a(function(Oe){Oe=Oe||{};var Be=Oe.after;Q();var Ne=L.w*C*(L.h*C);if(Ne>NTe)return null;var Xe=m.makeLayer(L,d);if(Be!=null){var qe=R.indexOf(Be)+1;R.splice(qe,0,Xe)}else(Oe.insert===void 0||Oe.insert)&&R.unshift(Xe);return Xe},"makeLayer");if(m.skipping&&!w)return null;for(var Z=null,ie=h.length/wTe,ae=!w,me=0;me<h.length;me++){var De=h[me],we=De._private.rscratch,ve=we.imgLayerCaches=we.imgLayerCaches||{},Ie=ve[d];if(Ie){Z=Ie;continue}if((!Z||Z.eles.length>=ie||!yM(Z.bb,De.boundingBox()))&&(Z=ne({insert:!0,after:Z}),!Z))return null;V||ae?m.queueLayer(Z,De):m.drawEleInLayer(Z,De,d,l),Z.eles.push(De),ve[d]=Z}return V||(ae?null:R)},Pa.getEleLevelForLayerLevel=function(h,l){return h},Pa.drawEleInLayer=function(h,l,d,m){var v=this,T=this.renderer,k=h.context,w=l.boundingBox();w.w===0||w.h===0||!l.visible()||(d=v.getEleLevelForLayerLevel(d,m),T.setImgSmoothing(k,!1),T.drawCachedElement(k,l,null,null,d,PTe),T.setImgSmoothing(k,!0))},Pa.levelIsComplete=function(h,l){var d=this,m=d.layersByLevel[h];if(!m||m.length===0)return!1;for(var v=0,T=0;T<m.length;T++){var k=m[T];if(k.reqs>0||k.invalid)return!1;v+=k.eles.length}return v===l.length},Pa.validateLayersElesOrdering=function(h,l){var d=this.layersByLevel[h];if(d)for(var m=0;m<d.length;m++){for(var v=d[m],T=-1,k=0;k<l.length;k++)if(v.eles[0]===l[k]){T=k;break}if(T<0){this.invalidateLayer(v);continue}for(var w=T,k=0;k<v.eles.length;k++)if(v.eles[k]!==l[w+k]){this.invalidateLayer(v);break}}},Pa.updateElementsInLayers=function(h,l){for(var d=this,m=D(h[0]),v=0;v<h.length;v++)for(var T=m?null:h[v],k=m?h[v]:h[v].ele,w=k._private.rscratch,S=w.imgLayerCaches=w.imgLayerCaches||{},C=W0;C<=Sb;C++){var R=S[C];R&&(T&&d.getEleLevelForLayerLevel(R.level)!==T.level||l(R,k,T))}},Pa.haveLayers=function(){for(var h=this,l=!1,d=W0;d<=Sb;d++){var m=h.layersByLevel[d];if(m&&m.length>0){l=!0;break}}return l},Pa.invalidateElements=function(h){var l=this;h.length!==0&&(l.lastInvalidationTime=je(),!(h.length===0||!l.haveLayers())&&l.updateElementsInLayers(h,a(function(m,v,T){l.invalidateLayer(m)},"invalAssocLayers")))},Pa.invalidateLayer=function(h){if(this.lastInvalidationTime=je(),!h.invalid){var l=h.level,d=h.eles,m=this.layersByLevel[l];hl(m,h),h.elesQueue=[],h.invalid=!0,h.replacement&&(h.replacement.invalid=!0);for(var v=0;v<d.length;v++){var T=d[v]._private.rscratch.imgLayerCaches;T&&(T[l]=null)}}},Pa.refineElementTextures=function(h){var l=this;l.updateElementsInLayers(h,a(function(m,v,T){var k=m.replacement;if(k||(k=m.replacement=l.makeLayer(m.bb,m.level),k.replaces=m,k.eles=m.eles),!k.reqs)for(var w=0;w<k.eles.length;w++)l.queueLayer(k,k.eles[w])},"refineEachEle"))},Pa.enqueueElementRefinement=function(h){this.eleTxrDeqs.merge(h),this.scheduleElementRefinement()},Pa.queueLayer=function(h,l){var d=this,m=d.layersQueue,v=h.elesQueue,T=v.hasId=v.hasId||{};if(!h.replacement){if(l){if(T[l.id()])return;v.push(l),T[l.id()]=!0}h.reqs?(h.reqs++,m.updateItem(h)):(h.reqs=1,m.push(h))}},Pa.dequeue=function(h){for(var l=this,d=l.layersQueue,m=[],v=0;v<ITe&&d.size()!==0;){var T=d.peek();if(T.replacement){d.pop();continue}if(T.replaces&&T!==T.replaces.replacement){d.pop();continue}if(T.invalid){d.pop();continue}var k=T.elesQueue.shift();k&&(l.drawEleInLayer(T,k,T.level,h),v++),m.length===0&&m.push(!0),T.elesQueue.length===0&&(d.pop(),T.reqs=0,T.replaces&&l.applyLayerReplacement(T),l.requestRedraw())}return m},Pa.applyLayerReplacement=function(h){var l=this,d=l.layersByLevel[h.level],m=h.replaces,v=d.indexOf(m);if(!(v<0||m.invalid)){d[v]=h;for(var T=0;T<h.eles.length;T++){var k=h.eles[T]._private,w=k.imgLayerCaches=k.imgLayerCaches||{};w&&(w[h.level]=h)}l.requestRedraw()}},Pa.requestRedraw=Er(function(){var h=this.renderer;h.redrawHint("eles",!0),h.redrawHint("drag",!0),h.redraw()},100),Pa.setupDequeueing=c7.setupDequeueing({deqRedrawThreshold:CTe,deqCost:ATe,deqAvgCost:RTe,deqNoDrawCost:DTe,deqFastCost:LTe,deq:a(function(l,d){return l.dequeue(d)},"deq"),onDeqd:oc,shouldRedraw:T0,priority:a(function(l){return l.renderer.beforeRenderPriorities.lyrTxrDeq},"priority")});var p7={},m7;function MTe(h,l){for(var d=0;d<l.length;d++){var m=l[d];h.lineTo(m.x,m.y)}}a(MTe,"polygon");function FTe(h,l,d){for(var m,v=0;v<l.length;v++){var T=l[v];v===0&&(m=T),h.lineTo(T.x,T.y)}h.quadraticCurveTo(d.x,d.y,m.x,m.y)}a(FTe,"triangleBackcurve");function g7(h,l,d){h.beginPath&&h.beginPath();for(var m=l,v=0;v<m.length;v++){var T=m[v];h.lineTo(T.x,T.y)}var k=d,w=d[0];h.moveTo(w.x,w.y);for(var v=1;v<k.length;v++){var T=k[v];h.lineTo(T.x,T.y)}h.closePath&&h.closePath()}a(g7,"triangleTee");function BTe(h,l,d,m,v){h.beginPath&&h.beginPath(),h.arc(d,m,v,0,Math.PI*2,!1);var T=l,k=T[0];h.moveTo(k.x,k.y);for(var w=0;w<T.length;w++){var S=T[w];h.lineTo(S.x,S.y)}h.closePath&&h.closePath()}a(BTe,"circleTriangle");function qTe(h,l,d,m){h.arc(l,d,m,0,Math.PI*2,!1)}a(qTe,"circle"),p7.arrowShapeImpl=function(h){return(m7||(m7={polygon:MTe,"triangle-backcurve":FTe,"triangle-tee":g7,"circle-triangle":BTe,"triangle-cross":g7,circle:qTe}))[h]};var cc={};cc.drawElement=function(h,l,d,m,v,T){var k=this;l.isNode()?k.drawNode(h,l,d,m,v,T):k.drawEdge(h,l,d,m,v,T)},cc.drawElementOverlay=function(h,l){var d=this;l.isNode()?d.drawNodeOverlay(h,l):d.drawEdgeOverlay(h,l)},cc.drawElementUnderlay=function(h,l){var d=this;l.isNode()?d.drawNodeUnderlay(h,l):d.drawEdgeUnderlay(h,l)},cc.drawCachedElementPortion=function(h,l,d,m,v,T,k,w){var S=this,C=d.getBoundingBox(l);if(!(C.w===0||C.h===0)){var R=d.getElement(l,C,m,v,T);if(R!=null){var L=w(S,l);if(L===0)return;var z=k(S,l),V=C.x1,j=C.y1,Q=C.w,ne=C.h,Z,ie,ae,me,De;if(z!==0){var we=d.getRotationPoint(l);ae=we.x,me=we.y,h.translate(ae,me),h.rotate(z),De=S.getImgSmoothing(h),De||S.setImgSmoothing(h,!0);var ve=d.getRotationOffset(l);Z=ve.x,ie=ve.y}else Z=V,ie=j;var Ie;L!==1&&(Ie=h.globalAlpha,h.globalAlpha=Ie*L),h.drawImage(R.texture.canvas,R.x,0,R.width,R.height,Z,ie,Q,ne),L!==1&&(h.globalAlpha=Ie),z!==0&&(h.rotate(-z),h.translate(-ae,-me),De||S.setImgSmoothing(h,!1))}else d.drawElement(h,l)}};var zTe=a(function(){return 0},"getZeroRotation"),UTe=a(function(l,d){return l.getTextAngle(d,null)},"getLabelRotation"),$Te=a(function(l,d){return l.getTextAngle(d,"source")},"getSourceLabelRotation"),GTe=a(function(l,d){return l.getTextAngle(d,"target")},"getTargetLabelRotation"),VTe=a(function(l,d){return d.effectiveOpacity()},"getOpacity"),xS=a(function(l,d){return d.pstyle("text-opacity").pfValue*d.effectiveOpacity()},"getTextOpacity");cc.drawCachedElement=function(h,l,d,m,v,T){var k=this,w=k.data,S=w.eleTxrCache,C=w.lblTxrCache,R=w.slbTxrCache,L=w.tlbTxrCache,z=l.boundingBox(),V=T===!0?S.reasons.highQuality:null;if(!(z.w===0||z.h===0||!l.visible())&&(!m||$C(z,m))){var j=l.isEdge(),Q=l.element()._private.rscratch.badLine;k.drawElementUnderlay(h,l),k.drawCachedElementPortion(h,l,S,d,v,V,zTe,VTe),(!j||!Q)&&k.drawCachedElementPortion(h,l,C,d,v,V,UTe,xS),j&&!Q&&(k.drawCachedElementPortion(h,l,R,d,v,V,$Te,xS),k.drawCachedElementPortion(h,l,L,d,v,V,GTe,xS)),k.drawElementOverlay(h,l)}},cc.drawElements=function(h,l){for(var d=this,m=0;m<l.length;m++){var v=l[m];d.drawElement(h,v)}},cc.drawCachedElements=function(h,l,d,m){for(var v=this,T=0;T<l.length;T++){var k=l[T];v.drawCachedElement(h,k,d,m)}},cc.drawCachedNodes=function(h,l,d,m){for(var v=this,T=0;T<l.length;T++){var k=l[T];k.isNode()&&v.drawCachedElement(h,k,d,m)}},cc.drawLayeredElements=function(h,l,d,m){var v=this,T=v.data.lyrTxrCache.getLayers(l,d);if(T)for(var k=0;k<T.length;k++){var w=T[k],S=w.bb;S.w===0||S.h===0||h.drawImage(w.canvas,S.x1,S.y1,S.w,S.h)}else v.drawCachedElements(h,l,d,m)};var tu={};tu.drawEdge=function(h,l,d){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,v=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,T=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,k=this,w=l._private.rscratch;if(!(T&&!l.visible())&&!(w.badLine||w.allpts==null||isNaN(w.allpts[0]))){var S;d&&(S=d,h.translate(-S.x1,-S.y1));var C=T?l.pstyle("opacity").value:1,R=T?l.pstyle("line-opacity").value:1,L=l.pstyle("curve-style").value,z=l.pstyle("line-style").value,V=l.pstyle("width").pfValue,j=l.pstyle("line-cap").value,Q=C*R,ne=C*R,Z=a(function(){var Ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Q;L==="straight-triangle"?(k.eleStrokeStyle(h,l,Ne),k.drawEdgeTrianglePath(l,h,w.allpts)):(h.lineWidth=V,h.lineCap=j,k.eleStrokeStyle(h,l,Ne),k.drawEdgePath(l,h,w.allpts,z),h.lineCap="butt")},"drawLine"),ie=a(function(){v&&k.drawEdgeOverlay(h,l)},"drawOverlay"),ae=a(function(){v&&k.drawEdgeUnderlay(h,l)},"drawUnderlay"),me=a(function(){var Ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ne;k.drawArrowheads(h,l,Ne)},"drawArrows"),De=a(function(){k.drawElementText(h,l,null,m)},"drawText");h.lineJoin="round";var we=l.pstyle("ghost").value==="yes";if(we){var ve=l.pstyle("ghost-offset-x").pfValue,Ie=l.pstyle("ghost-offset-y").pfValue,be=l.pstyle("ghost-opacity").value,Oe=Q*be;h.translate(ve,Ie),Z(Oe),me(Oe),h.translate(-ve,-Ie)}ae(),Z(),me(),ie(),De(),d&&h.translate(S.x1,S.y1)}};var y7=a(function(l){if(!["overlay","underlay"].includes(l))throw new Error("Invalid state");return function(d,m){if(m.visible()){var v=m.pstyle("".concat(l,"-opacity")).value;if(v!==0){var T=this,k=T.usePaths(),w=m._private.rscratch,S=m.pstyle("".concat(l,"-padding")).pfValue,C=2*S,R=m.pstyle("".concat(l,"-color")).value;d.lineWidth=C,w.edgeType==="self"&&!k?d.lineCap="butt":d.lineCap="round",T.colorStrokeStyle(d,R[0],R[1],R[2],v),T.drawEdgePath(m,d,w.allpts,"solid")}}}},"drawEdgeOverlayUnderlay");tu.drawEdgeOverlay=y7("overlay"),tu.drawEdgeUnderlay=y7("underlay"),tu.drawEdgePath=function(h,l,d,m){var v=h._private.rscratch,T=l,k,w=!1,S=this.usePaths(),C=h.pstyle("line-dash-pattern").pfValue,R=h.pstyle("line-dash-offset").pfValue;if(S){var L=d.join("$"),z=v.pathCacheKey&&v.pathCacheKey===L;z?(k=l=v.pathCache,w=!0):(k=l=new Path2D,v.pathCacheKey=L,v.pathCache=k)}if(T.setLineDash)switch(m){case"dotted":T.setLineDash([1,1]);break;case"dashed":T.setLineDash(C),T.lineDashOffset=R;break;case"solid":T.setLineDash([]);break}if(!w&&!v.badLine)switch(l.beginPath&&l.beginPath(),l.moveTo(d[0],d[1]),v.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var V=2;V+3<d.length;V+=4)l.quadraticCurveTo(d[V],d[V+1],d[V+2],d[V+3]);break;case"straight":case"segments":case"haystack":for(var j=2;j+1<d.length;j+=2)l.lineTo(d[j],d[j+1]);break}l=T,S?l.stroke(k):l.stroke(),l.setLineDash&&l.setLineDash([])},tu.drawEdgeTrianglePath=function(h,l,d){l.fillStyle=l.strokeStyle;for(var m=h.pstyle("width").pfValue,v=0;v+1<d.length;v+=2){var T=[d[v+2]-d[v],d[v+3]-d[v+1]],k=Math.sqrt(T[0]*T[0]+T[1]*T[1]),w=[T[1]/k,-T[0]/k],S=[w[0]*m/2,w[1]*m/2];l.beginPath(),l.moveTo(d[v]-S[0],d[v+1]-S[1]),l.lineTo(d[v]+S[0],d[v+1]+S[1]),l.lineTo(d[v+2],d[v+3]),l.closePath(),l.fill()}},tu.drawArrowheads=function(h,l,d){var m=l._private.rscratch,v=m.edgeType==="haystack";v||this.drawArrowhead(h,l,"source",m.arrowStartX,m.arrowStartY,m.srcArrowAngle,d),this.drawArrowhead(h,l,"mid-target",m.midX,m.midY,m.midtgtArrowAngle,d),this.drawArrowhead(h,l,"mid-source",m.midX,m.midY,m.midsrcArrowAngle,d),v||this.drawArrowhead(h,l,"target",m.arrowEndX,m.arrowEndY,m.tgtArrowAngle,d)},tu.drawArrowhead=function(h,l,d,m,v,T,k){if(!(isNaN(m)||m==null||isNaN(v)||v==null||isNaN(T)||T==null)){var w=this,S=l.pstyle(d+"-arrow-shape").value;if(S!=="none"){var C=l.pstyle(d+"-arrow-fill").value==="hollow"?"both":"filled",R=l.pstyle(d+"-arrow-fill").value,L=l.pstyle("width").pfValue,z=l.pstyle("opacity").value;k===void 0&&(k=z);var V=h.globalCompositeOperation;(k!==1||R==="hollow")&&(h.globalCompositeOperation="destination-out",w.colorFillStyle(h,255,255,255,1),w.colorStrokeStyle(h,255,255,255,1),w.drawArrowShape(l,h,C,L,S,m,v,T),h.globalCompositeOperation=V);var j=l.pstyle(d+"-arrow-color").value;w.colorFillStyle(h,j[0],j[1],j[2],k),w.colorStrokeStyle(h,j[0],j[1],j[2],k),w.drawArrowShape(l,h,R,L,S,m,v,T)}}},tu.drawArrowShape=function(h,l,d,m,v,T,k,w){var S=this,C=this.usePaths()&&v!=="triangle-cross",R=!1,L,z=l,V={x:T,y:k},j=h.pstyle("arrow-scale").value,Q=this.getArrowWidth(m,j),ne=S.arrowShapes[v];if(C){var Z=S.arrowPathCache=S.arrowPathCache||[],ie=Bn(v),ae=Z[ie];ae!=null?(L=l=ae,R=!0):(L=l=new Path2D,Z[ie]=L)}R||(l.beginPath&&l.beginPath(),C?ne.draw(l,1,0,{x:0,y:0},1):ne.draw(l,Q,w,V,m),l.closePath&&l.closePath()),l=z,C&&(l.translate(T,k),l.rotate(w),l.scale(Q,Q)),(d==="filled"||d==="both")&&(C?l.fill(L):l.fill()),(d==="hollow"||d==="both")&&(l.lineWidth=(ne.matchEdgeWidth?m:1)/(C?Q:1),l.lineJoin="miter",C?l.stroke(L):l.stroke()),C&&(l.scale(1/Q,1/Q),l.rotate(-w),l.translate(-T,-k))};var bS={};bS.safeDrawImage=function(h,l,d,m,v,T,k,w,S,C){if(!(v<=0||T<=0||S<=0||C<=0))try{h.drawImage(l,d,m,v,T,k,w,S,C)}catch(R){Kr(R)}},bS.drawInscribedImage=function(h,l,d,m,v){var T=this,k=d.position(),w=k.x,S=k.y,C=d.cy().style(),R=C.getIndexedStyle.bind(C),L=R(d,"background-fit","value",m),z=R(d,"background-repeat","value",m),V=d.width(),j=d.height(),Q=d.padding()*2,ne=V+(R(d,"background-width-relative-to","value",m)==="inner"?0:Q),Z=j+(R(d,"background-height-relative-to","value",m)==="inner"?0:Q),ie=d._private.rscratch,ae=R(d,"background-clip","value",m),me=ae==="node",De=R(d,"background-image-opacity","value",m)*v,we=R(d,"background-image-smoothing","value",m),ve=l.width||l.cachedW,Ie=l.height||l.cachedH;(ve==null||Ie==null)&&(document.body.appendChild(l),ve=l.cachedW=l.width||l.offsetWidth,Ie=l.cachedH=l.height||l.offsetHeight,document.body.removeChild(l));var be=ve,Oe=Ie;if(R(d,"background-width","value",m)!=="auto"&&(R(d,"background-width","units",m)==="%"?be=R(d,"background-width","pfValue",m)*ne:be=R(d,"background-width","pfValue",m)),R(d,"background-height","value",m)!=="auto"&&(R(d,"background-height","units",m)==="%"?Oe=R(d,"background-height","pfValue",m)*Z:Oe=R(d,"background-height","pfValue",m)),!(be===0||Oe===0)){if(L==="contain"){var Be=Math.min(ne/be,Z/Oe);be*=Be,Oe*=Be}else if(L==="cover"){var Be=Math.max(ne/be,Z/Oe);be*=Be,Oe*=Be}var Ne=w-ne/2,Xe=R(d,"background-position-x","units",m),qe=R(d,"background-position-x","pfValue",m);Xe==="%"?Ne+=(ne-be)*qe:Ne+=qe;var ot=R(d,"background-offset-x","units",m),Ke=R(d,"background-offset-x","pfValue",m);ot==="%"?Ne+=(ne-be)*Ke:Ne+=Ke;var Je=S-Z/2,lt=R(d,"background-position-y","units",m),ht=R(d,"background-position-y","pfValue",m);lt==="%"?Je+=(Z-Oe)*ht:Je+=ht;var xt=R(d,"background-offset-y","units",m),ut=R(d,"background-offset-y","pfValue",m);xt==="%"?Je+=(Z-Oe)*ut:Je+=ut,ie.pathCache&&(Ne-=w,Je-=S,w=0,S=0);var yt=h.globalAlpha;h.globalAlpha=De;var Ct=T.getImgSmoothing(h),At=!1;if(we==="no"&&Ct?(T.setImgSmoothing(h,!1),At=!0):we==="yes"&&!Ct&&(T.setImgSmoothing(h,!0),At=!0),z==="no-repeat")me&&(h.save(),ie.pathCache?h.clip(ie.pathCache):(T.nodeShapes[T.getNodeShape(d)].draw(h,w,S,ne,Z),h.clip())),T.safeDrawImage(h,l,0,0,ve,Ie,Ne,Je,be,Oe),me&&h.restore();else{var wt=h.createPattern(l,z);h.fillStyle=wt,T.nodeShapes[T.getNodeShape(d)].draw(h,w,S,ne,Z),h.translate(Ne,Je),h.fill(),h.translate(-Ne,-Je)}h.globalAlpha=yt,At&&T.setImgSmoothing(h,Ct)}};var ed={};ed.eleTextBiggerThanMin=function(h,l){if(!l){var d=h.cy().zoom(),m=this.getPixelRatio(),v=Math.ceil(zC(d*m));l=Math.pow(2,v)}var T=h.pstyle("font-size").pfValue*l,k=h.pstyle("min-zoomed-font-size").pfValue;return!(T<k)},ed.drawElementText=function(h,l,d,m,v){var T=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,k=this;if(m==null){if(T&&!k.eleTextBiggerThanMin(l))return}else if(m===!1)return;if(l.isNode()){var w=l.pstyle("label");if(!w||!w.value)return;var S=k.getLabelJustification(l);h.textAlign=S,h.textBaseline="bottom"}else{var C=l.element()._private.rscratch.badLine,R=l.pstyle("label"),L=l.pstyle("source-label"),z=l.pstyle("target-label");if(C||(!R||!R.value)&&(!L||!L.value)&&(!z||!z.value))return;h.textAlign="center",h.textBaseline="bottom"}var V=!d,j;d&&(j=d,h.translate(-j.x1,-j.y1)),v==null?(k.drawText(h,l,null,V,T),l.isEdge()&&(k.drawText(h,l,"source",V,T),k.drawText(h,l,"target",V,T))):k.drawText(h,l,v,V,T),d&&h.translate(j.x1,j.y1)},ed.getFontCache=function(h){var l;this.fontCaches=this.fontCaches||[];for(var d=0;d<this.fontCaches.length;d++)if(l=this.fontCaches[d],l.context===h)return l;return l={context:h},this.fontCaches.push(l),l},ed.setupTextStyle=function(h,l){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,m=l.pstyle("font-style").strValue,v=l.pstyle("font-size").pfValue+"px",T=l.pstyle("font-family").strValue,k=l.pstyle("font-weight").strValue,w=d?l.effectiveOpacity()*l.pstyle("text-opacity").value:1,S=l.pstyle("text-outline-opacity").value*w,C=l.pstyle("color").value,R=l.pstyle("text-outline-color").value;h.font=m+" "+k+" "+v+" "+T,h.lineJoin="round",this.colorFillStyle(h,C[0],C[1],C[2],w),this.colorStrokeStyle(h,R[0],R[1],R[2],S)};function WTe(h,l,d,m,v){var T=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5;h.beginPath(),h.moveTo(l+T,d),h.lineTo(l+m-T,d),h.quadraticCurveTo(l+m,d,l+m,d+T),h.lineTo(l+m,d+v-T),h.quadraticCurveTo(l+m,d+v,l+m-T,d+v),h.lineTo(l+T,d+v),h.quadraticCurveTo(l,d+v,l,d+v-T),h.lineTo(l,d+T),h.quadraticCurveTo(l,d,l+T,d),h.closePath(),h.fill()}a(WTe,"roundRect"),ed.getTextAngle=function(h,l){var d,m=h._private,v=m.rscratch,T=l?l+"-":"",k=h.pstyle(T+"text-rotation"),w=tt(v,"labelAngle",l);return k.strValue==="autorotate"?d=h.isEdge()?w:0:k.strValue==="none"?d=0:d=k.pfValue,d},ed.drawText=function(h,l,d){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,v=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,T=l._private,k=T.rscratch,w=v?l.effectiveOpacity():1;if(!(v&&(w===0||l.pstyle("text-opacity").value===0))){d==="main"&&(d=null);var S=tt(k,"labelX",d),C=tt(k,"labelY",d),R,L,z=this.getLabelText(l,d);if(z!=null&&z!==""&&!isNaN(S)&&!isNaN(C)){this.setupTextStyle(h,l,v);var V=d?d+"-":"",j=tt(k,"labelWidth",d),Q=tt(k,"labelHeight",d),ne=l.pstyle(V+"text-margin-x").pfValue,Z=l.pstyle(V+"text-margin-y").pfValue,ie=l.isEdge(),ae=l.pstyle("text-halign").value,me=l.pstyle("text-valign").value;ie&&(ae="center",me="center"),S+=ne,C+=Z;var De;switch(m?De=this.getTextAngle(l,d):De=0,De!==0&&(R=S,L=C,h.translate(R,L),h.rotate(De),S=0,C=0),me){case"top":break;case"center":C+=Q/2;break;case"bottom":C+=Q;break}var we=l.pstyle("text-background-opacity").value,ve=l.pstyle("text-border-opacity").value,Ie=l.pstyle("text-border-width").pfValue,be=l.pstyle("text-background-padding").pfValue;if(we>0||Ie>0&&ve>0){var Oe=S-be;switch(ae){case"left":Oe-=j;break;case"center":Oe-=j/2;break}var Be=C-Q-be,Ne=j+2*be,Xe=Q+2*be;if(we>0){var qe=h.fillStyle,ot=l.pstyle("text-background-color").value;h.fillStyle="rgba("+ot[0]+","+ot[1]+","+ot[2]+","+we*w+")";var Ke=l.pstyle("text-background-shape").strValue;Ke.indexOf("round")===0?WTe(h,Oe,Be,Ne,Xe,2):h.fillRect(Oe,Be,Ne,Xe),h.fillStyle=qe}if(Ie>0&&ve>0){var Je=h.strokeStyle,lt=h.lineWidth,ht=l.pstyle("text-border-color").value,xt=l.pstyle("text-border-style").value;if(h.strokeStyle="rgba("+ht[0]+","+ht[1]+","+ht[2]+","+ve*w+")",h.lineWidth=Ie,h.setLineDash)switch(xt){case"dotted":h.setLineDash([1,1]);break;case"dashed":h.setLineDash([4,2]);break;case"double":h.lineWidth=Ie/4,h.setLineDash([]);break;case"solid":h.setLineDash([]);break}if(h.strokeRect(Oe,Be,Ne,Xe),xt==="double"){var ut=Ie/2;h.strokeRect(Oe+ut,Be+ut,Ne-ut*2,Xe-ut*2)}h.setLineDash&&h.setLineDash([]),h.lineWidth=lt,h.strokeStyle=Je}}var yt=2*l.pstyle("text-outline-width").pfValue;if(yt>0&&(h.lineWidth=yt),l.pstyle("text-wrap").value==="wrap"){var Ct=tt(k,"labelWrapCachedLines",d),At=tt(k,"labelLineHeight",d),wt=j/2,Tt=this.getLabelJustification(l);switch(Tt==="auto"||(ae==="left"?Tt==="left"?S+=-j:Tt==="center"&&(S+=-wt):ae==="center"?Tt==="left"?S+=-wt:Tt==="right"&&(S+=wt):ae==="right"&&(Tt==="center"?S+=wt:Tt==="right"&&(S+=j))),me){case"top":C-=(Ct.length-1)*At;break;case"center":case"bottom":C-=(Ct.length-1)*At;break}for(var st=0;st<Ct.length;st++)yt>0&&h.strokeText(Ct[st],S,C),h.fillText(Ct[st],S,C),C+=At}else yt>0&&h.strokeText(z,S,C),h.fillText(z,S,C);De!==0&&(h.rotate(-De),h.translate(-R,-L))}}};var rm={};rm.drawNode=function(h,l,d){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,v=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,T=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,k=this,w,S,C=l._private,R=C.rscratch,L=l.position();if(!(!B(L.x)||!B(L.y))&&!(T&&!l.visible())){var z=T?l.effectiveOpacity():1,V=k.usePaths(),j,Q=!1,ne=l.padding();w=l.width()+2*ne,S=l.height()+2*ne;var Z;d&&(Z=d,h.translate(-Z.x1,-Z.y1));for(var ie=l.pstyle("background-image"),ae=ie.value,me=new Array(ae.length),De=new Array(ae.length),we=0,ve=0;ve<ae.length;ve++){var Ie=ae[ve],be=me[ve]=Ie!=null&&Ie!=="none";if(be){var Oe=l.cy().style().getIndexedStyle(l,"background-image-crossorigin","value",ve);we++,De[ve]=k.getCachedImage(Ie,Oe,function(){C.backgroundTimestamp=Date.now(),l.emitAndNotify("background")})}}var Be=l.pstyle("background-blacken").value,Ne=l.pstyle("border-width").pfValue,Xe=l.pstyle("background-opacity").value*z,qe=l.pstyle("border-color").value,ot=l.pstyle("border-style").value,Ke=l.pstyle("border-opacity").value*z;h.lineJoin="miter";var Je=a(function(){var Ht=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Xe;k.eleFillStyle(h,l,Ht)},"setupShapeColor"),lt=a(function(){var Ht=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ke;k.colorStrokeStyle(h,qe[0],qe[1],qe[2],Ht)},"setupBorderColor"),ht=l.pstyle("shape").strValue,xt=l.pstyle("shape-polygon-points").pfValue;if(V){h.translate(L.x,L.y);var ut=k.nodePathCache=k.nodePathCache||[],yt=ac(ht==="polygon"?ht+","+xt.join(","):ht,""+S,""+w),Ct=ut[yt];Ct!=null?(j=Ct,Q=!0,R.pathCache=j):(j=new Path2D,ut[yt]=R.pathCache=j)}var At=a(function(){if(!Q){var Ht=L;V&&(Ht={x:0,y:0}),k.nodeShapes[k.getNodeShape(l)].draw(j||h,Ht.x,Ht.y,w,S)}V?h.fill(j):h.fill()},"drawShape"),wt=a(function(){for(var Ht=arguments.length>0&&arguments[0]!==void 0?arguments[0]:z,fr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Qr=C.backgrounding,Br=0,Ar=0;Ar<De.length;Ar++){var Ft=l.cy().style().getIndexedStyle(l,"background-image-containment","value",Ar);if(fr&&Ft==="over"||!fr&&Ft==="inside"){Br++;continue}me[Ar]&&De[Ar].complete&&!De[Ar].error&&(Br++,k.drawInscribedImage(h,De[Ar],l,Ar,Ht))}C.backgrounding=Br!==we,Qr!==C.backgrounding&&l.updateStyle(!1)},"drawImages"),Tt=a(function(){var Ht=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,fr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:z;k.hasPie(l)&&(k.drawPie(h,l,fr),Ht&&(V||k.nodeShapes[k.getNodeShape(l)].draw(h,L.x,L.y,w,S)))},"drawPie"),st=a(function(){var Ht=arguments.length>0&&arguments[0]!==void 0?arguments[0]:z,fr=(Be>0?Be:-Be)*Ht,Qr=Be>0?0:255;Be!==0&&(k.colorFillStyle(h,Qr,Qr,Qr,fr),V?h.fill(j):h.fill())},"darken"),St=a(function(){if(Ne>0){if(h.lineWidth=Ne,h.lineCap="butt",h.setLineDash)switch(ot){case"dotted":h.setLineDash([1,1]);break;case"dashed":h.setLineDash([4,2]);break;case"solid":case"double":h.setLineDash([]);break}if(V?h.stroke(j):h.stroke(),ot==="double"){h.lineWidth=Ne/3;var Ht=h.globalCompositeOperation;h.globalCompositeOperation="destination-out",V?h.stroke(j):h.stroke(),h.globalCompositeOperation=Ht}h.setLineDash&&h.setLineDash([])}},"drawBorder"),Rt=a(function(){v&&k.drawNodeOverlay(h,l,L,w,S)},"drawOverlay"),zt=a(function(){v&&k.drawNodeUnderlay(h,l,L,w,S)},"drawUnderlay"),Vt=a(function(){k.drawElementText(h,l,null,m)},"drawText"),Dr=l.pstyle("ghost").value==="yes";if(Dr){var Mr=l.pstyle("ghost-offset-x").pfValue,Wt=l.pstyle("ghost-offset-y").pfValue,$t=l.pstyle("ghost-opacity").value,wr=$t*z;h.translate(Mr,Wt),Je($t*Xe),At(),wt(wr,!0),lt($t*Ke),St(),Tt(Be!==0||Ne!==0),wt(wr,!1),st(wr),h.translate(-Mr,-Wt)}V&&h.translate(-L.x,-L.y),zt(),V&&h.translate(L.x,L.y),Je(),At(),wt(z,!0),lt(),St(),Tt(Be!==0||Ne!==0),wt(z,!1),st(),V&&h.translate(-L.x,-L.y),Vt(),Rt(),d&&h.translate(Z.x1,Z.y1)}};var v7=a(function(l){if(!["overlay","underlay"].includes(l))throw new Error("Invalid state");return function(d,m,v,T,k){var w=this;if(m.visible()){var S=m.pstyle("".concat(l,"-padding")).pfValue,C=m.pstyle("".concat(l,"-opacity")).value,R=m.pstyle("".concat(l,"-color")).value,L=m.pstyle("".concat(l,"-shape")).value;if(C>0){if(v=v||m.position(),T==null||k==null){var z=m.padding();T=m.width()+2*z,k=m.height()+2*z}w.colorFillStyle(d,R[0],R[1],R[2],C),w.nodeShapes[L].draw(d,v.x,v.y,T+S*2,k+S*2),d.fill()}}}},"drawNodeOverlayUnderlay");rm.drawNodeOverlay=v7("overlay"),rm.drawNodeUnderlay=v7("underlay"),rm.hasPie=function(h){return h=h[0],h._private.hasPie},rm.drawPie=function(h,l,d,m){l=l[0],m=m||l.position();var v=l.cy().style(),T=l.pstyle("pie-size"),k=m.x,w=m.y,S=l.width(),C=l.height(),R=Math.min(S,C)/2,L=0,z=this.usePaths();z&&(k=0,w=0),T.units==="%"?R=R*T.pfValue:T.pfValue!==void 0&&(R=T.pfValue/2);for(var V=1;V<=v.pieBackgroundN;V++){var j=l.pstyle("pie-"+V+"-background-size").value,Q=l.pstyle("pie-"+V+"-background-color").value,ne=l.pstyle("pie-"+V+"-background-opacity").value*d,Z=j/100;Z+L>1&&(Z=1-L);var ie=1.5*Math.PI+2*Math.PI*L,ae=2*Math.PI*Z,me=ie+ae;j===0||L>=1||L+Z>1||(h.beginPath(),h.moveTo(k,w),h.arc(k,w,R,ie,me),h.closePath(),this.colorFillStyle(h,Q[0],Q[1],Q[2],ne),h.fill(),L+=Z)}};var os={},HTe=100;os.getPixelRatio=function(){var h=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var l=h.backingStorePixelRatio||h.webkitBackingStorePixelRatio||h.mozBackingStorePixelRatio||h.msBackingStorePixelRatio||h.oBackingStorePixelRatio||h.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/l},os.paintCache=function(h){for(var l=this.paintCaches=this.paintCaches||[],d=!0,m,v=0;v<l.length;v++)if(m=l[v],m.context===h){d=!1;break}return d&&(m={context:h},l.push(m)),m},os.createGradientStyleFor=function(h,l,d,m,v){var T,k=this.usePaths(),w=d.pstyle(l+"-gradient-stop-colors").value,S=d.pstyle(l+"-gradient-stop-positions").pfValue;if(m==="radial-gradient")if(d.isEdge()){var C=d.sourceEndpoint(),R=d.targetEndpoint(),L=d.midpoint(),z=jh(C,L),V=jh(R,L);T=h.createRadialGradient(L.x,L.y,0,L.x,L.y,Math.max(z,V))}else{var j=k?{x:0,y:0}:d.position(),Q=d.paddedWidth(),ne=d.paddedHeight();T=h.createRadialGradient(j.x,j.y,0,j.x,j.y,Math.max(Q,ne))}else if(d.isEdge()){var Z=d.sourceEndpoint(),ie=d.targetEndpoint();T=h.createLinearGradient(Z.x,Z.y,ie.x,ie.y)}else{var ae=k?{x:0,y:0}:d.position(),me=d.paddedWidth(),De=d.paddedHeight(),we=me/2,ve=De/2,Ie=d.pstyle("background-gradient-direction").value;switch(Ie){case"to-bottom":T=h.createLinearGradient(ae.x,ae.y-ve,ae.x,ae.y+ve);break;case"to-top":T=h.createLinearGradient(ae.x,ae.y+ve,ae.x,ae.y-ve);break;case"to-left":T=h.createLinearGradient(ae.x+we,ae.y,ae.x-we,ae.y);break;case"to-right":T=h.createLinearGradient(ae.x-we,ae.y,ae.x+we,ae.y);break;case"to-bottom-right":case"to-right-bottom":T=h.createLinearGradient(ae.x-we,ae.y-ve,ae.x+we,ae.y+ve);break;case"to-top-right":case"to-right-top":T=h.createLinearGradient(ae.x-we,ae.y+ve,ae.x+we,ae.y-ve);break;case"to-bottom-left":case"to-left-bottom":T=h.createLinearGradient(ae.x+we,ae.y-ve,ae.x-we,ae.y+ve);break;case"to-top-left":case"to-left-top":T=h.createLinearGradient(ae.x+we,ae.y+ve,ae.x-we,ae.y-ve);break}}if(!T)return null;for(var be=S.length===w.length,Oe=w.length,Be=0;Be<Oe;Be++)T.addColorStop(be?S[Be]:Be/(Oe-1),"rgba("+w[Be][0]+","+w[Be][1]+","+w[Be][2]+","+v+")");return T},os.gradientFillStyle=function(h,l,d,m){var v=this.createGradientStyleFor(h,"background",l,d,m);if(!v)return null;h.fillStyle=v},os.colorFillStyle=function(h,l,d,m,v){h.fillStyle="rgba("+l+","+d+","+m+","+v+")"},os.eleFillStyle=function(h,l,d){var m=l.pstyle("background-fill").value;if(m==="linear-gradient"||m==="radial-gradient")this.gradientFillStyle(h,l,m,d);else{var v=l.pstyle("background-color").value;this.colorFillStyle(h,v[0],v[1],v[2],d)}},os.gradientStrokeStyle=function(h,l,d,m){var v=this.createGradientStyleFor(h,"line",l,d,m);if(!v)return null;h.strokeStyle=v},os.colorStrokeStyle=function(h,l,d,m,v){h.strokeStyle="rgba("+l+","+d+","+m+","+v+")"},os.eleStrokeStyle=function(h,l,d){var m=l.pstyle("line-fill").value;if(m==="linear-gradient"||m==="radial-gradient")this.gradientStrokeStyle(h,l,m,d);else{var v=l.pstyle("line-color").value;this.colorStrokeStyle(h,v[0],v[1],v[2],d)}},os.matchCanvasSize=function(h){var l=this,d=l.data,m=l.findContainerClientCoords(),v=m[2],T=m[3],k=l.getPixelRatio(),w=l.motionBlurPxRatio;(h===l.data.bufferCanvases[l.MOTIONBLUR_BUFFER_NODE]||h===l.data.bufferCanvases[l.MOTIONBLUR_BUFFER_DRAG])&&(k=w);var S=v*k,C=T*k,R;if(!(S===l.canvasWidth&&C===l.canvasHeight)){l.fontCaches=null;var L=d.canvasContainer;L.style.width=v+"px",L.style.height=T+"px";for(var z=0;z<l.CANVAS_LAYERS;z++)R=d.canvases[z],R.width=S,R.height=C,R.style.width=v+"px",R.style.height=T+"px";for(var z=0;z<l.BUFFER_COUNT;z++)R=d.bufferCanvases[z],R.width=S,R.height=C,R.style.width=v+"px",R.style.height=T+"px";l.textureMult=1,k<=1&&(R=d.bufferCanvases[l.TEXTURE_BUFFER],l.textureMult=2,R.width=S*l.textureMult,R.height=C*l.textureMult),l.canvasWidth=S,l.canvasHeight=C}},os.renderTo=function(h,l,d,m){this.render({forcedContext:h,forcedZoom:l,forcedPan:d,drawAllLayers:!0,forcedPxRatio:m})},os.render=function(h){h=h||k0();var l=h.forcedContext,d=h.drawAllLayers,m=h.drawOnlyNodeLayer,v=h.forcedZoom,T=h.forcedPan,k=this,w=h.forcedPxRatio===void 0?this.getPixelRatio():h.forcedPxRatio,S=k.cy,C=k.data,R=C.canvasNeedsRedraw,L=k.textureOnViewport&&!l&&(k.pinching||k.hoverData.dragging||k.swipePanning||k.data.wheelZooming),z=h.motionBlur!==void 0?h.motionBlur:k.motionBlur,V=k.motionBlurPxRatio,j=S.hasCompoundNodes(),Q=k.hoverData.draggingEles,ne=!!(k.hoverData.selecting||k.touchData.selecting);z=z&&!l&&k.motionBlurEnabled&&!ne;var Z=z;l||(k.prevPxRatio!==w&&(k.invalidateContainerClientCoordsCache(),k.matchCanvasSize(k.container),k.redrawHint("eles",!0),k.redrawHint("drag",!0)),k.prevPxRatio=w),!l&&k.motionBlurTimeout&&clearTimeout(k.motionBlurTimeout),z&&(k.mbFrames==null&&(k.mbFrames=0),k.mbFrames++,k.mbFrames<3&&(Z=!1),k.mbFrames>k.minMbLowQualFrames&&(k.motionBlurPxRatio=k.mbPxRBlurry)),k.clearingMotionBlur&&(k.motionBlurPxRatio=1),k.textureDrawLastFrame&&!L&&(R[k.NODE]=!0,R[k.SELECT_BOX]=!0);var ie=S.style(),ae=S.zoom(),me=v!==void 0?v:ae,De=S.pan(),we={x:De.x,y:De.y},ve={zoom:ae,pan:{x:De.x,y:De.y}},Ie=k.prevViewport,be=Ie===void 0||ve.zoom!==Ie.zoom||ve.pan.x!==Ie.pan.x||ve.pan.y!==Ie.pan.y;!be&&!(Q&&!j)&&(k.motionBlurPxRatio=1),T&&(we=T),me*=w,we.x*=w,we.y*=w;var Oe=k.getCachedZSortedEles();function Be(Wt,$t,wr,or,Ht){var fr=Wt.globalCompositeOperation;Wt.globalCompositeOperation="destination-out",k.colorFillStyle(Wt,255,255,255,k.motionBlurTransparency),Wt.fillRect($t,wr,or,Ht),Wt.globalCompositeOperation=fr}a(Be,"mbclear");function Ne(Wt,$t){var wr,or,Ht,fr;!k.clearingMotionBlur&&(Wt===C.bufferContexts[k.MOTIONBLUR_BUFFER_NODE]||Wt===C.bufferContexts[k.MOTIONBLUR_BUFFER_DRAG])?(wr={x:De.x*V,y:De.y*V},or=ae*V,Ht=k.canvasWidth*V,fr=k.canvasHeight*V):(wr=we,or=me,Ht=k.canvasWidth,fr=k.canvasHeight),Wt.setTransform(1,0,0,1,0,0),$t==="motionBlur"?Be(Wt,0,0,Ht,fr):!l&&($t===void 0||$t)&&Wt.clearRect(0,0,Ht,fr),d||(Wt.translate(wr.x,wr.y),Wt.scale(or,or)),T&&Wt.translate(T.x,T.y),v&&Wt.scale(v,v)}if(a(Ne,"setContextTransform"),L||(k.textureDrawLastFrame=!1),L){if(k.textureDrawLastFrame=!0,!k.textureCache){k.textureCache={},k.textureCache.bb=S.mutableElements().boundingBox(),k.textureCache.texture=k.data.bufferCanvases[k.TEXTURE_BUFFER];var Xe=k.data.bufferContexts[k.TEXTURE_BUFFER];Xe.setTransform(1,0,0,1,0,0),Xe.clearRect(0,0,k.canvasWidth*k.textureMult,k.canvasHeight*k.textureMult),k.render({forcedContext:Xe,drawOnlyNodeLayer:!0,forcedPxRatio:w*k.textureMult});var ve=k.textureCache.viewport={zoom:S.zoom(),pan:S.pan(),width:k.canvasWidth,height:k.canvasHeight};ve.mpan={x:(0-ve.pan.x)/ve.zoom,y:(0-ve.pan.y)/ve.zoom}}R[k.DRAG]=!1,R[k.NODE]=!1;var qe=C.contexts[k.NODE],ot=k.textureCache.texture,ve=k.textureCache.viewport;qe.setTransform(1,0,0,1,0,0),z?Be(qe,0,0,ve.width,ve.height):qe.clearRect(0,0,ve.width,ve.height);var Ke=ie.core("outside-texture-bg-color").value,Je=ie.core("outside-texture-bg-opacity").value;k.colorFillStyle(qe,Ke[0],Ke[1],Ke[2],Je),qe.fillRect(0,0,ve.width,ve.height);var ae=S.zoom();Ne(qe,!1),qe.clearRect(ve.mpan.x,ve.mpan.y,ve.width/ve.zoom/w,ve.height/ve.zoom/w),qe.drawImage(ot,ve.mpan.x,ve.mpan.y,ve.width/ve.zoom/w,ve.height/ve.zoom/w)}else k.textureOnViewport&&!l&&(k.textureCache=null);var lt=S.extent(),ht=k.pinching||k.hoverData.dragging||k.swipePanning||k.data.wheelZooming||k.hoverData.draggingEles||k.cy.animated(),xt=k.hideEdgesOnViewport&&ht,ut=[];if(ut[k.NODE]=!R[k.NODE]&&z&&!k.clearedForMotionBlur[k.NODE]||k.clearingMotionBlur,ut[k.NODE]&&(k.clearedForMotionBlur[k.NODE]=!0),ut[k.DRAG]=!R[k.DRAG]&&z&&!k.clearedForMotionBlur[k.DRAG]||k.clearingMotionBlur,ut[k.DRAG]&&(k.clearedForMotionBlur[k.DRAG]=!0),R[k.NODE]||d||m||ut[k.NODE]){var yt=z&&!ut[k.NODE]&&V!==1,qe=l||(yt?k.data.bufferContexts[k.MOTIONBLUR_BUFFER_NODE]:C.contexts[k.NODE]),Ct=z&&!yt?"motionBlur":void 0;Ne(qe,Ct),xt?k.drawCachedNodes(qe,Oe.nondrag,w,lt):k.drawLayeredElements(qe,Oe.nondrag,w,lt),k.debug&&k.drawDebugPoints(qe,Oe.nondrag),!d&&!z&&(R[k.NODE]=!1)}if(!m&&(R[k.DRAG]||d||ut[k.DRAG])){var yt=z&&!ut[k.DRAG]&&V!==1,qe=l||(yt?k.data.bufferContexts[k.MOTIONBLUR_BUFFER_DRAG]:C.contexts[k.DRAG]);Ne(qe,z&&!yt?"motionBlur":void 0),xt?k.drawCachedNodes(qe,Oe.drag,w,lt):k.drawCachedElements(qe,Oe.drag,w,lt),k.debug&&k.drawDebugPoints(qe,Oe.drag),!d&&!z&&(R[k.DRAG]=!1)}if(k.showFps||!m&&R[k.SELECT_BOX]&&!d){var qe=l||C.contexts[k.SELECT_BOX];if(Ne(qe),k.selection[4]==1&&(k.hoverData.selecting||k.touchData.selecting)){var ae=k.cy.zoom(),At=ie.core("selection-box-border-width").value/ae;qe.lineWidth=At,qe.fillStyle="rgba("+ie.core("selection-box-color").value[0]+","+ie.core("selection-box-color").value[1]+","+ie.core("selection-box-color").value[2]+","+ie.core("selection-box-opacity").value+")",qe.fillRect(k.selection[0],k.selection[1],k.selection[2]-k.selection[0],k.selection[3]-k.selection[1]),At>0&&(qe.strokeStyle="rgba("+ie.core("selection-box-border-color").value[0]+","+ie.core("selection-box-border-color").value[1]+","+ie.core("selection-box-border-color").value[2]+","+ie.core("selection-box-opacity").value+")",qe.strokeRect(k.selection[0],k.selection[1],k.selection[2]-k.selection[0],k.selection[3]-k.selection[1]))}if(C.bgActivePosistion&&!k.hoverData.selecting){var ae=k.cy.zoom(),wt=C.bgActivePosistion;qe.fillStyle="rgba("+ie.core("active-bg-color").value[0]+","+ie.core("active-bg-color").value[1]+","+ie.core("active-bg-color").value[2]+","+ie.core("active-bg-opacity").value+")",qe.beginPath(),qe.arc(wt.x,wt.y,ie.core("active-bg-size").pfValue/ae,0,2*Math.PI),qe.fill()}var Tt=k.lastRedrawTime;if(k.showFps&&Tt){Tt=Math.round(Tt);var st=Math.round(1e3/Tt);qe.setTransform(1,0,0,1,0,0),qe.fillStyle="rgba(255, 0, 0, 0.75)",qe.strokeStyle="rgba(255, 0, 0, 0.75)",qe.lineWidth=1,qe.fillText("1 frame = "+Tt+" ms = "+st+" fps",0,20);var St=60;qe.strokeRect(0,30,250,20),qe.fillRect(0,30,250*Math.min(st/St,1),20)}d||(R[k.SELECT_BOX]=!1)}if(z&&V!==1){var Rt=C.contexts[k.NODE],zt=k.data.bufferCanvases[k.MOTIONBLUR_BUFFER_NODE],Vt=C.contexts[k.DRAG],Dr=k.data.bufferCanvases[k.MOTIONBLUR_BUFFER_DRAG],Mr=a(function($t,wr,or){$t.setTransform(1,0,0,1,0,0),or||!Z?$t.clearRect(0,0,k.canvasWidth,k.canvasHeight):Be($t,0,0,k.canvasWidth,k.canvasHeight);var Ht=V;$t.drawImage(wr,0,0,k.canvasWidth*Ht,k.canvasHeight*Ht,0,0,k.canvasWidth,k.canvasHeight)},"drawMotionBlur");(R[k.NODE]||ut[k.NODE])&&(Mr(Rt,zt,ut[k.NODE]),R[k.NODE]=!1),(R[k.DRAG]||ut[k.DRAG])&&(Mr(Vt,Dr,ut[k.DRAG]),R[k.DRAG]=!1)}k.prevViewport=ve,k.clearingMotionBlur&&(k.clearingMotionBlur=!1,k.motionBlurCleared=!0,k.motionBlur=!0),z&&(k.motionBlurTimeout=setTimeout(function(){k.motionBlurTimeout=null,k.clearedForMotionBlur[k.NODE]=!1,k.clearedForMotionBlur[k.DRAG]=!1,k.motionBlur=!1,k.clearingMotionBlur=!L,k.mbFrames=0,R[k.NODE]=!0,R[k.DRAG]=!0,k.redraw()},HTe)),l||S.emit("render")};var df={};df.drawPolygonPath=function(h,l,d,m,v,T){var k=m/2,w=v/2;h.beginPath&&h.beginPath(),h.moveTo(l+k*T[0],d+w*T[1]);for(var S=1;S<T.length/2;S++)h.lineTo(l+k*T[S*2],d+w*T[S*2+1]);h.closePath()},df.drawRoundPolygonPath=function(h,l,d,m,v,T){var k=m/2,w=v/2,S=WC(m,v);h.beginPath&&h.beginPath();for(var C=0;C<T.length/4;C++){var R=void 0,L=void 0;C===0?R=T.length-2:R=C*4-2,L=C*4+2;var z=l+k*T[C*4],V=d+w*T[C*4+1],j=-T[R]*T[L]-T[R+1]*T[L+1],Q=S/Math.tan(Math.acos(j)/2),ne=z-Q*T[R],Z=V-Q*T[R+1],ie=z+Q*T[L],ae=V+Q*T[L+1];C===0?h.moveTo(ne,Z):h.lineTo(ne,Z),h.arcTo(z,V,ie,ae,S)}h.closePath()},df.drawRoundRectanglePath=function(h,l,d,m,v){var T=m/2,k=v/2,w=A0(m,v);h.beginPath&&h.beginPath(),h.moveTo(l,d-k),h.arcTo(l+T,d-k,l+T,d,w),h.arcTo(l+T,d+k,l,d+k,w),h.arcTo(l-T,d+k,l-T,d,w),h.arcTo(l-T,d-k,l,d-k,w),h.lineTo(l,d-k),h.closePath()},df.drawBottomRoundRectanglePath=function(h,l,d,m,v){var T=m/2,k=v/2,w=A0(m,v);h.beginPath&&h.beginPath(),h.moveTo(l,d-k),h.lineTo(l+T,d-k),h.lineTo(l+T,d),h.arcTo(l+T,d+k,l,d+k,w),h.arcTo(l-T,d+k,l-T,d,w),h.lineTo(l-T,d-k),h.lineTo(l,d-k),h.closePath()},df.drawCutRectanglePath=function(h,l,d,m,v){var T=m/2,k=v/2,w=kM();h.beginPath&&h.beginPath(),h.moveTo(l-T+w,d-k),h.lineTo(l+T-w,d-k),h.lineTo(l+T,d-k+w),h.lineTo(l+T,d+k-w),h.lineTo(l+T-w,d+k),h.lineTo(l-T+w,d+k),h.lineTo(l-T,d+k-w),h.lineTo(l-T,d-k+w),h.closePath()},df.drawBarrelPath=function(h,l,d,m,v){var T=m/2,k=v/2,w=l-T,S=l+T,C=d-k,R=d+k,L=HC(m,v),z=L.widthOffset,V=L.heightOffset,j=L.ctrlPtOffsetPct*z;h.beginPath&&h.beginPath(),h.moveTo(w,C+V),h.lineTo(w,R-V),h.quadraticCurveTo(w+j,R,w+z,R),h.lineTo(S-z,R),h.quadraticCurveTo(S-j,R,S,R-V),h.lineTo(S,C+V),h.quadraticCurveTo(S-j,C,S-z,C),h.lineTo(w+z,C),h.quadraticCurveTo(w+j,C,w,C+V),h.closePath()};for(var x7=Math.sin(0),b7=Math.cos(0),TS={},kS={},T7=Math.PI/40,nm=0*Math.PI;nm<2*Math.PI;nm+=T7)TS[nm]=Math.sin(nm),kS[nm]=Math.cos(nm);df.drawEllipsePath=function(h,l,d,m,v){if(h.beginPath&&h.beginPath(),h.ellipse)h.ellipse(l,d,m/2,v/2,0,0,2*Math.PI);else for(var T,k,w=m/2,S=v/2,C=0*Math.PI;C<2*Math.PI;C+=T7)T=l-w*TS[C]*x7+w*kS[C]*b7,k=d+S*kS[C]*x7+S*TS[C]*b7,C===0?h.moveTo(T,k):h.lineTo(T,k);h.closePath()};var H0={};H0.createBuffer=function(h,l){var d=document.createElement("canvas");return d.width=h,d.height=l,[d,d.getContext("2d")]},H0.bufferCanvasImage=function(h){var l=this.cy,d=l.mutableElements(),m=d.boundingBox(),v=this.findContainerClientCoords(),T=h.full?Math.ceil(m.w):v[2],k=h.full?Math.ceil(m.h):v[3],w=B(h.maxWidth)||B(h.maxHeight),S=this.getPixelRatio(),C=1;if(h.scale!==void 0)T*=h.scale,k*=h.scale,C=h.scale;else if(w){var R=1/0,L=1/0;B(h.maxWidth)&&(R=C*h.maxWidth/T),B(h.maxHeight)&&(L=C*h.maxHeight/k),C=Math.min(R,L),T*=C,k*=C}w||(T*=S,k*=S,C*=S);var z=document.createElement("canvas");z.width=T,z.height=k,z.style.width=T+"px",z.style.height=k+"px";var V=z.getContext("2d");if(T>0&&k>0){V.clearRect(0,0,T,k),V.globalCompositeOperation="source-over";var j=this.getCachedZSortedEles();if(h.full)V.translate(-m.x1*C,-m.y1*C),V.scale(C,C),this.drawElements(V,j),V.scale(1/C,1/C),V.translate(m.x1*C,m.y1*C);else{var Q=l.pan(),ne={x:Q.x*C,y:Q.y*C};C*=l.zoom(),V.translate(ne.x,ne.y),V.scale(C,C),this.drawElements(V,j),V.scale(1/C,1/C),V.translate(-ne.x,-ne.y)}h.bg&&(V.globalCompositeOperation="destination-over",V.fillStyle=h.bg,V.rect(0,0,T,k),V.fill())}return z};function jTe(h,l){for(var d=atob(h),m=new ArrayBuffer(d.length),v=new Uint8Array(m),T=0;T<d.length;T++)v[T]=d.charCodeAt(T);return new Blob([m],{type:l})}a(jTe,"b64ToBlob");function k7(h){var l=h.indexOf(",");return h.substr(l+1)}a(k7,"b64UriToB64");function _7(h,l,d){var m=a(function(){return l.toDataURL(d,h.quality)},"getB64Uri");switch(h.output){case"blob-promise":return new Up(function(v,T){try{l.toBlob(function(k){k!=null?v(k):T(new Error("`canvas.toBlob()` sent a null value in its callback"))},d,h.quality)}catch(k){T(k)}});case"blob":return jTe(k7(m()),d);case"base64":return k7(m());case"base64uri":default:return m()}}a(_7,"output"),H0.png=function(h){return _7(h,this.bufferCanvasImage(h),"image/png")},H0.jpg=function(h){return _7(h,this.bufferCanvasImage(h),"image/jpeg")};var w7={};w7.nodeShapeImpl=function(h,l,d,m,v,T,k){switch(h){case"ellipse":return this.drawEllipsePath(l,d,m,v,T);case"polygon":return this.drawPolygonPath(l,d,m,v,T,k);case"round-polygon":return this.drawRoundPolygonPath(l,d,m,v,T,k);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(l,d,m,v,T);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(l,d,m,v,T);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(l,d,m,v,T);case"barrel":return this.drawBarrelPath(l,d,m,v,T)}};var YTe=E7,bn=E7.prototype;bn.CANVAS_LAYERS=3,bn.SELECT_BOX=0,bn.DRAG=1,bn.NODE=2,bn.BUFFER_COUNT=3,bn.TEXTURE_BUFFER=0,bn.MOTIONBLUR_BUFFER_NODE=1,bn.MOTIONBLUR_BUFFER_DRAG=2;function E7(h){var l=this;l.data={canvases:new Array(bn.CANVAS_LAYERS),contexts:new Array(bn.CANVAS_LAYERS),canvasNeedsRedraw:new Array(bn.CANVAS_LAYERS),bufferCanvases:new Array(bn.BUFFER_COUNT),bufferContexts:new Array(bn.CANVAS_LAYERS)};var d="-webkit-tap-highlight-color",m="rgba(0,0,0,0)";l.data.canvasContainer=document.createElement("div");var v=l.data.canvasContainer.style;l.data.canvasContainer.style[d]=m,v.position="relative",v.zIndex="0",v.overflow="hidden";var T=h.cy.container();T.appendChild(l.data.canvasContainer),T.style[d]=m;var k={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};Y()&&(k["-ms-touch-action"]="none",k["touch-action"]="none");for(var w=0;w<bn.CANVAS_LAYERS;w++){var S=l.data.canvases[w]=document.createElement("canvas");l.data.contexts[w]=S.getContext("2d"),Object.keys(k).forEach(function(Tt){S.style[Tt]=k[Tt]}),S.style.position="absolute",S.setAttribute("data-id","layer"+w),S.style.zIndex=String(bn.CANVAS_LAYERS-w),l.data.canvasContainer.appendChild(S),l.data.canvasNeedsRedraw[w]=!1}l.data.topCanvas=l.data.canvases[0],l.data.canvases[bn.NODE].setAttribute("data-id","layer"+bn.NODE+"-node"),l.data.canvases[bn.SELECT_BOX].setAttribute("data-id","layer"+bn.SELECT_BOX+"-selectbox"),l.data.canvases[bn.DRAG].setAttribute("data-id","layer"+bn.DRAG+"-drag");for(var w=0;w<bn.BUFFER_COUNT;w++)l.data.bufferCanvases[w]=document.createElement("canvas"),l.data.bufferContexts[w]=l.data.bufferCanvases[w].getContext("2d"),l.data.bufferCanvases[w].style.position="absolute",l.data.bufferCanvases[w].setAttribute("data-id","buffer"+w),l.data.bufferCanvases[w].style.zIndex=String(-w-1),l.data.bufferCanvases[w].style.visibility="hidden";l.pathsEnabled=!0;var C=Oo(),R=a(function(st){return{x:(st.x1+st.x2)/2,y:(st.y1+st.y2)/2}},"getBoxCenter"),L=a(function(st){return{x:-st.w/2,y:-st.h/2}},"getCenterOffset"),z=a(function(st){var St=st[0]._private,Rt=St.oldBackgroundTimestamp===St.backgroundTimestamp;return!Rt},"backgroundTimestampHasChanged"),V=a(function(st){return st[0]._private.nodeKey},"getStyleKey"),j=a(function(st){return st[0]._private.labelStyleKey},"getLabelKey"),Q=a(function(st){return st[0]._private.sourceLabelStyleKey},"getSourceLabelKey"),ne=a(function(st){return st[0]._private.targetLabelStyleKey},"getTargetLabelKey"),Z=a(function(st,St,Rt,zt,Vt){return l.drawElement(st,St,Rt,!1,!1,Vt)},"drawElement"),ie=a(function(st,St,Rt,zt,Vt){return l.drawElementText(st,St,Rt,zt,"main",Vt)},"drawLabel"),ae=a(function(st,St,Rt,zt,Vt){return l.drawElementText(st,St,Rt,zt,"source",Vt)},"drawSourceLabel"),me=a(function(st,St,Rt,zt,Vt){return l.drawElementText(st,St,Rt,zt,"target",Vt)},"drawTargetLabel"),De=a(function(st){return st.boundingBox(),st[0]._private.bodyBounds},"getElementBox"),we=a(function(st){return st.boundingBox(),st[0]._private.labelBounds.main||C},"getLabelBox"),ve=a(function(st){return st.boundingBox(),st[0]._private.labelBounds.source||C},"getSourceLabelBox"),Ie=a(function(st){return st.boundingBox(),st[0]._private.labelBounds.target||C},"getTargetLabelBox"),be=a(function(st,St){return St},"isLabelVisibleAtScale"),Oe=a(function(st){return R(De(st))},"getElementRotationPoint"),Be=a(function(st,St,Rt){var zt=st?st+"-":"";return{x:St.x+Rt.pstyle(zt+"text-margin-x").pfValue,y:St.y+Rt.pstyle(zt+"text-margin-y").pfValue}},"addTextMargin"),Ne=a(function(st,St,Rt){var zt=st[0]._private.rscratch;return{x:zt[St],y:zt[Rt]}},"getRsPt"),Xe=a(function(st){return Be("",Ne(st,"labelX","labelY"),st)},"getLabelRotationPoint"),qe=a(function(st){return Be("source",Ne(st,"sourceLabelX","sourceLabelY"),st)},"getSourceLabelRotationPoint"),ot=a(function(st){return Be("target",Ne(st,"targetLabelX","targetLabelY"),st)},"getTargetLabelRotationPoint"),Ke=a(function(st){return L(De(st))},"getElementRotationOffset"),Je=a(function(st){return L(ve(st))},"getSourceLabelRotationOffset"),lt=a(function(st){return L(Ie(st))},"getTargetLabelRotationOffset"),ht=a(function(st){var St=we(st),Rt=L(we(st));if(st.isNode()){switch(st.pstyle("text-halign").value){case"left":Rt.x=-St.w;break;case"right":Rt.x=0;break}switch(st.pstyle("text-valign").value){case"top":Rt.y=-St.h;break;case"bottom":Rt.y=0;break}}return Rt},"getLabelRotationOffset"),xt=l.data.eleTxrCache=new V0(l,{getKey:V,doesEleInvalidateKey:z,drawElement:Z,getBoundingBox:De,getRotationPoint:Oe,getRotationOffset:Ke,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),ut=l.data.lblTxrCache=new V0(l,{getKey:j,drawElement:ie,getBoundingBox:we,getRotationPoint:Xe,getRotationOffset:ht,isVisible:be}),yt=l.data.slbTxrCache=new V0(l,{getKey:Q,drawElement:ae,getBoundingBox:ve,getRotationPoint:qe,getRotationOffset:Je,isVisible:be}),Ct=l.data.tlbTxrCache=new V0(l,{getKey:ne,drawElement:me,getBoundingBox:Ie,getRotationPoint:ot,getRotationOffset:lt,isVisible:be}),At=l.data.lyrTxrCache=new h7(l);l.onUpdateEleCalcs(a(function(st,St){xt.invalidateElements(St),ut.invalidateElements(St),yt.invalidateElements(St),Ct.invalidateElements(St),At.invalidateElements(St);for(var Rt=0;Rt<St.length;Rt++){var zt=St[Rt]._private;zt.oldBackgroundTimestamp=zt.backgroundTimestamp}},"invalidateTextureCaches"));var wt=a(function(st){for(var St=0;St<st.length;St++)At.enqueueElementRefinement(st[St].ele)},"refineInLayers");xt.onDequeue(wt),ut.onDequeue(wt),yt.onDequeue(wt),Ct.onDequeue(wt)}a(E7,"CanvasRenderer"),bn.redrawHint=function(h,l){var d=this;switch(h){case"eles":d.data.canvasNeedsRedraw[bn.NODE]=l;break;case"drag":d.data.canvasNeedsRedraw[bn.DRAG]=l;break;case"select":d.data.canvasNeedsRedraw[bn.SELECT_BOX]=l;break}};var XTe=typeof Path2D<"u";bn.path2dEnabled=function(h){if(h===void 0)return this.pathsEnabled;this.pathsEnabled=!!h},bn.usePaths=function(){return XTe&&this.pathsEnabled},bn.setImgSmoothing=function(h,l){h.imageSmoothingEnabled!=null?h.imageSmoothingEnabled=l:(h.webkitImageSmoothingEnabled=l,h.mozImageSmoothingEnabled=l,h.msImageSmoothingEnabled=l)},bn.getImgSmoothing=function(h){return h.imageSmoothingEnabled!=null?h.imageSmoothingEnabled:h.webkitImageSmoothingEnabled||h.mozImageSmoothingEnabled||h.msImageSmoothingEnabled},bn.makeOffscreenCanvas=function(h,l){var d;return(typeof OffscreenCanvas>"u"?"undefined":e(OffscreenCanvas))!=="undefined"?d=new OffscreenCanvas(h,l):(d=document.createElement("canvas"),d.width=h,d.height=l),d},[p7,cc,tu,bS,ed,rm,os,df,H0,w7].forEach(function(h){pe(bn,h)});var KTe=[{name:"null",impl:K8},{name:"base",impl:l7},{name:"canvas",impl:YTe}],QTe=[{type:"layout",extensions:iTe},{type:"renderer",extensions:KTe}],C7={},S7={};function A7(h,l,d){var m=d,v=a(function(Ie){Kr("Can not register `"+l+"` for `"+h+"` since `"+Ie+"` already exists in the prototype and can not be overridden")},"overrideErr");if(h==="core"){if(U0.prototype[l])return v(l);U0.prototype[l]=d}else if(h==="collection"){if(Ia.prototype[l])return v(l);Ia.prototype[l]=d}else if(h==="layout"){for(var T=a(function(Ie){this.options=Ie,d.call(this,Ie),q(this._private)||(this._private={}),this._private.cy=Ie.cy,this._private.listeners=[],this.createEmitter()},"Layout"),k=T.prototype=Object.create(d.prototype),w=[],S=0;S<w.length;S++){var C=w[S];k[C]=k[C]||function(){return this}}k.start&&!k.run?k.run=function(){return this.start(),this}:!k.start&&k.run&&(k.start=function(){return this.run(),this});var R=d.prototype.stop;k.stop=function(){var ve=this.options;if(ve&&ve.animate){var Ie=this.animations;if(Ie)for(var be=0;be<Ie.length;be++)Ie[be].stop()}return R?R.call(this):this.emit("layoutstop"),this},k.destroy||(k.destroy=function(){return this}),k.cy=function(){return this._private.cy};var L=a(function(Ie){return Ie._private.cy},"getCy"),z={addEventFields:a(function(Ie,be){be.layout=Ie,be.cy=L(Ie),be.target=Ie},"addEventFields"),bubble:a(function(){return!0},"bubble"),parent:a(function(Ie){return L(Ie)},"parent")};pe(k,{createEmitter:a(function(){return this._private.emitter=new sb(z,this),this},"createEmitter"),emitter:a(function(){return this._private.emitter},"emitter"),on:a(function(Ie,be){return this.emitter().on(Ie,be),this},"on"),one:a(function(Ie,be){return this.emitter().one(Ie,be),this},"one"),once:a(function(Ie,be){return this.emitter().one(Ie,be),this},"once"),removeListener:a(function(Ie,be){return this.emitter().removeListener(Ie,be),this},"removeListener"),removeAllListeners:a(function(){return this.emitter().removeAllListeners(),this},"removeAllListeners"),emit:a(function(Ie,be){return this.emitter().emit(Ie,be),this},"emit")}),Sn.eventAliasesOn(k),m=T}else if(h==="renderer"&&l!=="null"&&l!=="base"){var V=R7("renderer","base"),j=V.prototype,Q=d,ne=d.prototype,Z=a(function(){V.apply(this,arguments),Q.apply(this,arguments)},"Renderer"),ie=Z.prototype;for(var ae in j){var me=j[ae],De=ne[ae]!=null;if(De)return v(ae);ie[ae]=me}for(var we in ne)ie[we]=ne[we];j.clientFunctions.forEach(function(ve){ie[ve]=ie[ve]||function(){Wr("Renderer does not implement `renderer."+ve+"()` on its prototype")}}),m=Z}else if(h==="__proto__"||h==="constructor"||h==="prototype")return Wr(h+" is an illegal type to be registered, possibly lead to prototype pollutions");return Kt({map:C7,keys:[h,l],value:m})}a(A7,"setExtension");function R7(h,l){return kr({map:C7,keys:[h,l]})}a(R7,"getExtension");function ZTe(h,l,d,m,v){return Kt({map:S7,keys:[h,l,d,m],value:v})}a(ZTe,"setModule");function JTe(h,l,d,m){return kr({map:S7,keys:[h,l,d,m]})}a(JTe,"getModule");var _S=a(function(){if(arguments.length===2)return R7.apply(null,arguments);if(arguments.length===3)return A7.apply(null,arguments);if(arguments.length===4)return JTe.apply(null,arguments);if(arguments.length===5)return ZTe.apply(null,arguments);Wr("Invalid extension access syntax")},"extension");U0.prototype.extension=_S,QTe.forEach(function(h){h.extensions.forEach(function(l){A7(h.type,l.name,l.impl)})});var D7=a(function h(){if(!(this instanceof h))return new h;this.length=0},"Stylesheet"),td=D7.prototype;td.instanceString=function(){return"stylesheet"},td.selector=function(h){var l=this.length++;return this[l]={selector:h,properties:[]},this},td.css=function(h,l){var d=this.length-1;if(I(h))this[d].properties.push({name:h,value:l});else if(q(h))for(var m=h,v=Object.keys(m),T=0;T<v.length;T++){var k=v[T],w=m[k];if(w!=null){var S=Za.properties[k]||Za.properties[oe(k)];if(S!=null){var C=S.name,R=w;this[d].properties.push({name:C,value:R})}}}return this},td.style=td.css,td.generateStyle=function(h){var l=new Za(h);return this.appendToStyle(l)},td.appendToStyle=function(h){for(var l=0;l<this.length;l++){var d=this[l],m=d.selector,v=d.properties;h.selector(m);for(var T=0;T<v.length;T++){var k=v[T];h.css(k.name,k.value)}}return h};var eke="3.23.0",rd=a(function(l){if(l===void 0&&(l={}),q(l))return new U0(l);if(I(l))return _S.apply(_S,arguments)},"cytoscape");return rd.use=function(h){var l=Array.prototype.slice.call(arguments,1);return l.unshift(rd),h.apply(null,l),this},rd.warnings=function(h){return Qc(h)},rd.version=eke,rd.stylesheet=rd.Stylesheet=D7,rd})});var PO=fc((Lx,NO)=>{"use strict";a(function(t,r){typeof Lx=="object"&&typeof NO=="object"?NO.exports=r():typeof define=="function"&&define.amd?define([],r):typeof Lx=="object"?Lx.layoutBase=r():t.layoutBase=r()},"webpackUniversalModuleDefinition")(Lx,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return a(r,"__webpack_require__"),r.m=e,r.c=t,r.i=function(n){return n},r.d=function(n,i,o){r.o(n,i)||Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:o})},r.n=function(n){var i=n&&n.__esModule?a(function(){return n.default},"getDefault"):a(function(){return n},"getModuleExports");return r.d(i,"a",i),i},r.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},r.p="",r(r.s=26)}([function(e,t,r){"use strict";function n(){}a(n,"LayoutConstants"),n.QUALITY=1,n.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,n.DEFAULT_INCREMENTAL=!1,n.DEFAULT_ANIMATION_ON_LAYOUT=!0,n.DEFAULT_ANIMATION_DURING_LAYOUT=!1,n.DEFAULT_ANIMATION_PERIOD=50,n.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,n.DEFAULT_GRAPH_MARGIN=15,n.NODE_DIMENSIONS_INCLUDE_LABELS=!1,n.SIMPLE_NODE_SIZE=40,n.SIMPLE_NODE_HALF_SIZE=n.SIMPLE_NODE_SIZE/2,n.EMPTY_COMPOUND_NODE_SIZE=40,n.MIN_EDGE_LENGTH=1,n.WORLD_BOUNDARY=1e6,n.INITIAL_WORLD_BOUNDARY=n.WORLD_BOUNDARY/1e3,n.WORLD_CENTER_X=1200,n.WORLD_CENTER_Y=900,e.exports=n},function(e,t,r){"use strict";var n=r(2),i=r(8),o=r(9);function s(f,p,g){n.call(this,g),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=g,this.bendpoints=[],this.source=f,this.target=p}a(s,"LEdge"),s.prototype=Object.create(n.prototype);for(var u in n)s[u]=n[u];s.prototype.getSource=function(){return this.source},s.prototype.getTarget=function(){return this.target},s.prototype.isInterGraph=function(){return this.isInterGraph},s.prototype.getLength=function(){return this.length},s.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},s.prototype.getBendpoints=function(){return this.bendpoints},s.prototype.getLca=function(){return this.lca},s.prototype.getSourceInLca=function(){return this.sourceInLca},s.prototype.getTargetInLca=function(){return this.targetInLca},s.prototype.getOtherEnd=function(f){if(this.source===f)return this.target;if(this.target===f)return this.source;throw"Node is not incident with this edge"},s.prototype.getOtherEndInGraph=function(f,p){for(var g=this.getOtherEnd(f),y=p.getGraphManager().getRoot();;){if(g.getOwner()==p)return g;if(g.getOwner()==y)break;g=g.getOwner().getParent()}return null},s.prototype.updateLength=function(){var f=new Array(4);this.isOverlapingSourceAndTarget=i.getIntersection(this.target.getRect(),this.source.getRect(),f),this.isOverlapingSourceAndTarget||(this.lengthX=f[0]-f[2],this.lengthY=f[1]-f[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},s.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},e.exports=s},function(e,t,r){"use strict";function n(i){this.vGraphObject=i}a(n,"LGraphObject"),e.exports=n},function(e,t,r){"use strict";var n=r(2),i=r(10),o=r(13),s=r(0),u=r(16),f=r(4);function p(y,x,b,E){b==null&&E==null&&(E=x),n.call(this,E),y.graphManager!=null&&(y=y.graphManager),this.estimatedSize=i.MIN_VALUE,this.inclusionTreeDepth=i.MAX_VALUE,this.vGraphObject=E,this.edges=[],this.graphManager=y,b!=null&&x!=null?this.rect=new o(x.x,x.y,b.width,b.height):this.rect=new o}a(p,"LNode"),p.prototype=Object.create(n.prototype);for(var g in n)p[g]=n[g];p.prototype.getEdges=function(){return this.edges},p.prototype.getChild=function(){return this.child},p.prototype.getOwner=function(){return this.owner},p.prototype.getWidth=function(){return this.rect.width},p.prototype.setWidth=function(y){this.rect.width=y},p.prototype.getHeight=function(){return this.rect.height},p.prototype.setHeight=function(y){this.rect.height=y},p.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},p.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},p.prototype.getCenter=function(){return new f(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},p.prototype.getLocation=function(){return new f(this.rect.x,this.rect.y)},p.prototype.getRect=function(){return this.rect},p.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},p.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},p.prototype.setRect=function(y,x){this.rect.x=y.x,this.rect.y=y.y,this.rect.width=x.width,this.rect.height=x.height},p.prototype.setCenter=function(y,x){this.rect.x=y-this.rect.width/2,this.rect.y=x-this.rect.height/2},p.prototype.setLocation=function(y,x){this.rect.x=y,this.rect.y=x},p.prototype.moveBy=function(y,x){this.rect.x+=y,this.rect.y+=x},p.prototype.getEdgeListToNode=function(y){var x=[],b,E=this;return E.edges.forEach(function(A){if(A.target==y){if(A.source!=E)throw"Incorrect edge source!";x.push(A)}}),x},p.prototype.getEdgesBetween=function(y){var x=[],b,E=this;return E.edges.forEach(function(A){if(!(A.source==E||A.target==E))throw"Incorrect edge source and/or target";(A.target==y||A.source==y)&&x.push(A)}),x},p.prototype.getNeighborsList=function(){var y=new Set,x=this;return x.edges.forEach(function(b){if(b.source==x)y.add(b.target);else{if(b.target!=x)throw"Incorrect incidency!";y.add(b.source)}}),y},p.prototype.withChildren=function(){var y=new Set,x,b;if(y.add(this),this.child!=null)for(var E=this.child.getNodes(),A=0;A<E.length;A++)x=E[A],b=x.withChildren(),b.forEach(function(O){y.add(O)});return y},p.prototype.getNoOfChildren=function(){var y=0,x;if(this.child==null)y=1;else for(var b=this.child.getNodes(),E=0;E<b.length;E++)x=b[E],y+=x.getNoOfChildren();return y==0&&(y=1),y},p.prototype.getEstimatedSize=function(){if(this.estimatedSize==i.MIN_VALUE)throw"assert failed";return this.estimatedSize},p.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},p.prototype.scatter=function(){var y,x,b=-s.INITIAL_WORLD_BOUNDARY,E=s.INITIAL_WORLD_BOUNDARY;y=s.WORLD_CENTER_X+u.nextDouble()*(E-b)+b;var A=-s.INITIAL_WORLD_BOUNDARY,O=s.INITIAL_WORLD_BOUNDARY;x=s.WORLD_CENTER_Y+u.nextDouble()*(O-A)+A,this.rect.x=y,this.rect.y=x},p.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var y=this.getChild();if(y.updateBounds(!0),this.rect.x=y.getLeft(),this.rect.y=y.getTop(),this.setWidth(y.getRight()-y.getLeft()),this.setHeight(y.getBottom()-y.getTop()),s.NODE_DIMENSIONS_INCLUDE_LABELS){var x=y.getRight()-y.getLeft(),b=y.getBottom()-y.getTop();this.labelWidth>x&&(this.rect.x-=(this.labelWidth-x)/2,this.setWidth(this.labelWidth)),this.labelHeight>b&&(this.labelPos=="center"?this.rect.y-=(this.labelHeight-b)/2:this.labelPos=="top"&&(this.rect.y-=this.labelHeight-b),this.setHeight(this.labelHeight))}}},p.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==i.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},p.prototype.transform=function(y){var x=this.rect.x;x>s.WORLD_BOUNDARY?x=s.WORLD_BOUNDARY:x<-s.WORLD_BOUNDARY&&(x=-s.WORLD_BOUNDARY);var b=this.rect.y;b>s.WORLD_BOUNDARY?b=s.WORLD_BOUNDARY:b<-s.WORLD_BOUNDARY&&(b=-s.WORLD_BOUNDARY);var E=new f(x,b),A=y.inverseTransformPoint(E);this.setLocation(A.x,A.y)},p.prototype.getLeft=function(){return this.rect.x},p.prototype.getRight=function(){return this.rect.x+this.rect.width},p.prototype.getTop=function(){return this.rect.y},p.prototype.getBottom=function(){return this.rect.y+this.rect.height},p.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},e.exports=p},function(e,t,r){"use strict";function n(i,o){i==null&&o==null?(this.x=0,this.y=0):(this.x=i,this.y=o)}a(n,"PointD"),n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.setX=function(i){this.x=i},n.prototype.setY=function(i){this.y=i},n.prototype.getDifference=function(i){return new DimensionD(this.x-i.x,this.y-i.y)},n.prototype.getCopy=function(){return new n(this.x,this.y)},n.prototype.translate=function(i){return this.x+=i.width,this.y+=i.height,this},e.exports=n},function(e,t,r){"use strict";var n=r(2),i=r(10),o=r(0),s=r(6),u=r(3),f=r(1),p=r(13),g=r(12),y=r(11);function x(E,A,O){n.call(this,O),this.estimatedSize=i.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=E,A!=null&&A instanceof s?this.graphManager=A:A!=null&&A instanceof Layout&&(this.graphManager=A.graphManager)}a(x,"LGraph"),x.prototype=Object.create(n.prototype);for(var b in n)x[b]=n[b];x.prototype.getNodes=function(){return this.nodes},x.prototype.getEdges=function(){return this.edges},x.prototype.getGraphManager=function(){return this.graphManager},x.prototype.getParent=function(){return this.parent},x.prototype.getLeft=function(){return this.left},x.prototype.getRight=function(){return this.right},x.prototype.getTop=function(){return this.top},x.prototype.getBottom=function(){return this.bottom},x.prototype.isConnected=function(){return this.isConnected},x.prototype.add=function(E,A,O){if(A==null&&O==null){var N=E;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(N)>-1)throw"Node already in graph!";return N.owner=this,this.getNodes().push(N),N}else{var I=E;if(!(this.getNodes().indexOf(A)>-1&&this.getNodes().indexOf(O)>-1))throw"Source or target not in graph!";if(!(A.owner==O.owner&&A.owner==this))throw"Both owners must be this graph!";return A.owner!=O.owner?null:(I.source=A,I.target=O,I.isInterGraph=!1,this.getEdges().push(I),A.edges.push(I),O!=A&&O.edges.push(I),I)}},x.prototype.remove=function(E){var A=E;if(E instanceof u){if(A==null)throw"Node is null!";if(!(A.owner!=null&&A.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var O=A.edges.slice(),N,I=O.length,$=0;$<I;$++)N=O[$],N.isInterGraph?this.graphManager.remove(N):N.source.owner.remove(N);var X=this.nodes.indexOf(A);if(X==-1)throw"Node not in owner node list!";this.nodes.splice(X,1)}else if(E instanceof f){var N=E;if(N==null)throw"Edge is null!";if(!(N.source!=null&&N.target!=null))throw"Source and/or target is null!";if(!(N.source.owner!=null&&N.target.owner!=null&&N.source.owner==this&&N.target.owner==this))throw"Source and/or target owner is invalid!";var q=N.source.edges.indexOf(N),M=N.target.edges.indexOf(N);if(!(q>-1&&M>-1))throw"Source and/or target doesn't know this edge!";N.source.edges.splice(q,1),N.target!=N.source&&N.target.edges.splice(M,1);var X=N.source.owner.getEdges().indexOf(N);if(X==-1)throw"Not in owner's edge list!";N.source.owner.getEdges().splice(X,1)}},x.prototype.updateLeftTop=function(){for(var E=i.MAX_VALUE,A=i.MAX_VALUE,O,N,I,$=this.getNodes(),X=$.length,q=0;q<X;q++){var M=$[q];O=M.getTop(),N=M.getLeft(),E>O&&(E=O),A>N&&(A=N)}return E==i.MAX_VALUE?null:($[0].getParent().paddingLeft!=null?I=$[0].getParent().paddingLeft:I=this.margin,this.left=A-I,this.top=E-I,new g(this.left,this.top))},x.prototype.updateBounds=function(E){for(var A=i.MAX_VALUE,O=-i.MAX_VALUE,N=i.MAX_VALUE,I=-i.MAX_VALUE,$,X,q,M,B,G=this.nodes,U=G.length,W=0;W<U;W++){var D=G[W];E&&D.child!=null&&D.updateBounds(),$=D.getLeft(),X=D.getRight(),q=D.getTop(),M=D.getBottom(),A>$&&(A=$),O<X&&(O=X),N>q&&(N=q),I<M&&(I=M)}var K=new p(A,N,O-A,I-N);A==i.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),G[0].getParent().paddingLeft!=null?B=G[0].getParent().paddingLeft:B=this.margin,this.left=K.x-B,this.right=K.x+K.width+B,this.top=K.y-B,this.bottom=K.y+K.height+B},x.calculateBounds=function(E){for(var A=i.MAX_VALUE,O=-i.MAX_VALUE,N=i.MAX_VALUE,I=-i.MAX_VALUE,$,X,q,M,B=E.length,G=0;G<B;G++){var U=E[G];$=U.getLeft(),X=U.getRight(),q=U.getTop(),M=U.getBottom(),A>$&&(A=$),O<X&&(O=X),N>q&&(N=q),I<M&&(I=M)}var W=new p(A,N,O-A,I-N);return W},x.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},x.prototype.getEstimatedSize=function(){if(this.estimatedSize==i.MIN_VALUE)throw"assert failed";return this.estimatedSize},x.prototype.calcEstimatedSize=function(){for(var E=0,A=this.nodes,O=A.length,N=0;N<O;N++){var I=A[N];E+=I.calcEstimatedSize()}return E==0?this.estimatedSize=o.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=E/Math.sqrt(this.nodes.length),this.estimatedSize},x.prototype.updateConnected=function(){var E=this;if(this.nodes.length==0){this.isConnected=!0;return}var A=new y,O=new Set,N=this.nodes[0],I,$,X=N.withChildren();for(X.forEach(function(W){A.push(W),O.add(W)});A.length!==0;){N=A.shift(),I=N.getEdges();for(var q=I.length,M=0;M<q;M++){var B=I[M];if($=B.getOtherEndInGraph(N,this),$!=null&&!O.has($)){var G=$.withChildren();G.forEach(function(W){A.push(W),O.add(W)})}}}if(this.isConnected=!1,O.size>=this.nodes.length){var U=0;O.forEach(function(W){W.owner==E&&U++}),U==this.nodes.length&&(this.isConnected=!0)}},e.exports=x},function(e,t,r){"use strict";var n,i=r(1);function o(s){n=r(5),this.layout=s,this.graphs=[],this.edges=[]}a(o,"LGraphManager"),o.prototype.addRoot=function(){var s=this.layout.newGraph(),u=this.layout.newNode(null),f=this.add(s,u);return this.setRootGraph(f),this.rootGraph},o.prototype.add=function(s,u,f,p,g){if(f==null&&p==null&&g==null){if(s==null)throw"Graph is null!";if(u==null)throw"Parent node is null!";if(this.graphs.indexOf(s)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(s),s.parent!=null)throw"Already has a parent!";if(u.child!=null)throw"Already has a child!";return s.parent=u,u.child=s,s}else{g=f,p=u,f=s;var y=p.getOwner(),x=g.getOwner();if(!(y!=null&&y.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(x!=null&&x.getGraphManager()==this))throw"Target not in this graph mgr!";if(y==x)return f.isInterGraph=!1,y.add(f,p,g);if(f.isInterGraph=!0,f.source=p,f.target=g,this.edges.indexOf(f)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(f),!(f.source!=null&&f.target!=null))throw"Edge source and/or target is null!";if(!(f.source.edges.indexOf(f)==-1&&f.target.edges.indexOf(f)==-1))throw"Edge already in source and/or target incidency list!";return f.source.edges.push(f),f.target.edges.push(f),f}},o.prototype.remove=function(s){if(s instanceof n){var u=s;if(u.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(u==this.rootGraph||u.parent!=null&&u.parent.graphManager==this))throw"Invalid parent node!";var f=[];f=f.concat(u.getEdges());for(var p,g=f.length,y=0;y<g;y++)p=f[y],u.remove(p);var x=[];x=x.concat(u.getNodes());var b;g=x.length;for(var y=0;y<g;y++)b=x[y],u.remove(b);u==this.rootGraph&&this.setRootGraph(null);var E=this.graphs.indexOf(u);this.graphs.splice(E,1),u.parent=null}else if(s instanceof i){if(p=s,p==null)throw"Edge is null!";if(!p.isInterGraph)throw"Not an inter-graph edge!";if(!(p.source!=null&&p.target!=null))throw"Source and/or target is null!";if(!(p.source.edges.indexOf(p)!=-1&&p.target.edges.indexOf(p)!=-1))throw"Source and/or target doesn't know this edge!";var E=p.source.edges.indexOf(p);if(p.source.edges.splice(E,1),E=p.target.edges.indexOf(p),p.target.edges.splice(E,1),!(p.source.owner!=null&&p.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(p.source.owner.getGraphManager().edges.indexOf(p)==-1)throw"Not in owner graph manager's edge list!";var E=p.source.owner.getGraphManager().edges.indexOf(p);p.source.owner.getGraphManager().edges.splice(E,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(this.allNodes==null){for(var s=[],u=this.getGraphs(),f=u.length,p=0;p<f;p++)s=s.concat(u[p].getNodes());this.allNodes=s}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(this.allEdges==null){for(var s=[],u=this.getGraphs(),f=u.length,p=0;p<u.length;p++)s=s.concat(u[p].getEdges());s=s.concat(this.edges),this.allEdges=s}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(s){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=s},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(s){if(s.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=s,s.parent==null&&(s.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(s,u){if(!(s!=null&&u!=null))throw"assert failed";if(s==u)return!0;var f=s.getOwner(),p;do{if(p=f.getParent(),p==null)break;if(p==u)return!0;if(f=p.getOwner(),f==null)break}while(!0);f=u.getOwner();do{if(p=f.getParent(),p==null)break;if(p==s)return!0;if(f=p.getOwner(),f==null)break}while(!0);return!1},o.prototype.calcLowestCommonAncestors=function(){for(var s,u,f,p,g,y=this.getAllEdges(),x=y.length,b=0;b<x;b++){if(s=y[b],u=s.source,f=s.target,s.lca=null,s.sourceInLca=u,s.targetInLca=f,u==f){s.lca=u.getOwner();continue}for(p=u.getOwner();s.lca==null;){for(s.targetInLca=f,g=f.getOwner();s.lca==null;){if(g==p){s.lca=g;break}if(g==this.rootGraph)break;if(s.lca!=null)throw"assert failed";s.targetInLca=g.getParent(),g=s.targetInLca.getOwner()}if(p==this.rootGraph)break;s.lca==null&&(s.sourceInLca=p.getParent(),p=s.sourceInLca.getOwner())}if(s.lca==null)throw"assert failed"}},o.prototype.calcLowestCommonAncestor=function(s,u){if(s==u)return s.getOwner();var f=s.getOwner();do{if(f==null)break;var p=u.getOwner();do{if(p==null)break;if(p==f)return p;p=p.getParent().getOwner()}while(!0);f=f.getParent().getOwner()}while(!0);return f},o.prototype.calcInclusionTreeDepths=function(s,u){s==null&&u==null&&(s=this.rootGraph,u=1);for(var f,p=s.getNodes(),g=p.length,y=0;y<g;y++)f=p[y],f.inclusionTreeDepth=u,f.child!=null&&this.calcInclusionTreeDepths(f.child,u+1)},o.prototype.includesInvalidEdge=function(){for(var s,u=this.edges.length,f=0;f<u;f++)if(s=this.edges[f],this.isOneAncestorOfOther(s.source,s.target))return!0;return!1},e.exports=o},function(e,t,r){"use strict";var n=r(0);function i(){}a(i,"FDLayoutConstants");for(var o in n)i[o]=n[o];i.MAX_ITERATIONS=2500,i.DEFAULT_EDGE_LENGTH=50,i.DEFAULT_SPRING_STRENGTH=.45,i.DEFAULT_REPULSION_STRENGTH=4500,i.DEFAULT_GRAVITY_STRENGTH=.4,i.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,i.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,i.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,i.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,i.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,i.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,i.COOLING_ADAPTATION_FACTOR=.33,i.ADAPTATION_LOWER_NODE_LIMIT=1e3,i.ADAPTATION_UPPER_NODE_LIMIT=5e3,i.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,i.MAX_NODE_DISPLACEMENT=i.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,i.MIN_REPULSION_DIST=i.DEFAULT_EDGE_LENGTH/10,i.CONVERGENCE_CHECK_PERIOD=100,i.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,i.MIN_EDGE_LENGTH=1,i.GRID_CALCULATION_CHECK_PERIOD=10,e.exports=i},function(e,t,r){"use strict";var n=r(12);function i(){}a(i,"IGeometry"),i.calcSeparationAmount=function(o,s,u,f){if(!o.intersects(s))throw"assert failed";var p=new Array(2);this.decideDirectionsForOverlappingNodes(o,s,p),u[0]=Math.min(o.getRight(),s.getRight())-Math.max(o.x,s.x),u[1]=Math.min(o.getBottom(),s.getBottom())-Math.max(o.y,s.y),o.getX()<=s.getX()&&o.getRight()>=s.getRight()?u[0]+=Math.min(s.getX()-o.getX(),o.getRight()-s.getRight()):s.getX()<=o.getX()&&s.getRight()>=o.getRight()&&(u[0]+=Math.min(o.getX()-s.getX(),s.getRight()-o.getRight())),o.getY()<=s.getY()&&o.getBottom()>=s.getBottom()?u[1]+=Math.min(s.getY()-o.getY(),o.getBottom()-s.getBottom()):s.getY()<=o.getY()&&s.getBottom()>=o.getBottom()&&(u[1]+=Math.min(o.getY()-s.getY(),s.getBottom()-o.getBottom()));var g=Math.abs((s.getCenterY()-o.getCenterY())/(s.getCenterX()-o.getCenterX()));s.getCenterY()===o.getCenterY()&&s.getCenterX()===o.getCenterX()&&(g=1);var y=g*u[0],x=u[1]/g;u[0]<x?x=u[0]:y=u[1],u[0]=-1*p[0]*(x/2+f),u[1]=-1*p[1]*(y/2+f)},i.decideDirectionsForOverlappingNodes=function(o,s,u){o.getCenterX()<s.getCenterX()?u[0]=-1:u[0]=1,o.getCenterY()<s.getCenterY()?u[1]=-1:u[1]=1},i.getIntersection2=function(o,s,u){var f=o.getCenterX(),p=o.getCenterY(),g=s.getCenterX(),y=s.getCenterY();if(o.intersects(s))return u[0]=f,u[1]=p,u[2]=g,u[3]=y,!0;var x=o.getX(),b=o.getY(),E=o.getRight(),A=o.getX(),O=o.getBottom(),N=o.getRight(),I=o.getWidthHalf(),$=o.getHeightHalf(),X=s.getX(),q=s.getY(),M=s.getRight(),B=s.getX(),G=s.getBottom(),U=s.getRight(),W=s.getWidthHalf(),D=s.getHeightHalf(),K=!1,P=!1;if(f===g){if(p>y)return u[0]=f,u[1]=b,u[2]=g,u[3]=G,!1;if(p<y)return u[0]=f,u[1]=O,u[2]=g,u[3]=q,!1}else if(p===y){if(f>g)return u[0]=x,u[1]=p,u[2]=M,u[3]=y,!1;if(f<g)return u[0]=E,u[1]=p,u[2]=X,u[3]=y,!1}else{var re=o.height/o.width,ce=s.height/s.width,ee=(y-p)/(g-f),H=void 0,te=void 0,J=void 0,Y=void 0,de=void 0,Fe=void 0;if(-re===ee?f>g?(u[0]=A,u[1]=O,K=!0):(u[0]=E,u[1]=b,K=!0):re===ee&&(f>g?(u[0]=x,u[1]=b,K=!0):(u[0]=N,u[1]=O,K=!0)),-ce===ee?g>f?(u[2]=B,u[3]=G,P=!0):(u[2]=M,u[3]=q,P=!0):ce===ee&&(g>f?(u[2]=X,u[3]=q,P=!0):(u[2]=U,u[3]=G,P=!0)),K&&P)return!1;if(f>g?p>y?(H=this.getCardinalDirection(re,ee,4),te=this.getCardinalDirection(ce,ee,2)):(H=this.getCardinalDirection(-re,ee,3),te=this.getCardinalDirection(-ce,ee,1)):p>y?(H=this.getCardinalDirection(-re,ee,1),te=this.getCardinalDirection(-ce,ee,3)):(H=this.getCardinalDirection(re,ee,2),te=this.getCardinalDirection(ce,ee,4)),!K)switch(H){case 1:Y=b,J=f+-$/ee,u[0]=J,u[1]=Y;break;case 2:J=N,Y=p+I*ee,u[0]=J,u[1]=Y;break;case 3:Y=O,J=f+$/ee,u[0]=J,u[1]=Y;break;case 4:J=A,Y=p+-I*ee,u[0]=J,u[1]=Y;break}if(!P)switch(te){case 1:Fe=q,de=g+-D/ee,u[2]=de,u[3]=Fe;break;case 2:de=U,Fe=y+W*ee,u[2]=de,u[3]=Fe;break;case 3:Fe=G,de=g+D/ee,u[2]=de,u[3]=Fe;break;case 4:de=B,Fe=y+-W*ee,u[2]=de,u[3]=Fe;break}}return!1},i.getCardinalDirection=function(o,s,u){return o>s?u:1+u%4},i.getIntersection=function(o,s,u,f){if(f==null)return this.getIntersection2(o,s,u);var p=o.x,g=o.y,y=s.x,x=s.y,b=u.x,E=u.y,A=f.x,O=f.y,N=void 0,I=void 0,$=void 0,X=void 0,q=void 0,M=void 0,B=void 0,G=void 0,U=void 0;return $=x-g,q=p-y,B=y*g-p*x,X=O-E,M=b-A,G=A*E-b*O,U=$*M-X*q,U===0?null:(N=(q*G-M*B)/U,I=(X*B-$*G)/U,new n(N,I))},i.angleOfVector=function(o,s,u,f){var p=void 0;return o!==u?(p=Math.atan((f-s)/(u-o)),u<o?p+=Math.PI:f<s&&(p+=this.TWO_PI)):f<s?p=this.ONE_AND_HALF_PI:p=this.HALF_PI,p},i.doIntersect=function(o,s,u,f){var p=o.x,g=o.y,y=s.x,x=s.y,b=u.x,E=u.y,A=f.x,O=f.y,N=(y-p)*(O-E)-(A-b)*(x-g);if(N===0)return!1;var I=((O-E)*(A-p)+(b-A)*(O-g))/N,$=((g-x)*(A-p)+(y-p)*(O-g))/N;return 0<I&&I<1&&0<$&&$<1},i.HALF_PI=.5*Math.PI,i.ONE_AND_HALF_PI=1.5*Math.PI,i.TWO_PI=2*Math.PI,i.THREE_PI=3*Math.PI,e.exports=i},function(e,t,r){"use strict";function n(){}a(n,"IMath"),n.sign=function(i){return i>0?1:i<0?-1:0},n.floor=function(i){return i<0?Math.ceil(i):Math.floor(i)},n.ceil=function(i){return i<0?Math.floor(i):Math.ceil(i)},e.exports=n},function(e,t,r){"use strict";function n(){}a(n,"Integer"),n.MAX_VALUE=2147483647,n.MIN_VALUE=-2147483648,e.exports=n},function(e,t,r){"use strict";var n=function(){function p(g,y){for(var x=0;x<y.length;x++){var b=y[x];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return a(p,"defineProperties"),function(g,y,x){return y&&p(g.prototype,y),x&&p(g,x),g}}();function i(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}a(i,"_classCallCheck");var o=a(function(g){return{value:g,next:null,prev:null}},"nodeFrom"),s=a(function(g,y,x,b){return g!==null?g.next=y:b.head=y,x!==null?x.prev=y:b.tail=y,y.prev=g,y.next=x,b.length++,y},"add"),u=a(function(g,y){var x=g.prev,b=g.next;return x!==null?x.next=b:y.head=b,b!==null?b.prev=x:y.tail=x,g.prev=g.next=null,y.length--,g},"_remove"),f=function(){function p(g){var y=this;i(this,p),this.length=0,this.head=null,this.tail=null,g?.forEach(function(x){return y.push(x)})}return a(p,"LinkedList"),n(p,[{key:"size",value:a(function(){return this.length},"size")},{key:"insertBefore",value:a(function(y,x){return s(x.prev,o(y),x,this)},"insertBefore")},{key:"insertAfter",value:a(function(y,x){return s(x,o(y),x.next,this)},"insertAfter")},{key:"insertNodeBefore",value:a(function(y,x){return s(x.prev,y,x,this)},"insertNodeBefore")},{key:"insertNodeAfter",value:a(function(y,x){return s(x,y,x.next,this)},"insertNodeAfter")},{key:"push",value:a(function(y){return s(this.tail,o(y),null,this)},"push")},{key:"unshift",value:a(function(y){return s(null,o(y),this.head,this)},"unshift")},{key:"remove",value:a(function(y){return u(y,this)},"remove")},{key:"pop",value:a(function(){return u(this.tail,this).value},"pop")},{key:"popNode",value:a(function(){return u(this.tail,this)},"popNode")},{key:"shift",value:a(function(){return u(this.head,this).value},"shift")},{key:"shiftNode",value:a(function(){return u(this.head,this)},"shiftNode")},{key:"get_object_at",value:a(function(y){if(y<=this.length()){for(var x=1,b=this.head;x<y;)b=b.next,x++;return b.value}},"get_object_at")},{key:"set_object_at",value:a(function(y,x){if(y<=this.length()){for(var b=1,E=this.head;b<y;)E=E.next,b++;E.value=x}},"set_object_at")}]),p}();e.exports=f},function(e,t,r){"use strict";function n(i,o,s){this.x=null,this.y=null,i==null&&o==null&&s==null?(this.x=0,this.y=0):typeof i=="number"&&typeof o=="number"&&s==null?(this.x=i,this.y=o):i.constructor.name=="Point"&&o==null&&s==null&&(s=i,this.x=s.x,this.y=s.y)}a(n,"Point"),n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.getLocation=function(){return new n(this.x,this.y)},n.prototype.setLocation=function(i,o,s){i.constructor.name=="Point"&&o==null&&s==null?(s=i,this.setLocation(s.x,s.y)):typeof i=="number"&&typeof o=="number"&&s==null&&(parseInt(i)==i&&parseInt(o)==o?this.move(i,o):(this.x=Math.floor(i+.5),this.y=Math.floor(o+.5)))},n.prototype.move=function(i,o){this.x=i,this.y=o},n.prototype.translate=function(i,o){this.x+=i,this.y+=o},n.prototype.equals=function(i){if(i.constructor.name=="Point"){var o=i;return this.x==o.x&&this.y==o.y}return this==i},n.prototype.toString=function(){return new n().constructor.name+"[x="+this.x+",y="+this.y+"]"},e.exports=n},function(e,t,r){"use strict";function n(i,o,s,u){this.x=0,this.y=0,this.width=0,this.height=0,i!=null&&o!=null&&s!=null&&u!=null&&(this.x=i,this.y=o,this.width=s,this.height=u)}a(n,"RectangleD"),n.prototype.getX=function(){return this.x},n.prototype.setX=function(i){this.x=i},n.prototype.getY=function(){return this.y},n.prototype.setY=function(i){this.y=i},n.prototype.getWidth=function(){return this.width},n.prototype.setWidth=function(i){this.width=i},n.prototype.getHeight=function(){return this.height},n.prototype.setHeight=function(i){this.height=i},n.prototype.getRight=function(){return this.x+this.width},n.prototype.getBottom=function(){return this.y+this.height},n.prototype.intersects=function(i){return!(this.getRight()<i.x||this.getBottom()<i.y||i.getRight()<this.x||i.getBottom()<this.y)},n.prototype.getCenterX=function(){return this.x+this.width/2},n.prototype.getMinX=function(){return this.getX()},n.prototype.getMaxX=function(){return this.getX()+this.width},n.prototype.getCenterY=function(){return this.y+this.height/2},n.prototype.getMinY=function(){return this.getY()},n.prototype.getMaxY=function(){return this.getY()+this.height},n.prototype.getWidthHalf=function(){return this.width/2},n.prototype.getHeightHalf=function(){return this.height/2},e.exports=n},function(e,t,r){"use strict";var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};function i(){}a(i,"UniqueIDGeneretor"),i.lastID=0,i.createID=function(o){return i.isPrimitive(o)?o:(o.uniqueID!=null||(o.uniqueID=i.getString(),i.lastID++),o.uniqueID)},i.getString=function(o){return o==null&&(o=i.lastID),"Object#"+o},i.isPrimitive=function(o){var s=typeof o>"u"?"undefined":n(o);return o==null||s!="object"&&s!="function"},e.exports=i},function(e,t,r){"use strict";function n(b){if(Array.isArray(b)){for(var E=0,A=Array(b.length);E<b.length;E++)A[E]=b[E];return A}else return Array.from(b)}a(n,"_toConsumableArray");var i=r(0),o=r(6),s=r(3),u=r(1),f=r(5),p=r(4),g=r(17),y=r(27);function x(b){y.call(this),this.layoutQuality=i.QUALITY,this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=i.DEFAULT_INCREMENTAL,this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,b!=null&&(this.isRemoteUse=b)}a(x,"Layout"),x.RANDOM_SEED=1,x.prototype=Object.create(y.prototype),x.prototype.getGraphManager=function(){return this.graphManager},x.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},x.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},x.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},x.prototype.newGraphManager=function(){var b=new o(this);return this.graphManager=b,b},x.prototype.newGraph=function(b){return new f(null,this.graphManager,b)},x.prototype.newNode=function(b){return new s(this.graphManager,b)},x.prototype.newEdge=function(b){return new u(null,null,b)},x.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},x.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var b;return this.checkLayoutSuccess()?b=!1:b=this.layout(),i.ANIMATE==="during"?!1:(b&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,b)},x.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},x.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var b,E=this.graphManager.getAllEdges(),A=0;A<E.length;A++)b=E[A];for(var O,N=this.graphManager.getRoot().getNodes(),A=0;A<N.length;A++)O=N[A];this.update(this.graphManager.getRoot())}},x.prototype.update=function(b){if(b==null)this.update2();else if(b instanceof s){var E=b;if(E.getChild()!=null)for(var A=E.getChild().getNodes(),O=0;O<A.length;O++)update(A[O]);if(E.vGraphObject!=null){var N=E.vGraphObject;N.update(E)}}else if(b instanceof u){var I=b;if(I.vGraphObject!=null){var $=I.vGraphObject;$.update(I)}}else if(b instanceof f){var X=b;if(X.vGraphObject!=null){var q=X.vGraphObject;q.update(X)}}},x.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=i.QUALITY,this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=i.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},x.prototype.transform=function(b){if(b==null)this.transform(new p(0,0));else{var E=new g,A=this.graphManager.getRoot().updateLeftTop();if(A!=null){E.setWorldOrgX(b.x),E.setWorldOrgY(b.y),E.setDeviceOrgX(A.x),E.setDeviceOrgY(A.y);for(var O=this.getAllNodes(),N,I=0;I<O.length;I++)N=O[I],N.transform(E)}}},x.prototype.positionNodesRandomly=function(b){if(b==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var E,A,O=b.getNodes(),N=0;N<O.length;N++)E=O[N],A=E.getChild(),A==null||A.getNodes().length==0?E.scatter():(this.positionNodesRandomly(A),E.updateBounds())},x.prototype.getFlatForest=function(){for(var b=[],E=!0,A=this.graphManager.getRoot().getNodes(),O=!0,N=0;N<A.length;N++)A[N].getChild()!=null&&(O=!1);if(!O)return b;var I=new Set,$=[],X=new Map,q=[];for(q=q.concat(A);q.length>0&&E;){for($.push(q[0]);$.length>0&&E;){var M=$[0];$.splice(0,1),I.add(M);for(var B=M.getEdges(),N=0;N<B.length;N++){var G=B[N].getOtherEnd(M);if(X.get(M)!=G)if(!I.has(G))$.push(G),X.set(G,M);else{E=!1;break}}}if(!E)b=[];else{var U=[].concat(n(I));b.push(U);for(var N=0;N<U.length;N++){var W=U[N],D=q.indexOf(W);D>-1&&q.splice(D,1)}I=new Set,X=new Map}}return b},x.prototype.createDummyNodesForBendpoints=function(b){for(var E=[],A=b.source,O=this.graphManager.calcLowestCommonAncestor(b.source,b.target),N=0;N<b.bendpoints.length;N++){var I=this.newNode(null);I.setRect(new Point(0,0),new Dimension(1,1)),O.add(I);var $=this.newEdge(null);this.graphManager.add($,A,I),E.add(I),A=I}var $=this.newEdge(null);return this.graphManager.add($,A,b.target),this.edgeToDummyNodes.set(b,E),b.isInterGraph()?this.graphManager.remove(b):O.remove(b),E},x.prototype.createBendpointsFromDummyNodes=function(){var b=[];b=b.concat(this.graphManager.getAllEdges()),b=[].concat(n(this.edgeToDummyNodes.keys())).concat(b);for(var E=0;E<b.length;E++){var A=b[E];if(A.bendpoints.length>0){for(var O=this.edgeToDummyNodes.get(A),N=0;N<O.length;N++){var I=O[N],$=new p(I.getCenterX(),I.getCenterY()),X=A.bendpoints.get(N);X.x=$.x,X.y=$.y,I.getOwner().remove(I)}this.graphManager.add(A,A.source,A.target)}}},x.transform=function(b,E,A,O){if(A!=null&&O!=null){var N=E;if(b<=50){var I=E/A;N-=(E-I)/50*(50-b)}else{var $=E*O;N+=($-E)/50*(b-50)}return N}else{var X,q;return b<=50?(X=9*E/500,q=E/10):(X=9*E/50,q=-8*E),X*b+q}},x.findCenterOfTree=function(b){var E=[];E=E.concat(b);var A=[],O=new Map,N=!1,I=null;(E.length==1||E.length==2)&&(N=!0,I=E[0]);for(var $=0;$<E.length;$++){var X=E[$],q=X.getNeighborsList().size;O.set(X,X.getNeighborsList().size),q==1&&A.push(X)}var M=[];for(M=M.concat(A);!N;){var B=[];B=B.concat(M),M=[];for(var $=0;$<E.length;$++){var X=E[$],G=E.indexOf(X);G>=0&&E.splice(G,1);var U=X.getNeighborsList();U.forEach(function(K){if(A.indexOf(K)<0){var P=O.get(K),re=P-1;re==1&&M.push(K),O.set(K,re)}})}A=A.concat(M),(E.length==1||E.length==2)&&(N=!0,I=E[0])}return I},x.prototype.setGraphManager=function(b){this.graphManager=b},e.exports=x},function(e,t,r){"use strict";function n(){}a(n,"RandomSeed"),n.seed=1,n.x=0,n.nextDouble=function(){return n.x=Math.sin(n.seed++)*1e4,n.x-Math.floor(n.x)},e.exports=n},function(e,t,r){"use strict";var n=r(4);function i(o,s){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}a(i,"Transform"),i.prototype.getWorldOrgX=function(){return this.lworldOrgX},i.prototype.setWorldOrgX=function(o){this.lworldOrgX=o},i.prototype.getWorldOrgY=function(){return this.lworldOrgY},i.prototype.setWorldOrgY=function(o){this.lworldOrgY=o},i.prototype.getWorldExtX=function(){return this.lworldExtX},i.prototype.setWorldExtX=function(o){this.lworldExtX=o},i.prototype.getWorldExtY=function(){return this.lworldExtY},i.prototype.setWorldExtY=function(o){this.lworldExtY=o},i.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},i.prototype.setDeviceOrgX=function(o){this.ldeviceOrgX=o},i.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},i.prototype.setDeviceOrgY=function(o){this.ldeviceOrgY=o},i.prototype.getDeviceExtX=function(){return this.ldeviceExtX},i.prototype.setDeviceExtX=function(o){this.ldeviceExtX=o},i.prototype.getDeviceExtY=function(){return this.ldeviceExtY},i.prototype.setDeviceExtY=function(o){this.ldeviceExtY=o},i.prototype.transformX=function(o){var s=0,u=this.lworldExtX;return u!=0&&(s=this.ldeviceOrgX+(o-this.lworldOrgX)*this.ldeviceExtX/u),s},i.prototype.transformY=function(o){var s=0,u=this.lworldExtY;return u!=0&&(s=this.ldeviceOrgY+(o-this.lworldOrgY)*this.ldeviceExtY/u),s},i.prototype.inverseTransformX=function(o){var s=0,u=this.ldeviceExtX;return u!=0&&(s=this.lworldOrgX+(o-this.ldeviceOrgX)*this.lworldExtX/u),s},i.prototype.inverseTransformY=function(o){var s=0,u=this.ldeviceExtY;return u!=0&&(s=this.lworldOrgY+(o-this.ldeviceOrgY)*this.lworldExtY/u),s},i.prototype.inverseTransformPoint=function(o){var s=new n(this.inverseTransformX(o.x),this.inverseTransformY(o.y));return s},e.exports=i},function(e,t,r){"use strict";function n(y){if(Array.isArray(y)){for(var x=0,b=Array(y.length);x<y.length;x++)b[x]=y[x];return b}else return Array.from(y)}a(n,"_toConsumableArray");var i=r(15),o=r(7),s=r(0),u=r(8),f=r(9);function p(){i.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=o.DEFAULT_EDGE_LENGTH,this.springConstant=o.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=o.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}a(p,"FDLayout"),p.prototype=Object.create(i.prototype);for(var g in i)p[g]=i[g];p.prototype.initParameters=function(){i.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},p.prototype.calcIdealEdgeLengths=function(){for(var y,x,b,E,A,O,N=this.getGraphManager().getAllEdges(),I=0;I<N.length;I++)y=N[I],y.idealLength=this.idealEdgeLength,y.isInterGraph&&(b=y.getSource(),E=y.getTarget(),A=y.getSourceInLca().getEstimatedSize(),O=y.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(y.idealLength+=A+O-2*s.SIMPLE_NODE_SIZE),x=y.getLca().getInclusionTreeDepth(),y.idealLength+=o.DEFAULT_EDGE_LENGTH*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(b.getInclusionTreeDepth()+E.getInclusionTreeDepth()-2*x))},p.prototype.initSpringEmbedder=function(){var y=this.getAllNodes().length;this.incremental?(y>o.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*o.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(y-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-o.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(y>o.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(o.COOLING_ADAPTATION_FACTOR,1-(y-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*(1-o.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},p.prototype.calcSpringForces=function(){for(var y=this.getAllEdges(),x,b=0;b<y.length;b++)x=y[b],this.calcSpringForce(x,x.idealLength)},p.prototype.calcRepulsionForces=function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b,E,A,O,N=this.getAllNodes(),I;if(this.useFRGridVariant)for(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&y&&this.updateGrid(),I=new Set,b=0;b<N.length;b++)A=N[b],this.calculateRepulsionForceOfANode(A,I,y,x),I.add(A);else for(b=0;b<N.length;b++)for(A=N[b],E=b+1;E<N.length;E++)O=N[E],A.getOwner()==O.getOwner()&&this.calcRepulsionForce(A,O)},p.prototype.calcGravitationalForces=function(){for(var y,x=this.getAllNodesToApplyGravitation(),b=0;b<x.length;b++)y=x[b],this.calcGravitationalForce(y)},p.prototype.moveNodes=function(){for(var y=this.getAllNodes(),x,b=0;b<y.length;b++)x=y[b],x.move()},p.prototype.calcSpringForce=function(y,x){var b=y.getSource(),E=y.getTarget(),A,O,N,I;if(this.uniformLeafNodeSizes&&b.getChild()==null&&E.getChild()==null)y.updateLengthSimple();else if(y.updateLength(),y.isOverlapingSourceAndTarget)return;A=y.getLength(),A!=0&&(O=this.springConstant*(A-x),N=O*(y.lengthX/A),I=O*(y.lengthY/A),b.springForceX+=N,b.springForceY+=I,E.springForceX-=N,E.springForceY-=I)},p.prototype.calcRepulsionForce=function(y,x){var b=y.getRect(),E=x.getRect(),A=new Array(2),O=new Array(4),N,I,$,X,q,M,B;if(b.intersects(E)){u.calcSeparationAmount(b,E,A,o.DEFAULT_EDGE_LENGTH/2),M=2*A[0],B=2*A[1];var G=y.noOfChildren*x.noOfChildren/(y.noOfChildren+x.noOfChildren);y.repulsionForceX-=G*M,y.repulsionForceY-=G*B,x.repulsionForceX+=G*M,x.repulsionForceY+=G*B}else this.uniformLeafNodeSizes&&y.getChild()==null&&x.getChild()==null?(N=E.getCenterX()-b.getCenterX(),I=E.getCenterY()-b.getCenterY()):(u.getIntersection(b,E,O),N=O[2]-O[0],I=O[3]-O[1]),Math.abs(N)<o.MIN_REPULSION_DIST&&(N=f.sign(N)*o.MIN_REPULSION_DIST),Math.abs(I)<o.MIN_REPULSION_DIST&&(I=f.sign(I)*o.MIN_REPULSION_DIST),$=N*N+I*I,X=Math.sqrt($),q=this.repulsionConstant*y.noOfChildren*x.noOfChildren/$,M=q*N/X,B=q*I/X,y.repulsionForceX-=M,y.repulsionForceY-=B,x.repulsionForceX+=M,x.repulsionForceY+=B},p.prototype.calcGravitationalForce=function(y){var x,b,E,A,O,N,I,$;x=y.getOwner(),b=(x.getRight()+x.getLeft())/2,E=(x.getTop()+x.getBottom())/2,A=y.getCenterX()-b,O=y.getCenterY()-E,N=Math.abs(A)+y.getWidth()/2,I=Math.abs(O)+y.getHeight()/2,y.getOwner()==this.graphManager.getRoot()?($=x.getEstimatedSize()*this.gravityRangeFactor,(N>$||I>$)&&(y.gravitationForceX=-this.gravityConstant*A,y.gravitationForceY=-this.gravityConstant*O)):($=x.getEstimatedSize()*this.compoundGravityRangeFactor,(N>$||I>$)&&(y.gravitationForceX=-this.gravityConstant*A*this.compoundGravityConstant,y.gravitationForceY=-this.gravityConstant*O*this.compoundGravityConstant))},p.prototype.isConverged=function(){var y,x=!1;return this.totalIterations>this.maxIterations/3&&(x=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),y=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,y||x},p.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},p.prototype.calcNoOfChildrenForAllNodes=function(){for(var y,x=this.graphManager.getAllNodes(),b=0;b<x.length;b++)y=x[b],y.noOfChildren=y.getNoOfChildren()},p.prototype.calcGrid=function(y){var x=0,b=0;x=parseInt(Math.ceil((y.getRight()-y.getLeft())/this.repulsionRange)),b=parseInt(Math.ceil((y.getBottom()-y.getTop())/this.repulsionRange));for(var E=new Array(x),A=0;A<x;A++)E[A]=new Array(b);for(var A=0;A<x;A++)for(var O=0;O<b;O++)E[A][O]=new Array;return E},p.prototype.addNodeToGrid=function(y,x,b){var E=0,A=0,O=0,N=0;E=parseInt(Math.floor((y.getRect().x-x)/this.repulsionRange)),A=parseInt(Math.floor((y.getRect().width+y.getRect().x-x)/this.repulsionRange)),O=parseInt(Math.floor((y.getRect().y-b)/this.repulsionRange)),N=parseInt(Math.floor((y.getRect().height+y.getRect().y-b)/this.repulsionRange));for(var I=E;I<=A;I++)for(var $=O;$<=N;$++)this.grid[I][$].push(y),y.setGridCoordinates(E,A,O,N)},p.prototype.updateGrid=function(){var y,x,b=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),y=0;y<b.length;y++)x=b[y],this.addNodeToGrid(x,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},p.prototype.calculateRepulsionForceOfANode=function(y,x,b,E){if(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&b||E){var A=new Set;y.surrounding=new Array;for(var O,N=this.grid,I=y.startX-1;I<y.finishX+2;I++)for(var $=y.startY-1;$<y.finishY+2;$++)if(!(I<0||$<0||I>=N.length||$>=N[0].length)){for(var X=0;X<N[I][$].length;X++)if(O=N[I][$][X],!(y.getOwner()!=O.getOwner()||y==O)&&!x.has(O)&&!A.has(O)){var q=Math.abs(y.getCenterX()-O.getCenterX())-(y.getWidth()/2+O.getWidth()/2),M=Math.abs(y.getCenterY()-O.getCenterY())-(y.getHeight()/2+O.getHeight()/2);q<=this.repulsionRange&&M<=this.repulsionRange&&A.add(O)}}y.surrounding=[].concat(n(A))}for(I=0;I<y.surrounding.length;I++)this.calcRepulsionForce(y,y.surrounding[I])},p.prototype.calcRepulsionRange=function(){return 0},e.exports=p},function(e,t,r){"use strict";var n=r(1),i=r(7);function o(u,f,p){n.call(this,u,f,p),this.idealLength=i.DEFAULT_EDGE_LENGTH}a(o,"FDLayoutEdge"),o.prototype=Object.create(n.prototype);for(var s in n)o[s]=n[s];e.exports=o},function(e,t,r){"use strict";var n=r(3);function i(s,u,f,p){n.call(this,s,u,f,p),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}a(i,"FDLayoutNode"),i.prototype=Object.create(n.prototype);for(var o in n)i[o]=n[o];i.prototype.setGridCoordinates=function(s,u,f,p){this.startX=s,this.finishX=u,this.startY=f,this.finishY=p},e.exports=i},function(e,t,r){"use strict";function n(i,o){this.width=0,this.height=0,i!==null&&o!==null&&(this.height=o,this.width=i)}a(n,"DimensionD"),n.prototype.getWidth=function(){return this.width},n.prototype.setWidth=function(i){this.width=i},n.prototype.getHeight=function(){return this.height},n.prototype.setHeight=function(i){this.height=i},e.exports=n},function(e,t,r){"use strict";var n=r(14);function i(){this.map={},this.keys=[]}a(i,"HashMap"),i.prototype.put=function(o,s){var u=n.createID(o);this.contains(u)||(this.map[u]=s,this.keys.push(o))},i.prototype.contains=function(o){var s=n.createID(o);return this.map[o]!=null},i.prototype.get=function(o){var s=n.createID(o);return this.map[s]},i.prototype.keySet=function(){return this.keys},e.exports=i},function(e,t,r){"use strict";var n=r(14);function i(){this.set={}}a(i,"HashSet"),i.prototype.add=function(o){var s=n.createID(o);this.contains(s)||(this.set[s]=o)},i.prototype.remove=function(o){delete this.set[n.createID(o)]},i.prototype.clear=function(){this.set={}},i.prototype.contains=function(o){return this.set[n.createID(o)]==o},i.prototype.isEmpty=function(){return this.size()===0},i.prototype.size=function(){return Object.keys(this.set).length},i.prototype.addAllTo=function(o){for(var s=Object.keys(this.set),u=s.length,f=0;f<u;f++)o.push(this.set[s[f]])},i.prototype.size=function(){return Object.keys(this.set).length},i.prototype.addAll=function(o){for(var s=o.length,u=0;u<s;u++){var f=o[u];this.add(f)}},e.exports=i},function(e,t,r){"use strict";var n=function(){function u(f,p){for(var g=0;g<p.length;g++){var y=p[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(f,y.key,y)}}return a(u,"defineProperties"),function(f,p,g){return p&&u(f.prototype,p),g&&u(f,g),f}}();function i(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}a(i,"_classCallCheck");var o=r(11),s=function(){function u(f,p){i(this,u),(p!==null||p!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var g=void 0;f instanceof o?g=f.size():g=f.length,this._quicksort(f,0,g-1)}return a(u,"Quicksort"),n(u,[{key:"_quicksort",value:a(function(p,g,y){if(g<y){var x=this._partition(p,g,y);this._quicksort(p,g,x),this._quicksort(p,x+1,y)}},"_quicksort")},{key:"_partition",value:a(function(p,g,y){for(var x=this._get(p,g),b=g,E=y;;){for(;this.compareFunction(x,this._get(p,E));)E--;for(;this.compareFunction(this._get(p,b),x);)b++;if(b<E)this._swap(p,b,E),b++,E--;else return E}},"_partition")},{key:"_get",value:a(function(p,g){return p instanceof o?p.get_object_at(g):p[g]},"_get")},{key:"_set",value:a(function(p,g,y){p instanceof o?p.set_object_at(g,y):p[g]=y},"_set")},{key:"_swap",value:a(function(p,g,y){var x=this._get(p,g);this._set(p,g,this._get(p,y)),this._set(p,y,x)},"_swap")},{key:"_defaultCompareFunction",value:a(function(p,g){return g>p},"_defaultCompareFunction")}]),u}();e.exports=s},function(e,t,r){"use strict";var n=function(){function s(u,f){for(var p=0;p<f.length;p++){var g=f[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}return a(s,"defineProperties"),function(u,f,p){return f&&s(u.prototype,f),p&&s(u,p),u}}();function i(s,u){if(!(s instanceof u))throw new TypeError("Cannot call a class as a function")}a(i,"_classCallCheck");var o=function(){function s(u,f){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;i(this,s),this.sequence1=u,this.sequence2=f,this.match_score=p,this.mismatch_penalty=g,this.gap_penalty=y,this.iMax=u.length+1,this.jMax=f.length+1,this.grid=new Array(this.iMax);for(var x=0;x<this.iMax;x++){this.grid[x]=new Array(this.jMax);for(var b=0;b<this.jMax;b++)this.grid[x][b]=0}this.tracebackGrid=new Array(this.iMax);for(var E=0;E<this.iMax;E++){this.tracebackGrid[E]=new Array(this.jMax);for(var A=0;A<this.jMax;A++)this.tracebackGrid[E][A]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return a(s,"NeedlemanWunsch"),n(s,[{key:"getScore",value:a(function(){return this.score},"getScore")},{key:"getAlignments",value:a(function(){return this.alignments},"getAlignments")},{key:"computeGrids",value:a(function(){for(var f=1;f<this.jMax;f++)this.grid[0][f]=this.grid[0][f-1]+this.gap_penalty,this.tracebackGrid[0][f]=[!1,!1,!0];for(var p=1;p<this.iMax;p++)this.grid[p][0]=this.grid[p-1][0]+this.gap_penalty,this.tracebackGrid[p][0]=[!1,!0,!1];for(var g=1;g<this.iMax;g++)for(var y=1;y<this.jMax;y++){var x=void 0;this.sequence1[g-1]===this.sequence2[y-1]?x=this.grid[g-1][y-1]+this.match_score:x=this.grid[g-1][y-1]+this.mismatch_penalty;var b=this.grid[g-1][y]+this.gap_penalty,E=this.grid[g][y-1]+this.gap_penalty,A=[x,b,E],O=this.arrayAllMaxIndexes(A);this.grid[g][y]=A[O[0]],this.tracebackGrid[g][y]=[O.includes(0),O.includes(1),O.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]},"computeGrids")},{key:"alignmentTraceback",value:a(function(){var f=[];for(f.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});f[0];){var p=f[0],g=this.tracebackGrid[p.pos[0]][p.pos[1]];g[0]&&f.push({pos:[p.pos[0]-1,p.pos[1]-1],seq1:this.sequence1[p.pos[0]-1]+p.seq1,seq2:this.sequence2[p.pos[1]-1]+p.seq2}),g[1]&&f.push({pos:[p.pos[0]-1,p.pos[1]],seq1:this.sequence1[p.pos[0]-1]+p.seq1,seq2:"-"+p.seq2}),g[2]&&f.push({pos:[p.pos[0],p.pos[1]-1],seq1:"-"+p.seq1,seq2:this.sequence2[p.pos[1]-1]+p.seq2}),p.pos[0]===0&&p.pos[1]===0&&this.alignments.push({sequence1:p.seq1,sequence2:p.seq2}),f.shift()}return this.alignments},"alignmentTraceback")},{key:"getAllIndexes",value:a(function(f,p){for(var g=[],y=-1;(y=f.indexOf(p,y+1))!==-1;)g.push(y);return g},"getAllIndexes")},{key:"arrayAllMaxIndexes",value:a(function(f){return this.getAllIndexes(f,Math.max.apply(null,f))},"arrayAllMaxIndexes")}]),s}();e.exports=o},function(e,t,r){"use strict";var n=a(function(){},"layoutBase");n.FDLayout=r(18),n.FDLayoutConstants=r(7),n.FDLayoutEdge=r(19),n.FDLayoutNode=r(20),n.DimensionD=r(21),n.HashMap=r(22),n.HashSet=r(23),n.IGeometry=r(8),n.IMath=r(9),n.Integer=r(10),n.Point=r(12),n.PointD=r(4),n.RandomSeed=r(16),n.RectangleD=r(13),n.Transform=r(17),n.UniqueIDGeneretor=r(14),n.Quicksort=r(24),n.LinkedList=r(11),n.LGraphObject=r(2),n.LGraph=r(5),n.LEdge=r(1),n.LGraphManager=r(6),n.LNode=r(3),n.Layout=r(15),n.LayoutConstants=r(0),n.NeedlemanWunsch=r(25),e.exports=n},function(e,t,r){"use strict";function n(){this.listeners=[]}a(n,"Emitter");var i=n.prototype;i.addListener=function(o,s){this.listeners.push({event:o,callback:s})},i.removeListener=function(o,s){for(var u=this.listeners.length;u>=0;u--){var f=this.listeners[u];f.event===o&&f.callback===s&&this.listeners.splice(u,1)}},i.emit=function(o,s){for(var u=0;u<this.listeners.length;u++){var f=this.listeners[u];o===f.event&&f.callback(s)}},e.exports=n}])})});var MO=fc((Ix,OO)=>{"use strict";a(function(t,r){typeof Ix=="object"&&typeof OO=="object"?OO.exports=r(PO()):typeof define=="function"&&define.amd?define(["layout-base"],r):typeof Ix=="object"?Ix.coseBase=r(PO()):t.coseBase=r(t.layoutBase)},"webpackUniversalModuleDefinition")(Ix,function(e){return function(t){var r={};function n(i){if(r[i])return r[i].exports;var o=r[i]={i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return a(n,"__webpack_require__"),n.m=t,n.c=r,n.i=function(i){return i},n.d=function(i,o,s){n.o(i,o)||Object.defineProperty(i,o,{configurable:!1,enumerable:!0,get:s})},n.n=function(i){var o=i&&i.__esModule?a(function(){return i.default},"getDefault"):a(function(){return i},"getModuleExports");return n.d(o,"a",o),o},n.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},n.p="",n(n.s=7)}([function(t,r){t.exports=e},function(t,r,n){"use strict";var i=n(0).FDLayoutConstants;function o(){}a(o,"CoSEConstants");for(var s in i)o[s]=i[s];o.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,o.DEFAULT_RADIAL_SEPARATION=i.DEFAULT_EDGE_LENGTH,o.DEFAULT_COMPONENT_SEPERATION=60,o.TILE=!0,o.TILING_PADDING_VERTICAL=10,o.TILING_PADDING_HORIZONTAL=10,o.TREE_REDUCTION_ON_INCREMENTAL=!1,t.exports=o},function(t,r,n){"use strict";var i=n(0).FDLayoutEdge;function o(u,f,p){i.call(this,u,f,p)}a(o,"CoSEEdge"),o.prototype=Object.create(i.prototype);for(var s in i)o[s]=i[s];t.exports=o},function(t,r,n){"use strict";var i=n(0).LGraph;function o(u,f,p){i.call(this,u,f,p)}a(o,"CoSEGraph"),o.prototype=Object.create(i.prototype);for(var s in i)o[s]=i[s];t.exports=o},function(t,r,n){"use strict";var i=n(0).LGraphManager;function o(u){i.call(this,u)}a(o,"CoSEGraphManager"),o.prototype=Object.create(i.prototype);for(var s in i)o[s]=i[s];t.exports=o},function(t,r,n){"use strict";var i=n(0).FDLayoutNode,o=n(0).IMath;function s(f,p,g,y){i.call(this,f,p,g,y)}a(s,"CoSENode"),s.prototype=Object.create(i.prototype);for(var u in i)s[u]=i[u];s.prototype.move=function(){var f=this.graphManager.getLayout();this.displacementX=f.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=f.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>f.coolingFactor*f.maxNodeDisplacement&&(this.displacementX=f.coolingFactor*f.maxNodeDisplacement*o.sign(this.displacementX)),Math.abs(this.displacementY)>f.coolingFactor*f.maxNodeDisplacement&&(this.displacementY=f.coolingFactor*f.maxNodeDisplacement*o.sign(this.displacementY)),this.child==null?this.moveBy(this.displacementX,this.displacementY):this.child.getNodes().length==0?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),f.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},s.prototype.propogateDisplacementToChildren=function(f,p){for(var g=this.getChild().getNodes(),y,x=0;x<g.length;x++)y=g[x],y.getChild()==null?(y.moveBy(f,p),y.displacementX+=f,y.displacementY+=p):y.propogateDisplacementToChildren(f,p)},s.prototype.setPred1=function(f){this.pred1=f},s.prototype.getPred1=function(){return pred1},s.prototype.getPred2=function(){return pred2},s.prototype.setNext=function(f){this.next=f},s.prototype.getNext=function(){return next},s.prototype.setProcessed=function(f){this.processed=f},s.prototype.isProcessed=function(){return processed},t.exports=s},function(t,r,n){"use strict";var i=n(0).FDLayout,o=n(4),s=n(3),u=n(5),f=n(2),p=n(1),g=n(0).FDLayoutConstants,y=n(0).LayoutConstants,x=n(0).Point,b=n(0).PointD,E=n(0).Layout,A=n(0).Integer,O=n(0).IGeometry,N=n(0).LGraph,I=n(0).Transform;function $(){i.call(this),this.toBeTiled={}}a($,"CoSELayout"),$.prototype=Object.create(i.prototype);for(var X in i)$[X]=i[X];$.prototype.newGraphManager=function(){var q=new o(this);return this.graphManager=q,q},$.prototype.newGraph=function(q){return new s(null,this.graphManager,q)},$.prototype.newNode=function(q){return new u(this.graphManager,q)},$.prototype.newEdge=function(q){return new f(null,null,q)},$.prototype.initParameters=function(){i.prototype.initParameters.call(this,arguments),this.isSubLayout||(p.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=p.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=p.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=g.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=g.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=g.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=g.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=g.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=g.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/g.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=g.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},$.prototype.layout=function(){var q=y.DEFAULT_CREATE_BENDS_AS_NEEDED;return q&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},$.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(p.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var M=new Set(this.getAllNodes()),B=this.nodesWithGravity.filter(function(W){return M.has(W)});this.graphManager.setAllNodesToApplyGravitation(B)}}else{var q=this.getFlatForest();if(q.length>0)this.positionNodesRadially(q);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var M=new Set(this.getAllNodes()),B=this.nodesWithGravity.filter(function(G){return M.has(G)});this.graphManager.setAllNodesToApplyGravitation(B),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},$.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%g.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var q=new Set(this.getAllNodes()),M=this.nodesWithGravity.filter(function(U){return q.has(U)});this.graphManager.setAllNodesToApplyGravitation(M),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=g.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=g.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var B=!this.isTreeGrowing&&!this.isGrowthFinished,G=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(B,G),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},$.prototype.getPositionsData=function(){for(var q=this.graphManager.getAllNodes(),M={},B=0;B<q.length;B++){var G=q[B].rect,U=q[B].id;M[U]={id:U,x:G.getCenterX(),y:G.getCenterY(),w:G.width,h:G.height}}return M},$.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var q=!1;if(g.ANIMATE==="during")this.emit("layoutstarted");else{for(;!q;)q=this.tick();this.graphManager.updateBounds()}},$.prototype.calculateNodesToApplyGravitationTo=function(){var q=[],M,B=this.graphManager.getGraphs(),G=B.length,U;for(U=0;U<G;U++)M=B[U],M.updateConnected(),M.isConnected||(q=q.concat(M.getNodes()));return q},$.prototype.createBendpoints=function(){var q=[];q=q.concat(this.graphManager.getAllEdges());var M=new Set,B;for(B=0;B<q.length;B++){var G=q[B];if(!M.has(G)){var U=G.getSource(),W=G.getTarget();if(U==W)G.getBendpoints().push(new b),G.getBendpoints().push(new b),this.createDummyNodesForBendpoints(G),M.add(G);else{var D=[];if(D=D.concat(U.getEdgeListToNode(W)),D=D.concat(W.getEdgeListToNode(U)),!M.has(D[0])){if(D.length>1){var K;for(K=0;K<D.length;K++){var P=D[K];P.getBendpoints().push(new b),this.createDummyNodesForBendpoints(P)}}D.forEach(function(re){M.add(re)})}}}if(M.size==q.length)break}},$.prototype.positionNodesRadially=function(q){for(var M=new x(0,0),B=Math.ceil(Math.sqrt(q.length)),G=0,U=0,W=0,D=new b(0,0),K=0;K<q.length;K++){K%B==0&&(W=0,U=G,K!=0&&(U+=p.DEFAULT_COMPONENT_SEPERATION),G=0);var P=q[K],re=E.findCenterOfTree(P);M.x=W,M.y=U,D=$.radialLayout(P,re,M),D.y>G&&(G=Math.floor(D.y)),W=Math.floor(D.x+p.DEFAULT_COMPONENT_SEPERATION)}this.transform(new b(y.WORLD_CENTER_X-D.x/2,y.WORLD_CENTER_Y-D.y/2))},$.radialLayout=function(q,M,B){var G=Math.max(this.maxDiagonalInTree(q),p.DEFAULT_RADIAL_SEPARATION);$.branchRadialLayout(M,null,0,359,0,G);var U=N.calculateBounds(q),W=new I;W.setDeviceOrgX(U.getMinX()),W.setDeviceOrgY(U.getMinY()),W.setWorldOrgX(B.x),W.setWorldOrgY(B.y);for(var D=0;D<q.length;D++){var K=q[D];K.transform(W)}var P=new b(U.getMaxX(),U.getMaxY());return W.inverseTransformPoint(P)},$.branchRadialLayout=function(q,M,B,G,U,W){var D=(G-B+1)/2;D<0&&(D+=180);var K=(D+B)%360,P=K*O.TWO_PI/360,re=Math.cos(P),ce=U*Math.cos(P),ee=U*Math.sin(P);q.setCenter(ce,ee);var H=[];H=H.concat(q.getEdges());var te=H.length;M!=null&&te--;for(var J=0,Y=H.length,de,Fe=q.getEdgesBetween(M);Fe.length>1;){var oe=Fe[0];Fe.splice(0,1);var rt=H.indexOf(oe);rt>=0&&H.splice(rt,1),Y--,te--}M!=null?de=(H.indexOf(Fe[0])+1)%Y:de=0;for(var We=Math.abs(G-B)/te,_e=de;J!=te;_e=++_e%Y){var Ve=H[_e].getOtherEnd(q);if(Ve!=M){var Ye=(B+J*We)%360,Le=(Ye+We)%360;$.branchRadialLayout(Ve,q,Ye,Le,U+W,W),J++}}},$.maxDiagonalInTree=function(q){for(var M=A.MIN_VALUE,B=0;B<q.length;B++){var G=q[B],U=G.getDiagonal();U>M&&(M=U)}return M},$.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},$.prototype.groupZeroDegreeMembers=function(){var q=this,M={};this.memberGroups={},this.idToDummyNode={};for(var B=[],G=this.graphManager.getAllNodes(),U=0;U<G.length;U++){var W=G[U],D=W.getParent();this.getNodeDegreeWithChildren(W)===0&&(D.id==null||!this.getToBeTiled(D))&&B.push(W)}for(var U=0;U<B.length;U++){var W=B[U],K=W.getParent().id;typeof M[K]>"u"&&(M[K]=[]),M[K]=M[K].concat(W)}Object.keys(M).forEach(function(P){if(M[P].length>1){var re="DummyCompound_"+P;q.memberGroups[re]=M[P];var ce=M[P][0].getParent(),ee=new u(q.graphManager);ee.id=re,ee.paddingLeft=ce.paddingLeft||0,ee.paddingRight=ce.paddingRight||0,ee.paddingBottom=ce.paddingBottom||0,ee.paddingTop=ce.paddingTop||0,q.idToDummyNode[re]=ee;var H=q.getGraphManager().add(q.newGraph(),ee),te=ce.getChild();te.add(ee);for(var J=0;J<M[P].length;J++){var Y=M[P][J];te.remove(Y),H.add(Y)}}})},$.prototype.clearCompounds=function(){var q={},M={};this.performDFSOnCompounds();for(var B=0;B<this.compoundOrder.length;B++)M[this.compoundOrder[B].id]=this.compoundOrder[B],q[this.compoundOrder[B].id]=[].concat(this.compoundOrder[B].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[B].getChild()),this.compoundOrder[B].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(q,M)},$.prototype.clearZeroDegreeMembers=function(){var q=this,M=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(B){var G=q.idToDummyNode[B];M[B]=q.tileNodes(q.memberGroups[B],G.paddingLeft+G.paddingRight),G.rect.width=M[B].width,G.rect.height=M[B].height})},$.prototype.repopulateCompounds=function(){for(var q=this.compoundOrder.length-1;q>=0;q--){var M=this.compoundOrder[q],B=M.id,G=M.paddingLeft,U=M.paddingTop;this.adjustLocations(this.tiledMemberPack[B],M.rect.x,M.rect.y,G,U)}},$.prototype.repopulateZeroDegreeMembers=function(){var q=this,M=this.tiledZeroDegreePack;Object.keys(M).forEach(function(B){var G=q.idToDummyNode[B],U=G.paddingLeft,W=G.paddingTop;q.adjustLocations(M[B],G.rect.x,G.rect.y,U,W)})},$.prototype.getToBeTiled=function(q){var M=q.id;if(this.toBeTiled[M]!=null)return this.toBeTiled[M];var B=q.getChild();if(B==null)return this.toBeTiled[M]=!1,!1;for(var G=B.getNodes(),U=0;U<G.length;U++){var W=G[U];if(this.getNodeDegree(W)>0)return this.toBeTiled[M]=!1,!1;if(W.getChild()==null){this.toBeTiled[W.id]=!1;continue}if(!this.getToBeTiled(W))return this.toBeTiled[M]=!1,!1}return this.toBeTiled[M]=!0,!0},$.prototype.getNodeDegree=function(q){for(var M=q.id,B=q.getEdges(),G=0,U=0;U<B.length;U++){var W=B[U];W.getSource().id!==W.getTarget().id&&(G=G+1)}return G},$.prototype.getNodeDegreeWithChildren=function(q){var M=this.getNodeDegree(q);if(q.getChild()==null)return M;for(var B=q.getChild().getNodes(),G=0;G<B.length;G++){var U=B[G];M+=this.getNodeDegreeWithChildren(U)}return M},$.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},$.prototype.fillCompexOrderByDFS=function(q){for(var M=0;M<q.length;M++){var B=q[M];B.getChild()!=null&&this.fillCompexOrderByDFS(B.getChild().getNodes()),this.getToBeTiled(B)&&this.compoundOrder.push(B)}},$.prototype.adjustLocations=function(q,M,B,G,U){M+=G,B+=U;for(var W=M,D=0;D<q.rows.length;D++){var K=q.rows[D];M=W;for(var P=0,re=0;re<K.length;re++){var ce=K[re];ce.rect.x=M,ce.rect.y=B,M+=ce.rect.width+q.horizontalPadding,ce.rect.height>P&&(P=ce.rect.height)}B+=P+q.verticalPadding}},$.prototype.tileCompoundMembers=function(q,M){var B=this;this.tiledMemberPack=[],Object.keys(q).forEach(function(G){var U=M[G];B.tiledMemberPack[G]=B.tileNodes(q[G],U.paddingLeft+U.paddingRight),U.rect.width=B.tiledMemberPack[G].width,U.rect.height=B.tiledMemberPack[G].height})},$.prototype.tileNodes=function(q,M){var B=p.TILING_PADDING_VERTICAL,G=p.TILING_PADDING_HORIZONTAL,U={rows:[],rowWidth:[],rowHeight:[],width:0,height:M,verticalPadding:B,horizontalPadding:G};q.sort(function(K,P){return K.rect.width*K.rect.height>P.rect.width*P.rect.height?-1:K.rect.width*K.rect.height<P.rect.width*P.rect.height?1:0});for(var W=0;W<q.length;W++){var D=q[W];U.rows.length==0?this.insertNodeToRow(U,D,0,M):this.canAddHorizontal(U,D.rect.width,D.rect.height)?this.insertNodeToRow(U,D,this.getShortestRowIndex(U),M):this.insertNodeToRow(U,D,U.rows.length,M),this.shiftToLastRow(U)}return U},$.prototype.insertNodeToRow=function(q,M,B,G){var U=G;if(B==q.rows.length){var W=[];q.rows.push(W),q.rowWidth.push(U),q.rowHeight.push(0)}var D=q.rowWidth[B]+M.rect.width;q.rows[B].length>0&&(D+=q.horizontalPadding),q.rowWidth[B]=D,q.width<D&&(q.width=D);var K=M.rect.height;B>0&&(K+=q.verticalPadding);var P=0;K>q.rowHeight[B]&&(P=q.rowHeight[B],q.rowHeight[B]=K,P=q.rowHeight[B]-P),q.height+=P,q.rows[B].push(M)},$.prototype.getShortestRowIndex=function(q){for(var M=-1,B=Number.MAX_VALUE,G=0;G<q.rows.length;G++)q.rowWidth[G]<B&&(M=G,B=q.rowWidth[G]);return M},$.prototype.getLongestRowIndex=function(q){for(var M=-1,B=Number.MIN_VALUE,G=0;G<q.rows.length;G++)q.rowWidth[G]>B&&(M=G,B=q.rowWidth[G]);return M},$.prototype.canAddHorizontal=function(q,M,B){var G=this.getShortestRowIndex(q);if(G<0)return!0;var U=q.rowWidth[G];if(U+q.horizontalPadding+M<=q.width)return!0;var W=0;q.rowHeight[G]<B&&G>0&&(W=B+q.verticalPadding-q.rowHeight[G]);var D;q.width-U>=M+q.horizontalPadding?D=(q.height+W)/(U+M+q.horizontalPadding):D=(q.height+W)/q.width,W=B+q.verticalPadding;var K;return q.width<M?K=(q.height+W)/M:K=(q.height+W)/q.width,K<1&&(K=1/K),D<1&&(D=1/D),D<K},$.prototype.shiftToLastRow=function(q){var M=this.getLongestRowIndex(q),B=q.rowWidth.length-1,G=q.rows[M],U=G[G.length-1],W=U.width+q.horizontalPadding;if(q.width-q.rowWidth[B]>W&&M!=B){G.splice(-1,1),q.rows[B].push(U),q.rowWidth[M]=q.rowWidth[M]-W,q.rowWidth[B]=q.rowWidth[B]+W,q.width=q.rowWidth[instance.getLongestRowIndex(q)];for(var D=Number.MIN_VALUE,K=0;K<G.length;K++)G[K].height>D&&(D=G[K].height);M>0&&(D+=q.verticalPadding);var P=q.rowHeight[M]+q.rowHeight[B];q.rowHeight[M]=D,q.rowHeight[B]<U.height+q.verticalPadding&&(q.rowHeight[B]=U.height+q.verticalPadding);var re=q.rowHeight[M]+q.rowHeight[B];q.height+=re-P,this.shiftToLastRow(q)}},$.prototype.tilingPreLayout=function(){p.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},$.prototype.tilingPostLayout=function(){p.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},$.prototype.reduceTrees=function(){for(var q=[],M=!0,B;M;){var G=this.graphManager.getAllNodes(),U=[];M=!1;for(var W=0;W<G.length;W++)B=G[W],B.getEdges().length==1&&!B.getEdges()[0].isInterGraph&&B.getChild()==null&&(U.push([B,B.getEdges()[0],B.getOwner()]),M=!0);if(M==!0){for(var D=[],K=0;K<U.length;K++)U[K][0].getEdges().length==1&&(D.push(U[K]),U[K][0].getOwner().remove(U[K][0]));q.push(D),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=q},$.prototype.growTree=function(q){for(var M=q.length,B=q[M-1],G,U=0;U<B.length;U++)G=B[U],this.findPlaceforPrunedNode(G),G[2].add(G[0]),G[2].add(G[1],G[1].source,G[1].target);q.splice(q.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},$.prototype.findPlaceforPrunedNode=function(q){var M,B,G=q[0];G==q[1].source?B=q[1].target:B=q[1].source;var U=B.startX,W=B.finishX,D=B.startY,K=B.finishY,P=0,re=0,ce=0,ee=0,H=[P,ce,re,ee];if(D>0)for(var te=U;te<=W;te++)H[0]+=this.grid[te][D-1].length+this.grid[te][D].length-1;if(W<this.grid.length-1)for(var te=D;te<=K;te++)H[1]+=this.grid[W+1][te].length+this.grid[W][te].length-1;if(K<this.grid[0].length-1)for(var te=U;te<=W;te++)H[2]+=this.grid[te][K+1].length+this.grid[te][K].length-1;if(U>0)for(var te=D;te<=K;te++)H[3]+=this.grid[U-1][te].length+this.grid[U][te].length-1;for(var J=A.MAX_VALUE,Y,de,Fe=0;Fe<H.length;Fe++)H[Fe]<J?(J=H[Fe],Y=1,de=Fe):H[Fe]==J&&Y++;if(Y==3&&J==0)H[0]==0&&H[1]==0&&H[2]==0?M=1:H[0]==0&&H[1]==0&&H[3]==0?M=0:H[0]==0&&H[2]==0&&H[3]==0?M=3:H[1]==0&&H[2]==0&&H[3]==0&&(M=2);else if(Y==2&&J==0){var oe=Math.floor(Math.random()*2);H[0]==0&&H[1]==0?oe==0?M=0:M=1:H[0]==0&&H[2]==0?oe==0?M=0:M=2:H[0]==0&&H[3]==0?oe==0?M=0:M=3:H[1]==0&&H[2]==0?oe==0?M=1:M=2:H[1]==0&&H[3]==0?oe==0?M=1:M=3:oe==0?M=2:M=3}else if(Y==4&&J==0){var oe=Math.floor(Math.random()*4);M=oe}else M=de;M==0?G.setCenter(B.getCenterX(),B.getCenterY()-B.getHeight()/2-g.DEFAULT_EDGE_LENGTH-G.getHeight()/2):M==1?G.setCenter(B.getCenterX()+B.getWidth()/2+g.DEFAULT_EDGE_LENGTH+G.getWidth()/2,B.getCenterY()):M==2?G.setCenter(B.getCenterX(),B.getCenterY()+B.getHeight()/2+g.DEFAULT_EDGE_LENGTH+G.getHeight()/2):G.setCenter(B.getCenterX()-B.getWidth()/2-g.DEFAULT_EDGE_LENGTH-G.getWidth()/2,B.getCenterY())},t.exports=$},function(t,r,n){"use strict";var i={};i.layoutBase=n(0),i.CoSEConstants=n(1),i.CoSEEdge=n(2),i.CoSEGraph=n(3),i.CoSEGraphManager=n(4),i.CoSELayout=n(6),i.CoSENode=n(5),t.exports=i}])})});var Zge=fc((Nx,FO)=>{"use strict";a(function(t,r){typeof Nx=="object"&&typeof FO=="object"?FO.exports=r(MO()):typeof define=="function"&&define.amd?define(["cose-base"],r):typeof Nx=="object"?Nx.cytoscapeCoseBilkent=r(MO()):t.cytoscapeCoseBilkent=r(t.coseBase)},"webpackUniversalModuleDefinition")(Nx,function(e){return function(t){var r={};function n(i){if(r[i])return r[i].exports;var o=r[i]={i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return a(n,"__webpack_require__"),n.m=t,n.c=r,n.i=function(i){return i},n.d=function(i,o,s){n.o(i,o)||Object.defineProperty(i,o,{configurable:!1,enumerable:!0,get:s})},n.n=function(i){var o=i&&i.__esModule?a(function(){return i.default},"getDefault"):a(function(){return i},"getModuleExports");return n.d(o,"a",o),o},n.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},n.p="",n(n.s=1)}([function(t,r){t.exports=e},function(t,r,n){"use strict";var i=n(0).layoutBase.LayoutConstants,o=n(0).layoutBase.FDLayoutConstants,s=n(0).CoSEConstants,u=n(0).CoSELayout,f=n(0).CoSENode,p=n(0).layoutBase.PointD,g=n(0).layoutBase.DimensionD,y={ready:a(function(){},"ready"),stop:a(function(){},"stop"),quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function x(O,N){var I={};for(var $ in O)I[$]=O[$];for(var $ in N)I[$]=N[$];return I}a(x,"extend");function b(O){this.options=x(y,O),E(this.options)}a(b,"_CoSELayout");var E=a(function(N){N.nodeRepulsion!=null&&(s.DEFAULT_REPULSION_STRENGTH=o.DEFAULT_REPULSION_STRENGTH=N.nodeRepulsion),N.idealEdgeLength!=null&&(s.DEFAULT_EDGE_LENGTH=o.DEFAULT_EDGE_LENGTH=N.idealEdgeLength),N.edgeElasticity!=null&&(s.DEFAULT_SPRING_STRENGTH=o.DEFAULT_SPRING_STRENGTH=N.edgeElasticity),N.nestingFactor!=null&&(s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=N.nestingFactor),N.gravity!=null&&(s.DEFAULT_GRAVITY_STRENGTH=o.DEFAULT_GRAVITY_STRENGTH=N.gravity),N.numIter!=null&&(s.MAX_ITERATIONS=o.MAX_ITERATIONS=N.numIter),N.gravityRange!=null&&(s.DEFAULT_GRAVITY_RANGE_FACTOR=o.DEFAULT_GRAVITY_RANGE_FACTOR=N.gravityRange),N.gravityCompound!=null&&(s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH=N.gravityCompound),N.gravityRangeCompound!=null&&(s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=N.gravityRangeCompound),N.initialEnergyOnIncremental!=null&&(s.DEFAULT_COOLING_FACTOR_INCREMENTAL=o.DEFAULT_COOLING_FACTOR_INCREMENTAL=N.initialEnergyOnIncremental),N.quality=="draft"?i.QUALITY=0:N.quality=="proof"?i.QUALITY=2:i.QUALITY=1,s.NODE_DIMENSIONS_INCLUDE_LABELS=o.NODE_DIMENSIONS_INCLUDE_LABELS=i.NODE_DIMENSIONS_INCLUDE_LABELS=N.nodeDimensionsIncludeLabels,s.DEFAULT_INCREMENTAL=o.DEFAULT_INCREMENTAL=i.DEFAULT_INCREMENTAL=!N.randomize,s.ANIMATE=o.ANIMATE=i.ANIMATE=N.animate,s.TILE=N.tile,s.TILING_PADDING_VERTICAL=typeof N.tilingPaddingVertical=="function"?N.tilingPaddingVertical.call():N.tilingPaddingVertical,s.TILING_PADDING_HORIZONTAL=typeof N.tilingPaddingHorizontal=="function"?N.tilingPaddingHorizontal.call():N.tilingPaddingHorizontal},"getUserOptions");b.prototype.run=function(){var O,N,I=this.options,$=this.idToLNode={},X=this.layout=new u,q=this;q.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var M=X.newGraphManager();this.gm=M;var B=this.options.eles.nodes(),G=this.options.eles.edges();this.root=M.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(B),X);for(var U=0;U<G.length;U++){var W=G[U],D=this.idToLNode[W.data("source")],K=this.idToLNode[W.data("target")];if(D!==K&&D.getEdgesBetween(K).length==0){var P=M.add(X.newEdge(),D,K);P.id=W.id()}}var re=a(function(H,te){typeof H=="number"&&(H=te);var J=H.data("id"),Y=q.idToLNode[J];return{x:Y.getRect().getCenterX(),y:Y.getRect().getCenterY()}},"getPositions"),ce=a(function ee(){for(var H=a(function(){I.fit&&I.cy.fit(I.eles,I.padding),O||(O=!0,q.cy.one("layoutready",I.ready),q.cy.trigger({type:"layoutready",layout:q}))},"afterReposition"),te=q.options.refresh,J,Y=0;Y<te&&!J;Y++)J=q.stopped||q.layout.tick();if(J){X.checkLayoutSuccess()&&!X.isSubLayout&&X.doPostLayout(),X.tilingPostLayout&&X.tilingPostLayout(),X.isLayoutFinished=!0,q.options.eles.nodes().positions(re),H(),q.cy.one("layoutstop",q.options.stop),q.cy.trigger({type:"layoutstop",layout:q}),N&&cancelAnimationFrame(N),O=!1;return}var de=q.layout.getPositionsData();I.eles.nodes().positions(function(Fe,oe){if(typeof Fe=="number"&&(Fe=oe),!Fe.isParent()){for(var rt=Fe.id(),We=de[rt],_e=Fe;We==null&&(We=de[_e.data("parent")]||de["DummyCompound_"+_e.data("parent")],de[rt]=We,_e=_e.parent()[0],_e!=null););return We!=null?{x:We.x,y:We.y}:{x:Fe.position("x"),y:Fe.position("y")}}}),H(),N=requestAnimationFrame(ee)},"iterateAnimated");return X.addListener("layoutstarted",function(){q.options.animate==="during"&&(N=requestAnimationFrame(ce))}),X.runLayout(),this.options.animate!=="during"&&(q.options.eles.nodes().not(":parent").layoutPositions(q,q.options,re),O=!1),this},b.prototype.getTopMostNodes=function(O){for(var N={},I=0;I<O.length;I++)N[O[I].id()]=!0;var $=O.filter(function(X,q){typeof X=="number"&&(X=q);for(var M=X.parent()[0];M!=null;){if(N[M.id()])return!1;M=M.parent()[0]}return!0});return $},b.prototype.processChildrenList=function(O,N,I){for(var $=N.length,X=0;X<$;X++){var q=N[X],M=q.children(),B,G=q.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if(q.outerWidth()!=null&&q.outerHeight()!=null?B=O.add(new f(I.graphManager,new p(q.position("x")-G.w/2,q.position("y")-G.h/2),new g(parseFloat(G.w),parseFloat(G.h)))):B=O.add(new f(this.graphManager)),B.id=q.data("id"),B.paddingLeft=parseInt(q.css("padding")),B.paddingTop=parseInt(q.css("padding")),B.paddingRight=parseInt(q.css("padding")),B.paddingBottom=parseInt(q.css("padding")),this.options.nodeDimensionsIncludeLabels&&q.isParent()){var U=q.boundingBox({includeLabels:!0,includeNodes:!1}).w,W=q.boundingBox({includeLabels:!0,includeNodes:!1}).h,D=q.css("text-halign");B.labelWidth=U,B.labelHeight=W,B.labelPos=D}if(this.idToLNode[q.data("id")]=B,isNaN(B.rect.x)&&(B.rect.x=0),isNaN(B.rect.y)&&(B.rect.y=0),M!=null&&M.length>0){var K;K=I.getGraphManager().add(I.newGraph(),B),this.processChildrenList(K,M,I)}}},b.prototype.stop=function(){return this.stopped=!0,this};var A=a(function(N){N("layout","cose-bilkent",b)},"register");typeof cytoscape<"u"&&A(cytoscape),t.exports=A}])})});function e0e(e,t,r,n){DO.drawNode(e,t,r,n),t.children&&t.children.forEach((i,o)=>{e0e(e,i,r<0?o:r,n)})}function SJe(e,t){t.edges().map((r,n)=>{let i=r.data();if(r[0]._private.bodyBounds){let o=r[0]._private.rscratch;ye.trace("Edge: ",n,i),e.insert("path").attr("d",`M ${o.startX},${o.startY} L ${o.midX},${o.midY} L${o.endX},${o.endY} `).attr("class","edge section-edge-"+i.section+" edge-depth-"+i.depth)}})}function t0e(e,t,r,n){t.add({group:"nodes",data:{id:e.id,labelText:e.descr,height:e.height,width:e.width,level:n,nodeId:e.id,padding:e.padding,type:e.type},position:{x:e.x,y:e.y}}),e.children&&e.children.forEach(i=>{t0e(i,t,r,n+1),t.add({group:"edges",data:{id:`${e.id}_${i.id}`,source:e.id,target:i.id,depth:n,section:i.section}})})}function AJe(e,t){return new Promise(r=>{let n=dt("body").append("div").attr("id","cy").attr("style","display:none"),i=(0,BO.default)({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"bezier"}}]});n.remove(),t0e(e,i,t,0),i.nodes().forEach(function(o){o.layoutDimensions=()=>{let s=o.data();return{w:s.width,h:s.height}}}),i.layout({name:"cose-bilkent",quality:"proof",styleEnabled:!1,animate:!1}).run(),i.ready(o=>{ye.info("Ready",o),r(i)})})}function RJe(e){e.nodes().map((t,r)=>{let n=t.data();n.x=t.position().x,n.y=t.position().y,DO.positionNode(n);let i=Rx(n.nodeId);ye.info("Id:",r,"Position: (",t.position().x,", ",t.position().y,")",n),i.attr("transform",`translate(${t.position().x-n.width/2}, ${t.position().y-n.height/2})`),i.attr("attr",`apa-${r})`)})}var BO,Jge,DJe,r0e,n0e=F(()=>{"use strict";Zr();br();Pr();Si();Kge();BO=go(Qge(),1),Jge=go(Zge(),1);wC();BO.default.use(Jge.default);a(e0e,"drawNodes");a(SJe,"drawEdges");a(t0e,"addNodes");a(AJe,"layoutMindmap");a(RJe,"positionNodes");DJe=a(async(e,t,r,n)=>{let i=Me();i.htmlLabels=!1,ye.debug(`Rendering mindmap diagram
`+e,n.parser);let o=Me().securityLevel,s;o==="sandbox"&&(s=dt("#i"+t));let f=(o==="sandbox"?dt(s.nodes()[0].contentDocument.body):dt("body")).select("#"+t);f.append("g");let p=n.db.getMindmap(),g=f.append("g");g.attr("class","mindmap-edges");let y=f.append("g");y.attr("class","mindmap-nodes"),e0e(y,p,-1,i);let x=await AJe(p,i);SJe(g,x,i),RJe(x,i),Ys(void 0,f,i.mindmap.padding,i.mindmap.useMaxWidth)},"draw"),r0e={draw:DJe}});var LJe,IJe,i0e,a0e=F(()=>{"use strict";xc();LJe=a(e=>{let t="";for(let r=0;r<e.THEME_COLOR_LIMIT;r++)e["lineColor"+r]=e["lineColor"+r]||e["cScaleInv"+r],vo(e["lineColor"+r])?e["lineColor"+r]=tr(e["lineColor"+r],20):e["lineColor"+r]=ur(e["lineColor"+r],20);for(let r=0;r<e.THEME_COLOR_LIMIT;r++){let n=""+(17-3*r);t+=`
    .section-${r-1} rect, .section-${r-1} path, .section-${r-1} circle, .section-${r-1} polygon, .section-${r-1} path  {
      fill: ${e["cScale"+r]};
    }
    .section-${r-1} text {
     fill: ${e["cScaleLabel"+r]};
    }
    .node-icon-${r-1} {
      font-size: 40px;
      color: ${e["cScaleLabel"+r]};
    }
    .section-edge-${r-1}{
      stroke: ${e["cScale"+r]};
    }
    .edge-depth-${r-1}{
      stroke-width: ${n};
    }
    .section-${r-1} line {
      stroke: ${e["cScaleInv"+r]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return t},"genSections"),IJe=a(e=>`
  .edge {
    stroke-width: 3;
  }
  ${LJe(e)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${e.git0};
  }
  .section-root text {
    fill: ${e.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .mindmap-node-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
`,"getStyles"),i0e=IJe});var o0e={};ii(o0e,{diagram:()=>NJe});var NJe,s0e=F(()=>{"use strict";Hge();wC();n0e();a0e();NJe={db:Dx,renderer:r0e,parser:Wge,styles:i0e}});var qO,Px,u0e=F(()=>{"use strict";qO=function(){var e=a(function(u,f,p,g){for(p=p||{},g=u.length;g--;p[u[g]]=f);return p},"o"),t=[1,9],r=[1,10],n=[1,5,10,12],i={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SANKEY:4,NEWLINE:5,csv:6,opt_eof:7,record:8,csv_tail:9,EOF:10,"field[source]":11,COMMA:12,"field[target]":13,"field[value]":14,field:15,escaped:16,non_escaped:17,DQUOTE:18,ESCAPED_TEXT:19,NON_ESCAPED_TEXT:20,$accept:0,$end:1},terminals_:{2:"error",4:"SANKEY",5:"NEWLINE",10:"EOF",11:"field[source]",12:"COMMA",13:"field[target]",14:"field[value]",18:"DQUOTE",19:"ESCAPED_TEXT",20:"NON_ESCAPED_TEXT"},productions_:[0,[3,4],[6,2],[9,2],[9,0],[7,1],[7,0],[8,5],[15,1],[15,1],[16,3],[17,1]],performAction:a(function(f,p,g,y,x,b,E){var A=b.length-1;switch(x){case 7:let O=y.findOrCreateNode(b[A-4].trim().replaceAll('""','"')),N=y.findOrCreateNode(b[A-2].trim().replaceAll('""','"')),I=parseFloat(b[A].trim());y.addLink(O,N,I);break;case 8:case 9:case 11:this.$=b[A];break;case 10:this.$=b[A-1];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},{5:[1,3]},{6:4,8:5,15:6,16:7,17:8,18:t,20:r},{1:[2,6],7:11,10:[1,12]},e(r,[2,4],{9:13,5:[1,14]}),{12:[1,15]},e(n,[2,8]),e(n,[2,9]),{19:[1,16]},e(n,[2,11]),{1:[2,1]},{1:[2,5]},e(r,[2,2]),{6:17,8:5,15:6,16:7,17:8,18:t,20:r},{15:18,16:7,17:8,18:t,20:r},{18:[1,19]},e(r,[2,3]),{12:[1,20]},e(n,[2,10]),{15:21,16:7,17:8,18:t,20:r},e([1,5,10],[2,7])],defaultActions:{11:[2,1],12:[2,5]},parseError:a(function(f,p){if(p.recoverable)this.trace(f);else{var g=new Error(f);throw g.hash=p,g}},"parseError"),parse:a(function(f){var p=this,g=[0],y=[],x=[null],b=[],E=this.table,A="",O=0,N=0,I=0,$=2,X=1,q=b.slice.call(arguments,1),M=Object.create(this.lexer),B={yy:{}};for(var G in this.yy)Object.prototype.hasOwnProperty.call(this.yy,G)&&(B.yy[G]=this.yy[G]);M.setInput(f,B.yy),B.yy.lexer=M,B.yy.parser=this,typeof M.yylloc>"u"&&(M.yylloc={});var U=M.yylloc;b.push(U);var W=M.options&&M.options.ranges;typeof B.yy.parseError=="function"?this.parseError=B.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function D(We){g.length=g.length-2*We,x.length=x.length-We,b.length=b.length-We}a(D,"popStack");function K(){var We;return We=y.pop()||M.lex()||X,typeof We!="number"&&(We instanceof Array&&(y=We,We=y.pop()),We=p.symbols_[We]||We),We}a(K,"lex");for(var P,re,ce,ee,H,te,J={},Y,de,Fe,oe;;){if(ce=g[g.length-1],this.defaultActions[ce]?ee=this.defaultActions[ce]:((P===null||typeof P>"u")&&(P=K()),ee=E[ce]&&E[ce][P]),typeof ee>"u"||!ee.length||!ee[0]){var rt="";oe=[];for(Y in E[ce])this.terminals_[Y]&&Y>$&&oe.push("'"+this.terminals_[Y]+"'");M.showPosition?rt="Parse error on line "+(O+1)+`:
`+M.showPosition()+`
Expecting `+oe.join(", ")+", got '"+(this.terminals_[P]||P)+"'":rt="Parse error on line "+(O+1)+": Unexpected "+(P==X?"end of input":"'"+(this.terminals_[P]||P)+"'"),this.parseError(rt,{text:M.match,token:this.terminals_[P]||P,line:M.yylineno,loc:U,expected:oe})}if(ee[0]instanceof Array&&ee.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ce+", token: "+P);switch(ee[0]){case 1:g.push(P),x.push(M.yytext),b.push(M.yylloc),g.push(ee[1]),P=null,re?(P=re,re=null):(N=M.yyleng,A=M.yytext,O=M.yylineno,U=M.yylloc,I>0&&I--);break;case 2:if(de=this.productions_[ee[1]][1],J.$=x[x.length-de],J._$={first_line:b[b.length-(de||1)].first_line,last_line:b[b.length-1].last_line,first_column:b[b.length-(de||1)].first_column,last_column:b[b.length-1].last_column},W&&(J._$.range=[b[b.length-(de||1)].range[0],b[b.length-1].range[1]]),te=this.performAction.apply(J,[A,N,O,B.yy,ee[1],x,b].concat(q)),typeof te<"u")return te;de&&(g=g.slice(0,-1*de*2),x=x.slice(0,-1*de),b=b.slice(0,-1*de)),g.push(this.productions_[ee[1]][0]),x.push(J.$),b.push(J._$),Fe=E[g[g.length-2]][g[g.length-1]],g.push(Fe);break;case 3:return!0}}return!0},"parse")},o=function(){var u={EOF:1,parseError:a(function(p,g){if(this.yy.parser)this.yy.parser.parseError(p,g);else throw new Error(p)},"parseError"),setInput:function(f,p){return this.yy=p||this.yy||{},this._input=f,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var f=this._input[0];this.yytext+=f,this.yyleng++,this.offset++,this.match+=f,this.matched+=f;var p=f.match(/(?:\r\n?|\n).*/g);return p?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),f},unput:function(f){var p=f.length,g=f.split(/(?:\r\n?|\n)/g);this._input=f+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-p),this.offset-=p;var y=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),g.length-1&&(this.yylineno-=g.length-1);var x=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:g?(g.length===y.length?this.yylloc.first_column:0)+y[y.length-g.length].length-g[0].length:this.yylloc.first_column-p},this.options.ranges&&(this.yylloc.range=[x[0],x[0]+this.yyleng-p]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(f){this.unput(this.match.slice(f))},pastInput:function(){var f=this.matched.substr(0,this.matched.length-this.match.length);return(f.length>20?"...":"")+f.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var f=this.match;return f.length<20&&(f+=this._input.substr(0,20-f.length)),(f.substr(0,20)+(f.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var f=this.pastInput(),p=new Array(f.length+1).join("-");return f+this.upcomingInput()+`
`+p+"^"},test_match:function(f,p){var g,y,x;if(this.options.backtrack_lexer&&(x={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(x.yylloc.range=this.yylloc.range.slice(0))),y=f[0].match(/(?:\r\n?|\n).*/g),y&&(this.yylineno+=y.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:y?y[y.length-1].length-y[y.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+f[0].length},this.yytext+=f[0],this.match+=f[0],this.matches=f,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(f[0].length),this.matched+=f[0],g=this.performAction.call(this,this.yy,this,p,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),g)return g;if(this._backtrack){for(var b in x)this[b]=x[b];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var f,p,g,y;this._more||(this.yytext="",this.match="");for(var x=this._currentRules(),b=0;b<x.length;b++)if(g=this._input.match(this.rules[x[b]]),g&&(!p||g[0].length>p[0].length)){if(p=g,y=b,this.options.backtrack_lexer){if(f=this.test_match(g,x[b]),f!==!1)return f;if(this._backtrack){p=!1;continue}else return!1}else if(!this.options.flex)break}return p?(f=this.test_match(p,x[y]),f!==!1?f:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var p=this.next();return p||this.lex()},"lex"),begin:a(function(p){this.conditionStack.push(p)},"begin"),popState:a(function(){var p=this.conditionStack.length-1;return p>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(p){return p=this.conditionStack.length-1-Math.abs(p||0),p>=0?this.conditionStack[p]:"INITIAL"},"topState"),pushState:a(function(p){this.begin(p)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{easy_keword_rules:!0},performAction:a(function(p,g,y,x){var b=x;switch(y){case 0:return this.pushState("csv"),4;break;case 1:return 10;case 2:return 5;case 3:return 12;case 4:return this.pushState("escaped_text"),18;break;case 5:return 20;case 6:return this.popState("escaped_text"),18;break;case 7:return 19}},"anonymous"),rules:[/^(?:sankey-beta\b)/,/^(?:$)/,/^(?:((\u000D\u000A)|(\u000A)))/,/^(?:(\u002C))/,/^(?:(\u0022))/,/^(?:([\u0020-\u0021\u0023-\u002B\u002D-\u007E])*)/,/^(?:(\u0022)(?!(\u0022)))/,/^(?:(([\u0020-\u0021\u0023-\u002B\u002D-\u007E])|(\u002C)|(\u000D)|(\u000A)|(\u0022)(\u0022))*)/],conditions:{csv:{rules:[1,2,3,4,5,6,7],inclusive:!1},escaped_text:{rules:[6,7],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7],inclusive:!0}}};return u}();i.lexer=o;function s(){this.yy={}}return a(s,"Parser"),s.prototype=i,i.Parser=s,new s}();qO.parser=qO;Px=qO});var EC,CC,f0,FJe,zO,BJe,UO,qJe,zJe,UJe,$Je,f0e,h0e=F(()=>{"use strict";Pr();en();Ua();EC=[],CC=[],f0={},FJe=a(()=>{EC=[],CC=[],f0={},In()},"clear"),zO=class{constructor(t,r,n=0){this.source=t;this.target=r;this.value=n}static{a(this,"SankeyLink")}},BJe=a((e,t,r)=>{EC.push(new zO(e,t,r))},"addLink"),UO=class{constructor(t){this.ID=t}static{a(this,"SankeyNode")}},qJe=a(e=>(e=Et.sanitizeText(e,Me()),f0[e]||(f0[e]=new UO(e),CC.push(f0[e])),f0[e]),"findOrCreateNode"),zJe=a(()=>CC,"getNodes"),UJe=a(()=>EC,"getLinks"),$Je=a(()=>({nodes:CC.map(e=>({id:e.ID})),links:EC.map(e=>({source:e.source.ID,target:e.target.ID,value:e.value}))}),"getGraph"),f0e={nodesMap:f0,getConfig:()=>Me().sankey,getNodes:zJe,getLinks:UJe,getGraph:$Je,addLink:BJe,findOrCreateNode:qJe,getAccTitle:Nn,setAccTitle:Rn,getAccDescription:On,setAccDescription:Pn,getDiagramTitle:Yn,setDiagramTitle:ci,clear:FJe}});function Ox(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}var d0e=F(()=>{"use strict";a(Ox,"max")});function h0(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}var p0e=F(()=>{"use strict";a(h0,"min")});function d0(e,t){let r=0;if(t===void 0)for(let n of e)(n=+n)&&(r+=n);else{let n=-1;for(let i of e)(i=+t(i,++n,e))&&(r+=i)}return r}var m0e=F(()=>{"use strict";a(d0,"sum")});var $O=F(()=>{"use strict";d0e();p0e();m0e()});function GJe(e){return e.target.depth}function GO(e){return e.depth}function VO(e,t){return t-1-e.height}function Mx(e,t){return e.sourceLinks.length?e.depth:t-1}function WO(e){return e.targetLinks.length?e.depth:e.sourceLinks.length?h0(e.sourceLinks,GJe)-1:0}var HO=F(()=>{"use strict";$O();a(GJe,"targetDepth");a(GO,"left");a(VO,"right");a(Mx,"justify");a(WO,"center")});function p0(e){return function(){return e}}var g0e=F(()=>{"use strict";a(p0,"constant")});function y0e(e,t){return SC(e.source,t.source)||e.index-t.index}function v0e(e,t){return SC(e.target,t.target)||e.index-t.index}function SC(e,t){return e.y0-t.y0}function jO(e){return e.value}function VJe(e){return e.index}function WJe(e){return e.nodes}function HJe(e){return e.links}function x0e(e,t){let r=e.get(t);if(!r)throw new Error("missing: "+t);return r}function b0e({nodes:e}){for(let t of e){let r=t.y0,n=r;for(let i of t.sourceLinks)i.y0=r+i.width/2,r+=i.width;for(let i of t.targetLinks)i.y1=n+i.width/2,n+=i.width}}function AC(){let e=0,t=0,r=1,n=1,i=24,o=8,s,u=VJe,f=Mx,p,g,y=WJe,x=HJe,b=6;function E(){let ce={nodes:y.apply(null,arguments),links:x.apply(null,arguments)};return A(ce),O(ce),N(ce),I(ce),q(ce),b0e(ce),ce}a(E,"sankey"),E.update=function(ce){return b0e(ce),ce},E.nodeId=function(ce){return arguments.length?(u=typeof ce=="function"?ce:p0(ce),E):u},E.nodeAlign=function(ce){return arguments.length?(f=typeof ce=="function"?ce:p0(ce),E):f},E.nodeSort=function(ce){return arguments.length?(p=ce,E):p},E.nodeWidth=function(ce){return arguments.length?(i=+ce,E):i},E.nodePadding=function(ce){return arguments.length?(o=s=+ce,E):o},E.nodes=function(ce){return arguments.length?(y=typeof ce=="function"?ce:p0(ce),E):y},E.links=function(ce){return arguments.length?(x=typeof ce=="function"?ce:p0(ce),E):x},E.linkSort=function(ce){return arguments.length?(g=ce,E):g},E.size=function(ce){return arguments.length?(e=t=0,r=+ce[0],n=+ce[1],E):[r-e,n-t]},E.extent=function(ce){return arguments.length?(e=+ce[0][0],r=+ce[1][0],t=+ce[0][1],n=+ce[1][1],E):[[e,t],[r,n]]},E.iterations=function(ce){return arguments.length?(b=+ce,E):b};function A({nodes:ce,links:ee}){for(let[te,J]of ce.entries())J.index=te,J.sourceLinks=[],J.targetLinks=[];let H=new Map(ce.map((te,J)=>[u(te,J,ce),te]));for(let[te,J]of ee.entries()){J.index=te;let{source:Y,target:de}=J;typeof Y!="object"&&(Y=J.source=x0e(H,Y)),typeof de!="object"&&(de=J.target=x0e(H,de)),Y.sourceLinks.push(J),de.targetLinks.push(J)}if(g!=null)for(let{sourceLinks:te,targetLinks:J}of ce)te.sort(g),J.sort(g)}a(A,"computeNodeLinks");function O({nodes:ce}){for(let ee of ce)ee.value=ee.fixedValue===void 0?Math.max(d0(ee.sourceLinks,jO),d0(ee.targetLinks,jO)):ee.fixedValue}a(O,"computeNodeValues");function N({nodes:ce}){let ee=ce.length,H=new Set(ce),te=new Set,J=0;for(;H.size;){for(let Y of H){Y.depth=J;for(let{target:de}of Y.sourceLinks)te.add(de)}if(++J>ee)throw new Error("circular link");H=te,te=new Set}}a(N,"computeNodeDepths");function I({nodes:ce}){let ee=ce.length,H=new Set(ce),te=new Set,J=0;for(;H.size;){for(let Y of H){Y.height=J;for(let{source:de}of Y.targetLinks)te.add(de)}if(++J>ee)throw new Error("circular link");H=te,te=new Set}}a(I,"computeNodeHeights");function $({nodes:ce}){let ee=Ox(ce,J=>J.depth)+1,H=(r-e-i)/(ee-1),te=new Array(ee);for(let J of ce){let Y=Math.max(0,Math.min(ee-1,Math.floor(f.call(null,J,ee))));J.layer=Y,J.x0=e+Y*H,J.x1=J.x0+i,te[Y]?te[Y].push(J):te[Y]=[J]}if(p)for(let J of te)J.sort(p);return te}a($,"computeNodeLayers");function X(ce){let ee=h0(ce,H=>(n-t-(H.length-1)*s)/d0(H,jO));for(let H of ce){let te=t;for(let J of H){J.y0=te,J.y1=te+J.value*ee,te=J.y1+s;for(let Y of J.sourceLinks)Y.width=Y.value*ee}te=(n-te+s)/(H.length+1);for(let J=0;J<H.length;++J){let Y=H[J];Y.y0+=te*(J+1),Y.y1+=te*(J+1)}K(H)}}a(X,"initializeNodeBreadths");function q(ce){let ee=$(ce);s=Math.min(o,(n-t)/(Ox(ee,H=>H.length)-1)),X(ee);for(let H=0;H<b;++H){let te=Math.pow(.99,H),J=Math.max(1-te,(H+1)/b);B(ee,te,J),M(ee,te,J)}}a(q,"computeNodeBreadths");function M(ce,ee,H){for(let te=1,J=ce.length;te<J;++te){let Y=ce[te];for(let de of Y){let Fe=0,oe=0;for(let{source:We,value:_e}of de.targetLinks){let Ve=_e*(de.layer-We.layer);Fe+=P(We,de)*Ve,oe+=Ve}if(!(oe>0))continue;let rt=(Fe/oe-de.y0)*ee;de.y0+=rt,de.y1+=rt,D(de)}p===void 0&&Y.sort(SC),G(Y,H)}}a(M,"relaxLeftToRight");function B(ce,ee,H){for(let te=ce.length,J=te-2;J>=0;--J){let Y=ce[J];for(let de of Y){let Fe=0,oe=0;for(let{target:We,value:_e}of de.sourceLinks){let Ve=_e*(We.layer-de.layer);Fe+=re(de,We)*Ve,oe+=Ve}if(!(oe>0))continue;let rt=(Fe/oe-de.y0)*ee;de.y0+=rt,de.y1+=rt,D(de)}p===void 0&&Y.sort(SC),G(Y,H)}}a(B,"relaxRightToLeft");function G(ce,ee){let H=ce.length>>1,te=ce[H];W(ce,te.y0-s,H-1,ee),U(ce,te.y1+s,H+1,ee),W(ce,n,ce.length-1,ee),U(ce,t,0,ee)}a(G,"resolveCollisions");function U(ce,ee,H,te){for(;H<ce.length;++H){let J=ce[H],Y=(ee-J.y0)*te;Y>1e-6&&(J.y0+=Y,J.y1+=Y),ee=J.y1+s}}a(U,"resolveCollisionsTopToBottom");function W(ce,ee,H,te){for(;H>=0;--H){let J=ce[H],Y=(J.y1-ee)*te;Y>1e-6&&(J.y0-=Y,J.y1-=Y),ee=J.y0-s}}a(W,"resolveCollisionsBottomToTop");function D({sourceLinks:ce,targetLinks:ee}){if(g===void 0){for(let{source:{sourceLinks:H}}of ee)H.sort(v0e);for(let{target:{targetLinks:H}}of ce)H.sort(y0e)}}a(D,"reorderNodeLinks");function K(ce){if(g===void 0)for(let{sourceLinks:ee,targetLinks:H}of ce)ee.sort(v0e),H.sort(y0e)}a(K,"reorderLinks");function P(ce,ee){let H=ce.y0-(ce.sourceLinks.length-1)*s/2;for(let{target:te,width:J}of ce.sourceLinks){if(te===ee)break;H+=J+s}for(let{source:te,width:J}of ee.targetLinks){if(te===ce)break;H-=J}return H}a(P,"targetTop");function re(ce,ee){let H=ee.y0-(ee.targetLinks.length-1)*s/2;for(let{source:te,width:J}of ee.targetLinks){if(te===ce)break;H+=J+s}for(let{target:te,width:J}of ce.sourceLinks){if(te===ee)break;H-=J}return H}return a(re,"sourceTop"),E}var T0e=F(()=>{"use strict";$O();HO();g0e();a(y0e,"ascendingSourceBreadth");a(v0e,"ascendingTargetBreadth");a(SC,"ascendingBreadth");a(jO,"value");a(VJe,"defaultId");a(WJe,"defaultNodes");a(HJe,"defaultLinks");a(x0e,"find");a(b0e,"computeLinkBreadths");a(AC,"Sankey")});function KO(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function k0e(){return new KO}var YO,XO,Dp,jJe,QO,_0e=F(()=>{"use strict";YO=Math.PI,XO=2*YO,Dp=1e-6,jJe=XO-Dp;a(KO,"Path");a(k0e,"path");KO.prototype=k0e.prototype={constructor:KO,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,r,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+r)+","+(this._y1=+n)},bezierCurveTo:function(e,t,r,n,i,o){this._+="C"+ +e+","+ +t+","+ +r+","+ +n+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,r,n,i){e=+e,t=+t,r=+r,n=+n,i=+i;var o=this._x1,s=this._y1,u=r-e,f=n-t,p=o-e,g=s-t,y=p*p+g*g;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(y>Dp)if(!(Math.abs(g*u-f*p)>Dp)||!i)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var x=r-o,b=n-s,E=u*u+f*f,A=x*x+b*b,O=Math.sqrt(E),N=Math.sqrt(y),I=i*Math.tan((YO-Math.acos((E+y-A)/(2*O*N)))/2),$=I/N,X=I/O;Math.abs($-1)>Dp&&(this._+="L"+(e+$*p)+","+(t+$*g)),this._+="A"+i+","+i+",0,0,"+ +(g*x>p*b)+","+(this._x1=e+X*u)+","+(this._y1=t+X*f)}},arc:function(e,t,r,n,i,o){e=+e,t=+t,r=+r,o=!!o;var s=r*Math.cos(n),u=r*Math.sin(n),f=e+s,p=t+u,g=1^o,y=o?n-i:i-n;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+f+","+p:(Math.abs(this._x1-f)>Dp||Math.abs(this._y1-p)>Dp)&&(this._+="L"+f+","+p),r&&(y<0&&(y=y%XO+XO),y>jJe?this._+="A"+r+","+r+",0,1,"+g+","+(e-s)+","+(t-u)+"A"+r+","+r+",0,1,"+g+","+(this._x1=f)+","+(this._y1=p):y>Dp&&(this._+="A"+r+","+r+",0,"+ +(y>=YO)+","+g+","+(this._x1=e+r*Math.cos(i))+","+(this._y1=t+r*Math.sin(i))))},rect:function(e,t,r,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},toString:function(){return this._}};QO=k0e});var w0e=F(()=>{"use strict";_0e()});function RC(e){return a(function(){return e},"constant")}var E0e=F(()=>{"use strict";a(RC,"default")});function C0e(e){return e[0]}function S0e(e){return e[1]}var A0e=F(()=>{"use strict";a(C0e,"x");a(S0e,"y")});var R0e,D0e=F(()=>{"use strict";R0e=Array.prototype.slice});function YJe(e){return e.source}function XJe(e){return e.target}function KJe(e){var t=YJe,r=XJe,n=C0e,i=S0e,o=null;function s(){var u,f=R0e.call(arguments),p=t.apply(this,f),g=r.apply(this,f);if(o||(o=u=QO()),e(o,+n.apply(this,(f[0]=p,f)),+i.apply(this,f),+n.apply(this,(f[0]=g,f)),+i.apply(this,f)),u)return o=null,u+""||null}return a(s,"link"),s.source=function(u){return arguments.length?(t=u,s):t},s.target=function(u){return arguments.length?(r=u,s):r},s.x=function(u){return arguments.length?(n=typeof u=="function"?u:RC(+u),s):n},s.y=function(u){return arguments.length?(i=typeof u=="function"?u:RC(+u),s):i},s.context=function(u){return arguments.length?(o=u??null,s):o},s}function QJe(e,t,r,n,i){e.moveTo(t,r),e.bezierCurveTo(t=(t+n)/2,r,t,i,n,i)}function ZO(){return KJe(QJe)}var L0e=F(()=>{"use strict";w0e();D0e();E0e();A0e();a(YJe,"linkSource");a(XJe,"linkTarget");a(KJe,"link");a(QJe,"curveHorizontal");a(ZO,"linkHorizontal")});var I0e=F(()=>{"use strict";L0e()});function ZJe(e){return[e.source.x1,e.y0]}function JJe(e){return[e.target.x0,e.y1]}function DC(){return ZO().source(ZJe).target(JJe)}var N0e=F(()=>{"use strict";I0e();a(ZJe,"horizontalSource");a(JJe,"horizontalTarget");a(DC,"default")});var P0e=F(()=>{"use strict";T0e();HO();N0e()});var Fx,O0e=F(()=>{"use strict";Fx=class e{static{a(this,"Uid")}static{this.count=0}static next(t){return new e(t+ ++e.count)}constructor(t){this.id=t,this.href=`#${t}`}toString(){return"url("+this.href+")"}}});var eet,tet,M0e,F0e=F(()=>{"use strict";Pr();Zr();P0e();Si();O0e();eet={left:GO,right:VO,center:WO,justify:Mx},tet=a(function(e,t,r,n){let{securityLevel:i,sankey:o}=Me(),s=WT.sankey,u;i==="sandbox"&&(u=dt("#i"+t));let f=i==="sandbox"?dt(u.nodes()[0].contentDocument.body):dt("body"),p=i==="sandbox"?f.select(`[id="${t}"]`):dt(`[id="${t}"]`),g=o?.width??s.width,y=o?.height??s.width,x=o?.useMaxWidth??s.useMaxWidth,b=o?.nodeAlignment??s.nodeAlignment,E=o?.prefix??s.prefix,A=o?.suffix??s.suffix,O=o?.showValues??s.showValues;wn(p,y,g,x);let N=n.db.getGraph(),I=eet[b],$=10;AC().nodeId(W=>W.id).nodeWidth($).nodePadding(10+(O?15:0)).nodeAlign(I).extent([[0,0],[g,y]])(N);let q=uu(R4);p.append("g").attr("class","nodes").selectAll(".node").data(N.nodes).join("g").attr("class","node").attr("id",W=>(W.uid=Fx.next("node-")).id).attr("transform",function(W){return"translate("+W.x0+","+W.y0+")"}).attr("x",W=>W.x0).attr("y",W=>W.y0).append("rect").attr("height",W=>W.y1-W.y0).attr("width",W=>W.x1-W.x0).attr("fill",W=>q(W.id));let M=a(({id:W,value:D})=>O?`${W}
${E}${Math.round(D*100)/100}${A}`:W,"getText");p.append("g").attr("class","node-labels").attr("font-family","sans-serif").attr("font-size",14).selectAll("text").data(N.nodes).join("text").attr("x",W=>W.x0<g/2?W.x1+6:W.x0-6).attr("y",W=>(W.y1+W.y0)/2).attr("dy",`${O?"0":"0.35"}em`).attr("text-anchor",W=>W.x0<g/2?"start":"end").text(M);let B=p.append("g").attr("class","links").attr("fill","none").attr("stroke-opacity",.5).selectAll(".link").data(N.links).join("g").attr("class","link").style("mix-blend-mode","multiply"),G=o?.linkColor||"gradient";if(G==="gradient"){let W=B.append("linearGradient").attr("id",D=>(D.uid=Fx.next("linearGradient-")).id).attr("gradientUnits","userSpaceOnUse").attr("x1",D=>D.source.x1).attr("x2",D=>D.target.x0);W.append("stop").attr("offset","0%").attr("stop-color",D=>q(D.source.id)),W.append("stop").attr("offset","100%").attr("stop-color",D=>q(D.target.id))}let U;switch(G){case"gradient":U=a(W=>W.uid,"coloring");break;case"source":U=a(W=>q(W.source.id),"coloring");break;case"target":U=a(W=>q(W.target.id),"coloring");break;default:U=G}B.append("path").attr("d",DC()).attr("stroke",U).attr("stroke-width",W=>Math.max(1,W.width))},"draw"),M0e={draw:tet}});var B0e,q0e=F(()=>{"use strict";B0e=a(e=>e.replaceAll(/^[^\S\n\r]+|[^\S\n\r]+$/g,"").replaceAll(/([\n\r])+/g,`
`).trim(),"prepareTextForParsing")});var z0e={};ii(z0e,{diagram:()=>net});var ret,net,U0e=F(()=>{"use strict";u0e();h0e();F0e();q0e();ret=Px.parse.bind(Px);Px.parse=e=>ret(B0e(e));net={parser:Px,db:f0e,renderer:M0e}});var hnt={};ii(hnt,{default:()=>fnt});CS();br();An();Zr();var RT="comm",DT="rule",LT="decl";var Q$="@import";var Z$="@keyframes";var J$=Math.abs,fv=String.fromCharCode;function IT(e){return e.trim()}a(IT,"trim");function NT(e,t,r){return e.replace(t,r)}a(NT,"replace");function eG(e,t){return e.indexOf(t)}a(eG,"indexof");function Nd(e,t){return e.charCodeAt(t)|0}a(Nd,"charat");function Pd(e,t,r){return e.slice(t,r)}a(Pd,"substr");function Nl(e){return e.length}a(Nl,"strlen");function PT(e){return e.length}a(PT,"sizeof");function Xm(e,t){return t.push(e),e}a(Xm,"append");var OT=1,Km=1,tG=0,Hs=0,Yi=0,Qm="";function MT(e,t,r,n,i,o,s){return{value:e,root:t,parent:r,type:n,props:i,children:o,line:OT,column:Km,length:s,return:""}}a(MT,"node");function rG(){return Yi}a(rG,"char");function nG(){return Yi=Hs>0?Nd(Qm,--Hs):0,Km--,Yi===10&&(Km=1,OT--),Yi}a(nG,"prev");function js(){return Yi=Hs<tG?Nd(Qm,Hs++):0,Km++,Yi===10&&(Km=1,OT++),Yi}a(js,"next");function Yf(){return Nd(Qm,Hs)}a(Yf,"peek");function hv(){return Hs}a(hv,"caret");function FT(e,t){return Pd(Qm,e,t)}a(FT,"slice");function n5(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}a(n5,"token");function iG(e){return OT=Km=1,tG=Nl(Qm=e),Hs=0,[]}a(iG,"alloc");function aG(e){return Qm="",e}a(aG,"dealloc");function BT(e){return IT(FT(Hs-1,i5(e===91?e+2:e===40?e+1:e)))}a(BT,"delimit");function oG(e){for(;(Yi=Yf())&&Yi<33;)js();return n5(e)>2||n5(Yi)>3?"":" "}a(oG,"whitespace");function sG(e,t){for(;--t&&js()&&!(Yi<48||Yi>102||Yi>57&&Yi<65||Yi>70&&Yi<97););return FT(e,hv()+(t<6&&Yf()==32&&js()==32))}a(sG,"escaping");function i5(e){for(;js();)switch(Yi){case e:return Hs;case 34:case 39:e!==34&&e!==39&&i5(Yi);break;case 40:e===41&&i5(e);break;case 92:js();break}return Hs}a(i5,"delimiter");function lG(e,t){for(;js()&&e+Yi!==47+10;)if(e+Yi===42+42&&Yf()===47)break;return"/*"+FT(t,Hs-1)+"*"+fv(e===47?e:js())}a(lG,"commenter");function cG(e){for(;!n5(Yf());)js();return FT(e,Hs)}a(cG,"identifier");function hG(e){return aG(qT("",null,null,null,[""],e=iG(e),0,[0],e))}a(hG,"compile");function qT(e,t,r,n,i,o,s,u,f){for(var p=0,g=0,y=s,x=0,b=0,E=0,A=1,O=1,N=1,I=0,$="",X=i,q=o,M=n,B=$;O;)switch(E=I,I=js()){case 40:if(E!=108&&Nd(B,y-1)==58){eG(B+=NT(BT(I),"&","&\f"),"&\f")!=-1&&(N=-1);break}case 34:case 39:case 91:B+=BT(I);break;case 9:case 10:case 13:case 32:B+=oG(E);break;case 92:B+=sG(hv()-1,7);continue;case 47:switch(Yf()){case 42:case 47:Xm(N4e(lG(js(),hv()),t,r),f);break;default:B+="/"}break;case 123*A:u[p++]=Nl(B)*N;case 125*A:case 59:case 0:switch(I){case 0:case 125:O=0;case 59+g:b>0&&Nl(B)-y&&Xm(b>32?fG(B+";",n,r,y-1):fG(NT(B," ","")+";",n,r,y-2),f);break;case 59:B+=";";default:if(Xm(M=uG(B,t,r,p,g,i,u,$,X=[],q=[],y),o),I===123)if(g===0)qT(B,t,M,M,X,o,y,u,q);else switch(x===99&&Nd(B,3)===110?100:x){case 100:case 109:case 115:qT(e,M,M,n&&Xm(uG(e,M,M,0,0,i,u,$,i,X=[],y),q),i,q,y,u,n?X:q);break;default:qT(B,M,M,M,[""],q,0,u,q)}}p=g=b=0,A=N=1,$=B="",y=s;break;case 58:y=1+Nl(B),b=E;default:if(A<1){if(I==123)--A;else if(I==125&&A++==0&&nG()==125)continue}switch(B+=fv(I),I*A){case 38:N=g>0?1:(B+="\f",-1);break;case 44:u[p++]=(Nl(B)-1)*N,N=1;break;case 64:Yf()===45&&(B+=BT(js())),x=Yf(),g=y=Nl($=B+=cG(hv())),I++;break;case 45:E===45&&Nl(B)==2&&(A=0)}}return o}a(qT,"parse");function uG(e,t,r,n,i,o,s,u,f,p,g){for(var y=i-1,x=i===0?o:[""],b=PT(x),E=0,A=0,O=0;E<n;++E)for(var N=0,I=Pd(e,y+1,y=J$(A=s[E])),$=e;N<b;++N)($=IT(A>0?x[N]+" "+I:NT(I,/&\f/g,x[N])))&&(f[O++]=$);return MT(e,t,r,i===0?DT:u,f,p,g)}a(uG,"ruleset");function N4e(e,t,r){return MT(e,t,r,RT,fv(rG()),Pd(e,2,-2),0)}a(N4e,"comment");function fG(e,t,r,n){return MT(e,t,r,LT,Pd(e,0,n),Pd(e,n+1,-1),n)}a(fG,"declaration");function zT(e,t){for(var r="",n=PT(e),i=0;i<n;i++)r+=t(e[i],i,e,t)||"";return r}a(zT,"serialize");function dG(e,t,r,n){switch(e.type){case Q$:case LT:return e.return=e.return||e.value;case RT:return"";case Z$:return e.return=e.value+"{"+zT(e.children,n)+"}";case DT:e.value=e.props.join(",")}return Nl(r=zT(e.children,n))?e.return=e.value+"{"+r+"}":""}a(dG,"stringify");a5();Jm();var VG="c4",ORe=a(e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),"detector"),MRe=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(GG(),$G));return{id:VG,diagram:e}},"loader"),FRe={id:VG,detector:ORe,loader:MRe},WG=FRe;var AZ="flowchart",Z8e=a((e,t)=>t?.flowchart?.defaultRenderer==="dagre-wrapper"||t?.flowchart?.defaultRenderer==="elk"?!1:/^\s*graph/.test(e),"detector"),J8e=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(SZ(),CZ));return{id:AZ,diagram:e}},"loader"),e7e={id:AZ,detector:Z8e,loader:J8e},RZ=e7e;var DZ="flowchart-v2",r7e=a((e,t)=>t?.flowchart?.defaultRenderer==="dagre-d3"||t?.flowchart?.defaultRenderer==="elk"?!1:/^\s*graph/.test(e)&&t?.flowchart?.defaultRenderer==="dagre-wrapper"?!0:/^\s*flowchart/.test(e),"detector"),n7e=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(EL(),wL));return{id:DZ,diagram:e}},"loader"),i7e={id:DZ,detector:r7e,loader:n7e},LZ=i7e;var oJ="er",N7e=a(e=>/^\s*erDiagram/.test(e),"detector"),P7e=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(aJ(),iJ));return{id:oJ,diagram:e}},"loader"),O7e={id:oJ,detector:N7e,loader:P7e},sJ=O7e;var CJ="gitGraph",sFe=a(e=>/^\s*gitGraph/.test(e),"detector"),lFe=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(EJ(),wJ));return{id:CJ,diagram:e}},"loader"),cFe={id:CJ,detector:sFe,loader:lFe},SJ=cFe;var ree="gantt",XFe=a(e=>/^\s*gantt/.test(e),"detector"),KFe=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(tee(),eee));return{id:ree,diagram:e}},"loader"),QFe={id:ree,detector:XFe,loader:KFe},nee=QFe;var Yhe="info",Eje=a(e=>/^\s*info/.test(e),"detector"),Cje=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(jhe(),Hhe));return{id:Yhe,diagram:e}},"loader"),Xhe={id:Yhe,detector:Eje,loader:Cje};var sde="pie",qje=a(e=>/^\s*pie/.test(e),"detector"),zje=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(ode(),ade));return{id:sde,diagram:e}},"loader"),lde={id:sde,detector:qje,loader:zje};var vde="quadrantChart",nYe=a(e=>/^\s*quadrantChart/.test(e),"detector"),iYe=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(yde(),gde));return{id:vde,diagram:e}},"loader"),aYe={id:vde,detector:nYe,loader:iYe},xde=aYe;var Hde="xychart",TYe=a(e=>/^\s*xychart-beta/.test(e),"detector"),kYe=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(Wde(),Vde));return{id:Hde,diagram:e}},"loader"),_Ye={id:Hde,detector:TYe,loader:kYe},jde=_Ye;var cpe="requirement",QYe=a(e=>/^\s*requirement(Diagram)?/.test(e),"detector"),ZYe=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(lpe(),spe));return{id:cpe,diagram:e}},"loader"),JYe={id:cpe,detector:QYe,loader:ZYe},upe=JYe;var Mpe="sequence",aKe=a(e=>/^\s*sequenceDiagram/.test(e),"detector"),oKe=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(Ope(),Ppe));return{id:Mpe,diagram:e}},"loader"),sKe={id:Mpe,detector:aKe,loader:oKe},Fpe=sKe;var Jpe="class",zKe=a((e,t)=>t?.class?.defaultRenderer==="dagre-wrapper"?!1:/^\s*classDiagram/.test(e),"detector"),UKe=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(Zpe(),Qpe));return{id:Jpe,diagram:e}},"loader"),$Ke={id:Jpe,detector:zKe,loader:UKe},eme=$Ke;var sme="classDiagram",XKe=a((e,t)=>/^\s*classDiagram/.test(e)&&t?.class?.defaultRenderer==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(e),"detector"),KKe=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(ome(),ame));return{id:sme,diagram:e}},"loader"),QKe={id:sme,detector:XKe,loader:KKe},lme=QKe;var Mme="state",FQe=a((e,t)=>t?.state?.defaultRenderer==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(e),"detector"),BQe=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(Ome(),Pme));return{id:Mme,diagram:e}},"loader"),qQe={id:Mme,detector:FQe,loader:BQe},Fme=qQe;var Qme="stateDiagram",fZe=a((e,t)=>!!(/^\s*stateDiagram-v2/.test(e)||/^\s*stateDiagram/.test(e)&&t?.state?.defaultRenderer==="dagre-wrapper"),"detector"),hZe=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(Kme(),Xme));return{id:Qme,diagram:e}},"loader"),dZe={id:Qme,detector:fZe,loader:hZe},Zme=dZe;var pge="journey",PZe=a(e=>/^\s*journey/.test(e),"detector"),OZe=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(dge(),hge));return{id:pge,diagram:e}},"loader"),MZe={id:pge,detector:PZe,loader:OZe},mge=MZe;YG();br();var gge="flowchart-elk",FZe=a((e,t)=>/^\s*flowchart-elk/.test(e)||/^\s*flowchart|graph/.test(e)&&t?.flowchart?.defaultRenderer==="elk"?(setTimeout(()=>ye.warn("flowchart-elk was moved to an external package in Mermaid v11. Please refer [release notes](link) for more details. This diagram will be rendered using `dagre` layout as a fallback."),500),!0):!1,"detector"),BZe=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(EL(),wL));return{id:gge,diagram:e}},"loader"),qZe={id:gge,detector:FZe,loader:BZe},yge=qZe;var Gge="timeline",iJe=a(e=>/^\s*timeline/.test(e),"detector"),aJe=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>($ge(),Uge));return{id:Gge,diagram:e}},"loader"),oJe={id:Gge,detector:iJe,loader:aJe},Vge=oJe;var l0e="mindmap",PJe=a(e=>/^\s*mindmap/.test(e),"detector"),OJe=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(s0e(),o0e));return{id:l0e,diagram:e}},"loader"),MJe={id:l0e,detector:PJe,loader:OJe},c0e=MJe;var $0e="sankey",iet=a(e=>/^\s*sankey-beta/.test(e),"detector"),aet=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(U0e(),z0e));return{id:$0e,diagram:e}},"loader"),oet={id:$0e,detector:iet,loader:aet},G0e=oet;Rd();Pr();var V0e=!1,m0=a(()=>{V0e||(V0e=!0,Od("error",jG,e=>e.toLowerCase().trim()==="error"),Od("---",{db:{clear:()=>{}},styles:{},renderer:{draw:()=>{}},parser:{parse:()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")}},init:()=>null},e=>e.toLowerCase().trimStart().startsWith("---")),lT(WG,lme,eme,sJ,nee,Xhe,lde,upe,Fpe,yge,LZ,RZ,c0e,Vge,SJ,Zme,Fme,mge,xde,G0e,jde))},"addDiagrams");Jm();br();Pr();Rd();_R();An();var Bx=class{constructor(t,r={}){this.text=t;this.metadata=r;this.type="graph";this.text=K$(t),this.text+=`
`;let n=ka();try{this.type=Ad(t,n)}catch(o){this.type="error",this.detectError=o}let i=vv(this.type);ye.debug("Type "+this.type),this.db=i.db,this.renderer=i.renderer,this.parser=i.parser,this.parser.parser&&(this.parser.parser.yy=this.db),this.init=i.init,this.parse()}static{a(this,"Diagram")}parse(){if(this.detectError)throw this.detectError;this.db.clear?.();let t=ka();this.init?.(t),this.metadata.title&&this.db.setDiagramTitle?.(this.metadata.title),this.parser.parse(this.text)}async render(t,r){await this.renderer.draw(this.text,t,r,this)}getParser(){return this.parser}getType(){return this.type}},LC=a(async(e,t={})=>{let r=Ad(e,ka());try{vv(r)}catch{let i=Qz(r);if(!i)throw new Pm(`Diagram ${r} not found.`);let{id:o,diagram:s}=await i();Od(o,s)}return new Bx(e,t)},"getDiagramFromText");A5();q6();br();u5();aT();var $ye=go(sR(),1);en();sD();var set="graphics-document document";function W0e(e,t){e.attr("role",set),t!==""&&e.attr("aria-roledescription",t)}a(W0e,"setA11yDiagramInfo");function H0e(e,t,r,n){if(e.insert!==void 0){if(r){let i=`chart-desc-${n}`;e.attr("aria-describedby",i),e.insert("desc",":first-child").attr("id",i).text(r)}if(t){let i=`chart-title-${n}`;e.attr("aria-labelledby",i),e.insert("title",":first-child").attr("id",i).text(t)}}}a(H0e,"addSVGa11yTitleDescription");var j0e=a(e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");sT();function cye(e){return typeof e>"u"||e===null}a(cye,"isNothing");function cet(e){return typeof e=="object"&&e!==null}a(cet,"isObject");function uet(e){return Array.isArray(e)?e:cye(e)?[]:[e]}a(uet,"toArray");function fet(e,t){var r,n,i,o;if(t)for(o=Object.keys(t),r=0,n=o.length;r<n;r+=1)i=o[r],e[i]=t[i];return e}a(fet,"extend");function het(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}a(het,"repeat");function det(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}a(det,"isNegativeZero");var pet=cye,met=cet,get=uet,yet=het,vet=det,xet=fet,pa={isNothing:pet,isObject:met,toArray:get,repeat:yet,isNegativeZero:vet,extend:xet};function uye(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}a(uye,"formatError");function zx(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=uye(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}a(zx,"YAMLException$1");zx.prototype=Object.create(Error.prototype);zx.prototype.constructor=zx;zx.prototype.toString=a(function(t){return this.name+": "+uye(this,t)},"toString");var rs=zx;function JO(e,t,r,n,i){var o="",s="",u=Math.floor(i/2)-1;return n-t>u&&(o=" ... ",t=n-u+o.length),r-n>u&&(s=" ...",r=n+u-s.length),{str:o+e.slice(t,r).replace(/\t/g,"\u2192")+s,pos:n-t+o.length}}a(JO,"getLine");function eM(e,t){return pa.repeat(" ",t-e.length)+e}a(eM,"padStart");function bet(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],o,s=-1;o=r.exec(e.buffer);)i.push(o.index),n.push(o.index+o[0].length),e.position<=o.index&&s<0&&(s=n.length-2);s<0&&(s=n.length-1);var u="",f,p,g=Math.min(e.line+t.linesAfter,i.length).toString().length,y=t.maxLength-(t.indent+g+3);for(f=1;f<=t.linesBefore&&!(s-f<0);f++)p=JO(e.buffer,n[s-f],i[s-f],e.position-(n[s]-n[s-f]),y),u=pa.repeat(" ",t.indent)+eM((e.line-f+1).toString(),g)+" | "+p.str+`
`+u;for(p=JO(e.buffer,n[s],i[s],e.position,y),u+=pa.repeat(" ",t.indent)+eM((e.line+1).toString(),g)+" | "+p.str+`
`,u+=pa.repeat("-",t.indent+g+3+p.pos)+`^
`,f=1;f<=t.linesAfter&&!(s+f>=i.length);f++)p=JO(e.buffer,n[s+f],i[s+f],e.position-(n[s]-n[s+f]),y),u+=pa.repeat(" ",t.indent)+eM((e.line+f+1).toString(),g)+" | "+p.str+`
`;return u.replace(/\n$/,"")}a(bet,"makeSnippet");var Tet=bet,ket=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],_et=["scalar","sequence","mapping"];function wet(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}a(wet,"compileStyleAliases");function Eet(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(ket.indexOf(r)===-1)throw new rs('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=wet(t.styleAliases||null),_et.indexOf(this.kind)===-1)throw new rs('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}a(Eet,"Type$1");var co=Eet;function Y0e(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(o,s){o.tag===n.tag&&o.kind===n.kind&&o.multi===n.multi&&(i=s)}),r[i]=n}),r}a(Y0e,"compileList");function Cet(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(a(n,"collectType"),t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}a(Cet,"compileMap");function rM(e){return this.extend(e)}a(rM,"Schema$1");rM.prototype.extend=a(function(t){var r=[],n=[];if(t instanceof co)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new rs("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(o){if(!(o instanceof co))throw new rs("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new rs("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new rs("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(o){if(!(o instanceof co))throw new rs("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(rM.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=Y0e(i,"implicit"),i.compiledExplicit=Y0e(i,"explicit"),i.compiledTypeMap=Cet(i.compiledImplicit,i.compiledExplicit),i},"extend");var Aet=rM,Ret=new co("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),Det=new co("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),Let=new co("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),Iet=new Aet({explicit:[Ret,Det,Let]});function Net(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}a(Net,"resolveYamlNull");function Pet(){return null}a(Pet,"constructYamlNull");function Oet(e){return e===null}a(Oet,"isNull");var Met=new co("tag:yaml.org,2002:null",{kind:"scalar",resolve:Net,construct:Pet,predicate:Oet,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function Fet(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}a(Fet,"resolveYamlBoolean");function Bet(e){return e==="true"||e==="True"||e==="TRUE"}a(Bet,"constructYamlBoolean");function qet(e){return Object.prototype.toString.call(e)==="[object Boolean]"}a(qet,"isBoolean");var zet=new co("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Fet,construct:Bet,predicate:qet,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function Uet(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}a(Uet,"isHexCode");function $et(e){return 48<=e&&e<=55}a($et,"isOctCode");function Get(e){return 48<=e&&e<=57}a(Get,"isDecCode");function Vet(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!Uet(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!$et(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!Get(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}a(Vet,"resolveYamlInteger");function Wet(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}a(Wet,"constructYamlInteger");function Het(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!pa.isNegativeZero(e)}a(Het,"isInteger");var jet=new co("tag:yaml.org,2002:int",{kind:"scalar",resolve:Vet,construct:Wet,predicate:Het,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Yet=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Xet(e){return!(e===null||!Yet.test(e)||e[e.length-1]==="_")}a(Xet,"resolveYamlFloat");function Ket(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}a(Ket,"constructYamlFloat");var Qet=/^[-+]?[0-9]+e/;function Zet(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(pa.isNegativeZero(e))return"-0.0";return r=e.toString(10),Qet.test(r)?r.replace("e",".e"):r}a(Zet,"representYamlFloat");function Jet(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||pa.isNegativeZero(e))}a(Jet,"isFloat");var ett=new co("tag:yaml.org,2002:float",{kind:"scalar",resolve:Xet,construct:Ket,predicate:Jet,represent:Zet,defaultStyle:"lowercase"}),fye=Iet.extend({implicit:[Met,zet,jet,ett]}),ttt=fye,hye=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),dye=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function rtt(e){return e===null?!1:hye.exec(e)!==null||dye.exec(e)!==null}a(rtt,"resolveYamlTimestamp");function ntt(e){var t,r,n,i,o,s,u,f=0,p=null,g,y,x;if(t=hye.exec(e),t===null&&(t=dye.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(o=+t[4],s=+t[5],u=+t[6],t[7]){for(f=t[7].slice(0,3);f.length<3;)f+="0";f=+f}return t[9]&&(g=+t[10],y=+(t[11]||0),p=(g*60+y)*6e4,t[9]==="-"&&(p=-p)),x=new Date(Date.UTC(r,n,i,o,s,u,f)),p&&x.setTime(x.getTime()-p),x}a(ntt,"constructYamlTimestamp");function itt(e){return e.toISOString()}a(itt,"representYamlTimestamp");var att=new co("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:rtt,construct:ntt,instanceOf:Date,represent:itt});function ott(e){return e==="<<"||e===null}a(ott,"resolveYamlMerge");var stt=new co("tag:yaml.org,2002:merge",{kind:"scalar",resolve:ott}),sM=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function ltt(e){if(e===null)return!1;var t,r,n=0,i=e.length,o=sM;for(r=0;r<i;r++)if(t=o.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}a(ltt,"resolveYamlBinary");function ctt(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,o=sM,s=0,u=[];for(t=0;t<i;t++)t%4===0&&t&&(u.push(s>>16&255),u.push(s>>8&255),u.push(s&255)),s=s<<6|o.indexOf(n.charAt(t));return r=i%4*6,r===0?(u.push(s>>16&255),u.push(s>>8&255),u.push(s&255)):r===18?(u.push(s>>10&255),u.push(s>>2&255)):r===12&&u.push(s>>4&255),new Uint8Array(u)}a(ctt,"constructYamlBinary");function utt(e){var t="",r=0,n,i,o=e.length,s=sM;for(n=0;n<o;n++)n%3===0&&n&&(t+=s[r>>18&63],t+=s[r>>12&63],t+=s[r>>6&63],t+=s[r&63]),r=(r<<8)+e[n];return i=o%3,i===0?(t+=s[r>>18&63],t+=s[r>>12&63],t+=s[r>>6&63],t+=s[r&63]):i===2?(t+=s[r>>10&63],t+=s[r>>4&63],t+=s[r<<2&63],t+=s[64]):i===1&&(t+=s[r>>2&63],t+=s[r<<4&63],t+=s[64],t+=s[64]),t}a(utt,"representYamlBinary");function ftt(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}a(ftt,"isBinary");var htt=new co("tag:yaml.org,2002:binary",{kind:"scalar",resolve:ltt,construct:ctt,predicate:ftt,represent:utt}),dtt=Object.prototype.hasOwnProperty,ptt=Object.prototype.toString;function mtt(e){if(e===null)return!0;var t=[],r,n,i,o,s,u=e;for(r=0,n=u.length;r<n;r+=1){if(i=u[r],s=!1,ptt.call(i)!=="[object Object]")return!1;for(o in i)if(dtt.call(i,o))if(!s)s=!0;else return!1;if(!s)return!1;if(t.indexOf(o)===-1)t.push(o);else return!1}return!0}a(mtt,"resolveYamlOmap");function gtt(e){return e!==null?e:[]}a(gtt,"constructYamlOmap");var ytt=new co("tag:yaml.org,2002:omap",{kind:"sequence",resolve:mtt,construct:gtt}),vtt=Object.prototype.toString;function xtt(e){if(e===null)return!0;var t,r,n,i,o,s=e;for(o=new Array(s.length),t=0,r=s.length;t<r;t+=1){if(n=s[t],vtt.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;o[t]=[i[0],n[i[0]]]}return!0}a(xtt,"resolveYamlPairs");function btt(e){if(e===null)return[];var t,r,n,i,o,s=e;for(o=new Array(s.length),t=0,r=s.length;t<r;t+=1)n=s[t],i=Object.keys(n),o[t]=[i[0],n[i[0]]];return o}a(btt,"constructYamlPairs");var Ttt=new co("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:xtt,construct:btt}),ktt=Object.prototype.hasOwnProperty;function _tt(e){if(e===null)return!0;var t,r=e;for(t in r)if(ktt.call(r,t)&&r[t]!==null)return!1;return!0}a(_tt,"resolveYamlSet");function wtt(e){return e!==null?e:{}}a(wtt,"constructYamlSet");var Ett=new co("tag:yaml.org,2002:set",{kind:"mapping",resolve:_tt,construct:wtt}),pye=ttt.extend({implicit:[att,stt],explicit:[htt,ytt,Ttt,Ett]}),$h=Object.prototype.hasOwnProperty,IC=1,mye=2,gye=3,NC=4,tM=1,Ctt=2,X0e=3,Stt=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Att=/[\x85\u2028\u2029]/,Rtt=/[,\[\]\{\}]/,yye=/^(?:!|!!|![a-z\-]+!)$/i,vye=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function K0e(e){return Object.prototype.toString.call(e)}a(K0e,"_class");function Xc(e){return e===10||e===13}a(Xc,"is_EOL");function Ip(e){return e===9||e===32}a(Ip,"is_WHITE_SPACE");function ns(e){return e===9||e===32||e===10||e===13}a(ns,"is_WS_OR_EOL");function y0(e){return e===44||e===91||e===93||e===123||e===125}a(y0,"is_FLOW_INDICATOR");function Dtt(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}a(Dtt,"fromHexCode");function Ltt(e){return e===120?2:e===117?4:e===85?8:0}a(Ltt,"escapedHexLen");function Itt(e){return 48<=e&&e<=57?e-48:-1}a(Itt,"fromDecimalCode");function Q0e(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}a(Q0e,"simpleEscapeSequence");function Ntt(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}a(Ntt,"charFromCodepoint");var xye=new Array(256),bye=new Array(256);for(Lp=0;Lp<256;Lp++)xye[Lp]=Q0e(Lp)?1:0,bye[Lp]=Q0e(Lp);var Lp;function Ptt(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||pye,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}a(Ptt,"State$1");function Tye(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=Tet(r),new rs(t,r)}a(Tye,"generateError");function Tr(e,t){throw Tye(e,t)}a(Tr,"throwError");function PC(e,t){e.onWarning&&e.onWarning.call(null,Tye(e,t))}a(PC,"throwWarning");var Z0e={YAML:a(function(t,r,n){var i,o,s;t.version!==null&&Tr(t,"duplication of %YAML directive"),n.length!==1&&Tr(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&Tr(t,"ill-formed argument of the YAML directive"),o=parseInt(i[1],10),s=parseInt(i[2],10),o!==1&&Tr(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=s<2,s!==1&&s!==2&&PC(t,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:a(function(t,r,n){var i,o;n.length!==2&&Tr(t,"TAG directive accepts exactly two arguments"),i=n[0],o=n[1],yye.test(i)||Tr(t,"ill-formed tag handle (first argument) of the TAG directive"),$h.call(t.tagMap,i)&&Tr(t,'there is a previously declared suffix for "'+i+'" tag handle'),vye.test(o)||Tr(t,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{Tr(t,"tag prefix is malformed: "+o)}t.tagMap[i]=o},"handleTagDirective")};function Uh(e,t,r,n){var i,o,s,u;if(t<r){if(u=e.input.slice(t,r),n)for(i=0,o=u.length;i<o;i+=1)s=u.charCodeAt(i),s===9||32<=s&&s<=1114111||Tr(e,"expected valid JSON character");else Stt.test(u)&&Tr(e,"the stream contains non-printable characters");e.result+=u}}a(Uh,"captureSegment");function J0e(e,t,r,n){var i,o,s,u;for(pa.isObject(r)||Tr(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),s=0,u=i.length;s<u;s+=1)o=i[s],$h.call(t,o)||(t[o]=r[o],n[o]=!0)}a(J0e,"mergeMappings");function v0(e,t,r,n,i,o,s,u,f){var p,g;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),p=0,g=i.length;p<g;p+=1)Array.isArray(i[p])&&Tr(e,"nested arrays are not supported inside keys"),typeof i=="object"&&K0e(i[p])==="[object Object]"&&(i[p]="[object Object]");if(typeof i=="object"&&K0e(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(p=0,g=o.length;p<g;p+=1)J0e(e,t,o[p],r);else J0e(e,t,o,r);else!e.json&&!$h.call(r,i)&&$h.call(t,i)&&(e.line=s||e.line,e.lineStart=u||e.lineStart,e.position=f||e.position,Tr(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:o}):t[i]=o,delete r[i];return t}a(v0,"storeMappingPair");function lM(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):Tr(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}a(lM,"readLineBreak");function Zi(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;Ip(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(Xc(i))for(lM(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&PC(e,"deficient indentation"),n}a(Zi,"skipSeparationSpace");function FC(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||ns(r)))}a(FC,"testDocumentSeparator");function cM(e,t){t===1?e.result+=" ":t>1&&(e.result+=pa.repeat(`
`,t-1))}a(cM,"writeFoldedLines");function Ott(e,t,r){var n,i,o,s,u,f,p,g,y=e.kind,x=e.result,b;if(b=e.input.charCodeAt(e.position),ns(b)||y0(b)||b===35||b===38||b===42||b===33||b===124||b===62||b===39||b===34||b===37||b===64||b===96||(b===63||b===45)&&(i=e.input.charCodeAt(e.position+1),ns(i)||r&&y0(i)))return!1;for(e.kind="scalar",e.result="",o=s=e.position,u=!1;b!==0;){if(b===58){if(i=e.input.charCodeAt(e.position+1),ns(i)||r&&y0(i))break}else if(b===35){if(n=e.input.charCodeAt(e.position-1),ns(n))break}else{if(e.position===e.lineStart&&FC(e)||r&&y0(b))break;if(Xc(b))if(f=e.line,p=e.lineStart,g=e.lineIndent,Zi(e,!1,-1),e.lineIndent>=t){u=!0,b=e.input.charCodeAt(e.position);continue}else{e.position=s,e.line=f,e.lineStart=p,e.lineIndent=g;break}}u&&(Uh(e,o,s,!1),cM(e,e.line-f),o=s=e.position,u=!1),Ip(b)||(s=e.position+1),b=e.input.charCodeAt(++e.position)}return Uh(e,o,s,!1),e.result?!0:(e.kind=y,e.result=x,!1)}a(Ott,"readPlainScalar");function Mtt(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(Uh(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else Xc(r)?(Uh(e,n,i,!0),cM(e,Zi(e,!1,t)),n=i=e.position):e.position===e.lineStart&&FC(e)?Tr(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);Tr(e,"unexpected end of the stream within a single quoted scalar")}a(Mtt,"readSingleQuotedScalar");function Ftt(e,t){var r,n,i,o,s,u;if(u=e.input.charCodeAt(e.position),u!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(u=e.input.charCodeAt(e.position))!==0;){if(u===34)return Uh(e,r,e.position,!0),e.position++,!0;if(u===92){if(Uh(e,r,e.position,!0),u=e.input.charCodeAt(++e.position),Xc(u))Zi(e,!1,t);else if(u<256&&xye[u])e.result+=bye[u],e.position++;else if((s=Ltt(u))>0){for(i=s,o=0;i>0;i--)u=e.input.charCodeAt(++e.position),(s=Dtt(u))>=0?o=(o<<4)+s:Tr(e,"expected hexadecimal character");e.result+=Ntt(o),e.position++}else Tr(e,"unknown escape sequence");r=n=e.position}else Xc(u)?(Uh(e,r,n,!0),cM(e,Zi(e,!1,t)),r=n=e.position):e.position===e.lineStart&&FC(e)?Tr(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}Tr(e,"unexpected end of the stream within a double quoted scalar")}a(Ftt,"readDoubleQuotedScalar");function Btt(e,t){var r=!0,n,i,o,s=e.tag,u,f=e.anchor,p,g,y,x,b,E=Object.create(null),A,O,N,I;if(I=e.input.charCodeAt(e.position),I===91)g=93,b=!1,u=[];else if(I===123)g=125,b=!0,u={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=u),I=e.input.charCodeAt(++e.position);I!==0;){if(Zi(e,!0,t),I=e.input.charCodeAt(e.position),I===g)return e.position++,e.tag=s,e.anchor=f,e.kind=b?"mapping":"sequence",e.result=u,!0;r?I===44&&Tr(e,"expected the node content, but found ','"):Tr(e,"missed comma between flow collection entries"),O=A=N=null,y=x=!1,I===63&&(p=e.input.charCodeAt(e.position+1),ns(p)&&(y=x=!0,e.position++,Zi(e,!0,t))),n=e.line,i=e.lineStart,o=e.position,x0(e,t,IC,!1,!0),O=e.tag,A=e.result,Zi(e,!0,t),I=e.input.charCodeAt(e.position),(x||e.line===n)&&I===58&&(y=!0,I=e.input.charCodeAt(++e.position),Zi(e,!0,t),x0(e,t,IC,!1,!0),N=e.result),b?v0(e,u,E,O,A,N,n,i,o):y?u.push(v0(e,null,E,O,A,N,n,i,o)):u.push(A),Zi(e,!0,t),I=e.input.charCodeAt(e.position),I===44?(r=!0,I=e.input.charCodeAt(++e.position)):r=!1}Tr(e,"unexpected end of the stream within a flow collection")}a(Btt,"readFlowCollection");function qtt(e,t){var r,n,i=tM,o=!1,s=!1,u=t,f=0,p=!1,g,y;if(y=e.input.charCodeAt(e.position),y===124)n=!1;else if(y===62)n=!0;else return!1;for(e.kind="scalar",e.result="";y!==0;)if(y=e.input.charCodeAt(++e.position),y===43||y===45)tM===i?i=y===43?X0e:Ctt:Tr(e,"repeat of a chomping mode identifier");else if((g=Itt(y))>=0)g===0?Tr(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?Tr(e,"repeat of an indentation width identifier"):(u=t+g-1,s=!0);else break;if(Ip(y)){do y=e.input.charCodeAt(++e.position);while(Ip(y));if(y===35)do y=e.input.charCodeAt(++e.position);while(!Xc(y)&&y!==0)}for(;y!==0;){for(lM(e),e.lineIndent=0,y=e.input.charCodeAt(e.position);(!s||e.lineIndent<u)&&y===32;)e.lineIndent++,y=e.input.charCodeAt(++e.position);if(!s&&e.lineIndent>u&&(u=e.lineIndent),Xc(y)){f++;continue}if(e.lineIndent<u){i===X0e?e.result+=pa.repeat(`
`,o?1+f:f):i===tM&&o&&(e.result+=`
`);break}for(n?Ip(y)?(p=!0,e.result+=pa.repeat(`
`,o?1+f:f)):p?(p=!1,e.result+=pa.repeat(`
`,f+1)):f===0?o&&(e.result+=" "):e.result+=pa.repeat(`
`,f):e.result+=pa.repeat(`
`,o?1+f:f),o=!0,s=!0,f=0,r=e.position;!Xc(y)&&y!==0;)y=e.input.charCodeAt(++e.position);Uh(e,r,e.position,!1)}return!0}a(qtt,"readBlockScalar");function eye(e,t){var r,n=e.tag,i=e.anchor,o=[],s,u=!1,f;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),f=e.input.charCodeAt(e.position);f!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Tr(e,"tab characters must not be used in indentation")),!(f!==45||(s=e.input.charCodeAt(e.position+1),!ns(s))));){if(u=!0,e.position++,Zi(e,!0,-1)&&e.lineIndent<=t){o.push(null),f=e.input.charCodeAt(e.position);continue}if(r=e.line,x0(e,t,gye,!1,!0),o.push(e.result),Zi(e,!0,-1),f=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&f!==0)Tr(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return u?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=o,!0):!1}a(eye,"readBlockSequence");function ztt(e,t,r){var n,i,o,s,u,f,p=e.tag,g=e.anchor,y={},x=Object.create(null),b=null,E=null,A=null,O=!1,N=!1,I;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=y),I=e.input.charCodeAt(e.position);I!==0;){if(!O&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Tr(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),o=e.line,(I===63||I===58)&&ns(n))I===63?(O&&(v0(e,y,x,b,E,null,s,u,f),b=E=A=null),N=!0,O=!0,i=!0):O?(O=!1,i=!0):Tr(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,I=n;else{if(s=e.line,u=e.lineStart,f=e.position,!x0(e,r,mye,!1,!0))break;if(e.line===o){for(I=e.input.charCodeAt(e.position);Ip(I);)I=e.input.charCodeAt(++e.position);if(I===58)I=e.input.charCodeAt(++e.position),ns(I)||Tr(e,"a whitespace character is expected after the key-value separator within a block mapping"),O&&(v0(e,y,x,b,E,null,s,u,f),b=E=A=null),N=!0,O=!1,i=!1,b=e.tag,E=e.result;else if(N)Tr(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=p,e.anchor=g,!0}else if(N)Tr(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=p,e.anchor=g,!0}if((e.line===o||e.lineIndent>t)&&(O&&(s=e.line,u=e.lineStart,f=e.position),x0(e,t,NC,!0,i)&&(O?E=e.result:A=e.result),O||(v0(e,y,x,b,E,A,s,u,f),b=E=A=null),Zi(e,!0,-1),I=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>t)&&I!==0)Tr(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return O&&v0(e,y,x,b,E,null,s,u,f),N&&(e.tag=p,e.anchor=g,e.kind="mapping",e.result=y),N}a(ztt,"readBlockMapping");function Utt(e){var t,r=!1,n=!1,i,o,s;if(s=e.input.charCodeAt(e.position),s!==33)return!1;if(e.tag!==null&&Tr(e,"duplication of a tag property"),s=e.input.charCodeAt(++e.position),s===60?(r=!0,s=e.input.charCodeAt(++e.position)):s===33?(n=!0,i="!!",s=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do s=e.input.charCodeAt(++e.position);while(s!==0&&s!==62);e.position<e.length?(o=e.input.slice(t,e.position),s=e.input.charCodeAt(++e.position)):Tr(e,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!ns(s);)s===33&&(n?Tr(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),yye.test(i)||Tr(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),s=e.input.charCodeAt(++e.position);o=e.input.slice(t,e.position),Rtt.test(o)&&Tr(e,"tag suffix cannot contain flow indicator characters")}o&&!vye.test(o)&&Tr(e,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{Tr(e,"tag name is malformed: "+o)}return r?e.tag=o:$h.call(e.tagMap,i)?e.tag=e.tagMap[i]+o:i==="!"?e.tag="!"+o:i==="!!"?e.tag="tag:yaml.org,2002:"+o:Tr(e,'undeclared tag handle "'+i+'"'),!0}a(Utt,"readTagProperty");function $tt(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&Tr(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!ns(r)&&!y0(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&Tr(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}a($tt,"readAnchorProperty");function Gtt(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!ns(n)&&!y0(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&Tr(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),$h.call(e.anchorMap,r)||Tr(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],Zi(e,!0,-1),!0}a(Gtt,"readAlias");function x0(e,t,r,n,i){var o,s,u,f=1,p=!1,g=!1,y,x,b,E,A,O;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=s=u=NC===r||gye===r,n&&Zi(e,!0,-1)&&(p=!0,e.lineIndent>t?f=1:e.lineIndent===t?f=0:e.lineIndent<t&&(f=-1)),f===1)for(;Utt(e)||$tt(e);)Zi(e,!0,-1)?(p=!0,u=o,e.lineIndent>t?f=1:e.lineIndent===t?f=0:e.lineIndent<t&&(f=-1)):u=!1;if(u&&(u=p||i),(f===1||NC===r)&&(IC===r||mye===r?A=t:A=t+1,O=e.position-e.lineStart,f===1?u&&(eye(e,O)||ztt(e,O,A))||Btt(e,A)?g=!0:(s&&qtt(e,A)||Mtt(e,A)||Ftt(e,A)?g=!0:Gtt(e)?(g=!0,(e.tag!==null||e.anchor!==null)&&Tr(e,"alias node should not have any properties")):Ott(e,A,IC===r)&&(g=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):f===0&&(g=u&&eye(e,O))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&Tr(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),y=0,x=e.implicitTypes.length;y<x;y+=1)if(E=e.implicitTypes[y],E.resolve(e.result)){e.result=E.construct(e.result),e.tag=E.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if($h.call(e.typeMap[e.kind||"fallback"],e.tag))E=e.typeMap[e.kind||"fallback"][e.tag];else for(E=null,b=e.typeMap.multi[e.kind||"fallback"],y=0,x=b.length;y<x;y+=1)if(e.tag.slice(0,b[y].tag.length)===b[y].tag){E=b[y];break}E||Tr(e,"unknown tag !<"+e.tag+">"),e.result!==null&&E.kind!==e.kind&&Tr(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+E.kind+'", not "'+e.kind+'"'),E.resolve(e.result,e.tag)?(e.result=E.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):Tr(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||g}a(x0,"composeNode");function Vtt(e){var t=e.position,r,n,i,o=!1,s;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(s=e.input.charCodeAt(e.position))!==0&&(Zi(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||s!==37));){for(o=!0,s=e.input.charCodeAt(++e.position),r=e.position;s!==0&&!ns(s);)s=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&Tr(e,"directive name must not be less than one character in length");s!==0;){for(;Ip(s);)s=e.input.charCodeAt(++e.position);if(s===35){do s=e.input.charCodeAt(++e.position);while(s!==0&&!Xc(s));break}if(Xc(s))break;for(r=e.position;s!==0&&!ns(s);)s=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}s!==0&&lM(e),$h.call(Z0e,n)?Z0e[n](e,n,i):PC(e,'unknown document directive "'+n+'"')}if(Zi(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Zi(e,!0,-1)):o&&Tr(e,"directives end mark is expected"),x0(e,e.lineIndent-1,NC,!1,!0),Zi(e,!0,-1),e.checkLineBreaks&&Att.test(e.input.slice(t,e.position))&&PC(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&FC(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Zi(e,!0,-1));return}if(e.position<e.length-1)Tr(e,"end of the stream or a document separator is expected");else return}a(Vtt,"readDocument");function kye(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new Ptt(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,Tr(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)Vtt(r);return r.documents}a(kye,"loadDocuments");function Wtt(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=kye(e,r);if(typeof t!="function")return n;for(var i=0,o=n.length;i<o;i+=1)t(n[i])}a(Wtt,"loadAll$1");function Htt(e,t){var r=kye(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new rs("expected a single document in the stream, but found more")}}a(Htt,"load$1");var jtt=Wtt,Ytt=Htt,_ye={loadAll:jtt,load:Ytt},wye=Object.prototype.toString,Eye=Object.prototype.hasOwnProperty,uM=65279,Xtt=9,Ux=10,Ktt=13,Qtt=32,Ztt=33,Jtt=34,nM=35,ert=37,trt=38,rrt=39,nrt=42,Cye=44,irt=45,OC=58,art=61,ort=62,srt=63,lrt=64,Sye=91,Aye=93,crt=96,Rye=123,urt=124,Dye=125,uo={};uo[0]="\\0";uo[7]="\\a";uo[8]="\\b";uo[9]="\\t";uo[10]="\\n";uo[11]="\\v";uo[12]="\\f";uo[13]="\\r";uo[27]="\\e";uo[34]='\\"';uo[92]="\\\\";uo[133]="\\N";uo[160]="\\_";uo[8232]="\\L";uo[8233]="\\P";var frt=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],hrt=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function drt(e,t){var r,n,i,o,s,u,f;if(t===null)return{};for(r={},n=Object.keys(t),i=0,o=n.length;i<o;i+=1)s=n[i],u=String(t[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),f=e.compiledTypeMap.fallback[s],f&&Eye.call(f.styleAliases,u)&&(u=f.styleAliases[u]),r[s]=u;return r}a(drt,"compileStyleMap");function prt(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new rs("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+pa.repeat("0",n-t.length)+t}a(prt,"encodeHex");var mrt=1,$x=2;function grt(e){this.schema=e.schema||pye,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=pa.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=drt(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?$x:mrt,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}a(grt,"State");function tye(e,t){for(var r=pa.repeat(" ",t),n=0,i=-1,o="",s,u=e.length;n<u;)i=e.indexOf(`
`,n),i===-1?(s=e.slice(n),n=u):(s=e.slice(n,i+1),n=i+1),s.length&&s!==`
`&&(o+=r),o+=s;return o}a(tye,"indentString");function iM(e,t){return`
`+pa.repeat(" ",e.indent*t)}a(iM,"generateNextLine");function yrt(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}a(yrt,"testImplicitResolving");function MC(e){return e===Qtt||e===Xtt}a(MC,"isWhitespace");function Gx(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==uM||65536<=e&&e<=1114111}a(Gx,"isPrintable");function rye(e){return Gx(e)&&e!==uM&&e!==Ktt&&e!==Ux}a(rye,"isNsCharOrWhitespace");function nye(e,t,r){var n=rye(e),i=n&&!MC(e);return(r?n:n&&e!==Cye&&e!==Sye&&e!==Aye&&e!==Rye&&e!==Dye)&&e!==nM&&!(t===OC&&!i)||rye(t)&&!MC(t)&&e===nM||t===OC&&i}a(nye,"isPlainSafe");function vrt(e){return Gx(e)&&e!==uM&&!MC(e)&&e!==irt&&e!==srt&&e!==OC&&e!==Cye&&e!==Sye&&e!==Aye&&e!==Rye&&e!==Dye&&e!==nM&&e!==trt&&e!==nrt&&e!==Ztt&&e!==urt&&e!==art&&e!==ort&&e!==rrt&&e!==Jtt&&e!==ert&&e!==lrt&&e!==crt}a(vrt,"isPlainSafeFirst");function xrt(e){return!MC(e)&&e!==OC}a(xrt,"isPlainSafeLast");function qx(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}a(qx,"codePointAt");function Lye(e){var t=/^\n* /;return t.test(e)}a(Lye,"needIndentIndicator");var Iye=1,aM=2,Nye=3,Pye=4,g0=5;function brt(e,t,r,n,i,o,s,u){var f,p=0,g=null,y=!1,x=!1,b=n!==-1,E=-1,A=vrt(qx(e,0))&&xrt(qx(e,e.length-1));if(t||s)for(f=0;f<e.length;p>=65536?f+=2:f++){if(p=qx(e,f),!Gx(p))return g0;A=A&&nye(p,g,u),g=p}else{for(f=0;f<e.length;p>=65536?f+=2:f++){if(p=qx(e,f),p===Ux)y=!0,b&&(x=x||f-E-1>n&&e[E+1]!==" ",E=f);else if(!Gx(p))return g0;A=A&&nye(p,g,u),g=p}x=x||b&&f-E-1>n&&e[E+1]!==" "}return!y&&!x?A&&!s&&!i(e)?Iye:o===$x?g0:aM:r>9&&Lye(e)?g0:s?o===$x?g0:aM:x?Pye:Nye}a(brt,"chooseScalarStyle");function Trt(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===$x?'""':"''";if(!e.noCompatMode&&(frt.indexOf(t)!==-1||hrt.test(t)))return e.quotingType===$x?'"'+t+'"':"'"+t+"'";var o=e.indent*Math.max(1,r),s=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),u=n||e.flowLevel>-1&&r>=e.flowLevel;function f(p){return yrt(e,p)}switch(a(f,"testAmbiguity"),brt(t,u,e.indent,s,f,e.quotingType,e.forceQuotes&&!n,i)){case Iye:return t;case aM:return"'"+t.replace(/'/g,"''")+"'";case Nye:return"|"+iye(t,e.indent)+aye(tye(t,o));case Pye:return">"+iye(t,e.indent)+aye(tye(krt(t,s),o));case g0:return'"'+_rt(t)+'"';default:throw new rs("impossible error: invalid scalar style")}}()}a(Trt,"writeScalar");function iye(e,t){var r=Lye(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),o=i?"+":n?"":"-";return r+o+`
`}a(iye,"blockHeader");function aye(e){return e[e.length-1]===`
`?e.slice(0,-1):e}a(aye,"dropEndingNewline");function krt(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var p=e.indexOf(`
`);return p=p!==-1?p:e.length,r.lastIndex=p,oye(e.slice(0,p),t)}(),i=e[0]===`
`||e[0]===" ",o,s;s=r.exec(e);){var u=s[1],f=s[2];o=f[0]===" ",n+=u+(!i&&!o&&f!==""?`
`:"")+oye(f,t),i=o}return n}a(krt,"foldString");function oye(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,o,s=0,u=0,f="";n=r.exec(e);)u=n.index,u-i>t&&(o=s>i?s:u,f+=`
`+e.slice(i,o),i=o+1),s=u;return f+=`
`,e.length-i>t&&s>i?f+=e.slice(i,s)+`
`+e.slice(s+1):f+=e.slice(i),f.slice(1)}a(oye,"foldLine");function _rt(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=qx(e,i),n=uo[r],!n&&Gx(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||prt(r);return t}a(_rt,"escapeString");function wrt(e,t,r){var n="",i=e.tag,o,s,u;for(o=0,s=r.length;o<s;o+=1)u=r[o],e.replacer&&(u=e.replacer.call(r,String(o),u)),(ef(e,t,u,!1,!1)||typeof u>"u"&&ef(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}a(wrt,"writeFlowSequence");function sye(e,t,r,n){var i="",o=e.tag,s,u,f;for(s=0,u=r.length;s<u;s+=1)f=r[s],e.replacer&&(f=e.replacer.call(r,String(s),f)),(ef(e,t+1,f,!0,!0,!1,!0)||typeof f>"u"&&ef(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=iM(e,t)),e.dump&&Ux===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=o,e.dump=i||"[]"}a(sye,"writeBlockSequence");function Ert(e,t,r){var n="",i=e.tag,o=Object.keys(r),s,u,f,p,g;for(s=0,u=o.length;s<u;s+=1)g="",n!==""&&(g+=", "),e.condenseFlow&&(g+='"'),f=o[s],p=r[f],e.replacer&&(p=e.replacer.call(r,f,p)),ef(e,t,f,!1,!1)&&(e.dump.length>1024&&(g+="? "),g+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),ef(e,t,p,!1,!1)&&(g+=e.dump,n+=g));e.tag=i,e.dump="{"+n+"}"}a(Ert,"writeFlowMapping");function Crt(e,t,r,n){var i="",o=e.tag,s=Object.keys(r),u,f,p,g,y,x;if(e.sortKeys===!0)s.sort();else if(typeof e.sortKeys=="function")s.sort(e.sortKeys);else if(e.sortKeys)throw new rs("sortKeys must be a boolean or a function");for(u=0,f=s.length;u<f;u+=1)x="",(!n||i!=="")&&(x+=iM(e,t)),p=s[u],g=r[p],e.replacer&&(g=e.replacer.call(r,p,g)),ef(e,t+1,p,!0,!0,!0)&&(y=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,y&&(e.dump&&Ux===e.dump.charCodeAt(0)?x+="?":x+="? "),x+=e.dump,y&&(x+=iM(e,t)),ef(e,t+1,g,!0,y)&&(e.dump&&Ux===e.dump.charCodeAt(0)?x+=":":x+=": ",x+=e.dump,i+=x));e.tag=o,e.dump=i||"{}"}a(Crt,"writeBlockMapping");function lye(e,t,r){var n,i,o,s,u,f;for(i=r?e.explicitTypes:e.implicitTypes,o=0,s=i.length;o<s;o+=1)if(u=i[o],(u.instanceOf||u.predicate)&&(!u.instanceOf||typeof t=="object"&&t instanceof u.instanceOf)&&(!u.predicate||u.predicate(t))){if(r?u.multi&&u.representName?e.tag=u.representName(t):e.tag=u.tag:e.tag="?",u.represent){if(f=e.styleMap[u.tag]||u.defaultStyle,wye.call(u.represent)==="[object Function]")n=u.represent(t,f);else if(Eye.call(u.represent,f))n=u.represent[f](t,f);else throw new rs("!<"+u.tag+'> tag resolver accepts not "'+f+'" style');e.dump=n}return!0}return!1}a(lye,"detectType");function ef(e,t,r,n,i,o,s){e.tag=null,e.dump=r,lye(e,r,!1)||lye(e,r,!0);var u=wye.call(e.dump),f=n,p;n&&(n=e.flowLevel<0||e.flowLevel>t);var g=u==="[object Object]"||u==="[object Array]",y,x;if(g&&(y=e.duplicates.indexOf(r),x=y!==-1),(e.tag!==null&&e.tag!=="?"||x||e.indent!==2&&t>0)&&(i=!1),x&&e.usedDuplicates[y])e.dump="*ref_"+y;else{if(g&&x&&!e.usedDuplicates[y]&&(e.usedDuplicates[y]=!0),u==="[object Object]")n&&Object.keys(e.dump).length!==0?(Crt(e,t,e.dump,i),x&&(e.dump="&ref_"+y+e.dump)):(Ert(e,t,e.dump),x&&(e.dump="&ref_"+y+" "+e.dump));else if(u==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!s&&t>0?sye(e,t-1,e.dump,i):sye(e,t,e.dump,i),x&&(e.dump="&ref_"+y+e.dump)):(wrt(e,t,e.dump),x&&(e.dump="&ref_"+y+" "+e.dump));else if(u==="[object String]")e.tag!=="?"&&Trt(e,e.dump,t,o,f);else{if(u==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new rs("unacceptable kind of an object to dump "+u)}e.tag!==null&&e.tag!=="?"&&(p=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?p="!"+p:p.slice(0,18)==="tag:yaml.org,2002:"?p="!!"+p.slice(18):p="!<"+p+">",e.dump=p+" "+e.dump)}return!0}a(ef,"writeNode");function Srt(e,t){var r=[],n=[],i,o;for(oM(e,r,n),i=0,o=n.length;i<o;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(o)}a(Srt,"getDuplicateReferences");function oM(e,t,r){var n,i,o;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,o=e.length;i<o;i+=1)oM(e[i],t,r);else for(n=Object.keys(e),i=0,o=n.length;i<o;i+=1)oM(e[n[i]],t,r)}a(oM,"inspectNode");function Art(e,t){t=t||{};var r=new grt(t);r.noRefs||Srt(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),ef(r,0,n,!0,!0)?r.dump+`
`:""}a(Art,"dump$1");var Rrt=Art,Drt={dump:Rrt};function fM(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}a(fM,"renamed");var Oye=fye;var Mye=_ye.load,frr=_ye.loadAll,hrr=Drt.dump;var drr=fM("safeLoad","load"),prr=fM("safeLoadAll","loadAll"),mrr=fM("safeDump","dump");function Fye(e){let t=e.match(oT);if(!t)return{text:e,metadata:{}};let r=Mye(t[1],{schema:Oye})??{};r=typeof r=="object"&&!Array.isArray(r)?r:{};let n={};return r.displayMode&&(n.displayMode=r.displayMode.toString()),r.title&&(n.title=r.title.toString()),r.config&&(n.config=r.config),{text:e.slice(t[0].length),metadata:n}}a(Fye,"extractFrontMatter");An();var Irt=a(e=>e.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(t,r,n)=>"<"+r+n.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),Nrt=a(e=>{let{text:t,metadata:r}=Fye(e),{displayMode:n,title:i,config:o={}}=r;return n&&(o.gantt||(o.gantt={}),o.gantt.displayMode=n),{title:i,config:o,text:t}},"processFrontmatter"),Prt=a(e=>{let t=yr.detectInit(e)??{},r=yr.detectDirective(e,"wrap");return Array.isArray(r)?t.wrap=r.some(({type:n})=>{}):r?.type==="wrap"&&(t.wrap=!0),{text:Y$(e),directive:t}},"processDirectives");function Bye(e){let t=Irt(e),r=Nrt(t),n=Prt(r.text),i=jf(r.config,n.directive);return e=j0e(n.text),{code:e,title:r.title,config:i}}a(Bye,"preprocessDiagram");An();var Ort=5e4,Mrt="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",Frt="sandbox",Brt="loose",qrt="http://www.w3.org/2000/svg",zrt="http://www.w3.org/1999/xlink",Urt="http://www.w3.org/1999/xhtml",$rt="100%",Grt="100%",Vrt="border:0;margin:0;",Wrt="margin:0",Hrt="allow-top-navigation-by-user-activation allow-popups",jrt='The "iframe" tag is not supported by your browser.',Yrt=["foreignobject"],Xrt=["dominant-baseline"];function Gye(e){let t=Bye(e);return mv(),xG(t.config??{}),t}a(Gye,"processAndSetConfigs");async function Krt(e,t){m0(),e=Gye(e).code;try{await LC(e)}catch(r){if(t?.suppressErrors)return!1;throw r}return!0}a(Krt,"parse");var qye=a((e,t,r=[])=>`
.${e} ${t} { ${r.join(" !important; ")} !important; }`,"cssImportantStyles"),Qrt=a((e,t={})=>{let r="";if(e.themeCSS!==void 0&&(r+=`
${e.themeCSS}`),e.fontFamily!==void 0&&(r+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),e.altFontFamily!==void 0&&(r+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),!ah(t)){let s=e.htmlLabels||e.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];for(let u in t){let f=t[u];ah(f.styles)||s.forEach(p=>{r+=qye(f.id,p,f.styles)}),ah(f.textStyles)||(r+=qye(f.id,"tspan",f.textStyles))}}return r},"createCssStyles"),Zrt=a((e,t,r,n)=>{let i=Qrt(e,r),o=_G(t,i,e.themeVariables);return zT(hG(`${n}{${o}}`),dG)},"createUserStyles"),Jrt=a((e="",t,r)=>{let n=e;return!r&&!t&&(n=n.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),n=Tu(n),n=n.replace(/<br>/g,"<br/>"),n},"cleanUpSvgCode"),ent=a((e="",t)=>{let r=t?.viewBox?.baseVal?.height?t.viewBox.baseVal.height+"px":Grt,n=btoa('<body style="'+Wrt+'">'+e+"</body>");return`<iframe style="width:${$rt};height:${r};${Vrt}" src="data:text/html;base64,${n}" sandbox="${Hrt}">
  ${jrt}
</iframe>`},"putIntoIFrame"),zye=a((e,t,r,n,i)=>{let o=e.append("div");o.attr("id",r),n&&o.attr("style",n);let s=o.append("svg").attr("id",t).attr("width","100%").attr("xmlns",qrt);return i&&s.attr("xmlns:xlink",i),s.append("g"),e},"appendDivSvgG");function Uye(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}a(Uye,"sandboxedIframe");var tnt=a((e,t,r,n)=>{e.getElementById(t)?.remove(),e.getElementById(r)?.remove(),e.getElementById(n)?.remove()},"removeExistingElements"),rnt=a(async function(e,t,r){m0();let n=Gye(t);t=n.code;let i=ka();ye.debug(i),t.length>(i?.maxTextSize??Ort)&&(t=Mrt);let o="#"+e,s="i"+e,u="#"+s,f="d"+e,p="#"+f,g=dt("body"),y=i.securityLevel===Frt,x=i.securityLevel===Brt,b=i.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),y){let P=Uye(dt(r),s);g=dt(P.nodes()[0].contentDocument.body),g.node().style.margin=0}else g=dt(r);zye(g,e,f,`font-family: ${b}`,zrt)}else{if(tnt(document,e,f,s),y){let P=Uye(dt("body"),s);g=dt(P.nodes()[0].contentDocument.body),g.node().style.margin=0}else g=dt("body");zye(g,e,f)}let E,A;try{E=await LC(t,{title:n.title})}catch(P){E=new Bx("error"),A=P}let O=g.select(p).node(),N=E.type,I=O.firstChild,$=I.firstChild,X=E.renderer.getClasses?.(t,E),q=Zrt(i,N,X,o),M=document.createElement("style");M.innerHTML=q,I.insertBefore(M,$);try{await E.renderer.draw(t,e,dv,E)}catch(P){throw HG.draw(t,e,dv),P}let B=g.select(`${p} svg`),G=E.db.getAccTitle?.(),U=E.db.getAccDescription?.();int(N,B,G,U),g.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns",Urt);let W=g.select(p).node().innerHTML;if(ye.debug("config.arrowMarkerAbsolute",i.arrowMarkerAbsolute),W=Jrt(W,y,jn(i.arrowMarkerAbsolute)),y){let P=g.select(p+" svg").node();W=ent(W,P)}else x||(W=$ye.default.sanitize(W,{ADD_TAGS:Yrt,ADD_ATTR:Xrt}));if(_pe(),A)throw A;let K=dt(y?u:p).node();return K&&"remove"in K&&K.remove(),{svg:W,bindFunctions:E.db.bindFunctions}},"render");function nnt(e={}){e?.fontFamily&&!e.themeVariables?.fontFamily&&(e.themeVariables||(e.themeVariables={}),e.themeVariables.fontFamily=e.fontFamily),gG(e),e?.theme&&e.theme in zs?e.themeVariables=zs[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=zs.default.getThemeVariables(e.themeVariables));let t=typeof e=="object"?o5(e):s5();K0(t.logLevel),m0()}a(nnt,"initialize");function int(e,t,r,n){W0e(t,e),H0e(t,r,n,t.attr("id"))}a(int,"addA11yInfo");var Gh=Object.freeze({render:rnt,parse:Krt,getDiagramFromText:LC,initialize:nnt,getConfig:ka,setConfig:$T,getSiteConfig:s5,updateSiteConfig:yG,reset:()=>{mv()},globalReset:()=>{mv(Xf)},defaultConfig:Xf});K0(ka().logLevel);mv(ka());Rd();br();Rd();Pr();var Vye=a(async()=>{ye.debug("Loading registered diagrams");let t=(await Promise.allSettled(Object.entries(Sd).map(async([r,{detector:n,loader:i}])=>{if(i)try{vv(r)}catch{try{let{diagram:s,id:u}=await i();Od(u,s,n)}catch(s){throw ye.error(`Failed to load external diagram with key ${r}. Removing from detectors.`),delete Sd[r],s}}}))).filter(r=>r.status==="rejected");if(t.length>0){ye.error(`Failed to load ${t.length} external diagrams`);for(let r of t)ye.error(r);throw new Error(`Failed to load ${t.length} external diagrams`)}},"loadRegisteredDiagrams");An();var ant=a((e,t,r)=>{ye.warn(e),r5(e)?(r&&r(e.str,e.hash),t.push({...e,message:e.str,error:e})):(r&&r(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},"handleError"),Wye=a(async function(e={querySelector:".mermaid"}){try{await ont(e)}catch(t){if(r5(t)&&ye.error(t.str),tf.parseError&&tf.parseError(t),!e.suppressErrors)throw ye.error("Use the suppressErrors option to suppress these errors"),t}},"run"),ont=a(async function({postRenderCallback:e,querySelector:t,nodes:r}={querySelector:".mermaid"}){let n=Gh.getConfig();ye.debug(`${e?"":"No "}Callback function found`);let i;if(r)i=r;else if(t)i=document.querySelectorAll(t);else throw new Error("Nodes and querySelector are both undefined");ye.debug(`Found ${i.length} diagrams`),n?.startOnLoad!==void 0&&(ye.debug("Start On Load: "+n?.startOnLoad),Gh.updateSiteConfig({startOnLoad:n?.startOnLoad}));let o=new yr.InitIDGenerator(n.deterministicIds,n.deterministicIDSeed),s,u=[];for(let f of Array.from(i)){ye.info("Rendering diagram: "+f.id);if(f.getAttribute("data-processed"))continue;f.setAttribute("data-processed","true");let p=`mermaid-${o.next()}`;s=f.innerHTML,s=Lb(yr.entityDecode(s)).trim().replace(/<br\s*\/?>/gi,"<br/>");let g=yr.detectInit(s);g&&ye.debug("Detected early reinit: ",g);try{let{svg:y,bindFunctions:x}=await Xye(p,s,f);f.innerHTML=y,e&&await e(p),x&&x(f)}catch(y){ant(y,u,tf.parseError)}}if(u.length>0)throw u[0]},"runThrowsErrors"),Hye=a(function(e){Gh.initialize(e)},"initialize"),snt=a(async function(e,t,r){ye.warn("mermaid.init is deprecated. Please use run instead."),e&&Hye(e);let n={postRenderCallback:r,querySelector:".mermaid"};typeof t=="string"?n.querySelector=t:t&&(t instanceof HTMLElement?n.nodes=[t]:n.nodes=t),await Wye(n)},"init"),lnt=a(async(e,{lazyLoad:t=!0}={})=>{m0(),lT(...e),t===!1&&await Vye()},"registerExternalDiagrams"),jye=a(function(){if(tf.startOnLoad){let{startOnLoad:e}=Gh.getConfig();e&&tf.run().catch(t=>ye.error("Mermaid failed to initialize",t))}},"contentLoaded");if(typeof document<"u"){window.addEventListener("load",jye,!1)}var cnt=a(function(e){tf.parseError=e},"setParseErrorHandler"),BC=[],hM=!1,Yye=a(async()=>{if(!hM){for(hM=!0;BC.length>0;){let e=BC.shift();if(e)try{await e()}catch(t){ye.error("Error executing queue",t)}}hM=!1}},"executeQueue"),unt=a(async(e,t)=>new Promise((r,n)=>{let i=a(()=>new Promise((o,s)=>{Gh.parse(e,t).then(u=>{o(u),r(u)},u=>{ye.error("Error parsing",u),tf.parseError?.(u),s(u),n(u)})}),"performCall");BC.push(i),Yye().catch(n)}),"parse"),Xye=a((e,t,r)=>new Promise((n,i)=>{let o=a(()=>new Promise((s,u)=>{Gh.render(e,t,r).then(f=>{s(f),n(f)},f=>{ye.error("Error parsing",f),tf.parseError?.(f),u(f),i(f)})}),"performCall");BC.push(o),Yye().catch(i)}),"render"),tf={startOnLoad:!0,mermaidAPI:Gh,parse:unt,render:Xye,init:snt,run:Wye,registerExternalDiagrams:lnt,initialize:Hye,parseError:void 0,contentLoaded:jye,setParseErrorHandler:cnt,detectType:Ad},fnt=tf;return mke(hnt);})();
/*! Bundled license information:

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/
/*! Check if previously processed */
/*!
 * Wait for document loaded before starting the execution
 */
/*! Bundled license information:

dompurify/dist/purify.js:
  (*! @license DOMPurify 3.0.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.5/LICENSE *)

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)

cytoscape/dist/cytoscape.umd.js:
  (*!
  Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
  Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
  Licensed under The MIT License (http://opensource.org/licenses/MIT)
  *)
  (*!
    Event object based on jQuery events, MIT license
  
    https://jquery.org/license/
    https://tldrlegal.com/license/mit-license
    https://github.com/jquery/jquery/blob/master/src/event.js
    *)
  (*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License *)
  (*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License *)

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/
globalThis.mermaid = globalThis.__esbuild_esm_mermaid.default;
